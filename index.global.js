(function () {
  'use strict';

  (()=>{var De=Object.defineProperty;var et=Object.getOwnPropertyDescriptor;var tt=Object.getOwnPropertyNames;var nt=Object.prototype.hasOwnProperty;var Ze=(s,a)=>{for(var c in a)De(s,c,{get:a[c],enumerable:true});};var st=(s,a,c,i)=>{if(a&&typeof a==="object"||typeof a==="function"){for(let d of tt(a))if(!nt.call(s,d)&&d!==c)De(s,d,{get:()=>a[d],enumerable:!(i=et(a,d))||i.enumerable});}return s};var it=s=>st(De({},"__esModule",{value:true}),s);var at={};Ze(at,{default:()=>Me,definitions:()=>Se});var O="";var je=Object.assign;var le=Object.create;var Oe=Object.keys;var Ve=Object.defineProperty;var _e=Array.isArray;var Se={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeChain:{default:"inline",description:"Controls how Liquid tags contained within HTML attributed should be formatted.",type:"select",lexer:"markup",values:[{rule:"inline",description:"Liquid tag block contents are chained together"},{rule:"collapse",description:"Liquid tag block contents are split onto newlines"},{rule:"preserve",description:"Liquid tag block contents are preserved"}]},attributeValues:{default:false,description:"Controls how attribute values should be formatter",type:"select",lexer:"markup",values:[{rule:"preserve",description:"Preserves attribute values, leaving them intact."},{rule:"collapse",description:"Collapsed all space separated attributes values onto newlines"},{rule:"wrap",description:"Collapase attribute values when then exceed wrap limit"},{rule:"strip",description:"Strips newlines and extraneous whitespaces from attribute values"}]},delimiterSpacing:{default:true,description:"Whether or not delimiter characters should apply a single space at the start and end point",lexer:"markup",type:"boolean"},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadingAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},forceValue:{lexer:"style",description:"If CSS selector property values should be indented onto newlines",default:"preserve",type:"select",values:[{rule:"preserve",description:"Preserves property values, output does not augment provided structures"},{rule:"collapse",description:"Collapsed all selector property values onto newlines"},{rule:"wrap",description:"Collapase only selector property values which exceed wrap limit"}]},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},inlineReturn:{lexer:"script",default:true,type:"boolean",description:"Inlines return statements contained within `if` and `else` conditions. This rules also augments code and will reason about your structure to output the best and most readable results."},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};var ge=function(){const s=le(null);s.html=le(null);s.script=le(null);s.liquid=le(null);s.style=le(null);s.html.tags=new Set(["body","colgroup","dd","dt","head","html","li","option","p","tbody","td","tfoot","th","thead","tr"]);s.html.voids=new Set(["area","base","basefont","br","col","embed","eventsource","frame","hr","image","img","input","isindex","keygen","link","meta","path","param","progress","source","wbr","use"]);s.liquid.tags=new Set(["case","capture","comment","embed","filter","for","form","if","macro","paginate","raw","switch","tablerow","unless","verbatim","schema","style","javascript","highlight","stylesheet"]);s.liquid.else=new Set(["case","default","else","when","elsif"]);s.liquid.singletons=new Set(["assign","increment","decrement","render","include"]);s.script.keywords=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);s.style.units=new Set(["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"]);return s}();var D=function(){const s=le(null);s.parsed=le(null);s.options=le(null);s.beautify=le(null);s.lexers=le(null);s.stats=le(null);s.hooks=le(null);let a="";Ve(s,"source",{get(){return s.env==="node"&&Buffer.isBuffer(a)?a.toString():a},set(c){a=s.env==="node"?Buffer.isBuffer(c)?c:Buffer.from(c):c;}});s.mode="beautify";s.end=0;s.iterator=0;s.start=0;s.scopes=[];s.env=typeof process!=="undefined"&&process.versions!=null&&process.versions.node!=null?"node":"browser";s.parsed.begin=[];s.parsed.ender=[];s.parsed.lexer=[];s.parsed.lines=[];s.parsed.stack=[];s.parsed.token=[];s.parsed.types=[];s.stats.chars=-1;s.stats.time=-1;s.stats.size="";s.stats.language="";s.hooks.before=[];s.hooks.language=[];s.hooks.rules=[];s.hooks.after=[];s.options.mode="beautify";s.options.indentLevel=0;s.options.grammar=le(null);s.options.grammar.html=le(null);s.options.grammar.liquid=le(null);s.options.lexer="auto";s.options.language="text";s.options.languageName="Plain Text";s.options.crlf=false;s.options.commentIndent=true;s.options.endNewline=false;s.options.indentChar=" ";s.options.indentSize=2;s.options.preserveComment=false;s.options.preserveLine=2;s.options.wrap=0;s.options.markup=le(null);s.options.markup.correct=false;s.options.markup.commentNewline=false;s.options.markup.attributeChain="inline";s.options.markup.attributeValues="preserve";s.options.markup.attributeSort=false;s.options.markup.attributeSortList=[];s.options.markup.forceAttribute=false;s.options.markup.forceLeadingAttribute=false;s.options.markup.preserveText=false;s.options.markup.preserveAttributes=false;s.options.markup.selfCloseSpace=false;s.options.markup.forceIndent=false;s.options.markup.quoteConvert="none";s.options.style=le(null);s.options.style.correct=false;s.options.style.compressCSS=false;s.options.style.classPadding=false;s.options.style.noLeadZero=false;s.options.style.sortSelectors=false;s.options.style.sortProperties=false;s.options.style.quoteConvert="none";s.options.style.forceValue="preserve";s.options.script=le(null);s.options.script.correct=false;s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceStyle="none";s.options.script.braceAllman=false;s.options.script.commentNewline=false;s.options.script.caseSpace=false;s.options.script.inlineReturn=true;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.arrayFormat="default";s.options.script.objectSort=false;s.options.script.objectIndent="default";s.options.script.functionNameSpace=false;s.options.script.functionSpace=false;s.options.script.styleGuide="none";s.options.script.ternaryLine=false;s.options.script.methodChain=4;s.options.script.neverFlatten=false;s.options.script.noCaseIndent=false;s.options.script.noSemicolon=false;s.options.script.quoteConvert="none";s.options.script.variableList="none";s.options.script.vertical=false;s.options.json=le(null);s.options.json.arrayFormat="default";s.options.json.braceAllman=false;s.options.json.bracePadding=false;s.options.json.objectIndent="default";s.options.json.objectSort=false;return s}();function Pe(s,a=" "){if(s===0)return a;let c="";let i=1;do{c+=a;}while(i++<s);return c}function x(s,a){if(!s)return false;return s.charCodeAt(0)===a}function re(s,a){return x(s,a)===false}function ce(s){return /\s/.test(s)}function Ee(s){const a=1024;const c=1048576;const i=1073741824;if(s<a)return s+" B";else if(s<c)return (s/a).toFixed(1)+" KB";else if(s<i)return (s/c).toFixed(1)+" MB";else return (s/i).toFixed(1)+" GB"}function Xe(s){return `\\${s}`}function We(s){let a=0;const c=s.length;const i=s;const d=()=>{let f=0;const B=i.length;if(f<B){do{if(_e(i[f])===true)i[f]=We.apply(this,i[f]);f=f+1;}while(f<B)}};const e=f=>{let B=a;let n=0;let F=0;let y=0;let t=[];let k=i[a];let X="";const o=typeof k;if(B<c){do{X=typeof i[B];if(i[B]<k||X<o){k=i[B];t=[B];}else if(i[B]===k){t.push(B);}B=B+1;}while(B<c)}F=t.length;B=a;n=F+a;if(B<n){do{i[t[y]]=i[B];i[B]=k;y=y+1;B=B+1;}while(B<n)}a=a+F;if(a<c){e("");}else {if(this.recursive===true)d();s=i;}return f};e("");return s}function Qe(s){let a=0;const c=s.length;const i=s;const d=()=>{let f=0;const B=i.length;if(f<B){do{if(_e(i[f]))i[f]=Qe.apply(this,i[f]);f=f+1;}while(f<B)}};const e=f=>{let B=a;let n=0;let F=0;let y=0;let t=i[a];let k=[];let X="";const o=typeof t;if(B<c){do{X=typeof i[B];if(i[B]>t||X>o){t=i[B];k=[B];}else if(i[B]===t){k.push(B);}B=B+1;}while(B<c)}F=k.length;B=a;n=F+a;if(B<n){do{i[k[y]]=i[B];i[B]=t;y=y+1;B=B+1;}while(B<n)}a=a+F;if(a<c){e("");}else {if(this.recursive===true)d();s=i;}return f};e("");return s}function ze(s){let a=s;const c=[s[0]];const i=()=>{let e=0;const f=a.length;if(e<f){do{if(_e(a[e]))a[e]=ze.apply(this,a[e]);e=e+1;}while(e<f)}};const d=e=>{let f=0;const B=[];const n=a.length;if(f<n){do{if(a[f]!==e)B.push(a[f]);f=f+1;}while(f<n)}a=B;if(B.length>0){c.push(B[0]);d(B[0]);}else {if(this.recursive===true)i();s=a;}};d(this.array[0]);return s}var l=new class jt{constructor(){this.data=le(null);this.references=[[]];this.structure=[["global",-1]];this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.count=-1;this.lineNumber=1;this.linesSpace=0;this.error="";this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];}get current(){const{begin:a,ender:c,lexer:i,lines:d,stack:e,token:f,types:B}=this.data;return {begin:a[a.length-1],ender:c[c.length-1],lexer:i[i.length-1],lines:d[d.length-1],stack:e[e.length-1],token:f[a.length-1],types:B[a.length-1]}}concat(a,c){for(const i of this.datanames)a[i]=a[i].concat(c[i]);if(a===this.data)this.count=a.token.length-1;}objectSort(a){let c=this.count;let i=this.structure[this.structure.length-1][1];let d=0;let e=0;let f=0;let B=0;let n=true;let F=0;let y=0;let t=0;const k=[];const X=i;const o=D.options.language==="json";const $=a.lexer[c]==="style"&&this.structure[this.structure.length-1][0]==="global";const L=a.lexer[c]==="style";const p=L===true?[";","separator"]:[",","separator"];const _=this.linesSpace;const V=this.count;const P=$===true?"global":this.structure[this.structure.length-1][0];function r(w,E){let m=w[0];let b=E[0];if(a.types[m]==="comment"){do{m=m+1;}while(m<V&&a.types[m]==="comment");if(a.token[m]===void 0){return 1}}if(a.types[b]==="comment"){do{b=b+1;}while(b<V&&a.types[b]==="comment");if(a.token[b]===void 0)return 1}if(L===true){if(a.token[m].indexOf("@import")===0||a.token[b].indexOf("@import")===0){return m<b?-1:1}if(a.types[m]!==a.types[b]){if(a.types[m]==="function")return 1;if(a.types[m]==="variable")return -1;if(a.types[m]==="selector")return 1;if(a.types[m]==="property"&&a.types[b]!=="variable")return -1;if(a.types[m]==="mixin"&&a.types[b]!=="property"&&a.types[b]!=="variable")return -1}}if(a.token[m].toLowerCase()>a.token[b].toLowerCase())return 1;return -1}const j=le(null);j.begin=[];j.ender=[];j.lexer=[];j.lines=[];j.stack=[];j.token=[];j.types=[];B=c;do{if(a.begin[c]===i||$===true&&c<B&&a.token[c]==="}"&&a.begin[a.begin[c]]===-1){if(a.types[c].indexOf("template")>-1)return;if(a.token[c]===p[0]||L===true&&a.token[c]==="}"&&a.token[c+1]!==";"){n=true;F=c+1;}else if(L===true&&a.token[c-1]==="}"){n=true;F=c;}if(F===0&&a.types[0]==="comment"){do{F=F+1;}while(a.types[F]==="comment")}else if(a.types[F]==="comment"&&a.lines[F]<2){F=F+1;}if(n===true&&(a.token[c]===p[0]||L===true&&a.token[c-1]==="}")&&F<=B){if(L===true&&"};".indexOf(a.token[B])<0){B=B+1;}else if(L===false&&a.token[B]!==","){B=B+1;}k.push([F,B]);if(L===true&&a.token[F]==="}"){B=F;}else {B=F-1;}}}c=c-1;}while(c>i);if(k.length>0&&k[k.length-1][0]>c+1){d=k[k.length-1][0]-1;if(a.types[d]==="comment"&&a.lines[d]>1){do{d=d-1;}while(d>0&&a.types[d]==="comment");k[k.length-1][0]=d+1;}if(a.types[c+1]==="comment"&&c===-1){do{c=c+1;}while(a.types[c+1]==="comment")}k.push([c+1,d]);}if(k.length>1){if(o===true||L===true||a.token[c-1]==="="||a.token[c-1]===":"||a.token[c-1]==="("||a.token[c-1]==="["||a.token[c-1]===","||a.types[c-1]==="word"||c===0){k.sort(r);t=k.length;n=false;i=0;do{y=k[i][1];if(L===true){f=y;if(a.types[f]==="comment")f=f-1;if(a.token[f]==="}"){y=y+1;p[0]="}";p[1]="end";}else {p[0]=";";p[1]="separator";}}d=k[i][0];if(L===true&&a.types[y-1]!=="end"&&a.types[y]==="comment"&&a.types[y+1]!=="comment"&&i<t-1){y=y+1;}if(d<y){do{if(L===false&&i===t-1&&d===y-2&&a.token[d]===","&&a.lexer[d]==="script"&&a.types[d+1]==="comment"){e=e+1;}else {const w=le(null);w.begin=a.begin[d];w.ender=a.ender[d];w.lexer=a.lexer[d];w.lines=a.lines[d];w.stack=a.stack[d];w.token=a.token[d];w.types=a.types[d];this.push(j,w,"");e=e+1;}if(a.token[d]===p[0]&&(L===true||a.begin[d]===a.begin[k[i][0]])){n=true;}else if(a.token[d]!==p[0]&&a.types[d]!=="comment"){n=false;}d=d+1;}while(d<y)}if(n===false&&j.token[j.token.length-1]!=="x;"&&(L===true||i<t-1)){d=j.types.length-1;if(j.types[d]==="comment"){do{d=d-1;}while(d>0&&j.types[d]==="comment")}d=d+1;this.splice({data:j,howmany:0,index:d,record:{begin:X,ender:this.count,lexer:j.lexer[d-1],lines:0,stack:P,token:p[0],types:p[1]}});e=e+1;}i=i+1;}while(i<t);this.splice({data:a,howmany:e,index:c+1});this.linesSpace=_;this.concat(a,j);}}}pop(a){const c=le(null);c.begin=a.begin.pop();c.ender=a.ender.pop();c.lexer=a.lexer.pop();c.lines=a.lines.pop();c.stack=a.stack.pop();c.token=a.token.pop();c.types=a.types.pop();if(a===this.data)this.count=this.count-1;return c}push(a,c,i){const d=()=>{let e=this.count;const f=a.begin[e];if(a.lexer[e]==="style"&&D.options.style.sortProperties===true||a.lexer[e]==="script"&&(D.options.script.objectSort===true||D.options.json.objectSort===true)){return}do{if(a.begin[e]===f||a.begin[a.begin[e]]===f&&a.types[e].indexOf("attribute")>-1&&a.types[e].indexOf("attribute_end")<0){a.ender[e]=this.count;}else {e=a.begin[e];}e=e-1;}while(e>f);if(e>-1)a.ender[e]=this.count;};this.datanames.forEach(e=>a[e].push(c[e]));if(a===this.data){this.count=this.count+1;this.linesSpace=0;if(c.lexer!=="style"){if(i.replace(/(\{|\}|@|<|>|%|#|)/g,"")===""){i=c.types==="else"?"else":i=c.token;}}if(c.types==="start"||c.types.indexOf("_start")>0){this.structure.push([i,this.count]);}else if(c.types==="end"||c.types.indexOf("_end")>0){let e=0;if(this.structure.length>2&&(a.types[this.structure[this.structure.length-1][1]]==="else"||a.types[this.structure[this.structure.length-1][1]].indexOf("_else")>0)&&(a.types[this.structure[this.structure.length-2][1]]==="start"||a.types[this.structure[this.structure.length-2][1]].indexOf("_start")>0)&&(a.types[this.structure[this.structure.length-2][1]+1]==="else"||a.types[this.structure[this.structure.length-2][1]+1].indexOf("_else")>0)){this.structure.pop();a.begin[this.count]=this.structure[this.structure.length-1][1];a.stack[this.count]=this.structure[this.structure.length-1][0];a.ender[this.count-1]=this.count;e=a.ender[a.begin[this.count]+1];}d();if(e>0)a.ender[a.begin[this.count]+1]=e;this.structure.pop();}else if(c.types==="else"||c.types.indexOf("_else")>0){if(i==="")i="else";if(this.count>0&&(a.types[this.count-1]==="start"||a.types[this.count-1].indexOf("_start")>0)){this.structure.push([i,this.count]);}else {d();if(i===""){this.structure[this.structure.length-1]=["else",this.count];}else {this.structure[this.structure.length-1]=[i,this.count];}}}}}safeSort(a,c,i){if(_e(a)===false)return a;if(c==="normal"){return ze.call({array:a,recursive:i},a)}else if(c==="descend"){return Qe.call({recursive:i},a)}return We.call({recursive:i},a)}sortCorrection(a,c){let i=a;let d=-1;const e=this.data;const f=[];const B=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(i>0&&e.types[i].indexOf("attribute")>-1&&e.types[i].indexOf("end")<0&&e.types[i-1].indexOf("start")<0&&e.types[i-1].indexOf("attribute")<0&&e.lexer[i]==="markup"){B.push(i-1);}if(i>0&&e.types[i-1].indexOf("attribute")>-1&&e.types[i].indexOf("attribute")<0&&e.lexer[B[B.length-1]]==="markup"&&e.types[B[B.length-1]].indexOf("start")<0){B.pop();}if(e.begin[i]!==B[B.length-1]){if(B.length>0){e.begin[i]=B[B.length-1];}else {e.begin[i]=-1;}}if(e.types[i].indexOf("else")>-1){if(B.length>0){B[B.length-1]=i;}else {B.push(i);}}if(e.types[i].indexOf("end")>-1)B.pop();if(e.types[i].indexOf("start")>-1)B.push(i);i=i+1;}while(i<c);i=c;do{i=i-1;if(e.types[i].indexOf("end")>-1){f.push(i);d=d+1;}e.ender[i]=d>-1?f[d]:-1;if(e.types[i].indexOf("start")>-1){f.pop();d=d-1;}}while(i>a)}spacer(a){this.linesSpace=1;do{if(a.array[a.index]==="\n"){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(ce(a.array[a.index+1])===false)break;a.index=a.index+1;}while(a.index<a.end);return a.index}splice(a){const c=[this.data.begin[this.count],this.data.token[this.count]];if(a.record!==void 0&&a.record.token!==""){for(const i of this.datanames){a.data[i].splice(a.index,a.howmany,a.record[i]);}if(a.data===this.data){this.count=this.count-a.howmany+1;if(c[0]!==this.data.begin[this.count]||c[1]!==this.data.token[this.count]){this.linesSpace=0;}}return}for(const i of this.datanames){a.data[i].splice(a.index,a.howmany);}if(a.data===this.data){this.count=this.count-a.howmany;this.linesSpace=0;}}wrapCommentBlock(a){const{wrap:c,crlf:i,preserveComment:d}=D.options;const e=[];const f=[];const B=i===true?"\r\n":"\n";const n=/(\/|\\|\||\*|\[|\]|\{|\})/g;const F=/{%-?\s*|\s*-?%}/g;let y=a.start;let t=0;let k=0;let X=0;let o=0;let $=[];let L="";let p="";let _=false;let V=false;let P=false;let r=false;let j="";let w=a.terminator.length-1;let E=a.terminator.charAt(w);let m=0;let b;const R=a.opening.replace(n,Xe);const v=new RegExp(`^(${R}\\s*@prettify-ignore-start)`);const J=new RegExp(`(${R}\\s*)`);const K=x(a.opening[0],123)&&x(a.opening[1],37);if(K){b=new RegExp(`\\s*${a.terminator.replace(F,ne=>{if(ne.charCodeAt(0)===123)return "{%-?\\s*";return "\\s*-?%}"})}$`);}const Z=()=>{if(/^\s+$/.test($[t+1])||$[t+1]===""){do{t=t+1;}while(t<o&&(/^\s+$/.test($[t+1])||$[t+1]===""))}if(t<o-1)f.push("");};do{e.push(a.chars[y]);if(a.chars[y]==="\n")this.lineNumber=this.lineNumber+1;if(a.chars[y]===E&&a.chars.slice(y-w,y+1).join("")===a.terminator)break;y=y+1;}while(y<a.end);j=e.join("");if(v.test(j)===true){let ne="\n";y=y+1;do{e.push(a.chars[y]);if(e.slice(e.length-20).join("")==="@prettify-ignore-end"){if(K){const te=a.chars.indexOf("{",y);if(x(a.chars[te+1],37)){const T=a.chars.slice(te,a.chars.indexOf("}",te+1)+1).join("");if(b.test(T))a.terminator=T;}}y=y+1;break}y=y+1;}while(y<a.end);t=y;w=a.opening.length-1;E=a.opening.charAt(w);do{if(a.opening==="/*"&&a.chars[t-1]==="/"&&(a.chars[t]==="*"||a.chars[t]==="/"))break;if(a.opening!=="/*"&&a.chars[t]===E&&a.chars.slice(t-w,t+1).join("")===a.opening)break;t=t-1;}while(t>a.start);if(a.opening==="/*"&&a.chars[t]==="*"){ne="*/";}else if(a.opening!=="/*"){ne=a.terminator;}w=ne.length-1;E=ne.charAt(w);if(ne!=="\n"||a.chars[y]!=="\n"){do{e.push(a.chars[y]);if(ne==="\n"&&a.chars[y+1]==="\n")break;if(a.chars[y]===E&&a.chars.slice(y-w,y+1).join("")===ne)break;y=y+1;}while(y<a.end)}if(a.chars[y]==="\n")y=y-1;j=e.join("").replace(/\s+$/,"");return [j,y]}if(d===true||c<1||y===a.end||j.length<=c&&j.indexOf("\n")<0||a.opening==="/*"&&j.indexOf("\n")>0&&j.replace("\n","").indexOf("\n")>0&&/\n(?!(\s*\*))/.test(j)===false){return [j,y]}t=a.start;if(t>0&&a.chars[t-1]!=="\n"&&ce(a.chars[t-1])){do{t=t-1;}while(t>0&&a.chars[t-1]!=="\n"&&ce(a.chars[t-1]))}L=a.chars.slice(t,a.start).join("");const W=new RegExp("\n"+L,"g");$=j.replace(/\r\n/g,"\n").replace(W,"\n").split("\n");o=$.length;$[0]=$[0].replace(J,"");$[o-1]=$[o-1].replace(b,"");if(o<2)$=$[0].split(" ");if($[0]===""){$[0]=a.opening;}else {$.splice(0,0,a.opening);}o=$.length;t=0;do{p=t<o-1?$[t+1].replace(/^\s+/,""):"";if(/^\s+$/.test($[t])===true||$[t]===""){Z();}else if($[t].slice(0,4)==="    "){f.push($[t]);}else if($[t].replace(/^\s+/,"").length>c&&$[t].replace(/^\s+/,"").indexOf(" ")>c){$[t]=$[t].replace(/^\s+/,"");k=$[t].indexOf(" ");f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);t=t-1;}else {$[t]=a.opening==="/*"&&$[t].indexOf("/*")!==0?`   ${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`:`${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`;m=t<1?c-(a.opening.length+1):c;k=$[t].length;X=$[t].replace(/^\s+/,"").indexOf(" ");if(k>m&&X>0&&X<m){k=m;do{k=k-1;if(ce($[t].charAt(k))&&k<=c)break}while(k>0);if($[t].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[t])===true&&/^\s*(\*|-)\s/.test($[t+1])===false){$.splice(t+1,0,"* ");}if($[t].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[t])===true&&/^\s*\d+\.\s/.test($[t+1])===false){$.splice(t+1,0,"1. ");}if(k<4){f.push($[t]);r=true;}else if(t===o-1){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);r=true;t=t-1;}else if(/^\s+$/.test($[t+1])===true||$[t+1]===""){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);_=true;t=t-1;}else if($[t+1].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[t+1])){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);V=true;t=t-1;}else if($[t+1].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[t+1])){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);P=true;t=t-1;}else if($[t+1].slice(0,4)==="    "){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);r=true;t=t-1;}else if(k+p.length>c&&p.indexOf(" ")<0){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);r=true;t=t-1;}else if($[t].replace(/^\s+/,"").indexOf(" ")<c){$[t+1]=$[t].length>c?$[t].slice(k+1)+B+$[t+1]:`${$[t].slice(k+1)} ${$[t+1]}`;}if(_===false&&V===false&&P===false&&r===false){$[t]=$[t].slice(0,k);}}else if($[t+1]!==void 0&&($[t].length+p.indexOf(" ")>c&&p.indexOf(" ")>0||$[t].length+p.length>c&&p.indexOf(" ")<0)){f.push($[t]);t=t+1;}else if($[t+1]!==void 0&&/^\s+$/.test($[t+1])===false&&$[t+1]!==""&&$[t+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[t+1])===false){$[t+1]=`${$[t]} ${$[t+1]}`;_=true;}if(r===false&&V===false&&P===false){if(_===true){_=false;}else if(/^\s*(\*|-|(\d+\.))\s*$/.test($[t])===false){if(t<o-1&&$[t+1]!==""&&/^\s+$/.test($[t])===false&&$[t+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[t+1])===false){$[t]=`${$[t]} ${$[t+1]}`;$.splice(t+1,1);o=o-1;t=t-1;}else {if(a.opening==="/*"&&$[t].indexOf("/*")!==0){f.push(`   ${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}else {f.push(`${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}}}}r=false;V=false;P=false;}t=t+1;}while(t<o);if(f.length>0){if(f[f.length-1].length>c-(a.terminator.length+1)){f.push(a.terminator);}else {f[f.length-1]=`${f[f.length-1]} ${a.terminator}`;}j=f.join(B);}else {$[$.length-1]=$[$.length-1]+a.terminator;j=$.join(B);}return [j,y]}wrapCommentLine(a){let c=a.start;let i=0;let d="";let e=[];const{wrap:f,preserveComment:B}=D.options;function n(){let y="";do{i=i+1;if(a.chars[i+1]==="\n")return}while(i<a.end&&ce(a.chars[i])===true);if(a.chars[i]+a.chars[i+1]==="//"){e=[];do{e.push(a.chars[i]);i=i+1;}while(i<a.end&&a.chars[i]!=="\n");y=e.join("");if(/^\/\/ (\*|-|(\d+\.))/.test(y)===false&&y.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(y)===false){d=`${d} ${y.replace(/(^\/\/\s*)/,"").replace(/\s+$/,"")}`;c=i-1;n();}}}const F=()=>{const y=[];const t=le(null);t.ender=-1;t.types="comment";t.lexer=a.lexer;t.lines=this.linesSpace;if(this.count>-1){t.begin=this.structure[this.structure.length-1][1];t.stack=this.structure[this.structure.length-1][0];t.token=this.data.token[this.count];}else {t.begin=-1;t.stack="global";t.token="";}let k=0;let X=0;d=d.replace(/\s+/g," ").replace(/\s+$/,"");X=d.length;if(f>X)return;do{k=f;if(d.charAt(k)!==" "){do{k=k-1;}while(k>0&&d.charAt(k)!==" ");if(k<3){k=f;do{k=k+1;}while(k<X-1&&d.charAt(k)!==" ")}}y.push(d.slice(0,k));d=`// ${d.slice(k).replace(/^\s+/,"")}`;X=d.length;}while(f<X);k=0;X=y.length;do{t.token=y[k];this.push(this.data,t,"");t.lines=2;this.linesSpace=2;k=k+1;}while(k<X)};do{e.push(a.chars[c]);c=c+1;}while(c<a.end&&a.chars[c]!=="\n");if(c===a.end){a.chars.push("\n");}else {c=c-1;}d=e.join("").replace(/\s+$/,"");if(/^(\/\/\s*@prettify-ignore-start\b)/.test(d)===true){let y="\n";c=c+1;do{e.push(a.chars[c]);c=c+1;}while(c<a.end&&(a.chars[c-1]!=="d"||a.chars[c-1]==="d"&&e.slice(e.length-20).join("")!=="@prettify-ignore-end"));i=c;do{}while(i>a.start&&a.chars[i-1]==="/"&&(a.chars[i]==="*"||a.chars[i]==="/"));if(a.chars[i]==="*")y="*/";if(y!=="\n"||a.chars[c]!=="\n"){do{e.push(a.chars[c]);if(y==="\n"&&a.chars[c+1]==="\n")break;c=c+1;}while(c<a.end&&(y==="\n"||y==="*/"&&(a.chars[c-1]!=="*"||a.chars[c]!=="/")))}if(a.chars[c]==="\n")c=c-1;d=e.join("").replace(/\s+$/,"");return [d,c]}if(d==="//"||d.slice(0,6)==="//    "||B===true){return [d,c]}d=d.replace(/(\/\/\s*)/,"// ");if(f<1||c===a.end-1&&this.data.begin[this.count]<1)return [d,c];i=c+1;n();F();return [d,c]}};D.lexers.style=function s(a){const{options:c}=D;const{data:i}=l;const d=a.split(O);const e=a.length;const f=[];const B=[];let n=0;let F=O;let y=O;function t(P){const r=le(null);r.begin=l.structure[l.structure.length-1][1];r.ender=-1;r.lexer="style";r.lines=l.linesSpace;r.stack=l.structure[l.structure.length-1][0];r.token=y;r.types=F;l.push(i,r,P);}function k(P){const r=P;do{P=P-1;}while(d[P]==="\\"&&P>0);return (r-P)%2===1}function X(P){const r=P.replace(/\s*!important/," !important").split(O);const j=/-?transition$/.test(i.token[l.count-2]);const w=[];const E=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const m=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let b=0;let R=0;let v=O;let J=r.length;let K=[];const Z=ie=>{return ie};const W=ie=>{ie=ie.replace(/\s*/g,O);return /\/\d/.test(ie)&&P.indexOf("url(")===0?ie:` ${ie.charAt(0)} ${ie.charAt(1)}`};const ne=ie=>{if(c.style.noLeadZero===true){return ie.replace(/^-?\D0+(\.|\d)/,M=>M.replace(/0+/,O))}else if(/0*\./.test(ie)){return ie.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(ie)[0])){return /^\D*0+\D*$/.test(ie)?ie.replace(/0+/,"0"):ie.replace(/\d+/.exec(ie)[0],/\d+/.exec(ie)[0].replace(/^0+/,O))}return ie};const te=ie=>ie.replace(",",", ");const T=ie=>`${ie} `;const fe=()=>{const ie=b-1;let M=ie;if(ie<1)return true;do{M=M-1;}while(M>0&&r[M]==="\\");return (ie-M)%2===1};if(b<J){do{K.push(r[b]);if(r[b-1]!=="\\"||fe()===false){if(v===O){if(x(r[b],34)){v='"';R=R+1;}else if(x(r[b],39)){v="'";R=R+1;}else if(x(r[b],40)){v=")";R=R+1;}else if(x(r[b],91)){v="]";R=R+1;}}else if(x(r[b],40)&&x(v,41)||x(r[b],91)&&x(v,93)){R=R+1;}else if(r[b]===v){R=R-1;if(R===0)v=O;}}if(v===O&&r[b]===" "){K.pop();w.push(Z(K.join(O)));K=[];}b=b+1;}while(b<J)}w.push(Z(K.join(O)));J=w.length;b=0;if(b<J){do{if(c.style.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(w[b])===true){w[b]=w[b].replace(/0+\./,".");}else if(c.style.noLeadZero===false&&/^-?\.\d+[a-z]/.test(w[b])){w[b]=w[b].replace(".","0.");}else if(E.test(w[b])||m.test(w[b])){w[b]=w[b].replace(E,ne).replace(m,ne);}else if(/^(0+([a-z]{2,3}|%))$/.test(w[b])&&j===false){w[b]="0";}else if(/^(0+)/.test(w[b])){w[b]=w[b].replace(/0+/,"0");if(/\d/.test(w[b].charAt(1)))w[b]=w[b].substr(1);}else if(/^url\((?!('|"))/.test(w[b])&&w[b].charCodeAt(w[b].length-1)===41){v=w[b].charAt(w[b].indexOf("url(")+4);if(v!=="@"&&re(v,40)&&re(v,60)){if(c.style.quoteConvert==="double"){w[b]=w[b].replace(/url\(/,'url("').replace(/\)$/,'")');}else {w[b]=w[b].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(w[b])){if(!ge.style.units.has(w[b].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,O))){w[b]=w[b].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,T);}}if(/^\w+\(/.test(w[b])&&w[b].charAt(w[b].length-1)===")"&&(w[b].indexOf("url(")!==0||w[b].indexOf("url(")===0&&w[b].indexOf(" ")>0)){w[b]=w[b].replace(/,\S/g,te);}b=b+1;}while(b<J)}v=w.join(" ");return v.charAt(0)+v.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,W)}function o(){const P=[];const r=[];const j=c.style.quoteConvert;let w=n;let E=0;let m=O;let b=null;const R=()=>{r.push(d[w]);if(ce(d[w+1])){do{w=w+1;}while(w<e&&ce(d[w+1]))}};if(w<e){do{if(x(d[w],34)||x(d[w],39)){if(b===null)b=false;if(P[P.length-1]===d[w]&&(d[w-1]!=="\\"||k(w-1)===false)){P.pop();if(j==="double"){d[w]='"';}else if(j==="single"){d[w]="'";}}else if(re(P[P.length-1],34)&&re(P[P.length-1],39)&&(d[w-1]!=="\\"||k(w-1)===false)){P.push(d[w]);if(j==="double"){d[w]='"';}else if(j==="single"){d[w]="'";}}else if(d[w-1]==="\\"&&j!=="none"){if(k(w-1)===true){if(j==="double"&&x(d[w],39)){r.pop();}else if(j==="single"&&x(d[w],34)){r.pop();}}}else if(j==="double"&&x(d[w],34)){d[w]='\\"';}else if(j==="single"&&x(d[w],39)){d[w]="\\'";}r.push(d[w]);}else if(d[w-1]!=="\\"||k(w-1)===false){if(x(d[w],40)){if(b===null)b=true;P.push(")");R();}else if(x(d[w],91)){b=false;P.push("]");R();}else if((x(d[w],35)||x(d[w],64))&&x(d[w+1],123)){b=false;r.push(d[w]);w=w+1;P.push("}");R();}else if(d[w]===P[P.length-1]){r.push(d[w]);P.pop();}else {r.push(d[w]);}}else {r.push(d[w]);}if(l.structure[l.structure.length-1][0]==="map"&&P.length===0&&(x(d[w+1],44)||x(d[w+1],41))){if(x(d[w+1],41)&&x(i.token[l.count],40)){l.pop(i);l.structure.pop();r.splice(0,0,"(");}else {break}}if(x(d[w+1],58)){E=w;if(ce(d[E]))do{E=E-1;}while(ce(d[E]));m=d.slice(E-6,E+1).join(O);if(m.indexOf("filter")===m.length-6||m.indexOf("progid")===m.length-6){m="filter";}}if(P.length===0){if(x(d[w+1],59)&&k(w+1)===true||x(d[w+1],58)&&re(d[w],58)&&re(d[w+2],58)&&m!=="filter"&&m!=="progid"||(x(d[w+1],125)||x(d[w+1],123))||x(d[w+1],47)&&(x(d[w+2],42)||x(d[w+2],47))){E=r.length-1;if(ce(r[E])){do{E=E-1;w=w-1;r.pop();}while(ce(r[E]))}break}if(x(d[w+1],44))break}w=w+1;}while(w<e)}n=w;if(l.structure[l.structure.length-1][0]==="map"&&x(r[0],40)){f[f.length-1]=f[f.length-1]-1;}y=r.join(O).replace(/\s+/g," ").replace(/^\s/,O).replace(/\s$/,O);if(b===true){y=y.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(l.count>-1&&i.token[l.count].indexOf("extend(")===0){F="pseudo";}else if(b===true&&/\d/.test(y.charAt(0))===false&&/^rgba?\(/.test(y)===false&&y.indexOf("url(")!==0&&(y.indexOf(" ")<0||y.indexOf(" ")>y.indexOf("("))&&y.charAt(y.length-1)===")"){if(x(i.token[l.count],58)){F="value";}else {y=y.replace(/,\u0020?/g,", ");F="function";}y=X(y);}else if(l.count>-1&&`"'`.indexOf(i.token[l.count].charAt(0))>-1&&i.types[l.count]==="variable"){F="item";}else if(x(r[0],64)||r[0]==="$"){if(i.types[l.count]==="colon"&&c.language==="css"&&(i.types[l.count-1]==="property"||i.types[l.count-1]==="variable")){F="value";}else if(l.count>-1){F="item";m=i.token[l.count];w=m.indexOf("(");if(x(m[m.length-1],41)&&w>0){m=m.slice(w+1,m.length-1);i.token[l.count]=i.token[l.count].slice(0,w+1)+X(m)+")";}}y=X(y);}else {F="item";}t(O);}function $(P){let r=l.count;let j=0;let w=O;const E=[];const m=()=>{if(l.count<0)return;if(r>0&&(i.types[r]==="comment"||i.types[r]==="ignore")){do{r=r-1;E.push(i.token[r]);}while(r>0&&i.lexer[r]==="style"&&(i.types[r]==="comment"||i.types[r]==="ignore"))}j=r-1;if(j>0&&(i.types[j]==="comment"||i.types[j]==="ignore")){do{j=j-1;}while(j>0&&i.lexer[r]==="style"&&(i.types[j]==="comment"||i.types[j]==="ignore"))}if(j<0)j=0;if(r<0)r=0;w=i.token[r].charAt(0);};function b(R){let v=R;const J=i.begin[v];i.token[R]=i.token[R].replace(/\s*&/," &").replace(/(\s*>\s*)/g," > ").replace(/(\s*\+\s*)/g," + ").replace(/:\s+/g,": ").replace(/^(\s+)/,O).replace(/(\s+)$/,O).replace(/\s+::\s+/,"::");if(x(i.token[v-1],44)||x(i.token[v-1],58)||i.types[v-1]==="comment"||i.types[v-1]==="pseudo"){if(i.types[v-1]==="pseudo"){i.token[v-1]=`${i.token[v-1]}${i.token[v]}`;i.types[v-1]="selector";l.splice({data:i,howmany:1,index:v});}else {do{v=v-1;if(i.begin[v]===J){if(x(i.token[v],59)||i.types[v].indexOf("template")>-1)break;if(re(i.token[v],44)&&i.types[v]!=="comment"){i.types[v]="selector";}if(x(i.token[v],58)){if(re(i.token[v-1],58)&&i.stack[r]==="global"&&(i.types[v-1]==="comment"||i.types[v-1]==="ignore"||i.types[v-1].indexOf("template")>-1)){i.token[v]=`${i.token[v]}${i.token[v+1]}`;l.pop(i);}else if(l.count===1){i.token[v]=`${i.token[v]}${i.token[v+1]}`;l.pop(i);}else if(i.types[v]==="selector"&&i.types[v+1]==="item"){i.token[v]=`${i.token[v]}${i.token[v+1]}`;l.pop(i);}else {i.token[v]=`${i.token[v-1]}:${i.token[v+1]}`;i.lines[v]=i.lines[v-1];l.splice({data:i,howmany:2,index:v});}}}else {break}}while(v>0)}}v=l.count;if(c.style.sortSelectors===true&&x(i.token[v-1],44)){const K=[i.token[v]];do{v=v-1;if(i.types[v]==="comment"||i.types[v]==="ignore"){do{v=v-1;}while(v>0&&(i.types[v]==="comment"||i.types[v]==="ignore"))}if(x(i.token[v],44))v=v-1;K.push(i.token[v]);}while(v>0&&(x(i.token[v-1],44)||i.types[v-1]==="selector"||i.types[v-1]==="comment"||i.types[v-1]==="ignore"));K.sort();v=l.count;i.token[v]=K.pop();do{v=v-1;if(i.types[v]==="comment"||i.types[v]==="ignore"){do{v=v-1;}while(v>0&&(i.types[v]==="comment"||i.types[v]==="ignore"))}if(x(i.token[v],44))v=v-1;i.token[v]=K.pop();}while(v>0&&(x(i.token[v-1],44)||i.token[v-1]==="selector"||i.types[v-1]==="comment"||i.types[v-1]==="ignore"))}r=l.count;m();}m();if(P==="start"&&(i.types[r]==="value"||i.types[r]==="variable")){i.types[r]="item";}if(i.lexer[l.count-1]!=="style"||j<0){if(P==="colon"){if(w==="$"||x(w,64)){i.types[r]="variable";}else {if(i.stack[r]!=="global"&&(i.types[r]!=="comment"||i.types[r]!=="ignore")){i.types[r]="property";}}}else if(i.lexer[r]==="style"){i.types[r]="selector";b(r);}}else if(P==="start"&&i.types[r]==="function"&&i.lexer[r]==="style"){i.types[r]="selector";b(r);}else if(i.types[r]==="item"&&i.lexer[r]==="style"){if(P==="start"){b(r);i.types[r]="selector";if(x(i.token[r],58))i.types[j]="selector";if(i.token[r].indexOf("=\u201C")>0){l.error=`Invalid Quote (\u201C, \\201c) used on line number ${l.lineNumber}`;}else if(i.token[r].indexOf("=\u201D")>0){l.error=`Invalid Quote (\u201D, \\201d) used on line number ${l.lineNumber}`;}}else if(P==="end"){if(w==="$"||x(w,64)){i.types[r]="variable";}else {i.types[r]="value";}i.token[r]=X(i.token[r]);}else if(P==="separator"){if(i.types[j]==="colon"||x(i.token[j],44)||x(i.token[j],123)){if(re(d[n],59)&&(i.types[j]==="selector"||x(i.token[j],123))){i.types[r]="selector";b(r);}else if(i.token[r].charAt(0)==="$"||x(i.token[r],64)){i.types[r]="variable";}else {i.types[r]="value";}i.token[r]=X(i.token[r]);if(i.token[r].charAt(0)==="\u201C"){l.error=`Invalid Quote (\u201C, \\201c) used on line number ${l.lineNumber}`;}else if(i.token[r].charAt(0)==="\u201D"){l.error=`Invalid (\u201D, \\201d) used on line number ${l.lineNumber}`;}}else {if(w==="$"||x(w,64)){i.types[r]="variable";}else if(i.types[j]==="value"||i.types[j]==="variable"){i.token[j]=i.token[j]+i.token[r];l.pop(i);}else {i.types[r]="value";}}}else if(P==="colon"){if(w==="$"||x(w,64)){i.types[r]="variable";}else {i.types[r]="property";}}else if(x(i.token[j],64)&&(i.types[j-2]!=="variable"&&i.types[j-2]!=="property"||i.types[j-1]==="separator")){i.types[j]="variable";F="variable";i.token[j]=X(i.token[j]);}}}function L(){let P=l.count;do{P=P-1;}while(P>0&&i.types[P]==="comment");if(i.token[P]===";")return;l.splice({data:i,howmany:0,index:P+1,record:{begin:l.structure[l.structure.length-1][1],ender:-1,lexer:"style",lines:l.linesSpace,stack:l.structure[l.structure.length-1][0],token:";",types:"separator"}});}function p(P,r){const j=[];let w=O;let E=O;let m=0;let b=P.length;const R=v=>{const J=i.types[l.count-1];if(F==="item"){if(J==="colon"){i.types[l.count]="value";}else {$(J);}}F=v;if(F.indexOf("start")>-1||F.indexOf("else")>-1){t(y);}else {t(O);}};B[B.length-1]=true;if(n<e){do{j.push(d[n]);if(w===O){if(d[n]==='"'){w='"';}else if(d[n]==="'"){w="'";}else if(d[n]==="/"){if(d[n+1]==="/"){w="/";}else if(d[n+1]==="*"){w="*";}}else if(d[n+1]===r.charAt(0)){do{m=m+1;n=n+1;j.push(d[n]);}while(n<e&&m<r.length&&d[n+1]===r.charAt(m));if(m===r.length){w=j.join(O);if(ce(w.charAt(b))){do{b=b+1;}while(ce(w.charAt(b)))}m=b;do{m=m+1;}while(m<r.length&&!ce(w.charAt(m)));if(m===w.length)m=m-r.length;if(P==="{%"){if(w.indexOf("{%-")===0){w=w.replace(/^({%-\s*)/,"{%- ").replace(/(\s*-%})$/," -%}").replace(/(\s*%})$/," %}");E=w.slice(4);}else {w=w.replace(/^({%\s*)/,"{% ").replace(/(\s*%})$/," %}").replace(/(\s*-%})$/," -%}");E=w.slice(3);}}if(P==="{{"){w=w.replace(/^({{\s*)/,"{{ ").replace(/^({{-\s*)/,"{{- ").replace(/(\s*-}})$/," -}}").replace(/(\s*}})$/," }}");}if(F==="item"&&i.types[l.count-1]==="colon"&&(i.types[l.count-2]==="property"||i.types[l.count-2]==="variable")){F="value";i.types[l.count]="value";if(Number.isNaN(Number(i.token[l.count]))===true&&i.token[l.count].charAt(i.token[l.count].length-1)!==")"){i.token[l.count]=i.token[l.count]+w;}else {i.token[l.count]=i.token[l.count]+" "+w;}return}y=w;if(P==="{%"){const v=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];let J=v.length-1;E=E.slice(0,E.indexOf(" "));if(E.indexOf("(")>0){E=E.slice(0,E.indexOf("("));}if(E==="else"||E==="elseif"||E==="when"||E==="elsif"){R("template_else");return}J=v.length-1;if(J>-1){do{if(E===v[J]){R("template_start");return}if(E==="end"+v[J]){R("template_end");return}J=J-1;}while(J>-1)}}else if(P==="{{"){let v=w.slice(2);const J=v.length;let K=0;do{K=K+1;}while(K<J&&ce(v.charAt(K))===false&&v.charCodeAt(b)!==40);v=v.slice(0,K);if(v.charAt(v.length-2)==="}"){v=v.slice(0,v.length-2);}if(v==="end"){R("template_end");return}if(v==="block"||v==="define"||v==="form"||v==="if"||v==="range"||v==="with"){R("template_start");return}}R("template");return}m=0;}}else if(w===d[n]){if(x(w,34)||x(w,39)){w=O;}else if(x(w,47)&&(d[n]==="\r"||x(d[n],10))){w=O;}else if(x(w,42)&&x(d[n+1],47)){w=O;}}n=n+1;}while(n<e)}}function _(P){let r;if(P){r=l.wrapCommentLine({chars:d,end:e,lexer:"style",opening:"//",start:n,terminator:"\n"});y=r[0];F=/^(\/\/\s*@prettify-ignore-start)/.test(y)?"ignore":"comment";}else {r=l.wrapCommentBlock({chars:d,end:e,lexer:"style",opening:"/*",start:n,terminator:"*/"});y=r[0];F=/^(\/\*\s*@prettify-ignore-start)/.test(y)?"ignore":"comment";}t(O);n=r[1];}function V(){const P=l.linesSpace;const r=le(null);r.data=le(null);r.data.margin=[O,O,O,O,false];r.data.padding=[O,O,O,O,false];r.last=le(null);r.last.margin=0;r.last.padding=0;r.removes=[];const j=l.structure[l.structure.length-1][1];function w(R){if(i.token[m-2]===R){const v=i.token[m].replace(/\s*!important\s*/g,O).split(" ");const J=v.length;if(i.token[m].indexOf("!important")>-1)r.data[R[4]]=true;if(J>3){if(r.data[R][0]===O)r.data[R][0]=v[0];if(r.data[R][1]===O)r.data[R][1]=v[1];if(r.data[R][2]===O)r.data[R][2]=v[2];if(r.data[R][3]===O)r.data[R][3]=v[3];}else if(J>2){if(r.data[R][0]===O)r.data[R][0]=v[0];if(r.data[R][1]===O)r.data[R][1]=v[1];if(r.data[R][2]===O)r.data[R][2]=v[2];if(r.data[R][3]===O)r.data[R][3]=v[1];}else if(J>1){if(r.data[R][0]===O)r.data[R][0]=v[0];if(r.data[R][1]===O)r.data[R][1]=v[1];if(r.data[R][2]===O)r.data[R][2]=v[0];if(r.data[R][3]===O)r.data[R][3]=v[1];}else {if(r.data[R][0]===O)r.data[R][0]=v[0];if(r.data[R][1]===O)r.data[R][1]=v[0];if(r.data[R][2]===O)r.data[R][2]=v[0];if(r.data[R][3]===O)r.data[R][3]=v[0];}}else if(i.token[m-2]===`${R}-bottom`){if(r.data[R][2]===O)r.data[R][2]=i.token[m];}else if(i.token[m-2]===`${R}-left`){if(r.data[R][3]===O)r.data[R][3]=i.token[m];}else if(i.token[m-2]===`${R}-right`){if(r.data[R][1]===O)r.data[R][1]=i.token[m];}else if(i.token[m-2]===`${R}-top`){if(r.data[R][0]===O)r.data[R][0]=i.token[m];}else {return}r.removes.push([m,R]);r.last[R]=m;}function E(){let R=0;let v=O;const J=/^(0+([a-z]+|%))/;const K=r.removes.length;const Z=r.data.margin[0]!==O&&r.data.margin[1]!==O&&r.data.margin[2]!==O&&r.data.margin[3]!==O;const W=r.data.padding[0]!==O&&r.data.padding[1]!==O&&r.data.padding[2]!==O&&r.data.padding[3]!==O;function ne(te){if(J.test(r.data[te][0])===true)r.data[te][0]="0";if(J.test(r.data[te][1])===true)r.data[te][1]="0";if(J.test(r.data[te][2])===true)r.data[te][2]="0";if(J.test(r.data[te][3])===true)r.data[te][3]="0";if(r.data[te][0]===r.data[te][1]&&r.data[te][0]===r.data[te][2]&&r.data[te][0]===r.data[te][3]){v=r.data[te][0];}else if(r.data[te][0]===r.data[te][2]&&r.data[te][1]===r.data[te][3]&&r.data[te][0]!==r.data[te][1]){v=`${r.data[te][0]} ${r.data[te][1]}`;}else if(r.data[te][1]===r.data[te][3]&&r.data[te][0]!==r.data[te][2]){v=`${r.data[te][0]} ${r.data[te][1]} ${r.data[te][2]}`;}else {v=`${r.data[te][0]} ${r.data[te][1]} ${r.data[te][2]} ${r.data[te][3]}`;}if(r.data[te[4]]===true)v=`${v.replace(" !important",O)} !important`;if(r.last[te]>l.count){R=j<1?1:j+1;do{if(i.begin[R]===j&&i.types[R]==="value"&&i.token[R-2].indexOf(te)===0){r.last[te]=R;break}R=R+1;}while(R<l.count)}i.token[r.last[te]]=v;i.token[r.last[te]-2]=te;}if(K>1&&(Z===true||W===true)){do{if(r.removes[R][0]!==r.last.margin&&r.removes[R][0]!==r.last.padding&&(Z===true&&r.removes[R][1]==="margin"||W===true&&r.removes[R][1]==="padding")){l.splice({data:i,howmany:i.types[r.removes[R][0]+1]==="separator"?4:3,index:r.removes[R][0]-2});}R=R+1;}while(R<K-1)}if(Z===true)ne("margin");if(W===true)ne("padding");if(b===true){if(j<0){l.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {l.sortCorrection(j,l.count+1);}}}let m=l.count;let b=false;do{m=m-1;if(i.begin[m]===j){if(i.types[m]==="value"&&i.types[m-2]==="property"){if(i.token[m-2].indexOf("margin")===0){w("margin");}else if(i.token[m-2].indexOf("padding")===0){w("padding");}}}else {b=true;m=i.begin[m];}}while(m>j);E();l.linesSpace=P;}do{if(ce(d[n])){n=l.spacer({array:d,end:e,index:n});}else if(x(d[n],47)&&x(d[n+1],42)){_(false);}else if(x(d[n],47)&&x(d[n+1],47)){_(true);}else if(x(d[n],123)&&x(d[n+1],37)){p("{%","%}");}else if(x(d[n],123)&&x(d[n+1],123)){p("{{","}}");}else if(x(d[n],123)||x(d[n],40)&&x(i.token[l.count],58)&&i.types[l.count-1]==="variable"){$("start");F="start";y=d[n];if(x(d[n],40)){t("map");f.push(0);}else if(i.types[l.count]==="selector"||i.types[l.count]==="variable"){t(i.token[l.count]);}else if(i.types[l.count]==="colon"){t(i.token[l.count-1]);}else {t("block");}B.push(false);}else if(x(d[n],125)||d[n]===")"&&l.structure[l.structure.length-1][0]==="map"&&f[f.length-1]===0){if(x(d[n],125)&&x(i.token[l.count-1],123)&&i.types[l.count]==="item"&&i.token[l.count-2]!==void 0&&i.token[l.count-2].charAt(i.token[l.count-2].length-1)==="@"){i.token[l.count-2]=i.token[l.count-2]+"{"+i.token[l.count]+"}";l.pop(i);l.pop(i);l.structure.pop();}else {if(x(d[n],41))f.pop();$("end");if(x(d[n],125)&&re(i.token[l.count],59)){if(i.types[l.count]==="value"||i.types[l.count]==="function"||i.types[l.count]==="variable"&&(x(i.token[l.count-1],58)||x(i.token[l.count-1],59))){if(c.style.correct===true){y=";";}else {y="x;";}F="separator";t(O);}else if(i.types[l.count]==="comment"){L();}}B.pop();y=d[n];F="end";if(x(d[n],125))V();if(c.style.sortProperties===true&&x(d[n],125))l.objectSort(i);t(O);}}else if(x(d[n],59)||x(d[n],44)){if(i.types[l.count-1]==="selector"||i.types[l.count]!=="function"&&x(i.token[l.count-1],125)){$("start");}else {$("separator");}if(i.types[l.count]!=="separator"&&k(n)===true){y=d[n];F="separator";t(O);}}else if(x(d[n],58)&&i.types[l.count]!=="end"){if(x(d[n+1],58)){n=n+1;$("pseudo");y="::";F="pseudo";t(O);}else {$("colon");y=":";F="colon";t(O);}}else {if(l.structure[l.structure.length-1][0]==="map"&&x(d[n],40)){f[f.length-1]=f[f.length-1]+1;}o();}n=n+1;}while(n<e);if(c.style.sortProperties===true)l.objectSort(i);return i};D.lexers.script=function s(a){const{options:c}=D;if(c.language==="json")c.script.quoteConvert="double";let i=0;let d="";let e="";let f=[];let B=0;let n=-1;let F=-1;let y=[];let t;let k;let X;const o=l.data;const $=l.references;const L=a.length;const p=a.split("");const _=[];const V=[];const P=[];const r=[0,""];const j=[false];const w=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const E=le(null);E.count=[];E.index=[];E.len=-1;E.word=[];function m(h){let u=0;const A=T(1,false);const S=l.structure.length===0?"":l.structure[l.structure.length-1][0];const g=le(null);g.begin=o.begin[l.count];g.ender=o.begin[l.count];g.lexer=o.lexer[l.count];g.lines=o.lines[l.count];g.stack=o.stack[l.count];g.token=o.token[l.count];g.types=o.types[l.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(d))return;if(e==="start"||e==="type_start")return;if(c.language==="json")return;if(g.token===";"||g.token===","||g.stack==="class"||g.stack==="map"||g.stack==="attribute"||o.types[g.begin-1]==="generic"||A==="{"||S==="initializer"){return}if(g.token==="}"&&o.stack[g.begin-1]==="global"&&o.types[g.begin-1]!=="operator"&&g.stack===o.stack[l.count-1]){return}if(g.stack==="array"&&g.token!=="]")return;if(o.token[o.begin[l.count]]==="{"&&g.stack==="data_type")return;if(g.types!==void 0&&g.types.indexOf("template")>-1&&g.types.indexOf("template_string")<0){return}if(A===";"&&h===false)return;if(o.lexer[l.count-1]!=="script"&&(i<L&&L===D.source.length-1||L<D.source.length-1)){return}if(g.token==="}"&&(g.stack==="function"||g.stack==="if"||g.stack==="else"||g.stack==="for"||g.stack==="do"||g.stack==="while"||g.stack==="switch"||g.stack==="class"||g.stack==="try"||g.stack==="catch"||g.stack==="finally"||g.stack==="block")){if(g.stack==="function"&&(o.stack[g.begin-1]==="data_type"||o.types[g.begin-1]==="type")){u=g.begin;do{u=u-1;}while(u>0&&o.token[u]!==")"&&o.stack[u]!=="arguments");u=o.begin[u];}else {u=o.begin[g.begin-1];}if(o.token[u]==="("){u=u-1;if(o.token[u-1]==="function")u=u-1;if(o.stack[u-1]==="object"||o.stack[u-1]==="switch")return;if(o.token[u-1]!=="="&&o.token[u-1]!=="return"&&o.token[u-1]!==":"){return}}else {return}}if(g.types==="comment"||S==="method"||S==="paren"||S==="expression"||S==="array"||S==="object"||S==="switch"&&g.stack!=="method"&&o.token[o.begin[l.count]]==="("&&o.token[o.begin[l.count]-1]!=="return"&&o.types[o.begin[l.count]-1]!=="operator"){return}if(o.stack[l.count]==="expression"&&(o.token[o.begin[l.count]-1]!=="while"||o.token[o.begin[l.count]-1]==="while"&&o.stack[o.begin[l.count]-2]!=="do")){return}if(A!==""&&"=<>+*?|^:&%~,.()]".indexOf(A)>-1&&h===false)return;if(g.types==="comment"){u=l.count;do{u=u-1;}while(u>0&&o.types[u]==="comment");if(u<1)return;g.token=o.token[u];g.types=o.types[u];g.stack=o.stack[u];}if(g.token===void 0||g.types==="start"||g.types==="separator"||g.types==="operator"&&g.token!=="++"&&g.token!=="--"||g.token==="x}"||g.token==="var"||g.token==="let"||g.token==="const"||g.token==="else"||g.token.indexOf("#!/")===0||g.token==="instanceof"){return}if(g.stack==="method"&&(o.token[g.begin-1]==="function"||o.token[g.begin-2]==="function")){return}if(c.script.variableList==="list")E.index[E.len]=l.count;d=c.script.correct===true?";":"x;";e="separator";u=l.linesSpace;l.linesSpace=0;Y("");l.linesSpace=u;J();}function b(){let h=l.count;do{h=h-1;}while(h>-1&&o.token[h]==="x}");if(o.stack[h]==="else")return Y("");h=h+1;l.splice({data:o,howmany:0,index:h,record:{begin:o.begin[h],ender:-1,lexer:"script",lines:l.linesSpace,stack:o.stack[h],token:d,types:e}});Y("");}function R(){let h=l.count;if(o.types[h]==="comment"){do{h=h-1;}while(h>0&&o.types[h]==="comment")}if(o.token[h]==="from")h=h-2;if(o.token[h]==="x;"){l.splice({data:o,howmany:1,index:h});}}function v(){m(false);if(n>-1)I();X=l.wrapCommentBlock({chars:p,end:L,lexer:"script",opening:"/*",start:i,terminator:"*/"});i=X[1];if(o.token[l.count]==="var"||o.token[l.count]==="let"||o.token[l.count]==="const"){t=l.pop(o);Y("");l.push(o,t,"");if(o.lines[l.count-2]===0)o.lines[l.count-2]=o.lines[l.count];o.lines[l.count]=0;}else if(X[0]!==""){d=X[0];e=/^\/\*\s*@ignore\s*\bstart\b/.test(d)?"ignore":"comment";if(d.indexOf("# sourceMappingURL=")===2){r[0]=l.count+1;r[1]=d;}l.push(o,{begin:l.structure[l.structure.length-1][1],ender:-1,lexer:"script",lines:l.linesSpace,stack:l.structure[l.structure.length-1][0],token:d,types:e},"");}if(/\/\*\s*global\s+/.test(o.token[l.count])===true&&o.types.indexOf("word")<0){$[0]=o.token[l.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function J(){let h="";const u=T(5,false);const A=l.count;const S=l.linesSpace;if(c.language==="json"||V.length<1||V[V.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(d)===false){return}if(o.stack[l.count]==="do"&&u==="while"&&o.token[l.count]==="}"){return}if(d===";"&&o.token[A-1]==="x{"){h=o.token[o.begin[A-2]-1];if(o.token[A-2]==="do"||o.token[A-2]===")"&&"ifforwhilecatch".indexOf(h)>-1){t=l.pop(o);d=c.script.correct===true?"}":"x}";e="end";k=l.structure[l.structure.length-1];Y("");V.pop();l.linesSpace=S;return}t=l.pop(o);d=c.script.correct===true?"}":"x}";e="end";k=l.structure[l.structure.length-1];Y("");V.pop();d=";";e="end";l.push(o,t,"");l.linesSpace=S;return}d=c.script.correct===true?"}":"x}";e="end";if(o.token[l.count]==="x}")return;if(o.stack[l.count]==="if"&&(o.token[l.count]===";"||o.token[l.count]==="x;")&&u==="else"){k=l.structure[l.structure.length-1];Y("");V.pop();l.linesSpace=S;return}do{k=l.structure[l.structure.length-1];Y("");V.pop();if(o.stack[l.count]==="do")break}while(V[V.length-1]==="x{");l.linesSpace=S;}function K(){let h=l.count;if(o.stack[h]==="object"&&c.script.objectSort===true){d=",";e="separator";R();Y("");}else {do{h=h-1;}while(h>0&&o.types[h-1]==="comment");l.splice({data:o,howmany:0,index:h,record:{begin:o.begin[h],ender:-1,lexer:"script",lines:l.linesSpace,stack:o.stack[h],token:",",types:"separator"}});Y("");}}function Z(h){let u=false;let A=false;const S=T(1,false);const g=o.token[l.count]==="("?l.count:o.begin[l.count];function q(){let C=0;const N=o.token[g-1]==="Array";const H=N===true?"[":"{";const z=N===true?"]":"}";const ee=N===true?"array":"object";if(N===true&&o.types[l.count]==="number"){C=Number(o.token[l.count]);t=l.pop(o);}t=l.pop(o);t=l.pop(o);t=l.pop(o);l.structure.pop();d=H;e="start";Y(ee);if(C>0){d=",";e="separator";do{Y("");C=C-1;}while(C>0)}d=z;e="end";Y("");}if(n>-1)I();if(P.length>0){if(P[P.length-1]===0){P.pop();}else {P[P.length-1]=P[P.length-1]-1;}}if(h===")"||h==="x)"||h==="]"){if(c.script.correct===true)M();R();}if(h===")"||h==="x)")m(false);if(E.len>-1){if(h==="}"&&(c.script.variableList==="list"&&E.count[E.len]===0||o.token[l.count]==="x;"&&c.script.variableList==="each")){we();}E.count[E.len]=E.count[E.len]-1;if(E.count[E.len]<0)we();}if(d===","&&o.stack[l.count]!=="initializer"&&(h==="]"&&o.token[l.count-1]==="["||h==="}")){t=l.pop(o);}if(h===")"||h==="x)"){d=h;if(_.length>0){f=_[_.length-1];if(f.length>1&&S!=="{"&&(f[0]==="if"||f[0]==="for"||f[0]==="with"||f[0]==="while"&&o.stack[f[1]-2]!==void 0&&o.stack[f[1]-2]!=="do")){u=true;}}}else if(h==="]"){d="]";}else if(h==="}"){if(d!==","&&c.script.correct===true)M();if(l.structure.length>0&&l.structure[l.structure.length-1][0]!=="object")m(true);if((c.script.objectSort===true||c.language==="json"&&c.json.objectSort===true)&&l.structure[l.structure.length-1][0]==="object"){l.objectSort(o);}if(e==="comment"){d=o.token[l.count];e=o.types[l.count];}d="}";}if(l.structure[l.structure.length-1][0]==="data_type"){e="type_end";}else {e="end";}_.pop();k=l.structure[l.structure.length-1];if(h===")"&&c.script.correct===true&&g-l.count<2&&(o.token[l.count]==="("||o.types[l.count]==="number")&&(o.token[g-1]==="Array"||o.token[g-1]==="Object")&&o.token[g-2]==="new"){q();A=true;}if(V[V.length-1]==="x{"&&h==="}"){J();V.pop();if(o.stack[l.count]!=="try"){if(S!==":"&&S!==";"&&o.token[o.begin[i]-1]!=="?")J();}d="}";}else {V.pop();}if(c.script.endComma!==void 0&&c.script.endComma!=="none"&&l.structure[l.structure.length-1][0]==="array"||l.structure[l.structure.length-1][0]==="object"||l.structure[l.structure.length-1][0]==="data_type"){if(c.script.endComma==="always"&&o.token[l.count]!==","){const C=l.structure[l.structure.length-1][1];let N=l.count;do{if(o.begin[N]===C){if(o.token[N]===",")break}else {N=o.begin[N];}N=N-1;}while(N>C);if(N>C){const H=e;const z=d;d=",";e="separator";Y("");d=z;e=H;}}else if(c.script.endComma==="never"&&o.token[l.count]===","){l.pop(o);}}if(A===false){Y("");if(d==="}"&&o.stack[l.count]!=="object"&&o.stack[l.count]!=="class"&&o.stack[l.count]!=="data_type"){$.pop();J();}}if(u===true){d=c.script.correct===true?"{":"x{";e="start";Y(f[0]);V.push("x{");f[1]=l.count;}j.pop();if(l.structure[l.structure.length-1][0]!=="data_type")j[j.length-1]=false;}function W(h,u,A){let S=0;let g=false;let q=false;let C=[h];let N;const H=u.split("");const z=H.length;const ee=i;const se=i+h.length;const U=c.script.quoteConvert===void 0?"none":c.script.quoteConvert;function pe(){let he=0;C=[];e=A;S=i;if(A==="string"&&/\s/.test(p[S+1])===true){he=1;do{S=S+1;if(p[S]==="\n")he=he+1;}while(S<L&&/\s/.test(p[S+1])===true);l.linesSpace=he;}}function ae(){let he="";function de(G){if(c.language!=="javascript"&&c.language!=="typescript"&&c.language!=="jsx"&&c.language!=="tsx"){const oe=ue=>ue.replace(/\s*$/," ");const ye=ue=>ue.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(G)||/\}%(>|\])/.test(G))return G;G=G.replace(/\{((\{+)|%-?)\s*/g,oe);G=G.replace(/\s*((\}\}+)|(-?%\}))/g,ye);return G}return G}if(h==='"'&&U==="single"){C[0]="'";C[C.length-1]="'";}else if(h==="'"&&U==="double"){C[0]='"';C[C.length-1]='"';}else if(g===true){he=C[C.length-1];C.pop();C.pop();C.push(he);}i=S;if(u==="\n"){i=i-1;C.pop();}d=C.join("");if(h==='"'||h==="'"||h==="{{"||h==="{%"){d=de(d);}if(h==="{%"||h==="{{"){N=Ce(d);e=N[0];Y(N[1]);return}if(A==="string"){e="string";if(c.language==="json"){d=d.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(h.indexOf("#!")===0){d=d.slice(0,d.length-1);l.linesSpace=2;}else if(l.structure[l.structure.length-1][0]!=="object"||l.structure[l.structure.length-1][0]==="object"&&T(1,false)!==":"&&o.token[l.count]!==","&&o.token[l.count]!=="{"){if(d.length>c.wrap&&c.wrap>0||c.wrap!==0&&o.token[l.count]==="+"&&(o.token[l.count-1].charAt(0)==='"'||o.token[l.count-1].charAt(0)==="'")){let G=d;let oe="";let ye=U==="double"?'"':U==="single"?"'":G.charAt(0);const ue=c.wrap;const ve=/u[0-9a-fA-F]{4}/;const Le=/x[0-9a-fA-F]{2}/;G=G.slice(1,G.length-1);if(o.token[l.count]==="+"&&(o.token[l.count-1].charAt(0)==='"'||o.token[l.count-1].charAt(0)==="'")){l.pop(o);ye=o.token[l.count].charAt(0);G=o.token[l.count].slice(1,o.token[l.count].length-1)+G;l.pop(o);}if(G.length>ue&&ue>0){do{oe=G.slice(0,ue);if(oe.charAt(ue-5)==="\\"&&ve.test(G.slice(ue-4,ue+1))){oe=oe.slice(0,ue-5);}else if(oe.charAt(ue-4)==="\\"&&ve.test(G.slice(ue-3,ue+2))){oe=oe.slice(0,ue-4);}else if(oe.charAt(ue-3)==="\\"&&(ve.test(G.slice(ue-2,ue+3))||Le.test(G.slice(ue-2,ue+1)))){oe=oe.slice(0,ue-3);}else if(oe.charAt(ue-2)==="\\"&&(ve.test(G.slice(ue-1,ue+4))||Le.test(G.slice(ue-1,ue+2)))){oe=oe.slice(0,ue-2);}else if(oe.charAt(ue-1)==="\\"){oe=oe.slice(0,ue-1);}oe=ye+oe+ye;G=G.slice(oe.length-2);d=oe;e="string";Y("");l.linesSpace=0;d="+";e="operator";Y("");}while(G.length>ue)}if(G===""){d=ye+ye;}else {d=ye+G+ye;}e="string";}}}else if(/\{\s*\?>$/.test(d)){e="template_start";}else {e=A;}if(d.length>0)Y("");}if(n>-1)I();if(p[i-1]==="\\"&&Q(i-1)===true&&(p[i]==='"'||p[i]==="'")){l.pop(o);if(o.token[0]==="{"){if(p[i]==='"'){h='"';u='\\"';C=['"'];}else {h="'";u="\\'";C=["'"];}g=true;}else {if(p[i]==='"'){C=['\\"'];ae();return}C=["\\'"];ae();return}}S=se;if(S<L){do{if(o.token[0]!=="{"&&o.token[0]!=="["&&U!=="none"&&(p[S]==='"'||p[S]==="'")){if(p[S-1]==="\\"){if(Q(S-1)===true){if(U==="double"&&p[S]==="'"){C.pop();}else if(U==="single"&&p[S]==='"'){C.pop();}}}else if(U==="double"&&p[S]==='"'&&p[i]==="'"){p[S]='\\"';}else if(U==="single"&&p[S]==="'"&&p[i]==='"'){p[S]="\\'";}C.push(p[S]);}else if(S>ee){q=true;if(p[S]==="{"&&p[S+1]==="%"&&p[S+2]!==h){ae();W("{%","%}","template");pe();}else if(p[S]==="{"&&p[S+1]==="{"&&p[S+2]!==h){ae();W("{{","}}","template");pe();}else {q=false;C.push(p[S]);}}else {C.push(p[S]);}if((h==='"'||h==="'")&&(q===true||S>ee)&&c.language!=="json"&&p[S-1]!=="\\"&&p[S]!=='"'&&p[S]!=="'"&&(p[S]==="\n"||S===L-1)){l.error="Unterminated string in script on line number "+l.lineNumber;break}if(p[S]===H[z-1]&&(p[S-1]!=="\\"||Q(S-1)===false)){if(z===1)break;if(C[S-se]===H[0]&&C.slice(S-se-z+2).join("")===u)break}S=S+1;}while(S<L)}ae();}function ne(){m(false);J();if(n>-1)I();X=l.wrapCommentLine({chars:p,end:L,lexer:"script",opening:"//",start:i,terminator:"\n"});i=X[1];if(X[0]!==""){d=X[0];e=/^(\/\/\s*@prettify-ignore-start)/.test(d)?"ignore":"comment";if(d.indexOf("# sourceMappingURL=")===2){r[0]=l.count+1;r[1]=d;}l.push(o,{begin:l.structure[l.structure.length-1][1],ender:-1,lexer:"script",lines:l.linesSpace,stack:l.structure[l.structure.length-1][0],token:d,types:e},"");}}function te(){let h=0;let u=false;let A=false;let S=0;let g=0;let q=0;let C="";let N="";let H="";const z=[];const ee=j[j.length-1];const se="0123456789=<>+-*?|^:&.,;%(){}[]~";function U(){if(d==="(")l.structure[l.structure.length-1]=["paren",l.count];D.lexers.markup(z.join(""));}if(n>-1)I();N=l.count>0?o.token[l.count-1]:"";H=l.count>0?o.types[l.count-1]:"";C=T(1,false);if(c.language!=="jsx"&&c.language!=="tsx"&&/\d/.test(C)===false&&(d==="function"||N==="=>"||N==="void"||N==="."||o.stack[l.count]==="arguments"||e==="type"&&N==="type"||e==="reference"&&(H==="operator"||N==="function"||N==="class"||N==="new")||e==="type"&&H==="operator"||d==="return"||e==="operator")){const pe=[];let ae=0;let he=0;h=i;do{pe.push(p[h]);if(p[h]==="<"){ae=ae+1;}else if(p[h]===">"){ae=ae-1;if(ae<1)break}h=h+1;}while(h<L);he=i;i=h;C=T(1,false);if(p[h]===">"&&(ee===true||N==="=>"||N==="."||H!=="operator"||H==="operator"&&(C==="("||C==="="))){e="generic";d=pe.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");Y("");return}i=he;}h=l.count;if(o.types[h]==="comment"){do{h=h-1;}while(h>0&&o.types[h]==="comment")}if(ee===false&&T(1,false)!==">"&&(p[i]!=="<"&&se.indexOf(p[i+1])>-1||o.token[h]==="++"||o.token[h]==="--"||/\s/.test(p[i+1])===true||/\d/.test(p[i+1])===true&&(e==="operator"||e==="string"||e==="number"||e==="reference"||e==="word"&&d!=="return"))){e="operator";d=ie();return Y("")}if(c.language!=="typescript"&&(o.token[h]==="return"||o.types[h]==="operator"||o.types[h]==="start"||o.types[h]==="separator"||o.types[h]==="jsx_attribute_start"||o.token[h]==="}"&&l.structure[l.structure.length-1][0]==="global")){e="markup";c.language="jsx";do{z.push(p[i]);if(p[i]==="{"){g=g+1;u=true;}else if(p[i]==="}"){g=g-1;if(g===0)u=false;}else if(p[i]==="<"&&u===false){if(p[i+1]==="<"){do{z.push(p[i]);i=i+1;}while(i<L&&p[i+1]==="<")}S=S+1;if(T(1,false)==="/")A=true;}else if(p[i]===">"&&u===false){if(p[i+1]===">"){do{z.push(p[i]);i=i+1;}while(p[i+1]===">")}S=S-1;if(A===true){q=q-1;}else if(p[i-1]!=="/"){q=q+1;}if(S===0&&g===0&&q<1){C=T(2,false);if(C.charAt(0)!=="<")return U();if(C.charAt(0)==="<"&&se.indexOf(C.charAt(1))<0&&/\s/.test(C.charAt(1))===false){h=i+1;do{h=h+1;if(p[h]===">"||/\s/.test(p[h-1])&&se.indexOf(p[h])<0)break;if(se.indexOf(p[h])>-1)return U()}while(h<L)}else {return U()}}A=false;}i=i+1;}while(i<L);return U()}e="operator";d=ie();Y("");}function T(h,u){let A=u===true?i:i+1;let S="";if(typeof h!=="number"||h<1)h=1;if(p[i]==="/"){if(p[i+1]==="/"){S="\n";}else if(p[i+1]==="*"){S="/";}}if(A<L){do{if(/\s/.test(p[A])===false){if(p[A]==="/"){if(S===""){if(p[A+1]==="/"){S="\n";}else if(p[A+1]==="*"){S="/";}}else if(S==="/"&&p[A-1]==="*"){S="";}}if(S===""&&p[A-1]+p[A]!=="*/")return p.slice(A,A+h).join("")}else if(S==="\n"&&p[A]==="\n"){S="";}A=A+1;}while(A<L)}return ""}function fe(){const h=L;const u=[p[i]];let A=0;let S=/zz/;let g=u[0]===".";if(i<L-2&&p[i]==="0"){if(p[i+1]==="x"){S=/[0-9a-fA-F]/;}else if(p[i+1]==="o"){S=/[0-9]/;}else if(p[i+1]==="b"){S=/0|1/;}if(S.test(p[i+2])===true){u.push(p[i+1]);A=i+1;do{A=A+1;u.push(p[A]);}while(S.test(p[A+1])===true);i=A;return u.join("")}}A=i+1;if(A<h){do{if(/[0-9]/.test(p[A])||p[A]==="."&&g===false){u.push(p[A]);if(p[A]===".")g=true;}else {break}A=A+1;}while(A<h)}if(A<h-1&&(/\d/.test(p[A-1])===true||/\d/.test(p[A-2])===true&&(p[A-1]==="-"||p[A-1]==="+"))&&(p[A]==="e"||p[A]==="E")){u.push(p[A]);if(p[A+1]==="-"||p[A+1]==="+"){u.push(p[A+1]);A=A+1;}g=false;A=A+1;if(A<h){do{if(/[0-9]/.test(p[A])||p[A]==="."&&g===false){u.push(p[A]);if(p[A]===".")g=true;}else {break}A=A+1;}while(A<h)}}i=A-1;return u.join("")}function ie(){let h=0;let u=0;let A=L;let S="";const g=["=","<",">","+","*","?","|","^",":","&","%","~"];const q=g.length;if(n>-1)I();if(p[i]==="/"&&(l.count>-1&&(e!=="word"&&e!=="reference"||d==="typeof"||d==="return"||d==="else")&&e!=="number"&&e!=="string"&&e!=="end")){if(d==="return"||d==="typeof"||d==="else"||e!=="word"){d=Ae();e="regex";}else {d="/";e="operator";}Y("");return "regex"}if(p[i]==="?"&&("+-*/.?".indexOf(p[i+1])>-1||p[i+1]===":"&&g.join("").indexOf(p[i+2])<0)){if(p[i+1]==="."&&/\d/.test(p[i+2])===false){S="?.";}else if(p[i+1]==="?"){S="??";}if(S==="")return "?"}if(p[i]===":"&&"+-*/".indexOf(p[i+1])>-1)return ":";if(i<L-1){if(p[i]!=="<"&&p[i+1]==="<")return p[i];if(p[i]==="!"&&p[i+1]==="/")return "!";if(p[i]==="-"){j[j.length-1]=false;if(p[i+1]==="-"){S="--";}else if(p[i+1]==="="){S="-=";}else if(p[i+1]===">"){S="->";}if(S==="")return "-"}if(p[i]==="+"){j[j.length-1]=false;if(p[i+1]==="+"){S="++";}else if(p[i+1]==="="){S="+=";}if(S==="")return "+"}if(p[i]==="="&&p[i+1]!=="="&&p[i+1]!=="!"&&p[i+1]!==">"){j[j.length-1]=false;return "="}}if(p[i]===":"){if(c.language==="typescript"){if(o.stack[l.count]==="arguments"){if(o.token[l.count]==="?"){l.pop(o);S="?:";i=i-1;}j[j.length-1]=true;}else if(d===")"&&(o.token[o.begin[l.count]-1]==="function"||o.token[o.begin[l.count]-2]==="function")){j[j.length-1]=true;}else if(e==="reference"){h=l.count;let C=false;do{if(o.begin[h]===o.begin[l.count]){if(h<l.count&&o.token[h]===":"&&o.types[h+1]!=="type")C=true;if(o.token[h]==="?"&&C===false)break;if(o.token[h]===";"||o.token[h]==="x;")break;if(o.token[h]==="var"||o.token[h]==="let"||o.token[h]==="const"||o.types[h]==="type"){j[j.length-1]=true;break}}else {if(o.types[h]==="type_end"){j[j.length-1]=true;break}h=o.begin[h];}h=h-1;}while(h>o.begin[l.count])}}else if(o.token[l.count-1]==="["&&(o.types[l.count]==="word"||o.types[l.count]==="reference")){l.structure[l.structure.length-1][0]="attribute";o.stack[l.count]="attribute";}}if(S===""){if(p[i+1]==="+"&&p[i+2]==="+"||p[i+1]==="-"&&p[i+2]==="-"){S=p[i];}else {const C=[p[i]];h=i+1;if(h<A){do{if(p[h]==="+"&&p[h+1]==="+"||p[h]==="-"&&p[h+1]==="-")break;u=0;if(u<q){do{if(p[h]===g[u]){C.push(g[u]);break}u=u+1;}while(u<q)}if(u===q)break;h=h+1;}while(h<A)}S=C.join("");}}i=i+(S.length-1);if(S==="=>"&&d===")"){h=l.count;A=o.begin[h];do{if(o.begin[h]===A)o.stack[h]="method";h=h-1;}while(h>A-1)}return S}function M(){let h=true;let u="+";let A="";let S="";let g="";let q=0;let C=0;let N=0;let H="";const z=[];function ee(){N=o.begin[N]-1;if(o.types[N]==="end"){ee();}else if(o.token[N-1]==="."){se();}}function se(){N=N-2;if(o.types[N]==="end"){ee();}else if(o.token[N-1]==="."){se();}}function U(){let ae=0;const he=z.length;if(ae<he){do{l.push(o,z[ae],"");ae=ae+1;}while(ae<he)}}function pe(ae){const he=le(null);he.begin=o.begin[ae];he.ender=o.ender[ae];he.lexer=o.lexer[ae];he.lines=o.lines[ae];he.stack=o.stack[ae];he.token=o.token[ae];he.types=o.types[ae];return he}A=o.token[l.count];S=o.token[l.count-1];g=o.token[l.count-2];if(A!=="++"&&A!=="--"&&S!=="++"&&S!=="--"){N=l.count;if(o.types[N]==="end"){ee();}else if(o.token[N-1]==="."){se();}}if(o.token[N-1]==="++"||o.token[N-1]==="--"){if("startendoperator".indexOf(o.types[N-2])>-1)return;q=N;if(q<l.count+1){do{z.push(pe(q));q=q+1;}while(q<l.count+1);l.splice({data:o,howmany:l.count-N,index:N});}}else {if(c.script.correct===false||A!=="++"&&A!=="--"&&S!=="++"&&S!=="--"){return}H=T(1,false);if((A==="++"||A==="--")&&(p[i]===";"||H===";"||p[i]==="}"||H==="}"||p[i]===")"||H===")")){u=o.stack[l.count];if(u==="array"||u==="method"||u==="object"||u==="paren"||u==="notation"||o.token[o.begin[l.count]-1]==="while"&&u!=="while"){return}q=l.count;do{q=q-1;if(o.token[q]==="return")return;if(o.types[q]==="end"){do{q=o.begin[q]-1;}while(o.types[q]==="end"&&q>0)}}while(q>0&&(o.token[q]==="."||o.types[q]==="word"||o.types[q]==="reference"||o.types[q]==="end"));if(o.token[q]===","&&p[i]!==";"&&H!==";"&&p[i]!=="}"&&H!=="}"&&p[i]!==")"&&H!==")"){return}if(o.types[q]==="operator"){if(o.stack[q]==="switch"&&o.token[q]===":"){do{q=q-1;if(o.types[q]==="start"){C=C-1;if(C<0)break}else if(o.types[q]==="end"){C=C+1;}if(o.token[q]==="?"&&C===0)return}while(q>0)}else {return}}h=false;u=A==="--"?"-":"+";}else if(g==="["||g===";"||g==="x;"||g==="}"||g==="{"||g==="("||g===")"||g===","||g==="return"){if(A==="++"||A==="--"){if(g==="["||g==="("||g===","||g==="return")return;if(A==="--")u="-";h=false;}else if(S==="--"||A==="--"){u="-";}}else {return}if(h===false)t=l.pop(o);N=l.count;if(o.types[N]==="end"){ee();}else if(o.token[N-1]==="."){se();}q=N;if(q<l.count+1){do{z.push(pe(q));q=q+1;}while(q<l.count+1)}}if(h===true){l.splice({data:o,howmany:1,index:N-1});d="=";e="operator";Y("");U();d=u;e="operator";Y("");d="1";e="number";Y("");}else {d="=";e="operator";Y("");U();d=u;e="operator";Y("");d="1";e="number";Y("");}d=o.token[l.count];e=o.types[l.count];if(H==="}"&&p[i]!==";")m(false);}function Y(h){const u=le(null);u.begin=l.structure[l.structure.length-1][1];u.ender=-1;u.lexer="script";u.lines=l.linesSpace;u.stack=l.structure[l.structure.length-1][0];u.token=d;u.types=e;l.push(o,u,h);}function Ae(){let h=i+1;let u=0;let A=0;let S="";let g=false;const q=L;const C=["/"];if(h<q){do{C.push(p[h]);if(p[h-1]!=="\\"||p[h-2]==="\\"){if(p[h]==="["){g=true;}if(p[h]==="]"){g=false;}}if(p[h]==="/"&&g===false){if(p[h-1]==="\\"){A=0;u=h-1;if(u>0){do{if(p[u]==="\\"){A=A+1;}else {break}u=u-1;}while(u>0)}if(A%2===0){break}}else {break}}h=h+1;}while(h<q)}if(p[h+1]==="g"||p[h+1]==="i"||p[h+1]==="m"||p[h+1]==="y"||p[h+1]==="u"){C.push(p[h+1]);if(p[h+2]!==p[h+1]&&(p[h+2]==="g"||p[h+2]==="i"||p[h+2]==="m"||p[h+2]==="y"||p[h+2]==="u")){C.push(p[h+2]);if(p[h+3]!==p[h+1]&&p[h+3]!==p[h+2]&&(p[h+3]==="g"||p[h+3]==="i"||p[h+3]==="m"||p[h+3]==="y"||p[h+3]==="u")){C.push(p[h+3]);if(p[h+4]!==p[h+1]&&p[h+4]!==p[h+2]&&p[h+4]!==p[h+3]&&(p[h+4]==="g"||p[h+4]==="i"||p[h+4]==="m"||p[h+4]==="y"||p[h+4]==="u")){C.push(p[h+4]);if(p[h+5]!==p[h+1]&&p[h+5]!==p[h+2]&&p[h+5]!==p[h+3]&&p[h+5]!==p[h+4]&&(p[h+5]==="g"||p[h+5]==="i"||p[h+5]==="m"||p[h+5]==="y"||p[h+5]==="u")){C.push(p[h+4]);i=h+5;}else {i=h+4;}}else {i=h+3;}}else {i=h+2;}}else {i=h+1;}}else {i=h;}S=C.join("");return S}function Q(h){const u=h;do{h=h-1;}while(p[h]==="\\"&&h>0);return (u-h)%2===1}function be(h){let u=l.count;let A="";let S="";let g="";let q=false;V.push(h);if(h==="{"&&(o.types[l.count]==="type"||o.types[l.count]==="type_end"||o.types[l.count]==="generic")){let C=0;if(o.types[l.count]==="type_end")u=o.begin[l.count];C=u;do{u=u-1;if(o.begin[u]!==C&&o.begin[u]!==-1)break;if(o.token[u]===":")break}while(u>o.begin[u]);if(o.token[u]===":"&&o.stack[u-1]==="arguments"){j.push(false);q=true;}else {j.push(j[j.length-1]);}u=l.count;}else if(h==="["&&o.types[l.count]==="type_end"){j.push(true);}else {j.push(j[j.length-1]);}if(n>-1){I();u=l.count;}if(E.len>-1)E.count[E.len]=E.count[E.len]+1;if(o.token[u-1]==="function"){_.push(["function",u+1]);}else {_.push([d,u+1]);}d=h;if(j[j.length-1]===true){e="type_start";}else {e="start";}if(h==="("||h==="x("){R();}else if(h==="{"){if(F>-1){if(o.begin[F-1]===o.begin[o.begin[u]-1]||o.token[o.begin[u]]==="x("){F=-1;if(c.script.correct===true){Z(")");}else {Z("x)");}R();d="{";e="start";}}else if(d===")"){R();}if(e==="comment"&&o.token[u-1]===")"){d=o.token[u];o.token[u]="{";e=o.types[u];o.types[u]="start";}}A=(()=>{let C=l.count;if(o.types[C]==="comment"){do{C=C-1;}while(C>0&&o.types[C]==="comment")}return o.token[C]})();S=o.stack[u]===void 0?"":(()=>{let C=l.count;if(o.types[C]==="comment"){do{C=C-1;}while(C>0&&o.types[C]==="comment")}return o.token[o.begin[C]-1]})();if(d==="{"&&(o.types[u]==="word"||o.token[u]==="]")){let C=u;if(o.token[C]==="]"){do{C=o.begin[C]-1;}while(o.token[C]==="]")}do{if(o.types[C]==="start"||o.types[C]==="end"||o.types[C]==="operator")break;C=C-1;}while(C>0);if(o.token[C]===":"&&o.stack[C-1]==="arguments"){g="function";$.push(y);y=[];}}if(e==="type_start"){g="data_type";}else if(g===""&&(d==="{"||d==="x{")){if(A==="else"||A==="do"||A==="try"||A==="finally"||A==="switch"){g=A;}else if(P[P.length-1]===0&&A!=="return"){P.pop();g="class";}else if(o.token[u-1]==="class"){g="class";}else if(o.token[u]==="]"&&o.token[u-1]==="["){g="array";}else if((o.types[u]==="word"||o.types[u]==="reference")&&(o.types[u-1]==="word"||o.types[u-1]==="reference"||o.token[u-1]==="?"&&(o.types[u-2]==="word"||o.types[u-2]==="reference"))&&o.token[u]!=="in"&&o.token[u-1]!=="export"&&o.token[u-1]!=="import"){g="map";}else if(o.stack[u]==="method"&&o.types[u]==="end"&&(o.types[o.begin[u]-1]==="word"||o.types[o.begin[u]-1]==="reference")&&o.token[o.begin[u]-2]==="new"){g="initializer";}else if(d==="{"&&(A===")"||A==="x)")&&(o.types[o.begin[u]-1]==="word"||o.types[o.begin[u]-1]==="reference"||o.token[o.begin[u]-1]==="]")){if(S==="if"){g="if";}else if(S==="for"){g="for";}else if(S==="while"){g="while";}else if(S==="class"){g="class";}else if(S==="switch"||o.token[o.begin[u]-1]==="switch"){g="switch";}else if(S==="catch"){g="catch";}else {g="function";}}else if(d==="{"&&(A===";"||A==="x;")){g="block";}else if(d==="{"&&o.token[u]===":"&&o.stack[u]==="switch"){g="block";}else if(o.token[u-1]==="import"||o.token[u-2]==="import"||o.token[u-1]==="export"||o.token[u-2]==="export"){g="object";}else if(A===")"&&(f[0]==="function"||f[0]==="if"||f[0]==="for"||f[0]==="class"||f[0]==="while"||f[0]==="switch"||f[0]==="catch")){g=f[0];}else if(o.stack[u]==="notation"){g="function";}else if((o.types[u]==="number"||o.types[u]==="string"||o.types[u]==="word"||o.types[u]==="reference")&&(o.types[u-1]==="word"||o.types[u-1]==="reference")&&o.token[o.begin[u]-1]!=="for"){g="function";}else if(l.structure.length>0&&o.token[u]!==":"&&l.structure[l.structure.length-1][0]==="object"&&(o.token[o.begin[u]-2]==="{"||o.token[o.begin[u]-2]===",")){g="function";}else if(o.types[f[1]-1]==="markup"&&o.token[f[1]-3]==="function"){g="function";}else if(A==="=>"){g="function";}else if(q===true||o.types[l.count]==="type_end"&&o.stack[o.begin[l.count]-2]==="arguments"){g="function";}else if(A===")"&&o.stack[u]==="method"&&(o.types[o.begin[u]-1]==="word"||o.types[o.begin[u]-1]==="property"||o.types[o.begin[u]-1]==="reference")){g="function";}else if(o.types[u]==="word"&&d==="{"&&o.token[u]!=="return"&&o.token[u]!=="in"&&o.token[u]!=="import"&&o.token[u]!=="const"&&o.token[u]!=="let"&&o.token[u]!==""){g="block";}else if(d==="{"&&"if|else|for|while|function|class|switch|catch|finally".indexOf(o.stack[u])>-1&&(o.token[u]==="x}"||o.token[u]==="}")){g="block";}else if(o.stack[u]==="arguments"){g="function";}else if(o.types[u]==="generic"){do{u=u-1;if(o.token[u]==="function"||o.stack[u]==="arguments"){g="function";break}if(o.token[u]==="interface"){g="map";break}if(o.token[u]===";"){g="object";break}}while(u>o.begin[l.count])}else {g="object";}if(g!=="object"&&g!=="class"){if(g==="function"){$.push(y);y=[];}else {$.push([]);}}}else if(d==="["){g="array";}else if(d==="("||d==="x("){if(A==="function"||o.token[u-1]==="function"||o.token[u-1]==="function*"||o.token[u-2]==="function"){g="arguments";}else if(o.token[u-1]==="."||o.token[o.begin[u]-2]==="."){g="method";}else if(o.types[u]==="generic"){g="method";}else if(o.token[u]==="}"&&o.stack[u]==="function"){g="method";}else if(A==="if"||A==="for"||A==="class"||A==="while"||A==="catch"||A==="finally"||A==="switch"||A==="with"){g="expression";}else if(o.types[u]==="word"||o.types[u]==="property"||o.types[u]==="reference"){g="method";}else {g="paren";}}Y(g);if(P.length>0)P[P.length-1]=P[P.length-1]+1;}function xe(){const h=[p[i]];i=i+1;if(i<L){do{h.push(p[i]);if(p[i]==="`"&&(p[i-1]!=="\\"||Q(i-1)===false))break;if(p[i-1]==="$"&&p[i]==="{"&&(p[i-2]!=="\\"||Q(i-2)===false))break;i=i+1;}while(i<L)}return h.join("")}function Ce(h){let u=2;let A=0;let S="";const g=h.slice(0,2);const q=h.length;if(h.charAt(2)==="-")u=u+1;if(/\s/.test(h.charAt(u))===true){do{u=u+1;}while(/\s/.test(h.charAt(u))===true&&u<q)}A=u;do{A=A+1;}while(/\s/.test(h.charAt(A))===false&&h.charAt(A)!=="("&&A<q);if(A===q)A=h.length-2;S=h.slice(u,A);if(S==="else"||g==="{%"&&(S==="elseif"||S==="when"||S==="elif"||S==="elsif")){return ["template_else",`template_${S}`]}if(g==="{{"){if(S==="end")return ["template_end",""];if(S==="block"&&/\{%\s*\w/.test(a)===false||S==="define"||S==="form"||S==="if"||S==="unless"||S==="range"||S==="with"){return ["template_start",`template_${S}`]}return ["template",""]}A=w.length-1;if(A>-1){do{if(S===w[A]&&(S!=="block"||/\{%\s*\w/.test(a)===false)){return ["template_start",`template_${S}`]}if(S==="end"+w[A]){return ["template_end",""]}A=A-1;}while(A>-1)}return ["template",""]}function we(){E.count.pop();E.index.pop();E.word.pop();E.len=E.len-1;}function I(){let h=n;let u=1;let A="";let S="";let g=d;let q=e;const C=[];function N(){V.push("x{");l.splice({data:o,howmany:1,index:l.count-3});}function H(z,ee,se){const U=o.begin[z];let pe=0;do{if(o.token[z]===ee&&o.types[z]==="word"){if(se===true){o.types[z]="reference";}else if(o.begin[z]>U&&o.token[o.begin[z]]==="{"&&o.stack[z]!=="object"&&o.stack[z]!=="class"&&o.stack[z]!=="data_type"){if(o.stack[z]==="function"){o.types[z]="reference";}else {pe=o.begin[z];do{if(o.stack[pe]==="function"){o.types[z]="reference";break}pe=o.begin[pe];}while(pe>U)}}}z=z-1;}while(z>U)}do{C.push(p[h]);if(p[h]==="\\"){l.error=`Illegal escape in JavaScript on line number ${l.lineNumber}`;}h=h+1;}while(h<i);if(d.charAt(0)==="\u201C"){l.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${l.lineNumber}`;}else if(d.charAt(0)==="\u201D"){l.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${l.lineNumber}`;}A=C.join("");n=-1;if(l.count>0&&A==="function"&&o.token[l.count]==="("&&(o.token[l.count-1]==="{"||o.token[l.count-1]==="x{")){o.types[l.count]="start";}if(l.count>1&&A==="function"&&d==="("&&(o.token[l.count-1]==="}"||o.token[l.count-1]==="x}")){if(o.token[l.count-1]==="}"){h=l.count-2;if(h>-1){do{if(o.types[h]==="end"){u=u+1;}else if(o.types[h]==="start"||o.types[h]==="end"){u=u-1;}if(u===0)break;h=h-1;}while(h>-1)}if(o.token[h]==="{"&&o.token[h-1]===")"){u=1;h=h-2;if(h>-1){do{if(o.types[h]==="end"){u=u+1;}else if(o.types[h]==="start"||o.types[h]==="end"){u=u-1;}if(u===0)break;h=h-1;}while(h>-1)}if(o.token[h-1]!=="function"&&o.token[h-2]!=="function"){o.types[l.count]="start";}}}else {o.types[l.count]="start";}}if(c.script.correct===true&&(A==="Object"||A==="Array")&&p[i+1]==="("&&p[i+2]===")"&&o.token[l.count-1]==="="&&o.token[l.count]==="new"){if(A==="Object"){o.token[l.count]="{";d="}";o.stack[l.count]="object";l.structure[l.structure.length-1][0]="object";}else {o.token[l.count]="[";d="]";o.stack[l.count]="array";l.structure[l.structure.length-1][0]="array";}o.types[l.count]="start";e="end";p[i+1]="";p[i+2]="";i=i+2;}else {u=l.count;h=u;if(c.script.variableList!=="none"&&(A==="var"||A==="let"||A==="const")){if(o.types[u]==="comment"){do{u=u-1;}while(u>0&&o.types[u]==="comment")}if(c.script.variableList==="list"&&E.len>-1&&E.index[E.len]===u&&A===E.word[E.len]){d=",";e="separator";o.token[u]=d;o.types[u]=e;E.count[E.len]=0;E.index[E.len]=u;E.word[E.len]=A;return}E.len=E.len+1;E.count.push(0);E.index.push(u);E.word.push(A);u=h;}else if(E.len>-1&&A!==E.word[E.len]&&l.count===E.index[E.len]&&o.token[E.index[E.len]]===";"&&d!==E.word[E.len]&&c.script.variableList==="list"){we();}if(A==="from"&&o.token[l.count]==="x;"&&o.token[l.count-1]==="}"){R();}if(A==="while"&&o.token[l.count]==="x;"&&o.token[l.count-1]==="}"){let z=0;let ee=l.count-2;if(ee>-1){do{if(o.types[ee]==="end"){z=z+1;}else if(o.types[ee]==="start"){z=z-1;}if(z<0){if(o.token[ee]==="{"&&o.token[ee-1]==="do")R();return}ee=ee-1;}while(ee>-1)}}if(q==="comment"){let z=l.count;do{z=z-1;}while(z>0&&o.types[z]==="comment");q=o.types[z];g=o.token[z];}S=T(2,false);if(A==="void"){if(g===":"&&o.stack[l.count-1]==="arguments"){e="type";}else {e="word";}}else if((l.structure[l.structure.length-1][0]==="object"||l.structure[l.structure.length-1][0]==="class"||l.structure[l.structure.length-1][0]==="data_type")&&(o.token[l.count]==="{"||o.token[o.begin[l.count]]==="{"&&o.token[l.count]===","||o.types[l.count]==="template_end"&&(o.token[o.begin[l.count]-1]==="{"||o.token[o.begin[l.count]-1]===","))){if(A==="return"||A==="break"){e="word";}else {e="property";}}else if(j[j.length-1]===true||(c.language==="typescript"||c.language==="flow")&&g==="type"){e="type";}else if($.length>0&&(g==="function"||g==="class"||g==="const"||g==="let"||g==="var"||g==="new"||g==="void")){e="reference";$[$.length-1].push(A);if(c.language==="javascript"||c.language==="jsx"||c.language==="typescript"||c.language==="tsx"){if(g==="var"||g==="function"&&o.types[l.count-1]!=="operator"&&o.types[l.count-1]!=="start"&&o.types[l.count-1]!=="end"){H(l.count,A,true);}else {H(l.count,A,false);}}else {H(l.count,A,false);}}else if(l.structure[l.structure.length-1][0]==="arguments"&&e!=="operator"){e="reference";y.push(A);}else if(g===","&&o.stack[l.count]!=="method"&&(o.stack[l.count]!=="expression"||o.token[o.begin[l.count]-1]==="for")){let z=l.count;const ee=l.structure[l.structure.length-1][1];do{if(o.begin[z]===ee){if(o.token[z]===";")break;if(o.token[z]==="var"||o.token[z]==="let"||o.token[z]==="const"||o.token[z]==="type"){break}}else if(o.types[z]==="end"){z=o.begin[z];}z=z-1;}while(z>ee);if($.length>0&&o.token[z]==="var"){e="reference";$[$.length-1].push(A);if(c.language==="javascript"||c.language==="jsx"||c.language==="typescript"||c.language==="tsx"){H(z,A,true);}else {H(z,A,false);}}else if($.length>0&&(o.token[z]==="let"||o.token[z]==="const"||o.token[z]==="type"&&(c.language==="typescript"||c.language==="tsx"))){e="reference";$[$.length-1].push(A);H(z,A,false);}else {e="word";}}else if(l.structure[l.structure.length-1][0]!=="object"||l.structure[l.structure.length-1][0]==="object"&&d!==","&&d!=="{"){let z=$.length;let ee=0;if(z>0){do{z=z-1;ee=$[z].length;if(ee>0){do{ee=ee-1;if(A===$[z][ee])break}while(ee>0);if(A===$[z][ee])break}}while(z>0);if($[z][ee]===A&&g!=="."){e="reference";}else {e="word";}}else {e="word";}}else {e="word";}d=A;if(A==="from"&&o.token[l.count]==="}")R();}Y("");if(A==="class")P.push(0);if(A==="do"){S=T(1,true);if(S!=="{"){d=c.script.correct===true?"{":"x{";e="start";V.push("x{");Y("do");}}if(A==="else"){S=T(2,true);let z=l.count-1;if(o.types[z]==="comment"){do{z=z-1;}while(z>0&&o.types[z]==="comment")}if(o.token[z]==="x}"){if(o.token[l.count]==="else"){if(o.stack[l.count-1]!=="if"&&o.types[l.count-1]!=="comment"&&o.stack[l.count-1]!=="else"){V.pop();l.splice({data:o,howmany:0,index:l.count-1,record:{begin:o.begin[o.begin[o.begin[l.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:c.script.correct===true?"}":"x}",types:"end"}});if(l.structure.length>1){l.structure.splice(l.structure.length-2,1);l.structure[l.structure.length-1][1]=l.count;}}else if(o.token[l.count-2]==="x}"&&k[0]!=="if"&&o.stack[l.count]==="else"){N();}else if(o.token[l.count-2]==="}"&&o.stack[l.count-2]==="if"&&k[0]==="if"&&o.token[k[1]-1]!=="if"&&o.token[o.begin[l.count-1]]==="x{"){N();}}else if(o.token[l.count]==="x}"&&o.stack[l.count]==="if"){N();}}if(S!=="if"&&S.charAt(0)!=="{"){d=c.script.correct===true?"{":"x{";e="start";V.push("x{");Y("else");}}if((A==="for"||A==="if"||A==="switch"||A==="catch")&&o.token[l.count-1]!=="."){S=T(1,true);if(S!=="("){F=l.count;if(c.script.correct===true){be("(");}else {be("x(");}}}}do{if(/\s/.test(p[i])){if(n>-1)I();i=l.spacer({array:p,end:L,index:i});if(l.linesSpace>1&&d!==";"&&B<l.count&&p[i+1]!=="}"){m(false);B=l.count;}}else if(p[i]==="{"&&p[i+1]==="%"){W("{%","%}","template");}else if(p[i]==="{"&&p[i+1]==="{"){W("{{","}}","template");}else if(p[i]==="<"&&p[i+1]==="!"&&p[i+2]==="-"&&p[i+3]==="-"){W("<!--","-->","comment");}else if(p[i]==="<"){te();}else if(p[i]==="/"&&(i===L-1||p[i+1]==="*")){v();}else if((l.count<0||o.lines[l.count]>0)&&p[i]==="#"&&p[i+1]==="!"&&(p[i+2]==="/"||p[i+2]==="[")){W("#!"+p[i+2],"\n","string");}else if(p[i]==="/"&&(i===L-1||p[i+1]==="/")){ne();}else if(p[i]==="`"||p[i]==="}"&&l.structure[l.structure.length-1][0]==="template_string"){if(n>-1)I();d=xe();if(d.charAt(0)==="}"&&d.slice(d.length-2)==="${"){e="template_string_else";Y("template_string");}else if(d.slice(d.length-2)==="${"){e="template_string_start";Y("template_string");}else if(d.charAt(0)==="}"){e="template_string_end";Y("");}else {e="string";Y("");}}else if(p[i]==='"'||p[i]==="'"){W(p[i],p[i],"string");}else if(p[i]==="-"&&(i<L-1&&p[i+1]!=="="&&p[i+1]!=="-")&&(e==="number"||e==="word"||e==="reference")&&d!=="return"&&(d===")"||d==="]"||e==="word"||e==="reference"||e==="number")){if(n>-1)I();d="-";e="operator";Y("");}else if(n===-1&&(p[i]!=="0"||p[i]==="0"&&p[i+1]!=="b")&&(/\d/.test(p[i])||i!==L-2&&p[i]==="-"&&p[i+1]==="."&&/\d/.test(p[i+2])||i!==L-1&&(p[i]==="-"||p[i]===".")&&/\d/.test(p[i+1]))){if(n>-1)I();if(e==="end"&&p[i]==="-"){d="-";e="operator";}else {d=fe();e="number";}Y("");}else if(p[i]===":"&&p[i+1]===":"){if(n>-1)I();if(c.script.correct===true)M();R();i=i+1;d="::";e="separator";Y("");}else if(p[i]===","){if(n>-1)I();if(c.script.correct===true)M();if(j[j.length-1]===true&&o.stack[l.count].indexOf("type")<0){j[j.length-1]=false;}if(e==="comment"){K();}else if(E.len>-1&&E.count[E.len]===0&&c.script.variableList==="each"){R();d=";";e="separator";Y("");d=E.word[E.len];e="word";Y("");E.index[E.len]=l.count;}else {d=",";e="separator";R();Y("");}}else if(p[i]==="."){if(n>-1)I();j[j.length-1]=false;if(p[i+1]==="."&&p[i+2]==="."){d="...";e="operator";i=i+2;}else {R();d=".";e="separator";}if(/\s/.test(p[i-1])===true)l.linesSpace=1;Y("");}else if(p[i]===";"){if(n>-1)I();if(j[j.length-1]===true&&o.stack[l.count].indexOf("type")<0){j[j.length-1]=false;}if(P[P.length-1]===0)P.pop();if(E.len>-1&&E.count[E.len]===0){if(c.script.variableList==="each"){we();}else {E.index[E.len]=l.count+1;}}if(c.script.correct===true)M();d=";";e="separator";if(o.token[l.count]==="x}"){b();}else {Y("");}J();}else if(p[i]==="("||p[i]==="["||p[i]==="{"){be(p[i]);}else if(p[i]===")"||p[i]==="]"||p[i]==="}"){Z(p[i]);}else if(p[i]==="*"&&o.stack[l.count]==="object"&&n<0&&/\s/.test(p[i+1])===false&&p[i+1]!=="="&&/\d/.test(p[i+1])===false){n=i;}else if(p[i]==="="||p[i]==="&"||p[i]==="<"||p[i]===">"||p[i]==="+"||p[i]==="-"||p[i]==="*"||p[i]==="/"||p[i]==="!"||p[i]==="?"||p[i]==="|"||p[i]==="^"||p[i]===":"||p[i]==="%"||p[i]==="~"){d=ie();if(d==="regex"){d=o.token[l.count];}else if(d==="*"&&o.token[l.count]==="function"){o.token[l.count]="function*";}else {e="operator";if(d!=="!"&&d!=="++"&&d!=="--")R();Y("");}}else if(n<0&&p[i]!==""){n=i;}if(E.len>-1&&l.count===E.index[E.len]+1&&o.token[E.index[E.len]]===";"&&d!==E.word[E.len]&&e!=="comment"&&c.script.variableList==="list"){we();}i=i+1;}while(i<L);if(n>-1)I();if((o.token[l.count]!=="}"&&o.token[0]==="{"||o.token[0]!=="{")&&(o.token[l.count]!=="]"&&o.token[0]==="["||o.token[0]!=="[")){m(false);}if(r[0]===l.count){d="\n"+r[1];e="string";Y("");}if(o.token[l.count]==="x;"&&(o.token[l.count-1]==="}"||o.token[l.count-1]==="]")&&o.begin[l.count-1]===0){l.pop(o);}return o};D.lexers.markup=function s(a){const{options:c}=D;const{data:i}=l;const d=c.markup.attributeSortList.length;const e=le(null);e.end=0;e.index=-1;e.start=0;const f=a.split(O);const B=f.length;let n=0;const F=0;let y=false;let t="javascript";let k="html";let X=false;function o(m){const b=m.indexOf("{");const R=x(m[b+2],45)?m.slice(b+3).trimStart():m.slice(b+2).trimStart();return R.slice(0,R.search(/\s/))}function $(m){const b=m.indexOf("{");return x(m[b+1],123)}function L(m){const b=m.indexOf("{");if(x(m[b+1],37)){let R=x(m[b+2],45)?m.slice(b+3).trimStart():m.slice(b+2).trimStart();R=R.slice(0,R.search(/\s/));if(R.startsWith("end"))return false;return ge.liquid.tags.has(R)}return false}function p(m){let b=m;if(Array.isArray(m))b=m.join(O);const R=b.indexOf("{");if(x(b[R+1],37)){if(x(b[R+2],45))return b.slice(R+3).trimStart().startsWith("end");return b.slice(R+2).trimStart().startsWith("end")}return false}function _(m,b){if(b===1){return x(m[0],123)&&(x(m[1],37)||x(m[1],123))}else if(b===2){return x(m[m.length-1],125)&&(x(m[m.length-2],37)||x(m[m.length-2],123))}else if(b===3){return x(m[0],123)&&(x(m[1],37)||x(m[1],123))&&(x(m[m.length-1],125)&&(x(m[m.length-2],37)||x(m[m.length-2],123)))}else if(b===4){return /{[{%}]/.test(m)}else if(b===5){return /{[{%]/.test(m)&&/[%}]}/.test(m)}}function V(m){if(c.language!=="xml"&&c.language!=="jsx"){if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(m))return m;if(c.markup.delimiterSpacing===true){m=m.replace(/{[{%]-?\s*/g,b=>b.replace(/\s*$/," "));m=m.replace(/\s*-?[%}]}/g,b=>b.replace(/^\s*/," "));}return m}return m}function P(m,b,R){if(m===i){if(b.types.indexOf("end")>-1){e.end=e.end+1;}else if(b.types.indexOf("start")>-1){e.start=e.start+1;}}l.push(m,b,R);}function r(m){let b=0;let R=O;const v=/^(?:<|{%-?|{{-?)=?\s*/;if(typeof m!=="string")return O;b=m.replace(v,"%").replace(/\s+/," ").indexOf(" ");R=m.replace(v," ");R=b<0?R.slice(1,m.length-1):R.slice(1,b);if(k==="html")R=R.toLowerCase();R=R.replace(/-?[%}]}$/,O);if(R.indexOf("(")>0)R=R.slice(0,R.indexOf("("));if(R==="?xml?")return "xml";return R}function j(m,b){const R=r(m);const v=le(null);v.begin=l.structure[l.structure.length-1][1];v.ender=-1;v.lexer="markup";v.lines=i.lines[l.count]>0?1:0;v.stack=l.structure[l.structure.length-1][0];v.token=`</${l.structure[l.structure.length-1][0]}>`;v.types="end";P(i,v,O);if(ge.html.tags.has(l.structure[l.structure.length-1][0])&&(b===true&&l.structure.length>1||b===false&&`/${l.structure[l.structure.length-1][0]}`!==R)){do{v.begin=l.structure[l.structure.length-1][1];v.stack=l.structure[l.structure.length-1][0];v.token=`</${l.structure[l.structure.length-1][0]}>`;P(i,v,O);}while(ge.html.tags.has(l.structure[l.structure.length-1][0])&&(b===true&&l.structure.length>1||b===false&&`/${l.structure[l.structure.length-1][0]}`!==R))}}function w(m){const b=le(null);b.begin=l.structure[l.structure.length-1][1];b.ender=-1;b.lexer="markup";b.lines=l.linesSpace;b.stack=l.structure[l.structure.length-1][0];b.token=O;b.types=O;let R=0;let v=O;let J=O;let K=O;let Z=O;let W=O;let ne=false;let te=false;let T=false;let fe=false;let ie=false;let M=false;let Y=false;let Q=[];let be=[O,0];function xe(S){const g=S.indexOf("=");if(g>0&&(g<S.indexOf('"')&&S.indexOf('"')>0||g<S.indexOf("'")&&S.indexOf("'")>0)){return [S.slice(0,g),S.slice(g+1)]}return [S,O]}function Ce(){const S=l.count;const g=Z.replace(/(\/)$/,O);const q=c.markup.quoteConvert;let C=0;let N=0;let H=0;let ee=O;let se=O;let U=[];let pe=Q.length;function ae(){if(T===true||q==="none"||b.types!=="attribute"||q==="single"&&b.token.indexOf('"')<0||q==="double"&&b.token.indexOf("'")<0){P(i,b,O);}else {let de=0;let G=false;const oe=b.token.split(O);const ye=b.token.indexOf("=");const ue=oe.length-1;if(re(oe[ye+1],34)&&re(oe[oe.length-1],34)&&q==="single"){P(i,b,O);}else if(re(oe[ye+1],39)&&re(oe[oe.length-1],39)&&q==="double"){P(i,b,O);}else {de=ye+2;if(q==="double"){if(b.token.slice(ye+2,ue).indexOf('"')>-1)G=true;oe[ye+1]='"';oe[oe.length-1]='"';}else {if(b.token.slice(ye+2,ue).indexOf("'")>-1)G=true;oe[ye+1]="'";oe[oe.length-1]="'";}if(G===true){do{if(oe[de]==="'"&&q==="single"){oe[de]='"';}else if(oe[de]==='"'&&q==="double"){oe[de]="'";}de=de+1;}while(de<ue)}b.token=oe.join(O);P(i,b,O);}}}function he(de,G){if(L(G)){const oe=o(G);if(ge.liquid.tags.has(oe)){b.types="template_attribute_start";b.stack=oe;l.structure.push([b.stack,l.count]);}b.token=G;ae();return}else if(p(G)){b.types="template_attribute_end";b.token=G;l.structure.pop();ae();return}else if(_(de,1)){b.types="template_attribute";}else if(x(de[0],60)){b.types="template_attribute";}b.token=G;ae();b.types="attribute";}if(Q.length<1)return;if(x(Q[Q.length-1][0],47)){Q.pop();v=v.replace(/>$/,"/>");}N=Q.length;H=1;if(H<N){do{ee=Q[H-1][0];if(ee.charAt(ee.length-1)==="="&&Q[H][0].indexOf("=")<0){Q[H-1][0]=ee+Q[H][0];Q.splice(H,1);N=N-1;H=H-1;}H=H+1;}while(H<N)}if(c.markup.attributeSort===true&&c.language!=="jsx"&&c.language!=="tsx"&&fe===false&&ie===false){if(d>0){const de=[];H=0;N=0;pe=Q.length;do{N=0;do{ee=Q[N][0].split("=")[0];if(c.markup.attributeSortList[H]===ee){de.push(Q[N]);Q.splice(N,1);pe=pe-1;break}N=N+1;}while(N<pe);H=H+1;}while(H<d);Q=l.safeSort(Q,O,false);Q=de.concat(Q);pe=Q.length;}else {Q=l.safeSort(Q,O,false);}}b.begin=S;b.stack=g;b.types="attribute";U=[];if(C<pe){do{if(Q[C]===void 0)break;Q[C][0]=Q[C][0].replace(/\s+$/,O);b.lines=Q[C][1];N=Q[C][0].indexOf("=");H=Q[C][0].indexOf('"');Q[C][0].indexOf("'");if(/^\/(\/|\*)/.test(Q[C][0])&&c.language==="jsx"){b.types="comment_attribute";b.token=Q[C][0];ae();}else if(N<0){if(_(Q[C][0],5)){if(x(Q[C][0][1],123)||$(Q[C][0])){b.types="template_attribute";b.token=Q[C][0];}else {if(p(Q[C][0])){b.token=Q[C][0];b.types="template_attribute_end";b.ender=b.begin;}else {const de=o(Q[C][0]);if(ge.liquid.tags.has(de)){b.types="template_attribute_start";b.begin=l.count;b.token=Q[C][0];}else if(ge.liquid.else.has(de)){b.types="template_attribute_else";b.token=Q[C][0];}}}P(i,b,O);}else {b.types="attribute";if(x(Q[C][0],35)||x(Q[C][0],91)||x(Q[C][0],123)||x(Q[C][0],40)||c.language==="jsx"||c.language==="tsx"){b.token=Q[C][0];}else {b.token=Q[C][0].toLowerCase();}ae();}}else {ee=Q[C][0].slice(0,N);se=Q[C][0].slice(N+1);if(c.markup.correct&&(re(se[0],60)||re(se[0],123)||re(se[0],61)||re(se[0],34)||re(se[0],39))){se='"'+se+'"';}if(c.language==="jsx"&&/^\s*\{/.test(se)){b.token=ee+"={";b.types="jsx_attribute_start";P(i,b,"jsx_attribute");D.lexers.script(se.slice(1,se.length-1));b.begin=l.count;if(/\s\}$/.test(se)){se=se.slice(0,se.length-1);se=/\s+$/.exec(se)[0];if(se.indexOf("\n")<0){b.lines=1;}else {b.lines=se.split("\n").length;}}else {b.lines=0;}b.begin=l.structure[l.structure.length-1][1];b.stack=l.structure[l.structure.length-1][0];b.token="}";b.types="jsx_attribute_end";ae();b.types="attribute";b.begin=S;b.stack=g;}else if(_(ee,5)){ee=ee+"="+se;he(se.replace(/^(["'])/,O).replace(/(["'])$/,O),ee.replace(/(\s+)$/,O));}else {b.types="attribute";if(x(Q[C][0],35)||x(Q[C][0],91)||x(Q[C][0],123)||x(Q[C][0],40)||c.language==="jsx"||c.language==="tsx"){b.token=Q[C][0];}else {b.token=Q[C][0].toLowerCase();}ae();}}C=C+1;}while(C<pe)}if(U.length>0){b.token=U.join(" ");ae();}}y=false;if(m==="---"){W="---";K="comment";}else if(x(f[n],60)){if(f[n+1]==="/"){m=">";K="end";}else if(f[n+1]==="!"){if((f[n+2]==="d"||f[n+2]==="D")&&(f[n+3]==="o"||f[n+3]==="O")&&(f[n+4]==="c"||f[n+4]==="C")&&(f[n+5]==="t"||f[n+5]==="T")&&(f[n+6]==="y"||f[n+6]==="Y")&&(f[n+7]==="p"||f[n+7]==="P")&&(f[n+8]==="e"||f[n+8]==="E")){m=">";K="doctype";M=true;}else if(f[n+2]==="-"&&f[n+3]==="-"){m="-->";K="comment";W="<!--";}else if(f[n+2]==="["&&f[n+3]==="C"&&f[n+4]==="D"&&f[n+5]==="A"&&f[n+6]==="T"&&f[n+7]==="A"&&f[n+8]==="["){m="]]>";K="cdata";M=true;}}else if(f[n+1]==="?"){m="?>";if(f[n+2]==="x"&&f[n+3]==="m"&&f[n+4]==="l"){K="xml";Y=true;}else {M=true;K="template";}}else if(x(f[n+1],37)){M=true;}else if((f[n+1]==="p"||f[n+1]==="P")&&(f[n+2]==="r"||f[n+2]==="R")&&(f[n+3]==="e"||f[n+3]==="E")&&(f[n+4]===">"||/\s/.test(f[n+4]))){m="</pre>";K="ignore";M=true;}else {Y=true;m=">";}}else if(x(f[n],123)){if(c.language==="jsx"){y=true;te=true;b.token="{";b.types="script_start";l.structure.push(["script",l.count]);P(i,b,O);return}if(x(f[n+1],123)){M=true;m="}}";K="template";}else if(x(f[n+1],37)){M=true;m="%}";K="template";const S=f.indexOf("}",n+2);if(f[S-1].charCodeAt(0)===37){let g=f.slice(n+2,S-1).join(O);if(g.charCodeAt(0)===45){W="{%-";g=g.slice(1).trimStart();}else {W="{%";g=g.trimStart();}if(g.charCodeAt(g.length-1)===45){m="-%}";g=g.slice(0,g.length-1).trimEnd();}else {m="%}";g=g.trimEnd();}if(g==="comment"){const q=a.indexOf("{%",S);let C=q;if(f[q+1].charCodeAt(0)===45)C=q+1;C=a.indexOf("endcomment",C);if(C>0){C=f.indexOf("}",C);if(C>0&&f[C-1].charCodeAt(0)===37){K="comment";W=f.slice(n,S+1).join(O);m=f.slice(q,C+1).join(O);}}}}else {M=true;m="%}";K="template";}}else {M=true;m=f[n+1]+"}";K="template";}}if(c.markup.preserveAttributes===true)M=true;if(te)return;J=m.charAt(m.length-1);if(K==="comment"&&(x(f[n],60)||x(f[n],123)&&x(f[n+1],37))){be=l.wrapCommentBlock({chars:f,end:B,lexer:"markup",opening:W,start:n,terminator:m});v=be[0];n=be[1];if(v.replace(W,O).trimStart().indexOf("@prettify-ignore-start")===0){b.token=v;b.types="ignore";P(i,b,O);return}}else if(n<B){let oe=function(){if(de===false&&x(f[n-1],123)&&(x(f[n],123)||x(f[n],37))){return true}else if(de===true&&x(f[n],125)&&(x(f[n-1],125)||x(f[n-1],37))){return false}return de},ye=function(){let ve=n;do{ve=ve-1;}while(f[ve]==="\\");ve=n-ve;return ve%2===1},ue=function(ve){let Le;let ke=O;let $e=0;let Te=0;const He="data-prettify-ignore";if(ve===true){ke=G.join(O);Le=xe(ke);U=O;if(Le[0]===He)T=true;}else {ke=G.join(O);if(c.language!=="jsx"||c.language==="jsx"&&ke.charAt(ke.length-1)!=="}"){ke=ke.replace(/\s+/g," ");}Le=xe(ke);if(Le[0]===He)T=true;if(c.language==="jsx"&&G[0]==="{"&&G[G.length-1]==="}"){N=0;}}if(x(ke[0],123)&&x(ke[1],37))ie=true;if(X===false&&L(ke)){X=true;}else if(X===true&&p(ke)){X=false;}ke=ke.replace(/^\u0020/,O).replace(/\u0020$/,O);G=ke.replace(/\r\n/g,"\n").split("\n");Te=G.length;if($e<Te){do{G[$e]=G[$e].replace(/(\s+)$/,O);$e=$e+1;}while($e<Te)}ke=G.join(c.crlf===true?"\r\n":"\n");ke=V(ke);if(X===true||x(ke[0],123)&&(x(ke[1],37)||x(ke[1],123)));if(ke==="="){Q[Q.length-1][0]=`${Q[Q.length-1][0]}=`;}else if(x(ke[0],61)&&Q.length>0&&Q[Q.length-1][0].indexOf("=")<0){Q[Q.length-1][0]=Q[Q.length-1][0]+ke;}else if(re(ke[0],61)&&Q.length>0&&Q[Q.length-1][0].indexOf("=")===Q[Q.length-1][0].length-1){Q[Q.length-1][0]=Q[Q.length-1][0]+ke;}else if(ke!==O&&ke!==" "){Q.push([ke,se]);}if(Q.length>0){const[Ue]=Q[Q.length-1];if(Ue.indexOf("=\u201C")>0){l.error=`Invalid quote character (\u201C, &#x201c) used on line number ${l.lineNumber}`;}else if(Ue.indexOf("=\u201D")>0){l.error=`Invalid quote character (\u201D, &#x201d) used on line number ${l.lineNumber}`;}}G=[];se=f[n]==="\n"?2:1;};const S=[];const g=[];let q=0;let N=0;let H=0;let z=0;let ee=0;let se=0;let U=O;let pe=O;let ae=false;let he=false;let de=false;let G=[];do{if(x(f[n],10)){se=se+1;l.lineNumber=l.lineNumber+1;}if(M===true||(ce(f[n])===false&&re(U,125)||x(U,125))){de=oe();g.push(f[n]);if(x(g[0],60)&&x(g[1],162)&&x(m,162)){b.token="<>";b.types="start";P(i,b,"(empty)");return}if(x(g[0],60)&&x(g[1],47)&&x(g[2],162)&&x(m,162)){b.token="</>";b.types="end";P(i,b,O);return}}if(K==="cdata"&&x(f[n],162)&&f[n-1]==="]"&&f[n-2]!=="]"){l.error=`CDATA tag (${g.join(O)}) not properly terminated with "]]>"`;break}if(K==="comment"){U=O;if(f[n]===J&&g.length>m.length+1){z=g.length;H=m.length-1;if(H>-1){do{z=z-1;if(g[z]!==m.charAt(H))break;H=H-1;}while(H>-1)}if(H<0)break}}else {if(U===O){if(x(g[0],60)&&x(g[1],33)&&K!=="cdata"){if(K==="doctype"&&x(f[n],162))break;if(f[n]==="["){if(x(f[n+1],60)){K="start";break}if(ce(f[n+1])){do{n=n+1;if(f[n]==="\n"){se=se+1;}}while(n<B-1&&ce(f[n+1]))}if(x(f[n+1],60)){K="start";break}}}if(c.language==="jsx"){if(x(f[n],123)){N=N+1;}else if(x(f[n],125)){N=N-1;}}if(x(f[n],60)&&M===false&&g.length>1&&m!==">>"&&m!==">>>"&&Y===true){l.error=`Parse error (line ${l.lineNumber}) on: ${g.join(O)}`;}if(ae===true&&ce(f[n])===false&&f[n]!==J){ae=false;U=pe;R=0;g.pop();if(n<B){do{if(x(f[n],10))l.lineNumber=l.lineNumber+1;if(c.markup.preserveAttributes===true){g.push(f[n]);}else {G.push(f[n]);}if((c.language!=="jsx"||c.language!=="tsx")&&(x(f[n],60)||x(f[n],162))&&(U===O||U===">")){if(U===O&&x(f[n],162)){U=">";}else if(x(U,162)){if(x(f[n],60));else if(f[n]===">");}}else if(U===O){if(f[n+1]===J){if(x(G[G.length-1],47)||x(G[G.length-1],63)&&K==="xml"){G.pop();if(M===true)g.pop();n=n-1;}if(G.length>0)ue(false);break}if(M===false&&/^=?['"]?({{|{%|\/|\^|<)/.test(f[n]+f[n+1]+f[n+2]+f[n+3])){G.pop();if(G.length>0&&re(f[n],61)&&re(f[n],123)&&(re(f[n+1],123)||re(f[n+1],37))){ue(false);}U=O;do{G.push(f[n]);de=oe();if(f[n]===S[S.length-1]){S.pop();if(x(f[n],125)&&x(f[n+1],125)){G.push("}");n=n+1;}if(S.length<1){if(X===false&&x(f[n],125)&&re(G[0],123)&&(re(G[1],37)||re(G[1],123))){ue(false);de=!de;break}if(X===true&&p(G)){if(ce(f[n+1])){ue(false);break}else {n=n+1;break}}ue(false);f[n]=" ";break}}else if((x(f[n],34)||x(f[n],39))&&re(S[S.length-1],34)&&re(S[S.length-1],39)){S.push(f[n]);}else if(re(S[S.length-1],125)&&x(f[n],123)&&(x(f[n+1],123)||x(f[n+1],37))){S.push("}");}else if(de===false&&x(f[n],60)&&re(S[S.length-1],162)){S.push(">");}n=n+1;}while(n<B)}else if(x(f[n],123)&&x(f[n-1],61)&&c.language!=="jsx"){U="}";}else if(x(f[n],34)||x(f[n],39)){U=f[n];if(x(f[n-1],61)&&(x(f[n+1],60)||x(f[n+1],123)&&x(f[n+2],37)||ce(f[n+1])&&re(f[n-1],61))){R=n;}}else if(x(f[n],40)){U=")";ee=1;}else if(c.language==="jsx"){if((x(f[n-1],61)||ce(f[n-1]))&&x(f[n],123)){U="}";q=1;}else if(x(f[n],47)){if(f[n+1]==="*"){U="*/";}else if(f[n+1]==="/"){U="\n";}}}else if(x(g[0],123)&&x(f[n],123)&&(x(f[n+1],123)||x(f[n+1],37))){if(x(f[n+1],123)){U="}}";}else {U=f[n+1]+"}";}}if(ce(f[n])&&U===O){if(x(G[G.length-2],61)){H=n+1;if(H<B){do{if(ce(f[H])===false){if(x(f[H],34)||x(f[H],39)){n=H-1;he=true;G.pop();}break}H=H+1;}while(H<B)}}if(he===true){he=false;}else if(N===0||N===1&&x(G[0],123)){G.pop();ue(false);ae=true;break}}}else if(x(f[n],40)&&x(U,41)){ee=ee+1;}else if(x(f[n],41)&&x(U,41)){ee=ee-1;if(ee===0){U=O;if(f[n+1]===m.charAt(0)){ue(false);break}}}else if(c.language==="jsx"&&(x(U,125)||x(U,10)&&x(f[n],10)||U==="*/"&&x(f[n-1],42)&&x(f[n],47))){if(f[n]==="`"){n=n+1;do{G.push(f[n]);if(f[n]==="`")break;n=n+1;}while(n<f.length)}if(x(U,125)){if(x(f[n],125)&&f[n]!==U){q=q+1;}else if(f[n]===U){q=q-1;if(q===0){N=0;U=O;v=G.join(O);if(c.markup.preserveAttributes===false){if(c.language==="jsx"||c.language==="tsx"){if(/^\s*$/.test(v)===false)Q.push([v,se]);}else {v=v.replace(/\s+/g," ");if(v!==" ")Q.push([v,se]);}}G=[];se=1;break}}}else {pe=O;fe=true;v=G.join(O);if(v!==" ")Q.push([v,se]);G=[];se=U==="\n"?2:1;U=O;break}}else if(x(f[n],123)&&x(f[n+1],37)&&x(f[R-1],61)&&(x(U,34)||x(U,39))){U=U+"{%";R=0;}else if(x(f[n-1],37)&&x(f[n],125)&&(U==='"{%'||U==="'{%")){U=U.charAt(0);R=0;}else if(x(f[n],60)&&x(m,162)&&x(f[R-1],61)&&(x(U,34)||x(U,39))){U=U+"<";R=0;}else if(x(f[n],162)&&(U==='"<'||U==="'<")){U=U.charAt(0);R=0;}else if(R===0&&re(U,162)&&(U.length<2||re(U[0],34)&&re(U[0],39))){z=0;if(g.length>1){Z=g[1]+g[2];Z=Z.toLowerCase();}H=U.length-1;if(H>-1){do{if(f[n-z].charCodeAt(0)!==U.charCodeAt(H))break;z=z+1;H=H-1;}while(H>-1)}if(H<0){ue(true);if(f[n+1]===J)break}}else if(R>0&&ce(f[n])===false){R=0;}n=n+1;}while(n<B)}}else if(x(m,10)===false&&(x(f[n],34)||x(f[n],39))){U=f[n];}else if(K!=="comment"&&x(m,10)===false&&x(f[n],60)&&x(f[n+1],33)&&x(f[n+2],45)&&x(f[n+3],45)&&i.types[l.count]!=="conditional"){U="-->";}else if(x(f[n],123)&&re(g[0],123)&&re(m,10)&&(x(f[n+1],123)||x(f[n+1],37))){if(x(f[n+1],123)){U="}}";}else {U=f[n+1]+"}";if(G.length<1&&(Q.length<1||ce(f[n-1]))){g.pop();do{if(x(f[n],10))se=se+1;G.push(f[n]);n=n+1;}while(n<B&&f[n-1]+f[n]!==U);G.push("}");Q.push([G.join(O),se]);G=[];se=1;U=O;}}if(U===m)U=O;}else if((Y===true||K==="sgml")&&re(m,10)&&ce(f[n])&&re(f[n-1],60)){if(K==="sgml"){g.push(" ");}else {ae=true;}}else if(Y===true&&c.language==="jsx"&&x(f[n],47)&&(x(f[n+1],42)||x(f[n+1],47))){ae=true;g[g.length-1]=" ";G.push(f[n]);if(x(f[n+1],42)){pe="*/";}else {pe="\n";}}else if((f[n]===J||x(m,10)&&x(f[n+1],60))&&(g.length>m.length+1||g[0]==="]")&&(c.language!=="jsx"||N===0)){if(x(m,10)){if(ce(g[g.length-1])){do{g.pop();n=n-1;}while(ce(g[g.length-1]))}break}z=g.length;H=m.length-1;if(H>-1){do{z=z-1;if(g[z]!==m.charAt(H))break;H=H-1;}while(H>-1)}if(H<0)break}}else if(f[n].charCodeAt(0)===U.charCodeAt(U.length-1)&&(c.language==="jsx"&&x(m,125)&&(f[n-1]!=="\\"||ye()===false)||c.language!=="jsx"||re(m,125))){z=0;if(g.length>1){Z=g[1]+g[2];Z=Z.toLowerCase();}H=U.length-1;if(H>-1){do{if(f[n-z]!==U.charAt(H))break;z=z+1;H=H-1;}while(H>-1)}if(H<0)U=O;}}n=n+1;}while(n<B);if(c.markup.correct===true){if(x(f[n+1],162)&&x(g[0],60)&&re(g[0],60)){do{n=n+1;}while(x(f[n+1],162))}else if(x(g[0],60)&&x(g[1],60)&&re(f[n+1],162)&&re(g[g.length-2],162)){do{g.splice(1,1);}while(g[1]==="<")}}R=0;v=g.join(O);Z=r(v);v=V(v);if(Z==="xml"){k="xml";}else if(k===O&&Z==="html"){k="html";}else if(k==="liquid"){k="html";}}b.token=v;b.types=K;Z=r(v);if(M===false&&c.language!=="jsx")v=v.replace(/\s+/g," ");if(Z==="comment"&&_(v,2)){let H=function(ee){C=ee===O?0:ee.split("\n").length;return O},z=function(ee){N=ee===O?0:ee.split("\n").length;return O};const S=v.slice(0,v.indexOf("%}")+2);const g=v.slice(v.indexOf("%}")+2,v.lastIndexOf("{%"));const q=v.slice(v.lastIndexOf("{%"));let C=0;let N=0;b.begin=l.structure[l.structure.length-1][1];b.ender=l.count+3;b.stack=l.structure[l.structure.length-1][0];b.types="template_start";b.token=S;P(i,b,"comment");v=g.replace(/^\s*/,H);v=v.replace(/\s*$/,z);b.begin=l.count;b.lines=C;b.stack="comment";b.token=v;b.types="comment";P(i,b,O);b.types="template_end";b.stack="comment";b.lines=N;b.token=q;P(i,b,O);return}b.types=K;ne=(()=>{const S=/(\/>)$/;function g(C,N){if(!ge.html.tags.has(C))return false;if(C===N)return true;if(C==="dd"&&N==="dt")return true;if(C==="dt"&&N==="dd")return true;if(C==="td"&&N==="th")return true;if(C==="th"&&N==="td")return true;if(C==="colgroup"&&(N==="tbody"||N==="tfoot"||N==="thead"||N==="tr"))return true;if(C==="tbody"&&(N==="colgroup"||N==="tfoot"||N==="thead"))return true;if(C==="tfoot"&&(N==="colgroup"||N==="tbody"||N==="thead"))return true;if(C==="thead"&&(N==="colgroup"||N==="tbody"||N==="tfoot"))return true;if(C==="tr"&&N==="colgroup")return true;return false}function q(C){b.lines=i.lines[l.count]>0?1:0;b.token=`</${l.structure[l.structure.length-1][0]}>`;b.types="end";P(i,b,O);if(C>0){do{b.begin=l.structure[l.structure.length-1][1];b.stack=l.structure[l.structure.length-1][0];b.token=`</${l.structure[l.structure.length-1][0]}>`;P(i,b,O);C=C-1;}while(C>0)}b.begin=l.structure[l.structure.length-1][1];b.lines=l.linesSpace;b.stack=l.structure[l.structure.length-1][0];b.token=v;b.types="end";i.lines[l.count-1]=0;}if(K==="end"){const C=i.token[l.count];if(i.types[l.count-1]==="singleton"&&C.charCodeAt(C.length-2)!==47&&"/"+r(C)===Z){i.types[l.count-1]="start";}}if(k==="html"){if(x(v[0],60)&&re(v[1],33)&&re(v[1],63)&&(l.count<0||i.types[l.count].indexOf("template")<0)){v=v.toLowerCase();}if(ge.html.tags.has(l.structure[l.structure.length-1][0])&&g(Z.slice(1),l.structure[l.structure.length-2][0])){q(0);}else if(l.structure.length>3&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&ge.html.tags.has(l.structure[l.structure.length-2][0])&&ge.html.tags.has(l.structure[l.structure.length-3][0])&&g(Z,l.structure[l.structure.length-4][0])===true){q(3);}else if(l.structure.length>2&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&ge.html.tags.has(l.structure[l.structure.length-2][0])&&g(Z,l.structure[l.structure.length-3][0])===true){q(2);}else if(l.structure.length>1&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&g(Z,l.structure[l.structure.length-2][0])===true){q(1);}else if(g(Z,l.structure[l.structure.length-1][0])===true){q(0);}else if(x(Z[0],47)&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&l.structure[l.structure.length-1][0]!==Z.slice(1)){j(v,false);b.begin=l.structure[l.structure.length-1][1];b.lines=l.linesSpace;b.stack=l.structure[l.structure.length-1][0];b.token=v;b.types="end";i.lines[l.count-1]=0;}if(ge.html.voids.has(Z)){if(c.markup.correct===true&&S.test(v)===false){v=v.slice(0,v.length-1)+" />";}return true}}return false})();if(/\bscript|style\b/.test(Z)&&v.slice(v.length-2)!=="/>"||/\bschema|style|stylesheet|javascript\b/.test(Z)&&v.slice(v.length-2)==="%}"){const S=_(v,3);let g=Q.length-1;let q=O;let C=[];if(g>-1){do{C=xe(Q[g][0]);if(C[0]==="type"){q=C[1];if(q.charCodeAt(0)===34||q.charCodeAt(0)===39){q=q.slice(1,q.length-1);}break}g=g-1;}while(g>-1)}if(S===false&&Z==="script"){y=true;if(q===O||q==="text/javascript"||q==="babel"||q==="module"||q==="application/javascript"||q==="application/x-javascript"||q==="text/ecmascript"||q==="application/ecmascript"||q==="text/cjs"){t="javascript";}else if(q==="text/jsx"||q==="application/jsx"){t="jsx";}else if(q==="application/json"||q==="application/ld+json"){t="json";}}else if(S===false&&Z==="style"&&c.language!=="jsx"&&(q===O||q==="text/css")){y=true;t="css";}else if(S===true){y=true;if(Z==="javascript"){t="javascript";}else if(Z==="style"||Z==="stylesheet"){t="css";}else if(Z==="schema"){t="json";}}if(y===true){g=n+1;if(g<B){do{if(ce(f[g])===false){if(x(f[g],60)){if(f.slice(g+1,g+4).join(O)==="!--"){g=g+4;if(g<B){do{if(ce(f[g])===false){y=false;break}if(f[g]==="\n"||f[g]==="\r")break;g=g+1;}while(g<B)}}else {y=false;}}break}g=g+1;}while(g<B)}}}if(Y&&T===false&&K!=="xml"){if(ne===true||v.slice(v.length-2)==="/>"){K="singleton";}else {K="start";}b.types=K;}if(Y&&M===false&&T&&x(m,162)&&v.slice(v.length-2)!=="/>"){const S=[];const g=[];if(ne===true){K="singleton";}else {Q.forEach(q=>g.push(q[0]));M=true;K="ignore";n=n+1;if(n<B){let q=O;let C=0;let N=0;let H=false;do{if(x(f[n],10))l.lineNumber=l.lineNumber+1;S.push(f[n]);if(q===O){if(x(f[n],34)){q='"';}else if(x(f[n],39)){q="'";}else if(re(S[0],123)&&x(f[n],123)&&(x(f[n+1],123)||x(f[n+1],37))){if(x(f[n+1],123)){q="}}";}else {q=f[n+1]+"}";}}else if(x(f[n],60)&&Y===true){if(x(f[n+1],47)){H=true;}else {H=false;}}else if(f[n]===J&&re(f[n-1],47)){if(H===true){R=R-1;if(R<0)break}else {R=R+1;}}}else if(x(f[n],q.charCodeAt(q.length-1))){N=0;C=q.length-1;if(C>-1){do{if(re(f[n-N],q.charCodeAt(C)))break;N=N+1;C=C-1;}while(C>-1)}if(C<0)q=O;}n=n+1;}while(n<B)}}v=v+S.join(O);v=v.replace(">",` ${g.join(" ")}>`);b.token=v;b.types="content-ignore";Q=[];}if(b.types.indexOf("template")>-1){if(x(v[0],123)&&x(v[1],37)){if((Z==="case"||Z==="default")&&(l.structure[l.structure.length-1][0]==="switch"||l.structure[l.structure.length-1][0]==="case")){b.types="template_else";}else if(Z==="else"||Z==="when"||Z==="elsif"){b.types="template_else";}else {if(ge.liquid.tags.has(Z)){b.types="template_start";}else if(Z[0]==="e"&&Z[1]==="n"&&Z[2]==="d"&&ge.liquid.tags.has(Z.slice(3))){b.types="template_end";}else if(Z[0]==="e"&&Z[1]==="n"&&Z[2]==="d"){b.types="template_end";b.stack=Z.slice(3);let S=0;do{if(i.types[S]==="template"&&i.stack[S]===b.stack){i.types[S]="template_start";e.start=e.start+1;break}else {S=i.stack.indexOf(b.stack,S+1);}}while(S>-1)}else {b.stack=Z;}}}else if(b.types==="template"){if(v.indexOf("else")>2)b.types="template_else";}if(b.types==="template_start"||b.types==="template_else"){if(Z===O||Z==="%"){Z=Z+v.slice(1).replace(Z,O).replace(/^\s+/,O);Z=Z.slice(0,Z.indexOf("(")).replace(/\s+/,O);}}}if(K==="cdata"&&(b.stack==="script"||b.stack==="style")){let S=l.count;let g=l.count;const q=b.stack;if(i.types[g]==="attribute"){do{S=S-1;g=g-1;}while(i.types[g]==="attribute"&&g>-1)}b.begin=S;b.token="<![CDATA[";b.types="cdata_start";v=v.replace(/^(\s*<!\[cdata\[)/i,O).replace(/(\]\]>\s*)$/,O);P(i,b,O);l.structure.push(["cdata",l.count]);if(q==="script"){D.lexers.script(v);}else {D.lexers.style(v);}b.begin=l.structure[l.structure.length-1][1];b.token="]]>";b.types="cdata_end";P(i,b,O);l.structure.pop();}else {P(i,b,Z);}Ce();if(c.wrap>0&&c.language==="jsx"){let S=0;let g=l.count;let q=0;if(i.types[g].indexOf("attribute")>-1){do{S=S+i.token[g].length+1;g=g-1;}while(i.lexer[g]!=="markup"||i.types[g].indexOf("attribute")>-1);if(i.lines[g]===1)S=S+i.token[g].length+1;}else if(i.lines[g]===1){S=i.token[g].length+1;}q=g-1;if(S>0&&i.types[q]!=="script_end"){if(i.types[q].indexOf("attribute")>-1){do{S=S+i.token[q].length+1;q=q-1;}while(i.lexer[q]!=="markup"||i.types[q].indexOf("attribute")>-1);if(i.lines[q]===1)S=S+i.token[q].length+1;}else if(i.lines[q]===1){S=i.token[q].length+1;}}}l.linesSpace=0;}function E(){let m=O;let b=l.linesSpace;let R=O;const v=[];const J=i.token[l.count]==="{";const K=n;if(y===true){if(J===true){R="script";}else if(l.structure[l.structure.length-1][1]>-1){R=r(i.token[l.structure[l.structure.length-1][1]].toLowerCase());}else if(i.begin[l.count]>1){R=r(i.token[i.begin[l.count]].toLowerCase());}else {R=r(i.token[i.begin[l.count]].toLowerCase());}}const Z=i.types[l.count]==="template_start"&&i.token[l.count].indexOf("<!")===0&&i.token[l.count].indexOf("<![")<0&&i.token[l.count].charAt(i.token[l.count].length-1)==="[";const W=le(null);W.begin=l.structure[l.structure.length-1][1];W.ender=-1;W.lexer="markup";W.lines=b;W.stack=l.structure[l.structure.length-1][0];W.token=O;W.types="content";function ne(){let T=n-1;let fe=0;if(f[n-1]!=="\\")return false;if(T>-1){do{if(f[T]!=="\\")break;fe=fe+1;T=T-1;}while(T>-1)}return fe%2===1}if(n<B){let T=O;let fe=O;let ie=0;do{if(x(f[n],10))l.lineNumber=l.lineNumber+1;if(y===true){if(fe===O){if(x(f[n],47)){if(x(f[n+1],42)){fe="*";}else if(x(f[n+1],47)){fe="/";}else if(R==="script"&&"([{!=,;.?:&<>".indexOf(f[n-1])>-1){if(c.language!=="jsx"||re(f[n-1],60))fe="reg";}}else if((x(f[n],34)||x(f[n],39)||x(f[n],96))&&ne()===false){fe=f[n];}else if(x(f[n],123)&&J===true){ie=ie+1;}else if(x(f[n],125)&&J===true){if(ie===0){D.lexers.script(v.join(O).replace(/^(\s+)/,O).replace(/(\s+)$/,O));l.structure[l.structure.length-1][1]+=1;if(i.types[l.count]==="end"&&i.lexer[i.begin[l.count]-1]==="script"){W.lexer="script";W.token=c.markup.correct===true?";":"x;";W.types="separator";P(i,W,O);W.lexer="markup";}W.token="}";W.types="script_end";P(i,W,O);l.structure.pop();break}ie=ie-1;}if(_(i.token[l.count],3)===false){T=f.slice(n,n+10).join(O).toLowerCase();if(R==="script"){T=n===B-9?T.slice(0,T.length-1):T.slice(0,T.length-2);if(T==="<\/script"){let M=v.join(O).replace(/^(\s+)/,O).replace(/(\s+)$/,O);n=n-1;if(v.length<1)break;if(/^<!--+/.test(M)&&/--+>$/.test(M)){W.token="<!--";W.types="comment";P(i,W,O);M=M.replace(/^<!--+/,O).replace(/--+>$/,O);D.lexers.script(M);W.token="-->";P(i,W,O);}else {const Y=D.options.language;D.options.language=t;D.lexers.script(M);if(t==="json"&&c[t].objectSort===true||t!=="json"&&c.script.objectSort===true){l.sortCorrection(0,l.count+1);}D.options.language=Y;}break}}if(R==="style"){if(n===B-8){T=T.slice(0,T.length-1);}else if(n===B-9){T=T.slice(0,T.length-2);}else {T=T.slice(0,T.length-3);}if(T==="</style"){let M=v.join(O).replace(/^(\s+)/,O).replace(/(\s+)$/,O);console.log(f[n],T);n=n-1;if(v.length<1)break;if(/^<!--+/.test(M)&&/--+>$/.test(M)){W.token="<!--";W.types="comment";P(i,W,O);M=M.replace(/^<!--+/,O).replace(/--+>$/,O);D.lexers.style(M);W.token="-->";P(i,W,O);}else {const Y=D.options.language;D.options.language=t;D.lexers.style(M);if(c.style.sortProperties===true)l.sortCorrection(0,l.count+1);D.options.language=Y;}break}}}else {if(R==="schema"){T=f.slice(n).join(O).toLowerCase();if(/^{%-?\s*endschema/.test(T)){T=T.slice(0,T.indexOf("%}")+2);let M=v.join(O).replace(/^(\s+)/,O).replace(/(\s+)$/,O);n=n+T.length-1;if(v.length<1)break;if(/^<!--+/.test(M)&&/--+>$/.test(M)){W.token="<!--";W.types="comment";P(i,W,O);M=M.replace(/^<!--+/,O).replace(/--+>$/,O);D.lexers.script(M);W.token="-->";P(i,W,O);}else {D.options.language="json";D.lexers.script(M);if(c.json.objectSort===true)l.sortCorrection(0,l.count+1);D.options.language="liquid";W.token=T;W.types="template_end";P(i,W,O);}break}}else if(R==="style"){T=f.slice(n).join(O).toLowerCase();if(/^{%-?\s*endstyle/.test(T)){T=T.slice(0,T.indexOf("%}")+2);let M=v.join(O).replace(/^(\s+)/,O).replace(/(\s+)$/,O);n=n+T.length-1;if(v.length<1)break;if(/^<!--+/.test(M)&&/--+>$/.test(M)){W.token="<!--";W.types="comment";P(i,W,O);M=M.replace(/^<!--+/,O).replace(/--+>$/,O);D.lexers.style(M);W.token="-->";P(i,W,O);}else {D.options.language=t;D.options.lexer="style";D.lexers.style(M);if(c.style.sortProperties===true)l.sortCorrection(0,l.count+1);D.options.language="liquid";D.options.lexer="markup";W.token=T;W.types="template_end";P(i,W,O);}break}}else if(R==="javascript"){T=f.slice(n).join(O).toLowerCase();if(/^{%-?\s*endjavascript/.test(T)){T=T.slice(0,T.indexOf("%}")+2);let M=v.join(O).replace(/^(\s+)/,O).replace(/(\s+)$/,O);n=n+T.length-1;if(v.length<1)break;if(/^<!--+/.test(M)&&/--+>$/.test(M)){W.token="<!--";W.types="comment";P(i,W,O);M=M.replace(/^<!--+/,O).replace(/--+>$/,O);D.lexers.script(M);W.token="-->";P(i,W,O);}else {D.lexers.script(M);if(c.script.objectSort===true){l.sortCorrection(0,l.count+1);}W.token=T;W.types="template_end";P(i,W,O);}break}}}}else if(fe===f[n]&&(x(fe,34)||x(fe,39)||x(fe,96)||x(fe,42)&&x(f[n+1],47))&&ne()===false){fe=O;}else if(x(fe,96)&&f[n]==="$"&&x(f[n+1],123)&&ne()===false){fe="}";}else if(x(fe,125)&&x(f[n],125)&&ne()===false){fe="`";}else if(x(fe,47)&&(x(f[n],10)||f[n]==="\r")){fe=O;}else if(fe==="reg"&&x(f[n],47)&&ne()===false){fe=O;}else if(x(fe,47)&&x(f[n],60)&&x(f[n-1],45)&&x(f[n-2],45)){T=f.slice(n+1,n+11).join(O).toLowerCase();T=T.slice(0,T.length-2);if(R==="script"&&T==="<\/script")fe=O;T=T.slice(0,T.length-1);if(R==="style"&&T==="</style")fe=O;}}if(Z===true&&f[n]==="]"){n=n-1;m=v.join(O);m=m.replace(/\s+$/,O);b=0;W.token=m;P(i,W,O);break}if(y===false&&v.length>0&&(f[n]==="<"&&f[n+1]!=="="&&!/\s|\d/.test(f[n+1])||f[n]==="["&&f[n+1]==="%"||f[n]==="{"&&(c.language==="jsx"||f[n+1]==="{"||f[n+1]==="%"))){n=n-1;if(l.structure[l.structure.length-1][0]==="comment"){m=v.join(O);}else {m=v.join(O).replace(/\s+$/,O);}m=V(m);b=0;W.token=m;if(c.wrap>0&&c.markup.preserveText!==true){let Ce=function(){if(m.charAt(M)===" "){xe.push(m.slice(0,M));m=m.slice(M+1);Y=m.length;M=be;return}do{M=M-1;}while(M>0&&m.charAt(M)!==" ");if(M>0){xe.push(m.slice(0,M));m=m.slice(M+1);Y=m.length;M=be;}else {M=be;do{M=M+1;}while(M<Y&&m.charAt(M)!==" ");xe.push(m.slice(0,M));m=m.slice(M+1);Y=m.length;M=be;}};let M=c.wrap;let Y=m.length;const Ae=O;const Q=O;const be=c.wrap;const xe=[];if(i.token[i.begin[l.count]]==="<a>"&&i.token[i.begin[i.begin[l.count]]]==="<li>"&&i.lines[i.begin[l.count]]===0&&l.linesSpace===0&&m.length<c.wrap){P(i,W,O);break}if(Y<be){P(i,W,O);break}if(l.linesSpace<1){let we=l.count;do{M=M-i.token[we].length;if(i.types[we].indexOf("attribute")>-1)M=M-1;if(i.lines[we]>0&&i.types[we].indexOf("attribute")<0)break;we=we-1;}while(we>0&&M>0);if(M<1)M=m.indexOf(" ");}m=v.join(O);m=m.replace(/^\s+/,O).replace(/\s+$/,O).replace(/\s+/g," ");do{Ce();}while(M<Y);if(m!==O&&m!==" ")xe.push(m);m=c.crlf===true?xe.join("\r\n"):xe.join("\n");m=Ae+m+Q;}b=0;W.token=m;P(i,W,O);break}v.push(f[n]);n=n+1;}while(n<B)}if(n>K&&n<B){if(ce(f[n])){let T=n;l.linesSpace=1;do{if(f[T]==="\n")l.linesSpace=l.linesSpace+1;T=T-1;}while(T>K&&ce(f[T]))}else {l.linesSpace=0;}}else if(n!==K||n===K&&y===false){m=v.join(O).replace(/\s+$/,O);b=0;if(W.token!==m){W.token=m;P(i,W,O);l.linesSpace=0;}}y=false;}if(d>0){do{c.markup.attributeSortList[n]=c.markup.attributeSortList[n].replace(/^\s+/,O).replace(/\s+$/,O);n=n+1;}while(n<d);n=0;}if(c.language==="html"||c.language==="liquid")k="html";do{if(ce(f[n])){if(i.types[l.count]==="template_start"&&l.structure[l.structure.length-1][0]==="comment"){E();}else {n=l.spacer({array:f,end:B,index:n});}}else if(y){E();}else if(f[n]==="<"){w(O);}else if(f[n]==="["&&f[n+1]==="%"){w("%]");}else if(f[n]==="{"&&(c.language==="jsx"||f[n+1]==="{"||f[n+1]==="%")){w(O);}else if(f[n]==="]"&&F>0){w("]>");}else if(f[n]==="-"&&f[n+1]==="-"&&f[n+2]==="-"){w("---");}else {E();}n=n+1;}while(n<B);if(i.token[l.count].charAt(0)!=="/"&&ge.html.tags.has(l.structure[l.structure.length-1][0])){j(i.token[l.count],true);}if(e.end!==e.start&&l.error===O){if(e.end>e.start){const m=e.end-e.start;const b=m===1?O:"s";l.error=`\u2716 Prettify Parse Error:

  ${m} more end type${b} than start types.

`;}else {const m=e.start-e.end;const b=m===1?O:"s";l.error=` \u2716 Prettify Parse Error:

  ${m} more start type${b} than end types.

`;}}return i};D.beautify.markup=s=>{const a=le(null);const c=le(null);const i=le(null);const d="markup";const e=D.parsed;const f=s.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const B=D.end<1||D.end>e.token.length?e.token.length:D.end+1;a.is=(o,$)=>e.types[o]===$;a.not=(o,$)=>e.types[o]!==$;a.idx=(o,$)=>o>-1&&e.types[o].indexOf($);c.is=(o,$)=>e.token[o]===$;c.not=(o,$)=>e.token[o]!==$;let n=D.start;let F=-1;let y=0;let t=0;let k=isNaN(s.indentLevel)?0:Number(s.indentLevel);const X=(()=>{const o=D.start>0?Array(D.start).fill(0,0,D.start):[];function $(){let r=n+1;let j=0;if(a.is(r,void 0))return r-1;if(a.is(r,"comment")||n<B-1&&a.idx(r,"attribute")>-1){do{if(a.is(r,"jsx_attribute_start")){j=r;do{if(a.is(r,"jsx_attribute_end")&&e.begin[r]===j)break;r=r+1;}while(r<B)}else if(a.not(r,"comment")&&a.idx(r,"attribute")<0)return r;r=r+1;}while(r<B)}return r}function L(){const r=e.begin[n];let j=n;do{j=j-1;if(c.is(j,"</li>")&&c.is(j-1,"</a>")&&e.begin[e.begin[j]]===r&&e.begin[j-1]===e.begin[j]+1){j=e.begin[j];}else {return}}while(j>r+1);j=n;do{j=j-1;if(a.is(j+1,"attribute")){o[j]=-10;}else if(c.not(j,"</li>")){o[j]=-20;}}while(j>r+1)}function p(){let r=n;let j=false;if(e.lines[n+1]===0&&s.markup.forceIndent===false){do{if(e.lines[r]>0){j=true;break}r=r-1;}while(r>F);r=n;}else {j=true;}if(j===true){const w=a.is(y,"comment")||a.is(y,"end")||a.is(y,"template_end")?k+1:k;do{o.push(w);r=r-1;}while(r>F);if(w===k+1)o[n]=k;if(a.is(r,"attribute")||a.is(r,"template_attribute")||a.is(r,"jsx_attribute_start")){o[e.begin[r]]=w;}else {o[r]=w;}}else {do{o.push(-20);r=r-1;}while(r>F);o[r]=-20;}F=-1;}function _(){let r=k;if(s.markup.forceIndent===true||s.markup.forceAttribute===true){o.push(k);return}if(y<B&&(a.idx(y,"end")>-1||a.idx(y,"start")>-1)&&e.lines[y]>0){o.push(k);r=r+1;if(e.types[n]==="singleton"&&n>0&&a.idx(n-1,"attribute")>-1&&a.is(e.begin[n-1],"singleton")){if(e.begin[n]<0||a.is(e.begin[n-1],"singleton")&&e.begin[e.ender[n]-1]!==n){o[n-1]=k;}else {o[n-1]=k+1;}}}else if(n>0&&a.is(n,"singleton")&&a.idx(n-1,"attribute")>-1){o[n-1]=k;t=e.token[n].length;o.push(-10);}else if(e.lines[y]===0){o.push(-20);}else if((s.wrap===0||n<B-2&&a.idx(n+2,"attribute")>-1&&e.token[n].length+e.token[n+1].length>s.wrap||(e.token[n].length+e.token[n+1]?e.token[n+1].length:0)>s.wrap)&&(a.is(n+1,"singleton")||a.is(n+1,"template"))){o.push(k);}else {t=t+1;o.push(-10);}if(n>0&&a.idx(n-1,"attribute")>-1&&e.lines[n]<1){o[n-1]=-20;}if(t>s.wrap){let j=n;let w=Math.max(e.begin[n],0);if(a.is(n,"content")&&s.markup.preserveText===false){let E=0;const m=e.token[n].replace(/\s+/g," ").split(" ");do{j=j-1;if(o[j]<0){E=E+e.token[j].length;if(o[j]===-10)E=E+1;}else {break}}while(j>0);j=0;w=m.length;do{if(m[j].length+E>s.wrap){m[j]=f+m[j];E=m[j].length;}else {m[j]=` ${m[j]}`;E=E+m[j].length;}j=j+1;}while(j<w);if(m[0].charAt(0)===" "){e.token[n]=m.join("").slice(1);}else {o[n-1]=r;e.token[n]=m.join("").replace(f,"");}if(e.token[n].indexOf(f)>0){t=e.token[n].length-e.token[n].lastIndexOf(f);}}else {do{j=j-1;if(o[j]>-1){t=e.token[n].length;if(e.lines[n+1]>0)t=t+1;return}if(e.types[j].indexOf("start")>-1){t=0;return}if(e.lines[j+1]>0&&(a.not(j,"attribute")||a.is(j,"attribute")&&a.is(j+1,"attribute"))){if(a.not(j,"singleton")||a.is(j,"attribute")&&a.is(j+1,"attribute")){t=e.token[n].length;if(e.lines[n+1]>0)t=t+1;break}}}while(j>w);o[j]=r;}}}function V(){const r=n;if(e.types[r-1]==="script_start"&&e.token[r-1]==="{"){o[r-1]=-20;}do{if(e.lexer[n+1]===d&&e.begin[n+1]<r&&a.not(n+1,"start")&&a.not(n+1,"singleton"))break;o.push(0);n=n+1;}while(n<B);i[r]=n;if(e.types[n+1]==="script_end"&&e.token[n+1]==="}"){o.push(-20);}else {o.push(k-1);}y=$();if(e.lexer[y]===d&&e.stack[n].indexOf("attribute")<0&&(e.types[y]==="end"||e.types[y]==="template_end")){k=k-1;}}function P(){function r(W){const ne=W.indexOf("=");if(ne>0&&(ne<W.indexOf('"')&&W.indexOf('"')>0||ne<W.indexOf("'")&&W.indexOf("'")>0)){return [W.slice(0,ne),W.slice(ne+1)]}return [W,""]}function j(W){const ne=r(W);if(ne[1]===""||ne[0]==="href"||ne[0][0]==="o"&&ne[0][1]==="n"){return W}else if(s.markup.attributeValues==="preserve"){return ne[0]+"="+ne[1]}else if(s.markup.attributeValues==="strip"){return ne[0].trimStart()+"="+ne[1].replace(/\s+/g," ").replace(/^["']\s+/,'"')}const te=s.markup.attributeValues;const T=[];const fe=s.wrap>0?ne[1].length>s.wrap:false;let ie;let M=false;let Y="";let Ae="";let Q=0;let be=0;if(te==="collapse"){ie=ne[1].replace(/\s+/g," ");}else if(te==="wrap"){ie=ne[1].replace(/\s+/g,xe=>/\n/.test(xe)?"\n":xe.replace(/\s+/," "));}do{if(x(ie[Q],123)&&(x(ie[Q+1],123)||x(ie[Q+1],37))){if(te==="collapse"){if(ce(ie[Q-1])===true&&T[T.length-1]!=="\n"){T.push("\n");}}if(x(ie[Q+1],37)){be=ie.indexOf("%}",Q+1);Y=ie.slice(Q,be+2);Ae=x(Y[2],45)?Y.slice(3).trimStart():Y.slice(2).trimStart();Q=be+2;if(Ae.startsWith("end")){M=false;if(te==="collapse"&&T[T.length-1]!=="\n"){T.push("\n");}}else if(ge.liquid.tags.has(Ae.slice(0,Ae.search(/\s/)))){M=true;if(te==="collapse"&&T[T.length-1]!=="\n"){T.push("\n");}}T.push(Y);}else {if(M&&te==="collapse"&&T[T.length-1]!=="\n"){T.push("\n");}be=ie.indexOf("}}",Q+1);Y=ie.slice(Q,be+2);Q=be+2;T.push(Y);}if(te==="collapse"){if(ce(ie[Q])===true&&T[T.length-1]!=="\n"&&Q<ie.length-1){T.push("\n");}}}else {if(ie[Q]===" "){if(te==="collapse"){if(T[T.length-1]!=="\n"){T.push("\n");}}else if(fe&&te==="wrap"){if(M===false){T.push("\n");}}}else {T.push(ie[Q]);}Q=Q+1;}}while(Q<ie.length);return ne[0]+"="+T.join("")}const w=n-1;function E(W){if(a.is(W,"attribute")||a.idx(W,"template_attribute")>-1){e.token[W]=j(e.token[W]);}else {const ne=e.token[W].replace(/\s+/g," ").split(" ");const te=ne.length;let T=1;let fe=ne[0].length;do{if(fe+ne[T].length>s.wrap){fe=ne[T].length;ne[T]=f+ne[T];}else {ne[T]=` ${ne[T]}`;fe=fe+ne[T].length;}T=T+1;}while(T<te);e.token[W]=ne.join("");}}let m=n;let b=false;let R=false;let v=false;let J=0;let K=e.token[w].length+1;let Z=(()=>{if(a.idx(n,"start")>0){let W=n;do{if(e.types[W].indexOf("end")>0&&e.begin[W]===n){if(W<B-1&&a.idx(W+1,"attribute")>-1){b=true;break}}W=W+1;}while(W<B)}else if(n<B-1&&a.idx(n+1,"attribute")>-1){b=true;}if(a.is(y,"end")||a.is(y,"template_end")){return k+(a.is(w,"singleton")?2:1)}if(a.is(w,"singleton")){return k+1}return k})();if(b===false&&a.is(n,"comment_attribute")){o.push(k);if(e.types[w]==="singleton"){o[w]=k+1;}else {o[w]=k;}return}if(Z<1)Z=1;do{t=t+e.token[n].length+1;if(e.types[n].indexOf("attribute")>0){if(e.types[n]==="template_attribute_start"){if(s.markup.preserveAttributes===true){o.push(-10);}else {let W=1;do{if(W===0)break;K=K+e.token[n].length+1;if(s.markup.attributeChain==="inline"){o.push(-20);}else if(s.markup.attributeChain==="collapse"){o.push(Z);}else if(s.markup.attributeChain==="preserve"){if(e.lines[n]===0){o.push(-20);}else if(e.lines[n]===1){o.push(-10);}else if(e.lines[n]>s.preserveLine){o.push(s.preserveLine);}else {o.push(Z);}}n=n+1;if(a.is(n,"template_attribute_start")){W=W+1;}else if(a.is(n,"template_attribute_end")){W=W-1;}J=J+1;}while(n<B);if(K>s.wrap);}}else if(e.types[n]==="template_attribute"){o.push(-10);}else if(e.types[n]==="comment_attribute"){o.push(Z);}else if(e.types[n].indexOf("start")>0){v=true;if(n<B-2&&e.types[n+2].indexOf("attribute")>0){o.push(-20);n=n+1;i[n]=n;}else {if(w===n-1&&b===false){if(s.language==="jsx"||s.language==="tsx"){o.push(-20);}else {o.push(Z);}}else {if(s.language==="jsx"||s.language==="tsx"){o.push(-20);}else {o.push(Z+1);}}if(e.lexer[n+1]!==d){n=n+1;V();}}}else if(e.types[n].indexOf("end")>0&&e.types[n].indexOf("template")<0){if(o[n-1]!==-20)o[n-1]=o[e.begin[n]]-1;if(e.lexer[n+1]!==d){o.push(-20);}else {o.push(Z);}}else {o.push(Z);}R=true;}else if(a.is(n,"attribute")){K=K+e.token[n].length+1;if(s.markup.preserveAttributes===true){o.push(-10);}else if(s.markup.forceAttribute===true||s.markup.forceAttribute>=1||v===true||n<B-1&&a.not(n+1,"template_attribute")&&a.idx(n+1,"attribute")>0){e.token[n]=j(e.token[n]);o.push(Z);}else {o.push(-10);}}else if(e.begin[n]<w+1){break}n=n+1;J=J+1;}while(n<B);n=n-1;if(o[n-1]>0&&a.idx(n,"end")>0&&a.idx(n,"attribute")>0&&a.not(w,"singleton")&&b===true){o[n-1]=o[n-1]-1;}if(o[n]!==-20){if(s.language==="jsx"&&a.idx(w,"start")>-1&&a.is(n+1,"script_start")){o[n]=Z;}else {if(c.is(n,"/")&&o[n-1]!==10){o[n-1]=-10;}else {o[n]=o[w];}}}if(s.markup.forceAttribute===true){t=0;o[w]=Z;}else if(s.markup.forceAttribute>=1){if(J>=s.markup.forceAttribute){o[w]=Z;}else {o[w]=-10;}}else {o[w]=-10;}if(R===true||s.markup.preserveAttributes===true||c.is(w,"<%xml%>")||c.is(w,"<?xml?>")){t=0;return}m=n;if(m>w+1){if(s.markup.selfCloseSpace===false)K=K-1;if(K>s.wrap&&s.wrap>0&&s.markup.forceAttribute===false){t=e.token[n].length;do{if(e.token[m].length>s.wrap&&ce(e.token[m]))E(m);o[m]=Z;m=m-1;}while(m>w)}}else if(s.wrap>0&&a.is(n,"attribute")&&e.token[n].length>s.wrap&&ce(e.token[n])){E(n);}}do{if(e.lexer[n]===d){if(e.token[n].toLowerCase().indexOf("<!doctype")===0)o[n-1]=k;if(e.types[n].indexOf("attribute")>-1){P();}else if(a.is(n,"comment")){if(F<0)F=n;if(a.not(n+1,"comment")||n>0&&a.idx(n-1,"end")>-1)p();}else if(a.not(n,"comment")){y=$();if(a.is(y,"end")||a.is(y,"template_end")){k=k-1;if(a.is(y,"template_end")&&a.is(e.begin[y]+1,"template_else")){k=k-1;}if(c.is(n,"</ol>")||c.is(n,"</ul>")||c.is(n,"</dl>")){L();}}if(a.is(n,"script_end")&&a.is(n+1,"end")){if(e.lines[y]<1){o.push(-20);}else if(e.lines[y]>1){o.push(k);}else {o.push(-10);}}else if((s.markup.forceIndent===false||s.markup.forceIndent&&a.is(y,"script_start"))&&(a.is(n,"content")||a.is(n,"singleton")||a.is(n,"template"))){t=t+e.token[n].length;if(a.is(n,"template")){o.push(k);const r=e.token[n].indexOf(f);if(r>0){const j=o[n-1]*s.indentSize+(e.token[n].charCodeAt(2)===45?s.indentSize:s.indentSize-1);const w=[];let E=0;do{w.push(" ");E=E+1;}while(E<j);e.token[n]=e.token[n].replace(/^\s+/gm,"").replace(/\n/g,m=>`${m}${w.join("")}`);}}else if(e.lines[y]>0&&a.is(y,"script_start")){o.push(-10);}else if(s.wrap>0&&(a.idx(n,"template")<0||y<B&&a.idx(n,"template")>-1&&a.idx(n,"template")<0)){_();}else if(y<B&&(a.idx(y,"end")>-1||a.idx(y,"start")>-1)&&(e.lines[y]>0||a.idx(n,"template_")>-1)){o.push(k);}else if(e.lines[y]===0){o.push(-20);}else {o.push(k);}}else if(a.is(n,"start")||a.is(n,"template_start")){k=k+1;if(a.is(n,"template_start")&&a.is(n+1,"template_else")){k=k+1;}if(s.language==="jsx"&&c.is(n+1,"{")){if(e.lines[y]===0){o.push(-20);}else if(e.lines[y]>1){o.push(k);}else {o.push(-10);}}else if(a.is(n,"start")&&a.is(y,"end")){o.push(-20);}else if(a.is(n,"start")&&a.is(y,"script_start")){o.push(-10);}else if(s.markup.forceIndent===true){o.push(k);}else if(a.is(n,"template_start")&&a.is(y,"template_end")){o.push(-20);}else if(e.lines[y]===0&&(a.is(y,"content")||a.is(y,"singleton")||a.is(y,"start")&&a.is(y,"template"))){o.push(-20);}else {o.push(k);}}else if(s.markup.forceIndent===false&&e.lines[y]===0&&(a.is(y,"content")||a.is(y,"singleton"))){o.push(-20);}else if(a.is(n+2,"script_end")){o.push(-20);}else if(a.is(n,"template_else")){if(a.is(y,"template_end")){o[n-1]=k+1;}else {o[n-1]=k-1;}o.push(k);}else {o.push(k);}}if(a.not(n,"content")&&a.not(n,"singleton")&&a.not(n,"template")&&a.not(n,"attribute")){t=0;}}else {t=0;V();}n=n+1;}while(n<B);return o})();return (()=>{const o=[];const $=(()=>{const P=[s.indentChar];const r=s.indentSize-1;let j=0;if(j<r){do{P.push(s.indentChar);j=j+1;}while(j<r)}return P.join("")})();function L(P){const r=[];const j=s.preserveLine+1;const w=Math.min(e.lines[n+1]-1,j);let E=0;if(P<0)P=0;do{r.push(f);E=E+1;}while(E<w);if(P>0){E=0;do{r.push($);E=E+1;}while(E<P)}return r.join("")}function p(){let P=e.token[n].split(f);const r=e.lines[n+1];if(a.is(n,"comment"))P=P.map(m=>m.trimStart());const j=X[n-1]>-1?a.is(n,"attribute")?X[n-1]+1:X[n-1]:(()=>{let m=n-1;let b=m>-1&&a.idx(m,"start")>-1;if(X[n]>-1&&a.is(n,"attribute")){return X[n]+1}do{m=m-1;if(X[m]>-1){if(a.is(n,"content")&&b===false){return X[m]}else {return X[m]+1}}if(a.idx(m,"start")>-1)b=true;}while(m>0);return 1})();e.lines[n+1]=0;let w=0;const E=P.length-1;do{if(a.is(n,"comment")){if(P[w]!==""){if(P[w+1].trimStart()!==""){o.push(P[w],L(j));}else {o.push(P[w],"\n");}}else {if(P[w+1].trimStart()===""){o.push("\n");}else {o.push(L(j));}}}else {o.push(P[w],L(j));}w=w+1;}while(w<E);e.lines[n+1]=r;o.push(P[E]);if(X[n]===-10){o.push(" ");}else if(X[n]>1){o.push(L(X[n]));}}function _(){const P=e.token[n];const r=/(\/|\?)?>$/;const j=r.exec(P);let w=n+1;let E=false;let m=s.markup.selfCloseSpace===true&&j!==null&&j[0]==="/>"?" ":"";if(j===null)return;e.token[n]=P.replace(r,"");do{if(a.is(w,"jsx_attribute_end")&&e.begin[e.begin[w]]===n){E=false;}else if(e.begin[w]===n){if(a.is(w,"jsx_attribute_start")){E=true;}else if(a.idx(w,"attribute")<0&&E===false){break}}else if(E===false&&(e.begin[w]<n||a.idx(w,"attribute")<0)){break}w=w+1;}while(w<B);if(a.is(w-1,"comment_attribute"))m=L(X[w-2]-1);e.token[w-1]=e.token[w-1]+m+j[0];if(a.is(w,"comment")&&e.lines[n+1]<2)X[n]=-10;}n=D.start;let V;V=s.indentLevel;do{if(e.lexer[n]===d){if((a.is(n,"start")||a.is(n,"singleton")||a.is(n,"xml")||a.is(n,"sgml"))&&a.idx(n,"attribute")<0&&n<B-1&&e.types[n+1]!==void 0&&a.idx(n+1,"attribute")>-1){_();}if(c.not(n,void 0)&&e.token[n].indexOf(f)>0&&(a.is(n,"content")&&s.markup.preserveText===false||a.is(n,"comment")||a.is(n,"attribute"))){p();}else {o.push(e.token[n]);if(X[n]===-10&&n<B-1){o.push(" ");}else if(X[n]>-1){V=X[n];o.push(L(X[n]));}}}else {if(i[n]===n&&a.not(n,"reference")){o.push(e.token[n]);}else {D.end=i[n];s.indentLevel=V;D.start=n;o.push(D.beautify[e.lexer[n]](s).replace(/\s+$/,""));if(X[D.iterator]>-1&&i[n]>n){o.push(L(X[D.iterator]));}n=D.iterator;s.indentLevel=0;}}n=n+1;}while(n<B);D.iterator=B-1;if(o[0]===f||o[0]===" ")o[0]="";return o.join("")})()};D.beautify.style=s=>{const a=[];const c=D.parsed;const i=s.crlf===true?"\r\n":"\n";const d=D.end>0?D.end+1:c.token.length;const e=s.preserveLine+1;const f=Pe(s.indentSize);const B=(()=>{let o=0;const $=[];do{$.push(s.indentChar);o=o+1;}while(o<s.indentSize);return $.join(O)})();let n=s.indentLevel;let F=s.style.forceValue==="wrap"&&s.wrap>0?s.wrap:0;let y=D.start;let t=[O,O];function k(o){const $=[];const L=(()=>{if(y===d-1)return 1;if(c.lines[y+1]-1>e)return e;if(c.lines[y+1]>1)return c.lines[y+1]-1;return 1})();let p=0;if(o<0)o=0;do{$.push(i);p=p+1;F=n;}while(p<L);if(o>0){p=0;do{$.push(B);p=p+1;}while(p<o)}a.push($.join(O));}function X(){const o=c.begin[y];const $=c.token[o];const L=c.token[y];const p=[];let _=y;let V=0;let P;let r=0;if(o<0||_<=o)return;do{_=_-1;if(c.begin[_]===o){if(x(c.token[_],58)){P=[_-1,0];do{_=_-1;if((x(c.token[_],59)&&$==="{"||x(c.token[_],44)&&$==="(")&&c.begin[_]===o||c.token[_]===L&&c.begin[c.begin[_]]===o){break}if(c.types[_]!=="comment"&&c.types[_]!=="selector"&&c.token[_]!==$&&c.begin[_]===o){P[1]=c.token[_].length+P[1];}}while(_>o+1);if(P[1]>r)r=P[1];p.push(P);}}else if(c.types[_]==="end"){if(_<c.begin[_])break;_=c.begin[_];}}while(_>o);_=p.length;if(_<2)return;do{_=_-1;if(p[_][1]<r){V=p[_][1];do{c.token[p[_][0]]=c.token[p[_][0]]+" ";V=V+1;}while(V<r)}}while(_>0)}if(s.script.vertical===true&&s.style.compressCSS===false){y=d;do{y=y-1;if(x(c.token[y],125)||x(c.token[y],41))X();}while(y>0);y=D.start;}do{if(c.types[y]==="property")F=n+c.token[y].length;if(c.types[y+1]==="end"||c.types[y+1]==="template_end"||c.types[y+1]==="template_else"){n=n-1;}if(c.types[y]==="template"&&c.lines[y]===0){a.push(c.token[y]);if(c.types[y+1]==="template"&&c.lines[y+1]>0)k(n);}else if(c.types[y]==="template"&&c.lines[y]>0){if(c.types[y-2]!=="property"&&c.types[y-1]!=="colon"){F=n;a.push(c.token[y]);k(n);}else if(c.types[y-2]==="property"&&c.types[y-1]==="colon"&&c.types[y+1]==="separator"&&x(c.token[y+1],44)){F=F+c.token[y].length;if(F>s.wrap)k(n);a.push(c.token[y]);do{y=y+1;a.push(c.token[y]);if(c.lines[y+1]>0)k(n);}while(c.types[y]!=="separator"&&re(c.token[y],59));if(x(c.token[y],59)&&c.types[y]==="separator"){a.push(c.token[y]);if(c.lines[y+1]>0)k(n);y=y+1;continue}}else {F=F+c.token[y].length;if(F>s.wrap||s.style.forceValue==="collapse"){k(n);if(re(c.token[y][2],45)){a.push(f,c.token[y].replace("{{","{{-"));}else {a.push(f,c.token[y]);}}else {a.push(c.token[y]);}}}else if(c.types[y]==="template_else"){a.push(c.token[y]);n=n+1;k(n);}else if(c.types[y]==="start"||c.types[y]==="template_start"){n=n+1;a.push(c.token[y]);if(c.types[y+1]!=="end"&&c.types[y+1]!=="template_end"&&(s.style.compressCSS===false||s.style.compressCSS===true&&c.types[y+1]==="selector")){k(n);}}else if(x(c.token[y],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&c.types[y+1]==="selector")||(c.types[y]==="end"||c.types[y]==="template_end"||c.types[y]==="comment")){a.push(c.token[y]);if(c.types[y+1]==="value"){if(c.lines[y+1]===1){a.push(" ");}else if(c.lines[y+1]>1){k(n);}}else if(c.types[y+1]!=="separator"){if(c.types[y+1]!=="comment"||c.types[y+1]==="comment"&&c.lines[y+1]>1){k(n);}else {a.push(" ");}}}else if(x(c.token[y],58)){a.push(c.token[y]);if(s.style.compressCSS===false)a.push(" ");}else if(c.types[y]==="selector"){if(s.style.classPadding===true&&c.types[y-1]==="end"&&c.lines[y]<3){a.push(i);}if(c.token[y].indexOf("and(")>0){c.token[y]=c.token[y].replace(/and\(/,"and (");a.push(c.token[y]);}else if(c.token[y].indexOf("when(")>0){t=c.token[y].split("when(");a.push(t[0].replace(/\s+$/,O));k(n+1);a.push(`when (${t[1]}`);}else {a.push(c.token[y]);}if(c.types[y+1]==="start"){if(s.script.braceAllman===true){k(n);}else if(s.style.compressCSS===false){a.push(" ");}}}else if(x(c.token[y],44)){a.push(c.token[y]);if(c.types[y+1]==="selector"||c.types[y+1]==="property"){k(n);}else if(s.style.compressCSS===false){a.push(" ");}}else if(c.stack[y]==="map"&&x(c.token[y+1],41)&&y-c.begin[y]>5){a.push(c.token[y]);k(n);}else if(c.token[y]==="x;"){k(n);}else if((c.types[y]==="variable"||c.types[y]==="function")&&s.style.classPadding===true&&c.types[y-1]==="end"&&c.lines[y]<3){a.push(i);a.push(c.token[y]);}else if(re(c.token[y],59)||x(c.token[y],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&re(c.token[y+1],125))){a.push(c.token[y]);}y=y+1;}while(y<d);D.iterator=d-1;return a.join(O)};D.beautify.script=s=>{const a=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const d=le(null);const e=D.parsed;const f="script";const B=D.scopes;const n=D.end<1||D.end>e.token.length?e.token.length:D.end+1;const F=(()=>{let t=D.start;let k=isNaN(s.indentLevel)?0:Number(s.indentLevel);let X=false;let o=false;let $="";let L="";let p=e.types[0];let _=e.token[0];const V=[-1];const P=[];const r=D.start>0?Array(D.start).fill(0,0,D.start):[];const j=[];const w=[[]];const E=[];const m=[];const b=[];const R=[false];const v=[];const J=[];function K(){Z(false,false);const I=s.commentIndent===true?k:0;if(X===false&&/\/\u002a\s*global\s/.test(e.token[t])){const h=e.token[t].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let u=h.length;do{u=u-1;h[u]=h[u].replace(/\s+/g,"");if(h[u]!=="")B.push([h[u],-1]);}while(u>0)}if(e.types[t-1]==="comment"||e.types[t+1]==="comment"){r[t-1]=I;}else if(e.lines[t]<2){let h=t+1;if(e.types[h]==="comment"){do{h=h+1;}while(h<n&&e.types[h]==="comment")}if(t<n-1&&e.stack[h]!=="block"&&(e.token[h]==="{"||e.token[h]==="x{")){let u=B.length;e.begin.splice(t,0,e.begin[h]);e.ender.splice(t,0,e.ender[h]);e.lexer.splice(t,0,e.lexer[h]);e.lines.splice(t,0,e.lines[h]);e.stack.splice(t,0,e.stack[h]);e.token.splice(t,0,e.token[h]);e.types.splice(t,0,e.types[h]);if(u>0){do{u=u-1;if(B[u][1]===h){B[u][1]=t;}else if(B[u][1]<t){break}}while(u>0)}h=h+1;e.begin.splice(h,1);e.ender.splice(h,1);e.lexer.splice(h,1);e.lines.splice(h,1);e.stack.splice(h,1);e.token.splice(h,1);e.types.splice(h,1);u=t+1;do{e.begin[u]=t;e.stack[u]=e.stack[h];u=u+1;}while(u<h);u=u+1;do{if(e.begin[u]===e.begin[h]){e.begin[u]=t;if(e.types[u]==="end"){break}}u=u+1;}while(u<n-1);e.begin[h]=t;t=t-1;}else {r[t-1]=-10;if(e.stack[t]==="paren"||e.stack[t]==="method"){r.push(k+2);}else {r.push(k);}if(s.commentIndent===true&&r[t]>-1&&e.lines[t]<3){e.lines[t]=3;}}if(e.types[t+1]!=="comment")X=true;return}else if(e.token[t-1]===","){r[t-1]=I;}else if(_==="="&&e.types[t-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(L)===true){r[t-1]=-10;}else if(_==="{"&&e.types[t-1]!=="comment"&&e.lines[0]<2){if(e.stack[t]==="function"){r[t-1]=I;}else {r[t-1]=/\n/.test(L)?I:-10;}}else {r[t-1]=I;}if(e.types[t+1]!=="comment")X=true;if(e.token[e.begin[t]]==="("){r.push(k+1);}else {r.push(k);}if(r[t]>-1&&e.lines[t]<3){if(e.types[t-1]==="comment"&&L.startsWith("//")){e.lines[t]=2;}else {e.lines[t]=3;}}if(s.script.commentNewline===true&&L.startsWith("//")===false&&e.lines[t]>=3){e.lines[t]=2;}}function Z(I,h){let u=t-1;let A=I===true?0:1;const S=w[w.length-1]===void 0?[]:w[w.length-1];const g=h===false&&e.stack[t]==="array"&&I===true&&L!=="[";if(m[m.length-1]===false||e.stack[t]==="array"&&s.script.arrayFormat==="inline"||e.stack[t]==="object"&&s.script.objectIndent==="inline"){return}m[m.length-1]=false;do{if(e.types[u]==="end"){A=A+1;}else if(e.types[u]==="start"){A=A-1;}if(e.stack[u]==="global")break;if(A===0){if(e.stack[t]==="class"||e.stack[t]==="map"||g===false&&(I===false&&e.token[u]!=="("&&e.token[u]!=="x("||I===true&&e.token[u]===",")){if(e.types[u+1]==="template_start"){if(e.lines[u]<1){r[u]=-20;}else {r[u]=k-1;}}else if(S.length>0&&S[S.length-1]>-1){r[u]=k-1;}else {r[u]=k;}}else if(e.stack[t]==="array"&&e.types[t]==="operator"){if(e.token[u]===",")r[u]=k;if(u===e.begin[t])break}if(I===false)break}if(A<0){if(e.types[u+1]==="template_start"||e.types[u+1]==="template_string_start"){if(e.lines[u]<1){r[u]=-20;}else {r[u]=k-1;}}else if(S.length>0&&S[S.length-1]>-1){r[u]=k-1;}else {r[u]=k;}break}u=u-1;}while(u>-1)}function W(){const I=w[w.length-1]===void 0?[]:w[w.length-1];const h=()=>{let u=t;let A=false;const S=e.begin[u];do{u=u-1;if(e.lexer[u]==="markup"){A=true;break}if(e.begin[u]!==S)u=e.begin[u];}while(u>S);if(A===true){u=t;do{u=u-1;if(e.begin[u]!==S){u=e.begin[u];}else if(e.token[u]===","){r[u]=k+1;}}while(u>S);r[S]=k+1;r[t-1]=k;}else {r[t-1]=-20;}};if(L===")"&&e.token[t+1]==="."&&I[I.length-1]>-1&&e.token[I[0]]!==":"){let u=e.begin[t];let A=false;let S=false;do{u=u-1;}while(u>0&&r[u]<-9);A=r[u]===k;u=t+1;do{u=u+1;if(e.token[u]==="{"){S=true;break}if(e.begin[u]===e.begin[t+1]&&(e.types[u]==="separator"||e.types[u]==="end")){break}}while(u<n);if(A===false&&S===true&&w.length>1){w[w.length-2].push(e.begin[t]);k=k+1;}}if(p!=="separator")T();if(e.token[t+1]===","&&(e.stack[t]==="object"||e.stack[t]==="array")){Z(true,false);}if(e.token[e.begin[t]-1]===","&&(e.token[t+1]==="}"||e.token[t+1]==="]")&&(e.stack[t]==="object"||e.stack[t]==="array")){Z(true,false);}if(e.stack[t]!=="attribute"){if(L!==")"&&L!=="x)"&&(e.lexer[t-1]!=="markup"||e.lexer[t-1]==="markup"&&e.token[t-2]!=="return")){k=k-1;}if(L==="}"&&e.stack[t]==="switch"&&s.script.noCaseIndent===false){k=k-1;}}if(L==="}"||L==="x}"){if(e.types[t-1]!=="comment"&&_!=="{"&&_!=="x{"&&p!=="end"&&p!=="string"&&p!=="number"&&p!=="separator"&&_!=="++"&&_!=="--"&&(t<2||e.token[t-2]!==";"||e.token[t-2]!=="x;"||_==="break"||_==="return")){let u=t-1;let A=false;const S=e.begin[t];const g=P.length;do{if(e.begin[u]===S){if(e.token[u]==="="||e.token[u]===";"||e.token[u]==="x;"){A=true;}if(e.token[u]==="."&&r[u-1]>-1){m[m.length-1]=false;r[S]=k+1;r[t-1]=k;break}if(u>0&&e.token[u]==="return"&&(e.token[u-1]===")"||e.token[u-1]==="x)"||e.token[u-1]==="{"||e.token[u-1]==="x{"||e.token[u-1]==="}"||e.token[u-1]==="x}"||e.token[u-1]===";"||e.token[u-1]==="x;")){k=k-1;r[t-1]=k;break}if(e.token[u]===":"&&j.length===0||e.token[u]===","&&A===false){break}if(u===0||e.token[u-1]==="{"||e.token[u-1]==="x{"||e.token[u]==="for"||e.token[u]==="if"||e.token[u]==="do"||e.token[u]==="function"||e.token[u]==="while"||e.token[u]==="var"||e.token[u]==="let"||e.token[u]==="const"||e.token[u]==="with"){if(P[g-1]===false&&g>1&&(t===n-1||e.token[t+1]!==")"&&e.token[t+1]!=="x)")&&e.stack[t]!=="object"){k=k-1;}break}}else {u=e.begin[u];}u=u-1;}while(u>S)}V.pop();}if(s.script.bracePadding===false&&L!=="}"&&p!=="markup"){r[t-1]=-20;}if(s.script.bracePadding===true&&p!=="start"&&_!==";"&&(r[e.begin[t]]<-9||m[m.length-1]===true)){r[e.begin[t]]=-10;r[t-1]=-10;r.push(-20);}else if(e.stack[t]==="attribute"){r[t-1]=-20;r.push(k);}else if(e.stack[t]==="array"&&(I.length>0||E[E.length-1]===true)){ne();m[m.length-1]=false;r[e.begin[t]]=k+1;r[t-1]=k;r.push(-20);}else if((e.stack[t]==="object"||e.begin[t]===0&&L==="}")&&I.length>0){ne();m[m.length-1]=false;r[e.begin[t]]=k+1;r[t-1]=k;r.push(-20);}else if(L===")"||L==="x)"){const u=L===")"&&_!=="("&&J.length>0?J.pop()+1:0;const A=e.token[e.begin[t]-1]==="if"?(()=>{let S=t;do{S=S-1;if(e.token[S]===")"&&r[S-1]>-1)return u}while(S>e.begin[t]);return u+5})():u;if(u>0&&(s.language!=="jsx"||s.language==="jsx"&&e.token[e.begin[t]-1]!=="render")){const S=s.wrap;const g=e.begin[t];const q=J.length;let C=t-2;if(A>S){r[e.begin[t]]=k+1;r[t-1]=k;do{if(e.begin[C]===g){if(e.token[C]==="&&"||e.token[C]==="||"){r[C]=k+1;}else if(r[C]>-1&&e.types[C]!=="comment"&&e.token[C+1]!=="."){r[C]=r[C]+1;}}else if(r[C]>-1&&e.token[C+1]!=="."){r[C]=r[C]+1;}C=C-1;}while(C>g)}else if(q>0){J[q-1]=J[q-1]+u;}}else if(L===")"&&t>e.begin[t]+2&&e.lexer[e.begin[t]+1]===f&&e.token[e.begin[t]+1]!=="function"){const S=e.begin[t]<0?0:e.begin[t];const g=s.wrap;const q=I.length;let C=0;let N=0;let H=0;let z=0;let ee=0;let se=false;let U=false;let pe=k+1;let ae=false;let he=false;let de=false;if(r[S]<-9){N=S;do{N=N+1;}while(N<t&&r[N]<-9);z=N;do{C=C+e.token[N].length;if(r[N]===-10)C=C+1;if(e.token[N]==="("&&H>0&&H<g-1&&z===t){H=-1;}if(e.token[N]===")"){ee=ee-1;}else if(e.token[N]==="("){ee=ee+1;}if(N===S&&ee>0)H=C;N=N-1;}while(N>S&&r[N]<-9);if(e.token[N+1]===".")pe=r[N]+1;if(C>g-1&&g>0&&_!=="("&&H!==-1&&m[m.length-2]===false){if(e.token[S-1]==="if"&&P[P.length-1]===true||e.token[S-1]!=="if"){r[S]=pe;if(e.token[S-1]==="for"){N=S;do{N=N+1;if(e.token[N]===";"&&e.begin[N]===S){r[N]=pe;}}while(N<t)}}}}N=t;C=0;do{N=N-1;if(e.stack[N]==="function"){N=e.begin[N];}else if(e.begin[N]===S){if(e.token[N]==="?"){de=true;}else if(e.token[N]===","&&se===false){se=true;if(C>=g&&g>0)ae=true;}else if(e.types[N]==="markup"&&he===false){he=true;}if(r[N]>-9&&e.token[N]!==","&&e.types[N]!=="markup"){C=0;}else {if(r[N]===-10)C=C+1;C=C+e.token[N].length;if(C>=g&&g>0&&(se===true||he===true)){ae=true;}}}else {if(r[N]>-9){C=0;}else {C=C+e.token[N].length;if(C>=g&&g>0&&(se===true||he===true)){ae=true;}}}}while(N>S&&ae===false);if(se===false&&e.token[e.begin[t]+1].charAt(0)==="`"){r[e.begin[t]]=-20;r[t-1]=-20;}else if((se===true||he===true)&&C>=g&&g>0||r[S]>-9){if(de===true){pe=r[S];if(e.token[S-1]==="["){N=t;do{N=N+1;if(e.types[N]==="end"||e.token[N]===","||e.token[N]===";"){break}}while(N<n);if(e.token[N]==="]"){pe=pe-1;U=true;}}}else if(q>0&&I[q-1]>N){pe=pe-q;}m[m.length-1]=false;N=t;do{N=N-1;if(e.begin[N]===S){if(e.token[N].indexOf("=")>-1&&e.types[N]==="operator"&&e.token[N].indexOf("!")<0&&e.token[N].indexOf("==")<0&&e.token[N]!=="<="&&e.token[N].indexOf(">")<0){C=N;do{C=C-1;if(e.begin[C]===S&&(e.token[C]===";"||e.token[C]===","||C===S)){break}}while(C>S)}else if(e.token[N]===","){r[N]=pe;}else if(r[N]>-9&&U===false&&(e.token[S-1]!=="for"||e.token[N+1]==="?"||e.token[N+1]===":")&&(e.token[e.begin[t]]!=="("||e.token[N]!=="+")){r[N]=r[N]+1;}}else if(r[N]>-9&&U===false){r[N]=r[N]+1;}}while(N>S);r[S]=pe;r[t-1]=pe-1;}else {r[t-1]=-20;}if(e.token[e.begin[t]-1]==="+"&&r[e.begin[t]]>-9){r[e.begin[t]-1]=-10;}}else if(s.language==="jsx"){h();}else {r[t-1]=-20;}r.push(-20);}else if(m[m.length-1]===true){if(L==="]"&&e.begin[t]-1>0&&e.token[e.begin[e.begin[t]-1]]==="["){m[m.length-2]=false;}if(e.begin[t]<r.length)r[e.begin[t]]=-20;if(s.language==="jsx"){h();}else if(L==="]"&&r[e.begin[t]]>-1){r[t-1]=r[e.begin[t]]-1;}else {r[t-1]=-20;}r.push(-20);}else if(e.types[t-1]==="comment"&&e.token[t-1].substring(0,2)==="//"){if(e.token[t-2]==="x}")r[t-3]=k+1;r[t-1]=k;r.push(-20);}else if(e.types[t-1]!=="comment"&&(_==="{"&&L==="}"||_==="["&&L==="]")){r[t-1]=-20;r.push(-20);}else if(L==="]"){if(P[P.length-1]===true&&m[m.length-1]===false&&s.script.arrayFormat!=="inline"||_==="]"&&r[t-2]===k+1){r[t-1]=k;r[e.begin[t]]=k+1;}else if(r[t-1]===-10){r[t-1]=-20;}if(e.token[e.begin[t]+1]==="function"){r[t-1]=k;}else if(P[P.length-1]===false){if(_==="}"||_==="x}")r[t-1]=k;let u=t-1;let A=1;do{if(e.token[u]==="]")A=A+1;if(e.token[u]==="["){A=A-1;if(A===0){if(u>0&&(e.token[u+1]==="{"||e.token[u+1]==="x{"||e.token[u+1]==="[")){r[u]=k+1;break}if(e.token[u+1]!=="["||o===false){r[u]=-20;break}break}}if(A===1&&e.token[u]==="+"&&r[u]>1){r[u]=r[u]-1;}u=u-1;}while(u>-1)}else if(s.language==="jsx"){h();}if(s.script.arrayFormat==="inline"){let u=t;const A=e.begin[t];do{u=u-1;if(e.types[u]==="end")break}while(u>A);if(u>A){r[e.begin[t]]=k+1;r[t-1]=k;}else {r[e.begin[t]]=-20;r[t-1]=-20;}}else if(r[e.begin[t]]>-1){r[t-1]=r[e.begin[t]]-1;}r.push(-20);}else if(L==="}"||L==="x}"||P[P.length-1]===true){if(L==="}"&&_==="x}"&&e.token[t+1]==="else"){r[t-2]=k+2;r.push(-20);}else {r.push(k);}r[t-1]=k;}else {r.push(-20);}if(e.types[t-1]==="comment")r[t-1]=k;if(s.script.inlineReturn&&s.script.correct===false&&L==="x}"&&(e.stack[t]==="if"||e.stack[t]==="else")&&e.token[e.begin[e.begin[t-1]-1]-2]!=="else"){r[t-1]=-20;}ne();o=P[P.length-1];P.pop();w.pop();E.pop();b.pop();v.pop();m.pop();R.pop();}function ne(){let I=0;const h=w[w.length-1];if(h===void 0)return;I=h.length-1;if(I<1&&h[I]<0&&(L===";"||L==="x;"||L===")"||L==="x)"||L==="}"||L==="x}")){h.pop();return}if(I<0||h[I]<0)return;if(L===":"){if(e.token[h[I]]!=="?"){do{h.pop();I=I-1;k=k-1;}while(I>-1&&h[I]>-1&&e.token[h[I]]!=="?")}h[I]=t;r[t-1]=k;}else {do{h.pop();I=I-1;k=k-1;}while(I>-1&&h[I]>-1)}if((e.stack[t]==="array"||L===",")&&h.length<1)h.push(-1);}function te(){const I=t;do{if(e.lexer[t+1]===f&&e.begin[t+1]<I)break;if(e.token[I-1]==="return"&&e.types[t]==="end"&&e.begin[t]===I)break;r.push(0);t=t+1;}while(t<n);d[I]=t;r.push(k-1);}function T(){let I=t-1;const h=e.begin[t];if(k<1)return;do{if(h!==e.begin[I]){I=e.begin[I];}else {if(e.types[I]==="separator"||e.types[I]==="operator"){if(e.token[I]==="."&&r[I-1]>0){if(e.token[h-1]==="if"){k=k-2;}else {k=k-1;}}break}}I=I-1;}while(I>0&&I>h)}function fe(){if(e.token[t+1]!==","&&L.indexOf("/>")!==L.length-2||e.token[t+1]===","&&e.token[e.begin[t]-3]!=="React"){Z(false,false);}if(_==="return"||_==="?"||_===":"){r[t-1]=-10;r.push(-20);}else if(p==="start"||e.token[t-2]==="return"&&e.stack[t-1]==="method"){r.push(k);}else {r.push(-20);}}function ie(){const I=w[w.length-1]===void 0?[]:w[w.length-1];function h(){const u=e.token[t+1];let A=0;let S=0;let g=t;let q=L==="+"?k+2:k;let C=0;if(s.wrap<1){r.push(-10);return}do{g=g-1;if(e.token[e.begin[t]]==="("){if(g===e.begin[t]){C=A;}if(e.token[g]===","&&e.begin[g]===e.begin[t]&&P[P.length-1]===true){break}}if(A>s.wrap-1)break;if(r[g]>-9)break;if(e.types[g]==="operator"&&e.token[g]!=="="&&e.token[g]!=="+"&&e.begin[g]===e.begin[t]){break}A=A+e.token[g].length;if(g===e.begin[t]&&e.token[g]==="["&&A<s.wrap-1){break}if(e.token[g]==="."&&r[g]>-9)break;if(r[g]===-10)A=A+1;}while(g>0);if(C>0)C=C+u.length;A=A+u.length;S=g;if(A>s.wrap-1&&r[g]<-9){do{S=S-1;}while(S>0&&r[S]<-9)}if(e.token[S+1]==="."&&e.begin[t]<=e.begin[S]){q=q+1;}else if(e.types[S]==="operator"){q=r[S];}S=u.length;if(A+S<s.wrap){r.push(-10);return}if(e.token[e.begin[t]]==="("&&(e.token[I[0]]===":"||e.token[I[0]]==="?")){q=k+3;}else if(e.stack[t]==="method"){r[e.begin[t]]=k;if(P[P.length-1]===true){q=k+3;}else {q=k+1;}}else if(e.stack[t]==="object"||e.stack[t]==="array"){Z(true,false);}if(e.token[g]==="var"||e.token[g]==="let"||e.token[g]==="const"){A=A-s.indentSize*s.indentChar.length*2;}if(C>0){g=s.wrap-C;}else {g=s.wrap-A;}if(g>0&&g<5){r.push(q);if(e.token[t].charAt(0)==='"'||e.token[t].charAt(0)==="'"){t=t+1;r.push(-10);}return}if(e.token[e.begin[t]]!=="("||C>s.wrap-1||C===0){if(C>0)A=C;if(A-u.length<s.wrap-1&&(u.charAt(0)==='"'||u.charAt(0)==="'")){t=t+1;A=A+3;if(A-u.length>s.wrap-4){r.push(q);return}r.push(-10);return}r.push(q);return}r.push(-10);}T();if(I.length>0&&I[I.length-1]>-1&&e.stack[t]==="array"){E[E.length-1]=true;}if(L!==":"){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&m.length>0){Z(true,false);}if(L!=="?"&&e.token[I[I.length-1]]==="."){let u=0;let A=t;const S=e.begin[A];do{if(e.begin[A]===S){if(e.token[A+1]==="{"||e.token[A+1]==="["||e.token[A]==="function"){break}if(e.token[A]===","||e.token[A]===";"||e.types[A]==="end"||e.token[A]===":"){I.pop();k=k-1;break}if(e.token[A]==="?"||e.token[A]===":"){if(e.token[I[I.length-1]]==="."&&u<2)I[I.length-1]=S+1;break}if(e.token[A]===".")u=u+1;}A=A+1;}while(A<n)}}if(L==="!"||L==="..."){if(_==="}"||_==="x}")r[t-1]=k;r.push(-20);return}if(_===";"||_==="x;"){if(e.token[e.begin[t]-1]!=="for")r[t-1]=k;r.push(-20);return}if(L==="*"){if(_==="function"||_==="yield"){r[t-1]=-20;}else {r[t-1]=-10;}r.push(-10);return}if(L==="?"){if(e.lines[t]===0&&e.types[t-2]==="word"&&e.token[t-2]!=="return"&&e.token[t-2]!=="in"&&e.token[t-2]!=="instanceof"&&e.token[t-2]!=="typeof"&&(p==="reference"||p==="word")){if(e.types[t+1]==="word"||e.types[t+1]==="reference"||(e.token[t+1]==="("||e.token[t+1]==="x(")&&e.token[t-2]==="new"){r[t-1]=-20;if(e.types[t+1]==="word"||e.types[t+1]==="reference"){r.push(-10);return}r.push(-20);return}}if(e.token[t+1]===":"){r[t-1]=-20;r.push(-20);return}j.push(t);if(s.script.ternaryLine===true){r[t-1]=-10;}else {let u=t-1;do{u=u-1;}while(u>-1&&r[u]<-9);I.push(t);k=k+1;if(r[u]===k&&e.token[u+1]!==":"){k=k+1;I.push(t);}r[t-1]=k;if(e.token[e.begin[t]]==="("&&(I.length<2||I[0]===I[1])){m[m.length-1]=false;if(t-2===e.begin[t]){r[e.begin[t]]=k-1;}else {r[e.begin[t]]=k;}u=t-2;do{if(e.types[u]==="end"&&r[u-1]>-1)break;if(r[u]>-1)r[u]=r[u]+1;u=u-1;}while(u>e.begin[t])}}r.push(-10);return}if(L===":"){if(e.stack[t]==="map"||e.types[t+1]==="type"||e.types[t+1]==="type_start"){r[t-1]=-20;r.push(-10);return}if(j.length>0&&e.begin[j[j.length-1]]===e.begin[t]){let u=t;const A=e.begin[t];do{u=u-1;if(e.begin[u]===A){if(e.token[u]===","||e.token[u]===";"){r[t-1]=-20;break}if(e.token[u]==="?"){j.pop();ne();if(s.script.ternaryLine===true)r[t-1]=-10;r.push(-10);return}}else if(e.types[u]==="end"){u=e.begin[u];}}while(u>A)}if(e.token[t-2]==="where"&&e.stack[t-2]===e.stack[t]){r[t-1]=-10;r.push(-10);return}if(p==="reference"&&e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("){r[t-1]=-20;r.push(-10);return}if((_===")"||_==="x)")&&e.token[e.begin[t-1]-2]==="function"){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="attribute"){r[t-1]=-20;r.push(-10);return}if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&(p==="reference"||_===")"||_==="]"||_==="?")&&(e.stack[t]==="map"||e.stack[t]==="class"||e.types[t+1]==="reference")&&(j.length===0||j[j.length-1]<e.begin[t])&&("mapclassexpressionmethodglobalparen".indexOf(e.stack[t])>-1||e.types[t-2]==="word"&&e.stack[t]!=="switch")){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="switch"&&(j.length<1||j[j.length-1]<e.begin[t])){r[t-1]=-20;if(s.script.caseSpace===true){r.push(-10);}else {r.push(k);}return}if(e.stack[t]==="object"){r[t-1]=-20;}else if(j.length>0){r[t-1]=k;}else {r[t-1]=-10;}r.push(-10);return}if(L==="++"||L==="--"){if(p==="number"||p==="reference"){r[t-1]=-20;r.push(-10);}else if(t<n-1&&(e.types[t+1]==="number"||e.types[t+1]==="reference")){r.push(-20);}else {r.push(-10);}return}if(L==="+"){if(p==="start"){r[t-1]=-20;}else {r[t-1]=-10;}if(s.wrap<1||e.token[e.begin[t]]==="x("){r.push(-10);return}const u=e.token[t+1];if(u===void 0){r.push(-10);return}if(e.types[t-1]==="operator"||e.types[t-1]==="start"){if(e.types[t+1]==="reference"||u==="("||u==="["){r.push(-20);return}if(Number(u.slice(1,-1))>-1&&(/\d/.test(u.charAt(1))===true||u.charAt(1)==="."||u.charAt(1)==="-"||u.charAt(1)==="+")){r.push(-20);return}}return h()}if(e.types[t-1]!=="comment"){if(_==="("){r[t-1]=-20;}else if(L==="*"&&e.stack[t]==="object"&&e.types[t+1]==="reference"&&(_==="{"||_===",")){r[t-1]=k;}else if(L!=="?"||j.length===0){r[t-1]=-10;}}if(L.indexOf("=")>-1&&L!=="=="&&L!=="==="&&L!=="!="&&L!=="!=="&&L!==">="&&L!=="<="&&L!=="=>"&&e.stack[t]!=="method"&&e.stack[t]!=="object"){let u=t+1;let A=0;let S=false;let g="";if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&e.token[t+1]!=="function"){return}do{if(e.types[u]==="start"){if(S===true&&e.token[u]!=="["){if(R[R.length-1]===true){R[R.length-1]=false;}break}A=A+1;}if(e.types[u]==="end")A=A-1;if(A<0){if(R[R.length-1]===true){R[R.length-1]=false;}break}if(A===0){g=e.token[u];if(S===true){if(e.types[u]==="operator"||e.token[u]===";"||e.token[u]==="x;"||e.token[u]==="?"||e.token[u]==="var"||e.token[u]==="let"||e.token[u]==="const"){if(g!==void 0&&(g==="?"||g.indexOf("=")>-1&&g!=="=="&&g!=="==="&&g!=="!="&&g!=="!=="&&g!==">="&&g!=="<=")){if(R[R.length-1]===false){R[R.length-1]=true;}}if((g===";"||g==="x;"||g==="var"||g==="let"||g==="const")&&R[R.length-1]===true){R[R.length-1]=false;}break}if(R[R.length-1]===true&&(g==="return"||g==="break"||g==="continue"||g==="throw")){R[R.length-1]=false;}}if(g===";"||g==="x;"||g===",")S=true;}u=u+1;}while(u<n);r.push(-10);return}if(L==="-"&&_==="return"||_==="="){r.push(-20);return}if(p==="operator"&&e.types[t+1]==="reference"&&_!=="--"&&_!=="++"&&L!=="&&"&&L!=="||"){r.push(-20);return}return h()}function M(){const I=()=>{let h=e.begin[t];if(h<0){B.push([e.token[t],-1]);}else {if(e.stack[h+1]!=="function"){do{h=e.begin[h];}while(h>-1&&e.stack[h+1]!=="function")}B.push([e.token[t],h]);}};if(e.types[t-1]==="comment"){r[t-1]=k;}else if(p==="end"&&_!==")"&&e.token[e.begin[t-1]-1]!==")"){r[t-1]=-10;}else if(p!=="separator"&&p!=="start"&&p!=="end"&&p.indexOf("template_string")<0){if(p==="word"||p==="operator"||p==="property"||p==="type"||p==="reference"){r[t-1]=-10;}else {r[t-1]=-20;}}if(_==="var"&&e.lexer[t-1]===f){I();}else if(_==="function"){B.push([e.token[t],t]);}else if(_==="let"||_==="const"){B.push([e.token[t],t]);}else if(e.stack[t]==="arguments"){B.push([e.token[t],t]);}else if(_===","){let h=t;do{h=h-1;}while(h>e.begin[t]&&e.token[h]!=="var"&&e.token[h]!=="let"&&e.token[h]!=="const");if(e.token[h]==="var"){I();}else if(e.token[h]==="let"||e.token[h]==="const"){B.push([e.token[t],t]);}}r.push(-10);}function Y(){const I=w[w.length-1]===void 0?[]:w[w.length-1];const h=()=>{if(s.script.methodChain>0){let u=t;let A=e.begin[t];const S=[t];const g=e.token[A-1]==="if";do{u=u-1;if(e.types[u]==="end")u=e.begin[u];if(e.begin[u]===A){if(e.types[u]==="string"&&e.token[u].indexOf("${")===e.token[u].length-2){break}if(e.token[u]==="."){if(r[u-1]>0){r[t-1]=g===true?k+1:k;return}S.push(u);}else if(e.token[u]===";"||e.token[u]===","||e.types[u]==="operator"||(e.types[u]==="word"||e.types[u]==="reference")&&(e.types[u-1]==="word"||e.types[u-1]==="reference")){break}}}while(u>A);if(S.length<s.script.methodChain){r[t-1]=-20;return}u=0;A=S.length;do{r[S[u]-1]=g===true?k+1:k;u=u+1;}while(u<A);u=S[S.length-1]-1;do{if(r[u]>-1)r[u]=r[u]+1;u=u+1;}while(u<t);k=g===true?k+2:k+1;}r[t-1]=k;};if(L==="::"){r[t-1]=-20;r.push(-20);return}if(L==="."){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&I.length>0){if(e.stack[t]==="object"||e.stack[t]==="array"){Z(true,false);}else {Z(false,false);}}if(s.script.methodChain===0){r[t-1]=-20;}else if(s.script.methodChain<0){if(e.lines[t]>0){h();}else {r[t-1]=-20;}}else {h();}r.push(-20);return}if(L===","){T();if(P[P.length-1]===false&&(e.stack[t]==="object"||e.stack[t]==="array"||e.stack[t]==="paren"||e.stack[t]==="expression"||e.stack[t]==="method")){P[P.length-1]=true;if(e.token[e.begin[t]]==="("){let u=t;do{u=u-1;if(e.begin[u]===e.begin[t]&&e.token[u]==="+"&&r[u]>-9){r[u]=r[u]+2;}}while(u>e.begin[t])}}if(e.stack[t]==="array"&&s.script.arrayFormat==="indent"){r[t-1]=-20;r.push(k);return}if(e.stack[t]==="array"&&s.script.arrayFormat==="inline"){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="object"&&s.script.objectIndent==="indent"){r[t-1]=-20;r.push(k);return}if(e.stack[t]==="object"&&s.script.objectIndent==="inline"){r[t-1]=-20;r.push(-10);return}if(I.length>0){if(I[I.length-1]>-1)ne();r[t-1]=-20;r.push(k);return}if(e.token[t-2]===":"&&e.token[t-4]==="where"){r[t-1]=-20;r.push(-10);return}r[t-1]=-20;if(e.types[t+1]!=="end"){b[b.length-1]=b[b.length-1]+1;}if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&s.language!=="jsx"&&e.stack[t]!=="global"&&(e.types[t-1]!=="string"&&e.types[t-1]!=="number"||e.token[t-2]!=="+"||e.types[t-1]==="string"&&e.types[t-1]!=="number"&&e.token[t-2]==="+"&&e.types[t-3]!=="string"&&e.types[t-3]!=="number")){r.push(-10);return}if(p==="reference"&&e.types[t-2]==="word"&&"var-let-const-from".indexOf(e.token[t-2])<0&&(e.types[t-3]==="end"||e.token[t-3]===";")){v[v.length-1]=true;r.push(-10);return}if(v[v.length-1]===true||e.stack[t]==="notation"){r.push(-10);return}if(b[b.length-1]>3&&(e.stack[t]==="array"||e.stack[t]==="object")){if(m[m.length-1]===true)Z(true,true);r[t-1]=-20;if(E[E.length-1]===true){r.push(k);return}const u=e.begin[t];let A=t;do{if(e.types[A]==="end"){A=e.begin[A];}else {if(e.token[A]===","&&e.types[A+1]!=="comment"){r[A]=k;}}A=A-1;}while(A>u);r[u]=k;E[E.length-1]=true;return}if(e.stack[t]==="object"){if(m[m.length-1]===true&&e.types[e.begin[t]-1]!=="word"&&e.types[e.begin[t]-1]!=="reference"&&e.token[e.begin[t]-1]!=="("&&e.token[e.begin[t]-1]!=="x("){const u=e.begin[t];let A=t-1;do{if(e.begin[A]===u){if(e.token[A]===",")break;if(e.token[A]===":"){Z(true,false);break}}A=A-1;}while(A>u)}}if(m[m.length-1]===false||e.token[t-2]==="+"&&(p==="string"||p==="number")&&r[t-2]>0&&(_.charAt(0)==='"'||_.charAt(0)==="'")){if(e.stack[t]==="method"){if(e.token[t-2]==="+"&&(_.charAt(0)==='"'||_.charAt(0)==="'")&&(e.token[t-3].charAt(0)==='"'||e.token[t-3].charAt(0)==="'")){r.push(k+2);return}if(e.token[t-2]!=="+"){r.push(-10);return}}r.push(k);return}if(m[m.length-1]===true&&e.stack[t]!=="object"){r.push(-10);return}if(b[b.length-1]<4&&(e.stack[t]==="array"||e.stack[t]==="object")){r.push(-10);return}r.push(k);return}if(L===";"||L==="x;"){T();if(e.token[t+1]!==void 0&&e.types[t+1].indexOf("attribute")>0&&e.types[t+1].indexOf("end")>0){r[t-1]=-20;r.push(k-1);return}if(V[V.length-1]>-1&&e.stack[V[V.length-1]]!=="expression"){let u=t;do{u=u-1;if(e.token[u]===";")break;if(e.token[u]===","){k=k-1;break}if(e.types[u]==="end")u=e.begin[u];}while(u>0&&u>e.begin[t])}V[V.length-1]=-1;ne();if(e.token[e.begin[t]-1]!=="for")Z(false,false);v[v.length-1]=false;r[t-1]=-20;if(e.begin[t]>0&&e.token[e.begin[t]-1]==="for"&&e.stack[t]!=="for"){r.push(-10);return}r.push(k);return}r.push(-20);}function Ae(){const I=e.stack[t+1];const h=t===0?e.stack[t]:e.stack[t-1];if(_===")"||(h==="object"||h==="array")&&_!=="]"){if(I!=="method"||I==="method"&&e.token[t+1]!==")"&&e.token[t+2]!==")"){if(_===")"&&(I!=="function"||e.token[e.begin[e.begin[t-1]-1]]==="("||e.token[e.begin[e.begin[t-1]-1]]==="x(")){Z(false,false);}else if(e.types[t+1]!=="end"&&e.types[t+2]!=="end"){Z(true,false);}}}P.push(false);w.push([]);R.push(false);E.push(false);v.push(false);b.push(0);if(s.script.neverFlatten===true||I==="array"&&s.script.arrayFormat==="indent"||I==="attribute"||p==="generic"||I==="class"&&_!=="("&&_!=="x("||L==="["&&e.token[t+1]==="function"){m.push(false);}else {if(I==="expression"||I==="method"){m.push(true);}else if((I==="object"||I==="class")&&(_==="("||_==="x("||p==="word"||p==="reference")){m.push(true);}else if(I==="array"||L==="("||L==="x("){m.push(true);}else if(L==="{"&&I==="object"&&p!=="operator"&&p!=="start"&&p!=="string"&&p!=="number"&&h!=="object"&&h!=="array"&&t>0){m.push(true);}else {m.push(false);}}if(L!=="("&&L!=="x("&&e.stack[t+1]!=="attribute"){k=k+1;}if(L==="{"||L==="x{"){V.push(-1);if(e.types[t-1]!=="comment"){if(p==="markup"){r[t-1]=k;}else if(s.script.braceAllman===true&&p!=="operator"&&_!=="return"){r[t-1]=k-1;}else if(e.stack[t+1]!=="block"&&(I==="function"||_===")"||_==="x)"||_===","||_==="}"||p==="markup")){r[t-1]=-10;}else if(_==="{"||_==="x{"||_==="["||_==="}"||_==="x}"){r[t-1]=k-1;}}if(I==="object"){if(s.script.objectIndent==="indent"){m[m.length-1]=false;r.push(k);return}if(s.script.objectIndent==="inline"){m[m.length-1]=true;r.push(-20);return}}if(I==="switch"){if(s.script.noCaseIndent===true){r.push(k-1);return}k=k+1;r.push(k);return}if(m[m.length-1]===true){if(p!=="word"&&p!=="reference"){r.push(-20);return}}r.push(k);return}if(L==="("||L==="x("){if(s.wrap>0&&L==="("&&e.token[t+1]!==")"){J.push(1);}if(_==="-"&&(e.token[t-2]==="("||e.token[t-2]==="x(")){r[t-2]=-20;}if(p==="end"&&h!=="if"&&h!=="for"&&h!=="catch"&&h!=="else"&&h!=="do"&&h!=="try"&&h!=="finally"&&h!=="catch"){if(e.types[t-1]==="comment"){r[t-1]=k;}else {r[t-1]=-20;}}if(_==="async"){r[t-1]=-10;}else if(I==="method"||e.token[t-2]==="function"&&p==="reference"){if(_==="import"||_==="in"||s.script.functionNameSpace===true){r[t-1]=-10;}else if(_==="}"&&e.stack[t-1]==="function"||p==="word"||p==="reference"||p==="property"){r[t-1]=-20;}else if(h!=="method"&&I!=="method"){r[t-1]=k;}}if(_==="+"&&(e.token[t-2].charAt(0)==='"'||e.token[t-2].charAt(0)==="'")){r.push(k);return}if(_==="}"||_==="x}"){r.push(-20);return}if(_==="-"&&(t<2||e.token[t-2]!==")"&&e.token[t-2]!=="x)"&&e.token[t-2]!=="]"&&e.types[t-2]!=="reference"&&e.types[t-2]!=="string"&&e.types[t-2]!=="number")||s.script.functionSpace===false&&_==="function"){r[t-1]=-20;}r.push(-20);return}if(L==="["){if(_==="[")P[P.length-2]=true;if(_==="return"||_==="var"||_==="let"||_==="const"){r[t-1]=-10;}else if(e.types[t-1]!=="comment"&&e.stack[t-1]!=="attribute"&&(p==="end"||p==="word"||p==="reference")){r[t-1]=-20;}else if(_==="["||_==="{"||_==="x{"){r[t-1]=k-1;}if(e.stack[t]==="attribute"){r.push(-20);return}if(s.script.arrayFormat==="indent"){m[m.length-1]=false;r.push(k);return}if(s.script.arrayFormat==="inline"){m[m.length-1]=true;r.push(-20);return}if(I==="method"||m[m.length-1]===true){r.push(-20);return}let u=t+1;do{if(e.token[u]==="]"){r.push(-20);return}if(e.token[u]===","){r.push(k);return}u=u+1;}while(u<n);r.push(-20);}}function Q(){if(L.length===1){r.push(-20);if(e.lines[t]===0)r[t-1]=-20;}else if(L.indexOf("#!/")===0){r.push(k);}else {r.push(-10);}if((_===","||p==="start")&&(e.stack[t]==="object"||e.stack[t]==="array")&&m[m.length-1]===false&&t>0){r[t-1]=k;}}function be(){if($==="template_else"){r[t-1]=k-1;r.push(k);}else if($==="template_start"){k=k+1;if(e.lines[t-1]<1)r[t-1]=-20;if(e.lines[t]>0||_.length===1&&p==="string"){r.push(k);}else {r.push(-20);}}else if($==="template_end"){k=k-1;if(p==="template_start"||e.lines[t-1]<1){r[t-1]=-20;}else {r[t-1]=k;}if(e.lines[t]>0){r.push(k);}else {r.push(-20);}}else if($==="template"){if(e.lines[t]>0){r.push(k);}else {r.push(-20);}}}function xe(){if($==="template_string_start"){k=k+1;r.push(k);}else if($==="template_string_else"){T();r[t-1]=k-1;r.push(k);}else {T();k=k-1;r[t-1]=k;r.push(-10);}if(t>2&&(e.types[t-2]==="template_string_else"||e.types[t-2]==="template_string_start")){if(s.script.bracePadding===true){r[t-2]=-10;r[t-1]=-10;}else {r[t-2]=-20;r[t-1]=-20;}}}function Ce(){if(e.token[t-1]===","||e.token[t-1]===":"&&e.stack[t-1]!=="data_type"){r[t-1]=-10;}else {r[t-1]=-20;}if(e.types[t]==="type"||e.types[t]==="type_end"){r.push(-10);}if(e.types[t]==="type_start"){r.push(-20);}}function we(){if((_===")"||_==="x)")&&e.stack[t]==="class"&&(e.token[e.begin[t-1]-1]==="static"||e.token[e.begin[t-1]-1]==="final"||e.token[e.begin[t-1]-1]==="void")){r[t-1]=-10;r[e.begin[t-1]-1]=-10;}if(_==="]")r[t-1]=-10;if(L==="else"&&_==="}"){if(e.token[t-2]==="x}")r[t-3]=r[t-3]-1;if(s.script.braceAllman===true||s.script.elseNewline===true){r[t-1]=k;}}if(L==="new"&&a.has(e.token[t+1]));if(L==="from"&&p==="end"&&t>0&&(e.token[e.begin[t-1]-1]==="import"||e.token[e.begin[t-1]-1]===",")){r[t-1]=-10;}if(L==="function"){if(s.script.functionSpace===false&&t<n-1&&(e.token[t+1]==="("||e.token[t+1]==="x(")){r.push(-20);return}r.push(-10);return}if(_==="-"&&t>1){if(e.types[t-2]==="operator"||e.token[t-2]===","){r[t-1]=-20;}else if(e.types[t-2]==="start"){r[t-2]=-20;r[t-1]=-20;}}else if(L==="while"&&(_==="}"||_==="x}")){let I=t-1;let h=0;do{if(e.token[I]==="}"||e.token[I]==="x}")h=h+1;if(e.token[I]==="{"||e.token[I]==="x{")h=h-1;if(h===0){if(e.token[I-1]==="do"){r[t-1]=-10;break}r[t-1]=k;break}I=I-1;}while(I>-1)}else if(L==="in"||(L==="else"&&s.script.elseNewline===false&&s.script.braceAllman===false||L==="catch")&&(_==="}"||_==="x}")){r[t-1]=-10;}else if(L==="var"||L==="let"||L==="const"){V[V.length-1]=t;if(p==="end")r[t-1]=k;if(e.token[e.begin[t]-1]!=="for"){let I=t+1;let h=0;do{if(e.types[I]==="end")h=h-1;if(e.types[I]==="start")h=h+1;if(h<0||h===0&&(e.token[I]===";"||e.token[I]===",")){break}I=I+1;}while(I<n);if(e.token[I]===",")k=k+1;}r.push(-10);return}if((L==="default"||L==="case")&&p!=="word"&&e.stack[t]==="switch"){r[t-1]=k-1;r.push(-10);return}if(L==="catch"&&_==="."){r[t-1]=-20;r.push(-20);return}if(L==="catch"||L==="finally"){r[t-1]=-10;r.push(-10);return}if(s.script.bracePadding===false&&t<n-1&&e.token[t+1].charAt(0)==="}"){r.push(-20);return}if(e.stack[t]==="object"&&(_==="{"||_===",")&&(e.token[t+1]==="("||e.token[t+1]==="x(")){r.push(-20);return}if(e.types[t-1]==="comment"&&e.token[e.begin[t]]==="("){r[t-1]=k+1;}if(s.script.inlineReturn){if(e.stack[t]==="if"&&L==="return"&&(_==="x{"||_==="{")){const I=e.begin.lastIndexOf(e.begin[t-1],t-3);if(e.token[I-2]==="else"){if(_==="x{")e.token[t-1]="{";if(e.token[e.ender[t]]==="x}")e.token[e.ender[t]]="}";e.lines[e.ender[t]]=e.lines[e.ender[t]]-1;}else {if(e.token[e.ender[t-1]+2]!=="if"&&e.token[e.ender[t-1]+1]!=="else"){r[t-1]=-20;if(_==="{")e.token[t-1]="x{";if(e.token[e.ender[t]]==="}")e.token[e.ender[t]]="x}";}else if(e.token[e.ender[t-1]+2]!=="if"&&e.token[e.ender[t-1]+1]!=="x{"){r[t-1]=-20;e.lines[e.ender[t-1]+2]=e.lines[e.ender[t-1]+2]-1;if(e.token[t-1]==="{")e.token[t-1]="x{";if(e.token[e.ender[t]]==="}")e.token[e.ender[t]]="x}";if(e.token[e.ender[t-1]+2]==="{")e.token[e.ender[t-1]+2]="x{";}}}if((_==="x}"||_==="}")&&(e.stack[t-1]==="if"&&L==="else"&&(e.token[t+1]==="{"||e.token[t+1]==="x{")&&e.token[t+2]==="return")){if(e.token[t-2]==="x;")e.token[t-2]=";";}if(_==="x{"&&L==="return"&&e.stack[t]==="else"){r[t-1]=-20;if(e.token[e.ender[t-1]-1]==="x;")e.token[e.ender[t-1]-1]=";";e.lines[e.ender[t-1]]=e.lines[e.ender[t-1]]-1;e.lines[e.ender[t]+1]=e.lines[e.ender[t]+1]-1;}if(_==="x}"&&L==="else"&&e.token[t+1]==="x{"&&e.token[t+2]==="return"&&e.token[e.ender[t]-1]==="}"){e.token[e.ender[t]-1]="x}";}}r.push(-10);}do{if(e.lexer[t]===f){$=e.types[t];L=e.token[t];if($==="comment"){K();}else if($==="regex"){r.push(-20);}else if($==="string"){Q();}else if($.indexOf("template_string")===0){xe();}else if($==="separator"){Y();}else if($==="start"){Ae();}else if($==="end"){W();}else if($==="type"||$==="type_start"||$==="type_end"){Ce();}else if($==="operator"){ie();}else if($==="word"){we();}else if($==="reference"){M();}else if($==="markup"){fe();}else if($.indexOf("template")===0){be();}else if($==="generic"){if(_!=="return"&&_.charAt(0)!=="#"&&p!=="operator"&&_!=="public"&&_!=="private"&&_!=="static"&&_!=="final"&&_!=="implements"&&_!=="class"&&_!=="void"){r[t-1]=-20;}if(e.token[t+1]==="("||e.token[t+1]==="x("){r.push(-20);}else {r.push(-10);}}else {r.push(-10);}if($!=="comment"){p=$;_=L;}if(J.length>0&&e.token[t]!==")"){if(e.types[t]==="comment"&&J[J.length-1]>-1){J[J.length-1]=s.wrap+1;}else if(r[t]>-1||e.token[t].charAt(0)==="`"&&e.token[t].indexOf("\n")>0){J[J.length-1]=-1;}else if(J[J.length-1]>-1){J[J.length-1]=J[J.length-1]+e.token[t].length;if(r[t]===-10)J[J.length-1]=J[J.length-1]+1;}}}else {te();}t=t+1;}while(t<n);return r})();const y=(()=>{const t=[];const k=(()=>{const r=[];const j=s.indentChar;let w=s.indentSize;if(typeof w!=="number"||w<1)return "";do{r.push(j);w=w-1;}while(w>0);return r.join("")})();const X=s.crlf===true?"\r\n":"\n";const o=s.preserveLine+1;const $=["x;","x}","x{","x(","x)"];let L=D.start;let p="";let _=s.indentLevel;function V(r){const j=[];const w=(()=>{if(L===n-1)return 1;if(e.lines[L+1]-1>o)return o;if(e.lines[L+1]>1)return e.lines[L+1]-1;return 1})();let E=0;if(r<0)r=0;do{j.push(X);E=E+1;}while(E<w);if(r>0){E=0;do{j.push(k);E=E+1;}while(E<r)}return j.join("")}if(s.script.vertical===true){let r=function(j){let w=0;let E=0;let m=j-1;let b=0;let R=0;const v=e.begin[L];const J=[];do{if((e.begin[m]===v||e.token[m]==="]"||e.token[m]===")")&&(e.token[m+1]===":"&&e.stack[m]==="object"||e.token[m+1]==="=")){b=m;E=0;do{if(e.begin[b]===v){if(e.token[b]===","||e.token[b]===";"||e.token[b]==="x;"||F[b]>-1&&e.types[b]!=="comment"){if(e.token[b+1]==="."){E=E+s.indentSize*s.indentChar.length;}break}}else if(F[b]>-1){break}if(e.types[b]!=="comment"){if(F[b-1]===-10)E=E+1;E=e.token[b].length+E;}b=b-1;}while(b>v);R=b;if(e.token[R]===","&&e.token[m+1]==="="){do{if(e.types[R]==="end")R=e.begin[R];if(e.begin[R]===v){if(e.token[R]===";"||e.token[R]==="x;")break;if(e.token[R]==="var"||e.token[R]==="const"||e.token[R]==="let"){E=E+s.indentSize*s.indentChar.length;break}}R=R-1;}while(R>v)}if(E>w)w=E;J.push([m,E]);m=b;}else if(e.types[m]==="end"){m=e.begin[m];}m=m-1;}while(m>v);m=J.length;if(m>0){do{m=m-1;b=J[m][1];if(b<w){do{e.token[J[m][0]]=e.token[J[m][0]]+" ";b=b+1;}while(b<w)}}while(m>0)}};L=n;do{L=L-1;if(e.lexer[L]==="script"){if(e.token[L]==="}"&&e.token[L-1]!=="{"&&F[e.begin[L]]>0){r(L);}}else {L=e.begin[L];}}while(L>0)}L=D.start;do{if(e.lexer[L]===f||D.beautify[e.lexer[L]]===void 0){if(e.types[L]==="comment"&&s.commentIndent===true){if(/\n/.test(e.token[L])){const r=e.begin[L]>-1?e.token[L].charAt(2)==="*"?Pe(F[L],k)+s.indentChar:Pe(F[L],k):s.indentChar;const j=e.token[L].split(/\n/);let w=1;do{j[w]=r+j[w].trimStart();w=w+1;}while(w<j.length);e.token.splice(L,1,j.join("\n"));}}if($.indexOf(e.token[L])<0){if(e.token[L]!==";"||s.script.noSemicolon===false){t.push(e.token[L]);}else if(F[L]<0&&e.types[L+1]!=="comment"){t.push(";");}}if(L<n-1&&e.lexer[L+1]!==f&&e.begin[L]===e.begin[L+1]&&e.types[L+1].indexOf("end")<0&&e.token[L]!==","){t.push(" ");}else if(F[L]>-1){if((F[L]>-1&&e.token[L]==="{"||F[L]>-1&&e.token[L+1]==="}")&&e.lines[L]<3&&s.script.braceNewline===true){if(e.lines[L+1]<3)t.push(V(0));}t.push(V(F[L]));_=F[L];}else if(F[L]===-10){t.push(" ");if(e.lexer[L+1]!==f)_=_+1;}}else {if(d[L]===L){t.push(e.token[L]);}else {D.end=d[L];D.start=L;s.indentLevel=_;p=D.beautify[e.lexer[L]](s);t.push(p.replace(/\s+$/,""));L=D.iterator;if(F[L]===-10){t.push(" ");}else if(F[L]>-1){t.push(V(F[L]));}s.indentLevel=0;}}L=L+1;}while(L<n);D.iterator=n-1;return t.join("")})();return y};var Me={};Ze(Me,{format:()=>Ie,language:()=>Re,options:()=>qe,parse:()=>ot});var Je=function(){const s=le(null);s.markup="markup";s.html="markup";s.liquid="markup";s.xml="markup";s.javascript="script";s.typescript="script";s.jsx="script";s.tsx="script";s.json="script";s.less="style";s.scss="style";s.sass="style";s.css="style";s.text="text";return s}();var Ge=function(){const s=le(null);s.html="HTML";s.xhtml="XHTML";s.liquid="Liquid";s.xml="XML";s.jsx="JSX";s.tsx="TSX";s.json="JSON";s.yaml="YAML";s.css="CSS";s.scss="SCSS";s.sass="SASS";s.less="LESS";s.text="Plain Text";s.javascript="JavaScript";s.typescript="TypeScript";return s}();function Be(s){if(typeof s!=="string")return "markup";if(s.indexOf("html")>-1)return "markup";if(Je[s]===void 0)return "script";return Je[s]}function rt(s){if(typeof s!=="string"||Ge[s]===void 0)return s.toUpperCase();return Ge[s]}function me(s){const a=le(null);if(s==="unknown"){a.language=s;a.languageName="Unknown";a.lexer="markup";}else if(s==="xhtml"||s==="markup"){a.language="xml";a.languageName="XHTML";a.lexer="markup";}else {a.language=s;a.languageName=rt(s);a.lexer=Be(s);}if(D.hooks.language.length>0){for(const c of D.hooks.language){const i=c(a);if(typeof i==="object")je(a,i);}}return a}Re.reference=me;Re.listen=function(s){D.hooks.language.push(s);};function Re(s){let a=[];let c=0;const i=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(s)&&/@import/.test(s)===false;const d=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(s);function e(){if(/\n\s*#+\s+/.test(s)||/^#+\s+/.test(s))return me("markdown");if(/\$[a-zA-Z]/.test(s)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(s)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(s)&&/:\s*@[a-zA-Z];/.test(s)===false)return me("scss");if(/@[a-zA-Z]:/.test(s)||/\.[a-zA-Z]\(\);/.test(s))return me("less");return me("css")}function f(){let n=1;let F="";let y=false;let t=false;const k=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(s);function X(){if(s.indexOf("(")>-1||s.indexOf("=")>-1||s.indexOf(";")>-1&&s.indexOf("{")>-1){if(d===true||/\w<\w+(,\s+\w+)*>/.test(s))return me("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(s)||/=\s*<\w+/.test(s))return me("typescript");return me("javascript")}return me("unknown")}function o(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(s)||/(?:public|private)\s+/.test(s)||/(?:export|declare)\s+type\s+\w+\s*=/.test(s)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(s)||/(?:typeof|keyof|as)\s+\w+/.test(s)||/\w+\s+as\s+\w+/.test(s)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(s)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(s)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(s))return me("typescript");if(/\s(class|var|const|let)\s+\w/.test(s)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(s)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(s)&&(/\s?\{%/.test(s)||/{{/.test(s)))return me("liquid");if(/^(\s*[$@])/.test(s)===false&&/([}\]];?\s*)$/.test(s)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(s)||/module\.export\s+=\s+/.test(s)||/export\s+default\s+\{/.test(s)||/[?:]\s*[{[]/.test(s)||/^(?:\s*return;?(?:\s+[{[])?)/.test(s)){return me("javascript")}}if(/{%/.test(s)&&/{{/.test(s)&&/<\w/.test(s))return me("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(s))return me("less");if(/\$(\w|-)/.test(s))return me("scss");if(/[;{:]\s*@\w/.test(s)===true)return me("less");return me("css")}if(n<c){do{if(y===false){if(a[n]==="*"&&a[n-1]==="/"){a[n-1]="";y=true;}else if(t===false&&a[n]==="f"&&n<c-6&&a[n+1]==="i"&&a[n+2]==="l"&&a[n+3]==="t"&&a[n+4]==="e"&&a[n+5]==="r"&&a[n+6]===":"){t=true;}}else if(y===true&&a[n]==="*"&&n!==c-1&&a[n+1]==="/"){y=false;a[n]="";a[n+1]="";}else if(t===true&&a[n]===";"){t=false;a[n]="";}if(y===true||t===true)a[n]="";n=n+1;}while(n<c)}F=a.join("");if(/\s\/\//.test(s)===false&&/\/\/\s/.test(s)===false&&/^(\s*(\{|\[)(?!%))/.test(s)===true&&/((\]|\})\s*)$/.test(s)&&s.indexOf(",")!==-1)return me("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(s)===true&&(i===true||k===true||/console\.log\(/.test(s)===true||/export\s+default\s+class\s+/.test(s)===true||/export\s+(const|var|let|class)s+/.test(s)===true||/document\.get/.test(s)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(s)===true||s.indexOf("{")===-1||/^(\s*if\s+\()/.test(s)===true))return X();if(s.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(s)||/^(\s*\/(\*|\/))/.test(s)||/^(\s*\*\s*\{)/.test(s))&&/^(\s*if\s*\()/.test(s)===false&&/=\s*(\{|\[|\()/.test(F)===false&&(/(\+|-|=|\?)=/.test(F)===false||/\/\/\s*=+/.test(F)||/=+('|")?\)/.test(s)&&/;\s*base64/.test(s))&&/function(\s+\w+)*\s*\(/.test(F)===false)return o();return s.indexOf("{%")>-1?me("liquid"):me("unknown")}function B(){function n(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(s)||/{%-?\s*end\w+/.test(s)||/{{-?\s*content_for/.test(s)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(s)||/{%/.test(s)&&/%}/.test(s)&&/{{/.test(s)&&/}}/.test(s)?me("liquid"):me("html")}return /^(\s*<!doctype\s+html>)/i.test(s)||/^(\s*<html)/i.test(s)||/<form\s/i.test(s)&&/<label\s/i.test(s)&&/<input\s/i.test(s)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(s)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(s))||/<ul\s/i.test(s)&&/<li\s/i.test(s)&&/<\/li>/i.test(s)&&/<\/ul>/i.test(s)||/<head\s*>/.test(s)&&/<\/head>/.test(s)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(s)&&/XHTML\s+1\.1/.test(s)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(s)===false?n():/\s?{[{%]-?/.test(s)?me("liquid"):me("xml")}if(s===null||s.replace(/\s+/g,"")==="")return me("unknown");if((/\n\s*#{1,6}\s+/.test(s)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(s))&&(/\[( |x|X)\]/.test(s)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(s)||/\n\s*```[a-zA-Z]*?\s+/.test(s)||/-+\|(-+\|)+/.test(s)))return me("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(s))return B();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(s))return e();if(d===false&&/=(>|=|-|\+|\*)/.test(s)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(s)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(s)===false&&i===false&&/return\s*\w*\s*(;|\})/.test(s)===false&&(s===void 0||/^(?:\s*#(?!(!\/)))/.test(s)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(s)&&/>\s*<\w/.test(s)===false||(/^\s*:root\s*\{/.test(s)||/-{2}\w+\s*\{/.test(s)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(s))))return e();a=s.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,"").split("");c=a.length;if(/^(\s*({{|{%|<))/.test(s))return B();if(d===true||/^(?:[\s\w-]*<)/.test(s)===false&&/(?:>[\s\w-]*)$/.test(s)===false)return f();return (/^(?:\s*<\?xml)/.test(s)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(s)||/^\s*</.test(s)&&/<\/\w+(\w|\d)+>\s*$/.test(s))&&(/^(?:[\s\w]*<)/.test(s)||/(?:>[\s\w]*)$/.test(s))||/^(?:\s*<s((cript)|(tyle)))/i.test(s)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(s)?/^(?:[\s\w]*<)/.test(s)===false||/(?:>[\s\w]*)$/.test(s)===false?f():B():me("unknown")}function Ke(s){const a=s.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify\s+(\w+)?\s*{\s+/);const c=s.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify-ignore\b/);const i=Oe(Se);const d=i.length;let e=0;if(c>-1&&s.source.slice(0,c).trimStart()==="")return false;if(a>-1&&(a===0||`"':`.indexOf(s.source.charAt(a-1))<0)){let j=function(){if(y.charAt(k-1)!=="\\")return false;let w=k;do{w=w-1;}while(w>0&&y.charAt(w)==="\\");return (k-w)%2===0};const n=[];const F=a;const y=s.source;const t=y.length;let k=F;let X=0;let o="";let $="";let L="";let p="";let _=[];let V=[];let P;let r;if(y.charAt(k)==="<"){r="<!--";}else if(y.charAt(k+1)==="/"){r="//";}else if(y.charAt(k+1)==="%"){P=y.indexOf("}",k+1);if(y[P-1].charCodeAt(0)===37)r=y.slice(k,P+1);}else {r="/*";}do{if(y.slice(k-9,k)==="@prettify")break;k=k+1;}while(k<t);do{if(j()===false){if(o===""){if(y.charAt(k)==='"'||y.charAt(k)==="'"||y.charAt(k)==="`"){o=y.charAt(k);if(n.length>0&&n[n.length-1].charAt(n[n.length-1].length-1)===":")X=k;}else if(/\s/.test(y.charAt(k))===false&&X===0){X=k;}else if(y.charAt(k)===","||/\s/.test(y.charAt(k))===true&&X>0){$=y.slice(X,k);if(n.length>0){if(n.length>0&&$===":"&&n[n.length-1].indexOf(":")<0){n[n.length-1]=n[n.length-1]+$;X=k;}else if(n.length>0&&n[n.length-1].charAt(n[n.length-1].length-1)===":"){n[n.length-1]=n[n.length-1]+$;X=0;}else {n.push($);X=0;}}else {n.push($);X=0;}}if(r==="<!--"&&y.slice(k-2,k+1)==="-->")break;if(r==="//"&&y.charAt(k)==="\n")break;if(r==="/*"&&y.slice(k-1,k+1)==="*/")break;if(r.charCodeAt(1)===37&&y.slice(k-1,k+1)==="%"&&y.indexOf("endcomment",y.indexOf("{%",P))>0)break}else if(y.charAt(k)===o&&o!=="${"){o="";}else if(o==="`"&&y.slice(k,k+2)==="${"){o="${";}else if(o==="${"&&y.charAt(k)==="}"){o="`";}}k=k+1;}while(k<t);if(X>0){o=y.slice(X,k+1);if(r==="<!--")o=o.replace(/\s*-+>$/,"");else if(r==="//")o=o.replace(/\s+$/,"");else o=o.replace(/\s*\u002a\/$/,"");n.push(o);}k=n.length;if(k>0){do{k=k-1;if(n[k].indexOf(":")>0){V=[n[k].slice(0,n[k].indexOf(":")),n[k].slice(n[k].indexOf(":")+1)];}else if(Se[n[k]]!==void 0&&Se[n[k]].type==="boolean"){s.options[n[k]]=true;}if(V.length===2&&Se[V[0]]!==void 0){if(V[1].charAt(V[1].length-1)===V[1].charAt(0)&&(V[1].charAt(0)==='"'||V[1].charAt(0)==="'"||V[1].charAt(0)==="`")){V[1]=V[1].slice(1,V[1].length-1);}if(Se[V[0]].type==="number"&&isNaN(Number(V[1]))===false){s.options[V[0]]=Number(V[1]);}else if(Se[V[0]].type==="boolean"){s.options[V[0]]=V[1]==="true";}else {if(Se[V[0]].values!==void 0){_=Oe(Se[V[0]].values);X=_.length;do{X=X-1;if(_[X]===V[1]){s.options[V[0]]=V[1];break}}while(X>0)}else {if(V[0]==="language"){L=V[1];}else if(V[0]==="lexer"){p=V[1];}s.options[V[0]]=V[1];}}}}while(k>0);if(p===""&&L!=="")p=Be(L);}}if(s.options.lexer==="script"){if(s.options.script.styleGuide!==void 0){switch(s.options.script.styleGuide){case"airbnb":s.options.wrap=80;s.options.indentChar=" ";s.options.indentSize=2;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.endComma="always";s.options.script.bracePadding=true;break;case"crockford":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"google":s.options.wrap=-1;s.options.indentChar=" ";s.options.indentSize=4;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.vertical=false;break;case"jquery":s.options.wrap=80;s.options.indentChar="	";s.options.indentSize=1;s.options.script.correct=true;s.options.script.bracePadding=true;s.options.script.quoteConvert="double";s.options.script.variableList="each";break;case"jslint":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"standard":s.options.wrap=0;s.options.indentChar=" ";s.options.indentSize=2;s.options.endNewline=false;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.noSemicolon=true;s.options.script.endComma="never";s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.quoteConvert="single";s.options.script.functionSpace=true;s.options.script.ternaryLine=false;s.options.script.variableList="each";s.options.script.vertical=false;break;case"yandex":s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.vertical=false;break}}if(s.options.script.braceStyle!==void 0){switch(s.options.script.braceStyle){case"collapse":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break;case"collapse-preserve-inline":s.options.script.braceNewline=false;s.options.script.bracePadding=true;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=false;break;case"expand":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=true;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break}}if(s.options.language==="json")s.options.wrap=0;}do{if(s.options[Oe[e]]!==void 0){Se[Oe[e]].lexer.length;}e=e+1;}while(e<d)}function lt(s){const a=s.options.language;const c=s.options.lexer;l.count=-1;l.linesSpace=0;l.lineNumber=1;l.data.begin=[];l.data.ender=[];l.data.lexer=[];l.data.lines=[];l.data.stack=[];l.data.token=[];l.data.types=[];l.datanames=["begin","ender","lexer","lines","stack","token","types"];l.structure=[["global",-1]];l.structure.pop=function B(){const n=l.structure.length-1;const F=l.structure[n];if(n>0)l.structure.splice(n,1);return F};if(s.options.language==="auto"||s.options.lexer==="auto"){const B=Re(s.source);if(s.options.language==="auto")s.options.language=B.language;if(s.options.lexer==="auto")s.options.lexer=B.lexer;}if(typeof s.lexers[s.options.lexer]==="function"){l.references=[[]];l.error="";for(const B of Oe(s.lexers)){if(s.options.language==="json"){s.options.json=s.options.json||le(null);}else {s.options[B]=s.options[B]||le(null);}}s.lexers[s.options.lexer](`${s.source} `);}else {l.error=`Specified lexer, ${s.options.lexer}, is not a function.`;}let i=0;let d=0;const e=Oe(l.data);const f=e.length;do{d=i+1;do{if(l.data[e[i]].length!==l.data[e[d]].length){l.error=`"${e[i]}" array is of different length than "${e[d]}"`;break}d=d+1;}while(d<f);i=i+1;}while(i<f-1);if(l.data.begin.length>0){if(s.options.lexer==="script"&&s.options[s.options.lexer].objectSort){l.sortCorrection(0,l.count+1);}else if(s.options.lexer==="style"&&s.options[s.options.lexer].sortProperties){l.sortCorrection(0,l.count+1);}}s.options.language=a;s.options.lexer=c;return l.data}function Fe(s){const a=Date.now();const c=s.mode;const i=s.options.crlf===true?"\r\n":"\n";let d="";if(s.source.trimStart()===""){const B=new RegExp(`\\n{${s.options.preserveLine},}`);d=s.source;d=s.source.replace(B,"\n\n");d=s.options.endNewline===true?d.replace(/\s*$/,i):d.replace(/\s+$/,"");s.stats.chars=d.length;s.stats.language=s.options.languageName;s.stats.size=Ee(d.length);s.stats.time=(Date.now()-a).toFixed(1);return d}if(s.options.language==="text"){s.options.language="auto";}if(s.options.lexer==="text"){s.options.lexer="auto";}if(s.options.language==="text"||s.options.lexer==="text"){s.options.language="text";s.options.languageName="Plain Text";s.options.lexer="text";}else if(s.options.language==="auto"&&s.options.lexer==="auto"){const B=Re(s.source);if(s.options.lexer==="auto"){s.options.lexer=B.lexer;}if(s.options.language==="auto"){s.options.language=B.language;s.options.languageName=B.languageName;}}else {s.options.lexer=Be(s.options.language);}s.stats.language=s.options.languageName;const e=Ke(s);if(e===false){s.stats.time=-1;s.stats.chars=s.source.length;s.stats.size=Ee(s.stats.chars);return s.source}s.parsed=lt(s);if(c==="parse"){s.stats.time=(Date.now()-a).toFixed(1);s.stats.chars=s.source.length;s.stats.size=Ee(s.stats.chars);return s.parsed}d=s.beautify[s.options.lexer](s.options);d=s.options.endNewline===true?d.replace(/\s*$/,i):d.replace(/\s+$/,"");const f=d.length;s.stats.chars=f;s.stats.size=Ee(f);s.stats.time=(Date.now()-a).toFixed(1);s.end=0;s.start=0;return d}Ie.before=s=>D.hooks.before.push(s);Ie.after=s=>D.hooks.after.push(s);qe.listen=s=>D.hooks.rules.push(s);Object.defineProperty(Ie,"stats",{get(){return D.stats}});Object.defineProperty(qe,"rules",{get(){return D.options}});function Ie(s,a){D.source=s;if(typeof a==="object")D.options=qe(a);if(D.hooks.before.length>0){for(const i of D.hooks.before){if(i(D.options,s)===false)return s}}const c=Fe(D);if(D.hooks.after.length>0){for(const i of D.hooks.after){if(i.call(D.parsed,c,D.options)===false)return s}}return new Promise((i,d)=>{if(l.error.length)return d(l.error);return i(c)})}function qe(s){var a,c,i,d,e,f,B,n,F;for(const y of Oe(s)){if(((c=(a=Se)==null?void 0:a[y])==null?void 0:c.lexer)==="auto"){D.options[y]=s[y];}else if(y==="markup"){je(D.options.markup,s.markup);}else if(y==="script"){je(D.options.script,s.script);}else if(y==="style"){je(D.options.style,s.style);}else if(y==="json"){je(D.options.json,s.json);}else if(y==="grammar"){if((d=(i=s.grammar)==null?void 0:i.html)==null?void 0:d.voids){je(D.options.grammar.html,s.grammar.html);for(const t of s.grammar.html.voids)ge.html.voids.add(t);}if((e=s.grammar)==null?void 0:e.liquid){if((B=(f=s.grammar)==null?void 0:f.liquid)==null?void 0:B.tags){D.options.grammar.liquid.tags=s.grammar.liquid.tags;for(const t of s.grammar.liquid.tags)ge.liquid.tags.add(t);}if((F=(n=s.grammar)==null?void 0:n.liquid)==null?void 0:F.singletons){D.options.grammar.liquid.singletons=s.grammar.liquid.singletons;for(const t of s.grammar.liquid.singletons)ge.liquid.singletons.add(t);}}}else if(y in D.options){D.options[y]=s[y];}}if(D.hooks.rules.length>0){for(const y of D.hooks.rules)y(D.options);}return D.options}function ot(s,a){D.source=s;D.mode="parse";if(typeof a==="object")D.options=qe(a);const c=Fe(D);return new Promise((i,d)=>{if(l.error.length)return d(l.error);return i(c)})}return it(at);})();

})();
