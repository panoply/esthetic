'use strict';

var Fe=Object.defineProperty;var nt=Object.getOwnPropertyDescriptor;var st=Object.getOwnPropertyNames;var it=Object.prototype.hasOwnProperty;var Ve=(l,a)=>{for(var p in a)Fe(l,p,{get:a[p],enumerable:true});};var rt=(l,a,p,n)=>{if(a&&typeof a==="object"||typeof a==="function"){for(let d of st(a))if(!it.call(l,d)&&d!==p)Fe(l,d,{get:()=>a[d],enumerable:!(n=nt(a,d))||n.enumerable});}return l};var lt=l=>rt(Fe({},"__esModule",{value:true}),l);var ut={};Ve(ut,{default:()=>Je,definitions:()=>Ce});module.exports=lt(ut);var A="";var Le=Object.assign;var ie=Object.create;var Oe=Object.keys;var Pe=Object.defineProperty;var _e=Array.isArray;var Se;var re=new(Se=class{constructor(){this.html=ie(null);this.liquid=ie(null);this.script=ie(null);this.style=ie(null);this.script.keywords=new Set(Se.defaults.script.keywords);this.style.units=new Set(Se.defaults.style.units);this.html.tags=new Set(Se.defaults.html.tags);this.html.voids=new Set(Se.defaults.html.voids);this.html.embed=ie(null);this.liquid.tags=new Set(Se.defaults.liquid.tags);this.liquid.else=new Set(Se.defaults.liquid.else);this.liquid.singletons=new Set(Se.defaults.liquid.singletons);this.liquid.embed=ie(null);this.defaults();}embed(a,p){return p in this[a].embed}defaults(){for(const a in Se.defaults.html.embedded){this.html.embed[a]=ie(null);for(const{language:p,attribute:n=null}of Se.defaults.html.embedded[a]){this.html.embed[a].language=p;if(typeof n==="object"){for(const d in n){this.html.embed[a].attribute=d;if(Array.isArray(n[d])){this.html.embed[a].value=t=>new Set(n[d]).has(t);}else {this.html.embed[a].value=t=>new RegExp(n[d]).test(t);}}}else {this.html.embed[a].attribute=null;}}}for(const a in Se.defaults.liquid.embedded){this.liquid.embed[a]=ie(null);this.liquid.embed[a].end=p=>new RegExp(`^{%-?\\s*end${a}`).test(p);for(const{language:p,argument:n}of Se.defaults.liquid.embedded[a]){this.liquid.embed[a].language=p;if(n){if(Array.isArray(n)){this.liquid.embed[a].attribute=d=>new Set(n).has(d);}else {this.liquid.embed[a].attribute=d=>new RegExp(n).test(d);}}else {this.liquid.embed[a].attribute=null;}}}}extend(a){for(const p in a){if(p==="html"){if("tags"in a[p]&&Array.isArray(a[p].tags)){for(const n of a[p].tags){if(!this.html.tags.has(n))this.html.tags.add(n);}}if("voids"in a[p]&&Array.isArray(a[p].voids)){for(const n of a[p].voids){if(!this.html.voids.has(n))this.html.voids.add(n);}}if("embedded"in a[p]);}if(p==="liquid"){if("tags"in a[p]&&Array.isArray(a[p].tags)){for(const n of a[p].tags){if(!this.liquid.tags.has(n))this.liquid.tags.add(n);}}if("else"in a[p]&&Array.isArray(a[p].else)){for(const n of a[p].else){if(!this.liquid.else.has(n))this.liquid.else.add(n);}}if("singletons"in a[p]&&Array.isArray(a[p].singletons)){for(const n of a[p].singletons){if(!this.liquid.singletons.has(n))this.liquid.singletons.add(n);}}if("embedded"in a[p]&&typeof a[p].embedded==="object"){for(const n in a[p].embedded){if(!(n in this.liquid.embed)){this.liquid.embed[n]=ie(null);this.liquid.embed[n].end=d=>new RegExp(`{%-?\\s*end${n}`).test(d);}for(const{language:d,argument:t}of a[p].embedded[n]){if(this.liquid.embed[n].language!==d){this.liquid.embed[n].language=d;}if(t){if(this.liquid.embed[n].attribute===null){if(Array.isArray(t)){this.liquid.embed[n].attribute=q=>new Set(t).has(q);}else {this.liquid.embed[n].attribute=q=>new RegExp(t).test(q);}}else {const q=[];for(const E of Se.defaults.liquid.embedded[n]){if(Array.isArray(E.argument)){for(const w of E.argument){if(t!==w)q.push(t);else q.push(w);}this.liquid.embed[n].attribute=w=>new Set(q).has(w);}else {if(E.argument!==t){this.liquid.embed[n].attribute=w=>new RegExp(t).test(w);}}}}}}}}}if(p==="style"){if("units"in a[p]&&Array.isArray(a[p].units)){for(const n of a[p].units){if(!this.style.units.has(n))this.style.units.add(n);}}}if(p==="script"){if("keywords"in a[p]&&Array.isArray(a[p].keywords)){for(const n of a[p].keywords){if(!this.script.keywords.has(n))this.script.keywords.add(n);}}}}}},Se.defaults={script:{keywords:["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]},style:{units:["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"]},html:{embedded:{script:[{language:"javascript"},{language:"json",attribute:{type:["application/json","application/ld+json"]}},{language:"jsx",attribute:{type:["text/jsx","application/jsx"]}}],style:[{language:"css"}]},voids:["area","base","basefont","br","col","embed","eventsource","frame","hr","image","img","input","isindex","keygen","link","meta","path","param","progress","source","wbr","use"],tags:["body","colgroup","dd","dt","head","html","li","option","p","tbody","td","tfoot","th","thead","tr"]},liquid:{embedded:{schema:[{language:"json"}],style:[{language:"css"}],stylesheet:[{language:"css"},{language:"scss",argument:/\s*['"]scss['"]/}],javascript:[{language:"javascript"}]},tags:["case","capture","comment","embed","filter","for","form","if","macro","paginate","raw","switch","tablerow","unless","verbatim","schema","style","javascript","highlight","stylesheet"],else:["default","else","when","elsif"],singletons:["assign","increment","decrement","render","include"]}},Se);function ye(l){const a=ie(null);if(l)return Le(a,l);return a}function qe(l,a=" "){if(l===0)return a;let p="";let n=1;do{p+=a;}while(n++<l);return p}function g(l,a){if(!l)return false;return l.charCodeAt(0)===a}function Y(l,a){return g(l,a)===false}function le(l){return /\s/.test(l)}function Ee(l){const a=1024;const p=1048576;const n=1073741824;if(l<a)return l+" B";else if(l<p)return (l/a).toFixed(1)+" KB";else if(l<n)return (l/p).toFixed(1)+" MB";else return (l/n).toFixed(1)+" GB"}function Xe(l){return `\\${l}`}function De(l){const a=l.indexOf("{");const p=g(l[a+2],45)?l.slice(a+3).trimStart():l.slice(a+2).trimStart();return p.slice(0,p.search(/\s/))}function Ge(l){const a=l.indexOf("{");if(g(l[a+1],37)){let p=g(l[a+2],45)?l.slice(a+3).trimStart():l.slice(a+2).trimStart();p=p.slice(0,p.search(/\s/));if(p.startsWith("end"))return false;return re.liquid.tags.has(p)}return false}function Ie(l){let a=l;if(Array.isArray(l))a=l.join("");const p=a.indexOf("{");if(g(a[p+1],37)){if(g(a[p+2],45))return a.slice(p+3).trimStart().startsWith("end");return a.slice(p+2).trimStart().startsWith("end")}return false}function $e(l,a){if(a===1){return g(l[0],123)&&(g(l[1],37)||g(l[1],123))}else if(a===2){return g(l[l.length-1],125)&&(g(l[l.length-2],37)||g(l[l.length-2],123))}else if(a===3){return g(l[0],123)&&(g(l[1],37)||g(l[1],123))&&(g(l[l.length-1],125)&&(g(l[l.length-2],37)||g(l[l.length-2],123)))}else if(a===4){return /{[{%}]/.test(l)}else if(a===5){return /{[{%]/.test(l)&&/[%}]}/.test(l)}}function ze(l){let a=0;const p=l.length;const n=l;const d=()=>{let q=0;const E=n.length;if(q<E){do{if(_e(n[q])===true)n[q]=ze.apply(this,n[q]);q=q+1;}while(q<E)}};const t=q=>{let E=a;let w=0;let k=0;let u=0;let e=[];let b=n[a];let H="";const o=typeof b;if(E<p){do{H=typeof n[E];if(n[E]<b||H<o){b=n[E];e=[E];}else if(n[E]===b){e.push(E);}E=E+1;}while(E<p)}k=e.length;E=a;w=k+a;if(E<w){do{n[e[u]]=n[E];n[E]=b;u=u+1;E=E+1;}while(E<w)}a=a+k;if(a<p){t("");}else {if(this.recursive===true)d();l=n;}return q};t("");return l}function He(l){let a=0;const p=l.length;const n=l;const d=()=>{let q=0;const E=n.length;if(q<E){do{if(_e(n[q]))n[q]=He.apply(this,n[q]);q=q+1;}while(q<E)}};const t=q=>{let E=a;let w=0;let k=0;let u=0;let e=n[a];let b=[];let H="";const o=typeof e;if(E<p){do{H=typeof n[E];if(n[E]>e||H>o){e=n[E];b=[E];}else if(n[E]===e){b.push(E);}E=E+1;}while(E<p)}k=b.length;E=a;w=k+a;if(E<w){do{n[b[u]]=n[E];n[E]=e;u=u+1;E=E+1;}while(E<w)}a=a+k;if(a<p){t("");}else {if(this.recursive===true)d();l=n;}return q};t("");return l}function Ue(l){let a=l;const p=[l[0]];const n=()=>{let t=0;const q=a.length;if(t<q){do{if(_e(a[t]))a[t]=Ue.apply(this,a[t]);t=t+1;}while(t<q)}};const d=t=>{let q=0;const E=[];const w=a.length;if(q<w){do{if(a[q]!==t)E.push(a[q]);q=q+1;}while(q<w)}a=E;if(E.length>0){p.push(E[0]);d(E[0]);}else {if(this.recursive===true)n();l=a;}};d(this.array[0]);return l}var Q=function(){const l=ye({env:typeof process!=="undefined"&&process.versions!=null?"node":"browser",mode:"beautify",end:0,iterator:0,start:0,scopes:[],beautify:ie(null),lexers:ie(null),parsed:ye({begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]}),hooks:ye({before:[],language:[],rules:[],after:[]}),stats:ye({chars:-1,time:-1,size:"",language:""}),options:ye({lexer:"auto",language:"text",languageName:"Plain Text",mode:"beautify",indentLevel:0,crlf:false,commentIndent:true,endNewline:false,indentChar:" ",indentSize:2,preserveComment:false,preserveLine:2,wrap:0,grammar:ye({html:ye({tags:[],voids:[],embedded:ie(null)}),liquid:ye({tags:[],else:[],singletons:[],embedded:ie(null)}),script:ye({keywords:[]}),style:ye({units:[]})}),markup:ye({correct:false,commentNewline:false,attributeChain:"inline",attributeValues:"preserve",attributeSort:false,attributeSortList:[],forceAttribute:false,forceLeadAttribute:false,preserveText:false,preserveAttributes:false,selfCloseSpace:false,forceIndent:false,quoteConvert:"none"}),style:ye({correct:false,compressCSS:false,classPadding:false,noLeadZero:false,sortSelectors:false,sortProperties:false,quoteConvert:"none",forceValue:"preserve"}),script:ye({correct:false,braceNewline:false,bracePadding:false,braceStyle:"none",braceAllman:false,commentNewline:false,caseSpace:false,inlineReturn:true,elseNewline:false,endComma:"never",arrayFormat:"default",objectSort:false,objectIndent:"default",functionNameSpace:false,functionSpace:false,styleGuide:"none",ternaryLine:false,methodChain:4,neverFlatten:false,noCaseIndent:false,noSemicolon:false,quoteConvert:"none",variableList:"none",vertical:false}),json:ye({arrayFormat:"default",braceAllman:false,bracePadding:false,objectIndent:"default",objectSort:false})})});let a="";Pe(l,"source",{get(){return l.env==="node"&&Buffer.isBuffer(a)?a.toString():a},set(p){a=l.env==="node"?Buffer.isBuffer(p)?p:Buffer.from(p):p;}});return l}();var s=new class Ot{constructor(){this.data=ie(null);this.references=[[]];this.structure=[["global",-1]];this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.count=-1;this.lineNumber=1;this.linesSpace=0;this.error="";this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];}get current(){const{begin:a,ender:p,lexer:n,lines:d,stack:t,token:q,types:E}=this.data;return {begin:a[a.length-1],ender:p[p.length-1],lexer:n[n.length-1],lines:d[d.length-1],stack:t[t.length-1],token:q[a.length-1],types:E[a.length-1]}}concat(a,p){for(const n of this.datanames)a[n]=a[n].concat(p[n]);if(a===this.data)this.count=a.token.length-1;}objectSort(a){let p=this.count;let n=this.structure[this.structure.length-1][1];let d=0;let t=0;let q=0;let E=0;let w=true;let k=0;let u=0;let e=0;const b=[];const H=n;const o=Q.options.language==="json";const $=a.lexer[p]==="style"&&this.structure[this.structure.length-1][0]==="global";const m=a.lexer[p]==="style";const h=m===true?[";","separator"]:[",","separator"];const N=this.linesSpace;const J=this.count;const T=$===true?"global":this.structure[this.structure.length-1][0];function i(c,v){let y=c[0];let P=v[0];if(a.types[y]==="comment"){do{y=y+1;}while(y<J&&a.types[y]==="comment");if(a.token[y]===void 0){return 1}}if(a.types[P]==="comment"){do{P=P+1;}while(P<J&&a.types[P]==="comment");if(a.token[P]===void 0)return 1}if(m===true){if(a.token[y].indexOf("@import")===0||a.token[P].indexOf("@import")===0){return y<P?-1:1}if(a.types[y]!==a.types[P]){if(a.types[y]==="function")return 1;if(a.types[y]==="variable")return -1;if(a.types[y]==="selector")return 1;if(a.types[y]==="property"&&a.types[P]!=="variable")return -1;if(a.types[y]==="mixin"&&a.types[P]!=="property"&&a.types[P]!=="variable")return -1}}if(a.token[y].toLowerCase()>a.token[P].toLowerCase())return 1;return -1}const C=ie(null);C.begin=[];C.ender=[];C.lexer=[];C.lines=[];C.stack=[];C.token=[];C.types=[];E=p;do{if(a.begin[p]===n||$===true&&p<E&&a.token[p]==="}"&&a.begin[a.begin[p]]===-1){if(a.types[p].indexOf("template")>-1)return;if(a.token[p]===h[0]||m===true&&a.token[p]==="}"&&a.token[p+1]!==";"){w=true;k=p+1;}else if(m===true&&a.token[p-1]==="}"){w=true;k=p;}if(k===0&&a.types[0]==="comment"){do{k=k+1;}while(a.types[k]==="comment")}else if(a.types[k]==="comment"&&a.lines[k]<2){k=k+1;}if(w===true&&(a.token[p]===h[0]||m===true&&a.token[p-1]==="}")&&k<=E){if(m===true&&"};".indexOf(a.token[E])<0){E=E+1;}else if(m===false&&a.token[E]!==","){E=E+1;}b.push([k,E]);if(m===true&&a.token[k]==="}"){E=k;}else {E=k-1;}}}p=p-1;}while(p>n);if(b.length>0&&b[b.length-1][0]>p+1){d=b[b.length-1][0]-1;if(a.types[d]==="comment"&&a.lines[d]>1){do{d=d-1;}while(d>0&&a.types[d]==="comment");b[b.length-1][0]=d+1;}if(a.types[p+1]==="comment"&&p===-1){do{p=p+1;}while(a.types[p+1]==="comment")}b.push([p+1,d]);}if(b.length>1){if(o===true||m===true||a.token[p-1]==="="||a.token[p-1]===":"||a.token[p-1]==="("||a.token[p-1]==="["||a.token[p-1]===","||a.types[p-1]==="word"||p===0){b.sort(i);e=b.length;w=false;n=0;do{u=b[n][1];if(m===true){q=u;if(a.types[q]==="comment")q=q-1;if(a.token[q]==="}"){u=u+1;h[0]="}";h[1]="end";}else {h[0]=";";h[1]="separator";}}d=b[n][0];if(m===true&&a.types[u-1]!=="end"&&a.types[u]==="comment"&&a.types[u+1]!=="comment"&&n<e-1){u=u+1;}if(d<u){do{if(m===false&&n===e-1&&d===u-2&&a.token[d]===","&&a.lexer[d]==="script"&&a.types[d+1]==="comment"){t=t+1;}else {const c=ie(null);c.begin=a.begin[d];c.ender=a.ender[d];c.lexer=a.lexer[d];c.lines=a.lines[d];c.stack=a.stack[d];c.token=a.token[d];c.types=a.types[d];this.push(C,c,"");t=t+1;}if(a.token[d]===h[0]&&(m===true||a.begin[d]===a.begin[b[n][0]])){w=true;}else if(a.token[d]!==h[0]&&a.types[d]!=="comment"){w=false;}d=d+1;}while(d<u)}if(w===false&&C.token[C.token.length-1]!=="x;"&&(m===true||n<e-1)){d=C.types.length-1;if(C.types[d]==="comment"){do{d=d-1;}while(d>0&&C.types[d]==="comment")}d=d+1;this.splice({data:C,howmany:0,index:d,record:{begin:H,ender:this.count,lexer:C.lexer[d-1],lines:0,stack:T,token:h[0],types:h[1]}});t=t+1;}n=n+1;}while(n<e);this.splice({data:a,howmany:t,index:p+1});this.linesSpace=N;this.concat(a,C);}}}pop(a){const p=ie(null);p.begin=a.begin.pop();p.ender=a.ender.pop();p.lexer=a.lexer.pop();p.lines=a.lines.pop();p.stack=a.stack.pop();p.token=a.token.pop();p.types=a.types.pop();if(a===this.data)this.count=this.count-1;return p}push(a,p,n){const d=()=>{let t=this.count;const q=a.begin[t];if(a.lexer[t]==="style"&&Q.options.style.sortProperties===true||a.lexer[t]==="script"&&(Q.options.script.objectSort===true||Q.options.json.objectSort===true)){return}do{if(a.begin[t]===q||a.begin[a.begin[t]]===q&&a.types[t].indexOf("attribute")>-1&&a.types[t].indexOf("attribute_end")<0){a.ender[t]=this.count;}else {t=a.begin[t];}t=t-1;}while(t>q);if(t>-1)a.ender[t]=this.count;};this.datanames.forEach(t=>a[t].push(p[t]));if(a===this.data){this.count=this.count+1;this.linesSpace=0;if(p.lexer!=="style"){if(n.replace(/(\{|\}|@|<|>|%|#|)/g,"")===""){n=p.types==="else"?"else":n=p.token;}}if(p.types==="start"||p.types.indexOf("_start")>0){this.structure.push([n,this.count]);}else if(p.types==="end"||p.types.indexOf("_end")>0){let t=0;if(this.structure.length>2&&(a.types[this.structure[this.structure.length-1][1]]==="else"||a.types[this.structure[this.structure.length-1][1]].indexOf("_else")>0)&&(a.types[this.structure[this.structure.length-2][1]]==="start"||a.types[this.structure[this.structure.length-2][1]].indexOf("_start")>0)&&(a.types[this.structure[this.structure.length-2][1]+1]==="else"||a.types[this.structure[this.structure.length-2][1]+1].indexOf("_else")>0)){this.structure.pop();a.begin[this.count]=this.structure[this.structure.length-1][1];a.stack[this.count]=this.structure[this.structure.length-1][0];a.ender[this.count-1]=this.count;t=a.ender[a.begin[this.count]+1];}d();if(t>0)a.ender[a.begin[this.count]+1]=t;this.structure.pop();}else if(p.types==="else"||p.types.indexOf("_else")>0){if(n==="")n="else";if(this.count>0&&(a.types[this.count-1]==="start"||a.types[this.count-1].indexOf("_start")>0)){this.structure.push([n,this.count]);}else {d();if(n===""){this.structure[this.structure.length-1]=["else",this.count];}else {this.structure[this.structure.length-1]=[n,this.count];}}}}}safeSort(a,p,n){if(_e(a)===false)return a;if(p==="normal"){return Ue.call({array:a,recursive:n},a)}else if(p==="descend"){return He.call({recursive:n},a)}return ze.call({recursive:n},a)}sortCorrection(a,p){let n=a;let d=-1;const t=this.data;const q=[];const E=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(n>0&&t.types[n].indexOf("attribute")>-1&&t.types[n].indexOf("end")<0&&t.types[n-1].indexOf("start")<0&&t.types[n-1].indexOf("attribute")<0&&t.lexer[n]==="markup"){E.push(n-1);}if(n>0&&t.types[n-1].indexOf("attribute")>-1&&t.types[n].indexOf("attribute")<0&&t.lexer[E[E.length-1]]==="markup"&&t.types[E[E.length-1]].indexOf("start")<0){E.pop();}if(t.begin[n]!==E[E.length-1]){if(E.length>0){t.begin[n]=E[E.length-1];}else {t.begin[n]=-1;}}if(t.types[n].indexOf("else")>-1){if(E.length>0){E[E.length-1]=n;}else {E.push(n);}}if(t.types[n].indexOf("end")>-1)E.pop();if(t.types[n].indexOf("start")>-1)E.push(n);n=n+1;}while(n<p);n=p;do{n=n-1;if(t.types[n].indexOf("end")>-1){q.push(n);d=d+1;}t.ender[n]=d>-1?q[d]:-1;if(t.types[n].indexOf("start")>-1){q.pop();d=d-1;}}while(n>a)}spacer(a){this.linesSpace=1;do{if(a.array[a.index]==="\n"){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(le(a.array[a.index+1])===false)break;a.index=a.index+1;}while(a.index<a.end);return a.index}splice(a){const p=[this.data.begin[this.count],this.data.token[this.count]];if(a.record!==void 0&&a.record.token!==""){for(const n of this.datanames){a.data[n].splice(a.index,a.howmany,a.record[n]);}if(a.data===this.data){this.count=this.count-a.howmany+1;if(p[0]!==this.data.begin[this.count]||p[1]!==this.data.token[this.count]){this.linesSpace=0;}}return}for(const n of this.datanames){a.data[n].splice(a.index,a.howmany);}if(a.data===this.data){this.count=this.count-a.howmany;this.linesSpace=0;}}wrapCommentBlock(a){const{wrap:p,crlf:n,preserveComment:d}=Q.options;const t=[];const q=[];const E=n===true?"\r\n":"\n";const w=/(\/|\\|\||\*|\[|\]|\{|\})/g;const k=/{%-?\s*|\s*-?%}/g;let u=a.start;let e=0;let b=0;let H=0;let o=0;let $=[];let m="";let h="";let N=false;let J=false;let T=false;let i=false;let C="";let c=a.terminator.length-1;let v=a.terminator.charAt(c);let y=0;let P;const j=a.opening.replace(w,Xe);const R=new RegExp(`^(${j}\\s*@prettify-ignore-start)`);const D=new RegExp(`(${j}\\s*)`);const oe=g(a.opening[0],123)&&g(a.opening[1],37);if(oe){P=new RegExp(`\\s*${a.terminator.replace(k,ee=>{if(ee.charCodeAt(0)===123)return "{%-?\\s*";return "\\s*-?%}"})}$`);}const X=()=>{if(/^\s+$/.test($[e+1])||$[e+1]===""){do{e=e+1;}while(e<o&&(/^\s+$/.test($[e+1])||$[e+1]===""))}if(e<o-1)q.push("");};do{t.push(a.chars[u]);if(a.chars[u]==="\n")this.lineNumber=this.lineNumber+1;if(a.chars[u]===v&&a.chars.slice(u-c,u+1).join("")===a.terminator)break;u=u+1;}while(u<a.end);C=t.join("");if(R.test(C)===true){let ee="\n";u=u+1;do{t.push(a.chars[u]);if(t.slice(t.length-20).join("")==="@prettify-ignore-end"){if(oe){const Z=a.chars.indexOf("{",u);if(g(a.chars[Z+1],37)){const U=a.chars.slice(Z,a.chars.indexOf("}",Z+1)+1).join("");if(P.test(U))a.terminator=U;}}u=u+1;break}u=u+1;}while(u<a.end);e=u;c=a.opening.length-1;v=a.opening.charAt(c);do{if(a.opening==="/*"&&a.chars[e-1]==="/"&&(a.chars[e]==="*"||a.chars[e]==="/"))break;if(a.opening!=="/*"&&a.chars[e]===v&&a.chars.slice(e-c,e+1).join("")===a.opening)break;e=e-1;}while(e>a.start);if(a.opening==="/*"&&a.chars[e]==="*"){ee="*/";}else if(a.opening!=="/*"){ee=a.terminator;}c=ee.length-1;v=ee.charAt(c);if(ee!=="\n"||a.chars[u]!=="\n"){do{t.push(a.chars[u]);if(ee==="\n"&&a.chars[u+1]==="\n")break;if(a.chars[u]===v&&a.chars.slice(u-c,u+1).join("")===ee)break;u=u+1;}while(u<a.end)}if(a.chars[u]==="\n")u=u-1;C=t.join("").replace(/\s+$/,"");return [C,u]}if(d===true||p<1||u===a.end||C.length<=p&&C.indexOf("\n")<0||a.opening==="/*"&&C.indexOf("\n")>0&&C.replace("\n","").indexOf("\n")>0&&/\n(?!(\s*\*))/.test(C)===false){return [C,u]}e=a.start;if(e>0&&a.chars[e-1]!=="\n"&&le(a.chars[e-1])){do{e=e-1;}while(e>0&&a.chars[e-1]!=="\n"&&le(a.chars[e-1]))}m=a.chars.slice(e,a.start).join("");const te=new RegExp("\n"+m,"g");$=C.replace(/\r\n/g,"\n").replace(te,"\n").split("\n");o=$.length;$[0]=$[0].replace(D,"");$[o-1]=$[o-1].replace(P,"");if(o<2)$=$[0].split(" ");if($[0]===""){$[0]=a.opening;}else {$.splice(0,0,a.opening);}o=$.length;e=0;do{h=e<o-1?$[e+1].replace(/^\s+/,""):"";if(/^\s+$/.test($[e])===true||$[e]===""){X();}else if($[e].slice(0,4)==="    "){q.push($[e]);}else if($[e].replace(/^\s+/,"").length>p&&$[e].replace(/^\s+/,"").indexOf(" ")>p){$[e]=$[e].replace(/^\s+/,"");b=$[e].indexOf(" ");q.push($[e].slice(0,b));$[e]=$[e].slice(b+1);e=e-1;}else {$[e]=a.opening==="/*"&&$[e].indexOf("/*")!==0?`   ${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`:`${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`;y=e<1?p-(a.opening.length+1):p;b=$[e].length;H=$[e].replace(/^\s+/,"").indexOf(" ");if(b>y&&H>0&&H<y){b=y;do{b=b-1;if(le($[e].charAt(b))&&b<=p)break}while(b>0);if($[e].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[e])===true&&/^\s*(\*|-)\s/.test($[e+1])===false){$.splice(e+1,0,"* ");}if($[e].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[e])===true&&/^\s*\d+\.\s/.test($[e+1])===false){$.splice(e+1,0,"1. ");}if(b<4){q.push($[e]);i=true;}else if(e===o-1){q.push($[e].slice(0,b));$[e]=$[e].slice(b+1);i=true;e=e-1;}else if(/^\s+$/.test($[e+1])===true||$[e+1]===""){q.push($[e].slice(0,b));$[e]=$[e].slice(b+1);N=true;e=e-1;}else if($[e+1].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[e+1])){q.push($[e].slice(0,b));$[e]=$[e].slice(b+1);J=true;e=e-1;}else if($[e+1].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[e+1])){q.push($[e].slice(0,b));$[e]=$[e].slice(b+1);T=true;e=e-1;}else if($[e+1].slice(0,4)==="    "){q.push($[e].slice(0,b));$[e]=$[e].slice(b+1);i=true;e=e-1;}else if(b+h.length>p&&h.indexOf(" ")<0){q.push($[e].slice(0,b));$[e]=$[e].slice(b+1);i=true;e=e-1;}else if($[e].replace(/^\s+/,"").indexOf(" ")<p){$[e+1]=$[e].length>p?$[e].slice(b+1)+E+$[e+1]:`${$[e].slice(b+1)} ${$[e+1]}`;}if(N===false&&J===false&&T===false&&i===false){$[e]=$[e].slice(0,b);}}else if($[e+1]!==void 0&&($[e].length+h.indexOf(" ")>p&&h.indexOf(" ")>0||$[e].length+h.length>p&&h.indexOf(" ")<0)){q.push($[e]);e=e+1;}else if($[e+1]!==void 0&&/^\s+$/.test($[e+1])===false&&$[e+1]!==""&&$[e+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[e+1])===false){$[e+1]=`${$[e]} ${$[e+1]}`;N=true;}if(i===false&&J===false&&T===false){if(N===true){N=false;}else if(/^\s*(\*|-|(\d+\.))\s*$/.test($[e])===false){if(e<o-1&&$[e+1]!==""&&/^\s+$/.test($[e])===false&&$[e+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[e+1])===false){$[e]=`${$[e]} ${$[e+1]}`;$.splice(e+1,1);o=o-1;e=e-1;}else {if(a.opening==="/*"&&$[e].indexOf("/*")!==0){q.push(`   ${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}else {q.push(`${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}}}}i=false;J=false;T=false;}e=e+1;}while(e<o);if(q.length>0){if(q[q.length-1].length>p-(a.terminator.length+1)){q.push(a.terminator);}else {q[q.length-1]=`${q[q.length-1]} ${a.terminator}`;}C=q.join(E);}else {$[$.length-1]=$[$.length-1]+a.terminator;C=$.join(E);}return [C,u]}wrapCommentLine(a){let p=a.start;let n=0;let d="";let t=[];const{wrap:q,preserveComment:E}=Q.options;function w(){let u="";do{n=n+1;if(a.chars[n+1]==="\n")return}while(n<a.end&&le(a.chars[n])===true);if(a.chars[n]+a.chars[n+1]==="//"){t=[];do{t.push(a.chars[n]);n=n+1;}while(n<a.end&&a.chars[n]!=="\n");u=t.join("");if(/^\/\/ (\*|-|(\d+\.))/.test(u)===false&&u.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(u)===false){d=`${d} ${u.replace(/(^\/\/\s*)/,"").replace(/\s+$/,"")}`;p=n-1;w();}}}const k=()=>{const u=[];const e=ie(null);e.ender=-1;e.types="comment";e.lexer=a.lexer;e.lines=this.linesSpace;if(this.count>-1){e.begin=this.structure[this.structure.length-1][1];e.stack=this.structure[this.structure.length-1][0];e.token=this.data.token[this.count];}else {e.begin=-1;e.stack="global";e.token="";}let b=0;let H=0;d=d.replace(/\s+/g," ").replace(/\s+$/,"");H=d.length;if(q>H)return;do{b=q;if(d.charAt(b)!==" "){do{b=b-1;}while(b>0&&d.charAt(b)!==" ");if(b<3){b=q;do{b=b+1;}while(b<H-1&&d.charAt(b)!==" ")}}u.push(d.slice(0,b));d=`// ${d.slice(b).replace(/^\s+/,"")}`;H=d.length;}while(q<H);b=0;H=u.length;do{e.token=u[b];this.push(this.data,e,"");e.lines=2;this.linesSpace=2;b=b+1;}while(b<H)};do{t.push(a.chars[p]);p=p+1;}while(p<a.end&&a.chars[p]!=="\n");if(p===a.end){a.chars.push("\n");}else {p=p-1;}d=t.join("").replace(/\s+$/,"");if(/^(\/\/\s*@prettify-ignore-start\b)/.test(d)===true){let u="\n";p=p+1;do{t.push(a.chars[p]);p=p+1;}while(p<a.end&&(a.chars[p-1]!=="d"||a.chars[p-1]==="d"&&t.slice(t.length-20).join("")!=="@prettify-ignore-end"));n=p;do{}while(n>a.start&&a.chars[n-1]==="/"&&(a.chars[n]==="*"||a.chars[n]==="/"));if(a.chars[n]==="*")u="*/";if(u!=="\n"||a.chars[p]!=="\n"){do{t.push(a.chars[p]);if(u==="\n"&&a.chars[p+1]==="\n")break;p=p+1;}while(p<a.end&&(u==="\n"||u==="*/"&&(a.chars[p-1]!=="*"||a.chars[p]!=="/")))}if(a.chars[p]==="\n")p=p-1;d=t.join("").replace(/\s+$/,"");return [d,p]}if(d==="//"||d.slice(0,6)==="//    "||E===true){return [d,p]}d=d.replace(/(\/\/\s*)/,"// ");if(q<1||p===a.end-1&&this.data.begin[this.count]<1)return [d,p];n=p+1;w();k();return [d,p]}};Q.lexers.style=function l(a){const{options:p}=Q;const{data:n}=s;const d=a.split(A);const t=a.length;const q=[];const E=[];let w=0;let k=A;let u=A;function e(T){const i=ie(null);i.begin=s.structure[s.structure.length-1][1];i.ender=-1;i.lexer="style";i.lines=s.linesSpace;i.stack=s.structure[s.structure.length-1][0];i.token=u;i.types=k;s.push(n,i,T);}function b(T){const i=T;do{T=T-1;}while(d[T]==="\\"&&T>0);return (i-T)%2===1}function H(T){const i=T.replace(/\s*!important/," !important").split(A);const C=/-?transition$/.test(n.token[s.count-2]);const c=[];const v=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const y=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let P=0;let j=0;let R=A;let D=i.length;let oe=[];const X=G=>{return G};const te=G=>{G=G.replace(/\s*/g,A);return /\/\d/.test(G)&&T.indexOf("url(")===0?G:` ${G.charAt(0)} ${G.charAt(1)}`};const ee=G=>{if(p.style.noLeadZero===true){return G.replace(/^-?\D0+(\.|\d)/,W=>W.replace(/0+/,A))}else if(/0*\./.test(G)){return G.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(G)[0])){return /^\D*0+\D*$/.test(G)?G.replace(/0+/,"0"):G.replace(/\d+/.exec(G)[0],/\d+/.exec(G)[0].replace(/^0+/,A))}return G};const Z=G=>G.replace(",",", ");const U=G=>`${G} `;const de=()=>{const G=P-1;let W=G;if(G<1)return true;do{W=W-1;}while(W>0&&i[W]==="\\");return (G-W)%2===1};if(P<D){do{oe.push(i[P]);if(i[P-1]!=="\\"||de()===false){if(R===A){if(g(i[P],34)){R='"';j=j+1;}else if(g(i[P],39)){R="'";j=j+1;}else if(g(i[P],40)){R=")";j=j+1;}else if(g(i[P],91)){R="]";j=j+1;}}else if(g(i[P],40)&&g(R,41)||g(i[P],91)&&g(R,93)){j=j+1;}else if(i[P]===R){j=j-1;if(j===0)R=A;}}if(R===A&&i[P]===" "){oe.pop();c.push(X(oe.join(A)));oe=[];}P=P+1;}while(P<D)}c.push(X(oe.join(A)));D=c.length;P=0;if(P<D){do{if(p.style.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(c[P])===true){c[P]=c[P].replace(/0+\./,".");}else if(p.style.noLeadZero===false&&/^-?\.\d+[a-z]/.test(c[P])){c[P]=c[P].replace(".","0.");}else if(v.test(c[P])||y.test(c[P])){c[P]=c[P].replace(v,ee).replace(y,ee);}else if(/^(0+([a-z]{2,3}|%))$/.test(c[P])&&C===false){c[P]="0";}else if(/^(0+)/.test(c[P])){c[P]=c[P].replace(/0+/,"0");if(/\d/.test(c[P].charAt(1)))c[P]=c[P].substr(1);}else if(/^url\((?!('|"))/.test(c[P])&&c[P].charCodeAt(c[P].length-1)===41){R=c[P].charAt(c[P].indexOf("url(")+4);if(R!=="@"&&Y(R,40)&&Y(R,60)){if(p.style.quoteConvert==="double"){c[P]=c[P].replace(/url\(/,'url("').replace(/\)$/,'")');}else {c[P]=c[P].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(c[P])){if(!re.style.units.has(c[P].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,A))){c[P]=c[P].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,U);}}if(/^\w+\(/.test(c[P])&&c[P].charAt(c[P].length-1)===")"&&(c[P].indexOf("url(")!==0||c[P].indexOf("url(")===0&&c[P].indexOf(" ")>0)){c[P]=c[P].replace(/,\S/g,Z);}P=P+1;}while(P<D)}R=c.join(" ");return R.charAt(0)+R.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,te)}function o(){const T=[];const i=[];const C=p.style.quoteConvert;let c=w;let v=0;let y=A;let P=null;const j=()=>{i.push(d[c]);if(le(d[c+1])){do{c=c+1;}while(c<t&&le(d[c+1]))}};if(c<t){do{if(g(d[c],34)||g(d[c],39)){if(P===null)P=false;if(T[T.length-1]===d[c]&&(d[c-1]!=="\\"||b(c-1)===false)){T.pop();if(C==="double"){d[c]='"';}else if(C==="single"){d[c]="'";}}else if(Y(T[T.length-1],34)&&Y(T[T.length-1],39)&&(d[c-1]!=="\\"||b(c-1)===false)){T.push(d[c]);if(C==="double"){d[c]='"';}else if(C==="single"){d[c]="'";}}else if(d[c-1]==="\\"&&C!=="none"){if(b(c-1)===true){if(C==="double"&&g(d[c],39)){i.pop();}else if(C==="single"&&g(d[c],34)){i.pop();}}}else if(C==="double"&&g(d[c],34)){d[c]='\\"';}else if(C==="single"&&g(d[c],39)){d[c]="\\'";}i.push(d[c]);}else if(d[c-1]!=="\\"||b(c-1)===false){if(g(d[c],40)){if(P===null)P=true;T.push(")");j();}else if(g(d[c],91)){P=false;T.push("]");j();}else if((g(d[c],35)||g(d[c],64))&&g(d[c+1],123)){P=false;i.push(d[c]);c=c+1;T.push("}");j();}else if(d[c]===T[T.length-1]){i.push(d[c]);T.pop();}else {i.push(d[c]);}}else {i.push(d[c]);}if(s.structure[s.structure.length-1][0]==="map"&&T.length===0&&(g(d[c+1],44)||g(d[c+1],41))){if(g(d[c+1],41)&&g(n.token[s.count],40)){s.pop(n);s.structure.pop();i.splice(0,0,"(");}else {break}}if(g(d[c+1],58)){v=c;if(le(d[v]))do{v=v-1;}while(le(d[v]));y=d.slice(v-6,v+1).join(A);if(y.indexOf("filter")===y.length-6||y.indexOf("progid")===y.length-6){y="filter";}}if(T.length===0){if(g(d[c+1],59)&&b(c+1)===true||g(d[c+1],58)&&Y(d[c],58)&&Y(d[c+2],58)&&y!=="filter"&&y!=="progid"||(g(d[c+1],125)||g(d[c+1],123))||g(d[c+1],47)&&(g(d[c+2],42)||g(d[c+2],47))){v=i.length-1;if(le(i[v])){do{v=v-1;c=c-1;i.pop();}while(le(i[v]))}break}if(g(d[c+1],44))break}c=c+1;}while(c<t)}w=c;if(s.structure[s.structure.length-1][0]==="map"&&g(i[0],40)){q[q.length-1]=q[q.length-1]-1;}u=i.join(A).replace(/\s+/g," ").replace(/^\s/,A).replace(/\s$/,A);if(P===true){u=u.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(s.count>-1&&n.token[s.count].indexOf("extend(")===0){k="pseudo";}else if(P===true&&/\d/.test(u.charAt(0))===false&&/^rgba?\(/.test(u)===false&&u.indexOf("url(")!==0&&(u.indexOf(" ")<0||u.indexOf(" ")>u.indexOf("("))&&u.charAt(u.length-1)===")"){if(g(n.token[s.count],58)){k="value";}else {u=u.replace(/,\u0020?/g,", ");k="function";}u=H(u);}else if(s.count>-1&&`"'`.indexOf(n.token[s.count].charAt(0))>-1&&n.types[s.count]==="variable"){k="item";}else if(g(i[0],64)||i[0]==="$"){if(n.types[s.count]==="colon"&&p.language==="css"&&(n.types[s.count-1]==="property"||n.types[s.count-1]==="variable")){k="value";}else if(s.count>-1){k="item";y=n.token[s.count];c=y.indexOf("(");if(g(y[y.length-1],41)&&c>0){y=y.slice(c+1,y.length-1);n.token[s.count]=n.token[s.count].slice(0,c+1)+H(y)+")";}}u=H(u);}else {k="item";}e(A);}function $(T){let i=s.count;let C=0;let c=A;const v=[];const y=()=>{if(s.count<0)return;if(i>0&&(n.types[i]==="comment"||n.types[i]==="ignore")){do{i=i-1;v.push(n.token[i]);}while(i>0&&n.lexer[i]==="style"&&(n.types[i]==="comment"||n.types[i]==="ignore"))}C=i-1;if(C>0&&(n.types[C]==="comment"||n.types[C]==="ignore")){do{C=C-1;}while(C>0&&n.lexer[i]==="style"&&(n.types[C]==="comment"||n.types[C]==="ignore"))}if(C<0)C=0;if(i<0)i=0;c=n.token[i].charAt(0);};function P(j){let R=j;const D=n.begin[R];n.token[j]=n.token[j].replace(/\s*&/," &").replace(/(\s*>\s*)/g," > ").replace(/(\s*\+\s*)/g," + ").replace(/:\s+/g,": ").replace(/^(\s+)/,A).replace(/(\s+)$/,A).replace(/\s+::\s+/,"::");if(g(n.token[R-1],44)||g(n.token[R-1],58)||n.types[R-1]==="comment"||n.types[R-1]==="pseudo"){if(n.types[R-1]==="pseudo"){n.token[R-1]=`${n.token[R-1]}${n.token[R]}`;n.types[R-1]="selector";s.splice({data:n,howmany:1,index:R});}else {do{R=R-1;if(n.begin[R]===D){if(g(n.token[R],59)||n.types[R].indexOf("template")>-1)break;if(Y(n.token[R],44)&&n.types[R]!=="comment"){n.types[R]="selector";}if(g(n.token[R],58)){if(Y(n.token[R-1],58)&&n.stack[i]==="global"&&(n.types[R-1]==="comment"||n.types[R-1]==="ignore"||n.types[R-1].indexOf("template")>-1)){n.token[R]=`${n.token[R]}${n.token[R+1]}`;s.pop(n);}else if(s.count===1){n.token[R]=`${n.token[R]}${n.token[R+1]}`;s.pop(n);}else if(n.types[R]==="selector"&&n.types[R+1]==="item"){n.token[R]=`${n.token[R]}${n.token[R+1]}`;s.pop(n);}else {n.token[R]=`${n.token[R-1]}:${n.token[R+1]}`;n.lines[R]=n.lines[R-1];s.splice({data:n,howmany:2,index:R});}}}else {break}}while(R>0)}}R=s.count;if(p.style.sortSelectors===true&&g(n.token[R-1],44)){const oe=[n.token[R]];do{R=R-1;if(n.types[R]==="comment"||n.types[R]==="ignore"){do{R=R-1;}while(R>0&&(n.types[R]==="comment"||n.types[R]==="ignore"))}if(g(n.token[R],44))R=R-1;oe.push(n.token[R]);}while(R>0&&(g(n.token[R-1],44)||n.types[R-1]==="selector"||n.types[R-1]==="comment"||n.types[R-1]==="ignore"));oe.sort();R=s.count;n.token[R]=oe.pop();do{R=R-1;if(n.types[R]==="comment"||n.types[R]==="ignore"){do{R=R-1;}while(R>0&&(n.types[R]==="comment"||n.types[R]==="ignore"))}if(g(n.token[R],44))R=R-1;n.token[R]=oe.pop();}while(R>0&&(g(n.token[R-1],44)||n.token[R-1]==="selector"||n.types[R-1]==="comment"||n.types[R-1]==="ignore"))}i=s.count;y();}y();if(T==="start"&&(n.types[i]==="value"||n.types[i]==="variable")){n.types[i]="item";}if(n.lexer[s.count-1]!=="style"||C<0){if(T==="colon"){if(c==="$"||g(c,64)){n.types[i]="variable";}else {if(n.stack[i]!=="global"&&(n.types[i]!=="comment"||n.types[i]!=="ignore")){n.types[i]="property";}}}else if(n.lexer[i]==="style"){n.types[i]="selector";P(i);}}else if(T==="start"&&n.types[i]==="function"&&n.lexer[i]==="style"){n.types[i]="selector";P(i);}else if(n.types[i]==="item"&&n.lexer[i]==="style"){if(T==="start"){P(i);n.types[i]="selector";if(g(n.token[i],58))n.types[C]="selector";if(n.token[i].indexOf("=\u201C")>0){s.error=`Invalid Quote (\u201C, \\201c) used on line number ${s.lineNumber}`;}else if(n.token[i].indexOf("=\u201D")>0){s.error=`Invalid Quote (\u201D, \\201d) used on line number ${s.lineNumber}`;}}else if(T==="end"){if(c==="$"||g(c,64)){n.types[i]="variable";}else {n.types[i]="value";}n.token[i]=H(n.token[i]);}else if(T==="separator"){if(n.types[C]==="colon"||g(n.token[C],44)||g(n.token[C],123)){if(Y(d[w],59)&&(n.types[C]==="selector"||g(n.token[C],123))){n.types[i]="selector";P(i);}else if(n.token[i].charAt(0)==="$"||g(n.token[i],64)){n.types[i]="variable";}else {n.types[i]="value";}n.token[i]=H(n.token[i]);if(n.token[i].charAt(0)==="\u201C"){s.error=`Invalid Quote (\u201C, \\201c) used on line number ${s.lineNumber}`;}else if(n.token[i].charAt(0)==="\u201D"){s.error=`Invalid (\u201D, \\201d) used on line number ${s.lineNumber}`;}}else {if(c==="$"||g(c,64)){n.types[i]="variable";}else if(n.types[C]==="value"||n.types[C]==="variable"){n.token[C]=n.token[C]+n.token[i];s.pop(n);}else {n.types[i]="value";}}}else if(T==="colon"){if(c==="$"||g(c,64)){n.types[i]="variable";}else {n.types[i]="property";}}else if(g(n.token[C],64)&&(n.types[C-2]!=="variable"&&n.types[C-2]!=="property"||n.types[C-1]==="separator")){n.types[C]="variable";k="variable";n.token[C]=H(n.token[C]);}}}function m(){let T=s.count;do{T=T-1;}while(T>0&&n.types[T]==="comment");if(n.token[T]===";")return;s.splice({data:n,howmany:0,index:T+1,record:{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"style",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:";",types:"separator"}});}function h(T,i){const C=[];let c=A;let v=A;let y=0;let P=T.length;const j=R=>{const D=n.types[s.count-1];if(k==="item"){if(D==="colon"){n.types[s.count]="value";}else {$(D);}}k=R;if(k.indexOf("start")>-1||k.indexOf("else")>-1){e(u);}else {e(A);}};E[E.length-1]=true;if(w<t){do{C.push(d[w]);if(c===A){if(d[w]==='"'){c='"';}else if(d[w]==="'"){c="'";}else if(d[w]==="/"){if(d[w+1]==="/"){c="/";}else if(d[w+1]==="*"){c="*";}}else if(d[w+1]===i.charAt(0)){do{y=y+1;w=w+1;C.push(d[w]);}while(w<t&&y<i.length&&d[w+1]===i.charAt(y));if(y===i.length){c=C.join(A);if(le(c.charAt(P))){do{P=P+1;}while(le(c.charAt(P)))}y=P;do{y=y+1;}while(y<i.length&&!le(c.charAt(y)));if(y===c.length)y=y-i.length;if(T==="{%"){if(c.indexOf("{%-")===0){c=c.replace(/^({%-\s*)/,"{%- ").replace(/(\s*-%})$/," -%}").replace(/(\s*%})$/," %}");v=c.slice(4);}else {c=c.replace(/^({%\s*)/,"{% ").replace(/(\s*%})$/," %}").replace(/(\s*-%})$/," -%}");v=c.slice(3);}}if(T==="{{"){c=c.replace(/^({{\s*)/,"{{ ").replace(/^({{-\s*)/,"{{- ").replace(/(\s*-}})$/," -}}").replace(/(\s*}})$/," }}");}if(k==="item"&&n.types[s.count-1]==="colon"&&(n.types[s.count-2]==="property"||n.types[s.count-2]==="variable")){k="value";n.types[s.count]="value";if(Number.isNaN(Number(n.token[s.count]))===true&&n.token[s.count].charAt(n.token[s.count].length-1)!==")"){n.token[s.count]=n.token[s.count]+c;}else {n.token[s.count]=n.token[s.count]+" "+c;}return}u=c;if(T==="{%"){const R=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];let D=R.length-1;v=v.slice(0,v.indexOf(" "));if(v.indexOf("(")>0){v=v.slice(0,v.indexOf("("));}if(v==="else"||v==="elseif"||v==="when"||v==="elsif"){j("template_else");return}D=R.length-1;if(D>-1){do{if(v===R[D]){j("template_start");return}if(v==="end"+R[D]){j("template_end");return}D=D-1;}while(D>-1)}}else if(T==="{{"){let R=c.slice(2);const D=R.length;let oe=0;do{oe=oe+1;}while(oe<D&&le(R.charAt(oe))===false&&R.charCodeAt(P)!==40);R=R.slice(0,oe);if(R.charAt(R.length-2)==="}"){R=R.slice(0,R.length-2);}if(R==="end"){j("template_end");return}if(R==="block"||R==="define"||R==="form"||R==="if"||R==="range"||R==="with"){j("template_start");return}}j("template");return}y=0;}}else if(c===d[w]){if(g(c,34)||g(c,39)){c=A;}else if(g(c,47)&&(d[w]==="\r"||g(d[w],10))){c=A;}else if(g(c,42)&&g(d[w+1],47)){c=A;}}w=w+1;}while(w<t)}}function N(T){let i;if(T){i=s.wrapCommentLine({chars:d,end:t,lexer:"style",opening:"//",start:w,terminator:"\n"});u=i[0];k=/^(\/\/\s*@prettify-ignore-start)/.test(u)?"ignore":"comment";}else {i=s.wrapCommentBlock({chars:d,end:t,lexer:"style",opening:"/*",start:w,terminator:"*/"});u=i[0];k=/^(\/\*\s*@prettify-ignore-start)/.test(u)?"ignore":"comment";}e(A);w=i[1];}function J(){const T=s.linesSpace;const i=ie(null);i.data=ie(null);i.data.margin=[A,A,A,A,false];i.data.padding=[A,A,A,A,false];i.last=ie(null);i.last.margin=0;i.last.padding=0;i.removes=[];const C=s.structure[s.structure.length-1][1];function c(j){if(n.token[y-2]===j){const R=n.token[y].replace(/\s*!important\s*/g,A).split(" ");const D=R.length;if(n.token[y].indexOf("!important")>-1)i.data[j[4]]=true;if(D>3){if(i.data[j][0]===A)i.data[j][0]=R[0];if(i.data[j][1]===A)i.data[j][1]=R[1];if(i.data[j][2]===A)i.data[j][2]=R[2];if(i.data[j][3]===A)i.data[j][3]=R[3];}else if(D>2){if(i.data[j][0]===A)i.data[j][0]=R[0];if(i.data[j][1]===A)i.data[j][1]=R[1];if(i.data[j][2]===A)i.data[j][2]=R[2];if(i.data[j][3]===A)i.data[j][3]=R[1];}else if(D>1){if(i.data[j][0]===A)i.data[j][0]=R[0];if(i.data[j][1]===A)i.data[j][1]=R[1];if(i.data[j][2]===A)i.data[j][2]=R[0];if(i.data[j][3]===A)i.data[j][3]=R[1];}else {if(i.data[j][0]===A)i.data[j][0]=R[0];if(i.data[j][1]===A)i.data[j][1]=R[0];if(i.data[j][2]===A)i.data[j][2]=R[0];if(i.data[j][3]===A)i.data[j][3]=R[0];}}else if(n.token[y-2]===`${j}-bottom`){if(i.data[j][2]===A)i.data[j][2]=n.token[y];}else if(n.token[y-2]===`${j}-left`){if(i.data[j][3]===A)i.data[j][3]=n.token[y];}else if(n.token[y-2]===`${j}-right`){if(i.data[j][1]===A)i.data[j][1]=n.token[y];}else if(n.token[y-2]===`${j}-top`){if(i.data[j][0]===A)i.data[j][0]=n.token[y];}else {return}i.removes.push([y,j]);i.last[j]=y;}function v(){let j=0;let R=A;const D=/^(0+([a-z]+|%))/;const oe=i.removes.length;const X=i.data.margin[0]!==A&&i.data.margin[1]!==A&&i.data.margin[2]!==A&&i.data.margin[3]!==A;const te=i.data.padding[0]!==A&&i.data.padding[1]!==A&&i.data.padding[2]!==A&&i.data.padding[3]!==A;function ee(Z){if(D.test(i.data[Z][0])===true)i.data[Z][0]="0";if(D.test(i.data[Z][1])===true)i.data[Z][1]="0";if(D.test(i.data[Z][2])===true)i.data[Z][2]="0";if(D.test(i.data[Z][3])===true)i.data[Z][3]="0";if(i.data[Z][0]===i.data[Z][1]&&i.data[Z][0]===i.data[Z][2]&&i.data[Z][0]===i.data[Z][3]){R=i.data[Z][0];}else if(i.data[Z][0]===i.data[Z][2]&&i.data[Z][1]===i.data[Z][3]&&i.data[Z][0]!==i.data[Z][1]){R=`${i.data[Z][0]} ${i.data[Z][1]}`;}else if(i.data[Z][1]===i.data[Z][3]&&i.data[Z][0]!==i.data[Z][2]){R=`${i.data[Z][0]} ${i.data[Z][1]} ${i.data[Z][2]}`;}else {R=`${i.data[Z][0]} ${i.data[Z][1]} ${i.data[Z][2]} ${i.data[Z][3]}`;}if(i.data[Z[4]]===true)R=`${R.replace(" !important",A)} !important`;if(i.last[Z]>s.count){j=C<1?1:C+1;do{if(n.begin[j]===C&&n.types[j]==="value"&&n.token[j-2].indexOf(Z)===0){i.last[Z]=j;break}j=j+1;}while(j<s.count)}n.token[i.last[Z]]=R;n.token[i.last[Z]-2]=Z;}if(oe>1&&(X===true||te===true)){do{if(i.removes[j][0]!==i.last.margin&&i.removes[j][0]!==i.last.padding&&(X===true&&i.removes[j][1]==="margin"||te===true&&i.removes[j][1]==="padding")){s.splice({data:n,howmany:n.types[i.removes[j][0]+1]==="separator"?4:3,index:i.removes[j][0]-2});}j=j+1;}while(j<oe-1)}if(X===true)ee("margin");if(te===true)ee("padding");if(P===true){if(C<0){s.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {s.sortCorrection(C,s.count+1);}}}let y=s.count;let P=false;do{y=y-1;if(n.begin[y]===C){if(n.types[y]==="value"&&n.types[y-2]==="property"){if(n.token[y-2].indexOf("margin")===0){c("margin");}else if(n.token[y-2].indexOf("padding")===0){c("padding");}}}else {P=true;y=n.begin[y];}}while(y>C);v();s.linesSpace=T;}do{if(le(d[w])){w=s.spacer({array:d,end:t,index:w});}else if(g(d[w],47)&&g(d[w+1],42)){N(false);}else if(g(d[w],47)&&g(d[w+1],47)){N(true);}else if(g(d[w],123)&&g(d[w+1],37)){h("{%","%}");}else if(g(d[w],123)&&g(d[w+1],123)){h("{{","}}");}else if(g(d[w],123)||g(d[w],40)&&g(n.token[s.count],58)&&n.types[s.count-1]==="variable"){$("start");k="start";u=d[w];if(g(d[w],40)){e("map");q.push(0);}else if(n.types[s.count]==="selector"||n.types[s.count]==="variable"){e(n.token[s.count]);}else if(n.types[s.count]==="colon"){e(n.token[s.count-1]);}else {e("block");}E.push(false);}else if(g(d[w],125)||d[w]===")"&&s.structure[s.structure.length-1][0]==="map"&&q[q.length-1]===0){if(g(d[w],125)&&g(n.token[s.count-1],123)&&n.types[s.count]==="item"&&n.token[s.count-2]!==void 0&&n.token[s.count-2].charAt(n.token[s.count-2].length-1)==="@"){n.token[s.count-2]=n.token[s.count-2]+"{"+n.token[s.count]+"}";s.pop(n);s.pop(n);s.structure.pop();}else {if(g(d[w],41))q.pop();$("end");if(g(d[w],125)&&Y(n.token[s.count],59)){if(n.types[s.count]==="value"||n.types[s.count]==="function"||n.types[s.count]==="variable"&&(g(n.token[s.count-1],58)||g(n.token[s.count-1],59))){if(p.style.correct===true){u=";";}else {u="x;";}k="separator";e(A);}else if(n.types[s.count]==="comment"){m();}}E.pop();u=d[w];k="end";if(g(d[w],125))J();if(p.style.sortProperties===true&&g(d[w],125))s.objectSort(n);e(A);}}else if(g(d[w],59)||g(d[w],44)){if(n.types[s.count-1]==="selector"||n.types[s.count]!=="function"&&g(n.token[s.count-1],125)){$("start");}else {$("separator");}if(n.types[s.count]!=="separator"&&b(w)===true){u=d[w];k="separator";e(A);}}else if(g(d[w],58)&&n.types[s.count]!=="end"){if(g(d[w+1],58)){w=w+1;$("pseudo");u="::";k="pseudo";e(A);}else {$("colon");u=":";k="colon";e(A);}}else {if(s.structure[s.structure.length-1][0]==="map"&&g(d[w],40)){q[q.length-1]=q[q.length-1]+1;}o();}w=w+1;}while(w<t);if(p.style.sortProperties===true)s.objectSort(n);return n};Q.lexers.script=function l(a){const{options:p}=Q;if(p.language==="json")p.script.quoteConvert="double";let n=0;let d="";let t="";let q=[];let E=0;let w=-1;let k=-1;let u=[];let e;let b;let H;const{data:o}=s;const{references:$}=s;const m=a.length;const h=a.split("");const N=[];const J=[];const T=[];const i=[0,""];const C=[false];const c=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const v=ie(null);v.count=[];v.index=[];v.len=-1;v.word=[];function y(f){let r=0;const x=U(1,false);const O=s.structure.length===0?"":s.structure[s.structure.length-1][0];const S=ie(null);S.begin=o.begin[s.count];S.ender=o.begin[s.count];S.lexer=o.lexer[s.count];S.lines=o.lines[s.count];S.stack=o.stack[s.count];S.token=o.token[s.count];S.types=o.types[s.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(d))return;if(t==="start"||t==="type_start")return;if(p.language==="json")return;if(g(S.token,59)||g(S.token,44)||S.stack==="class"||S.stack==="map"||S.stack==="attribute"||o.types[S.begin-1]==="generic"||x==="{"||O==="initializer"){return}if(g(S.token,125)&&o.stack[S.begin-1]==="global"&&o.types[S.begin-1]!=="operator"&&S.stack===o.stack[s.count-1]){return}if(S.stack==="array"&&S.token!=="]")return;if(o.token[o.begin[s.count]]==="{"&&S.stack==="data_type")return;if(S.types!==void 0&&S.types.indexOf("template")>-1&&S.types.indexOf("template_string")<0){return}if(g(x,59)&&f===false)return;if(o.lexer[s.count-1]!=="script"&&(n<m&&m===Q.source.length-1||m<Q.source.length-1)){return}if(g(S.token,125)&&(S.stack==="function"||S.stack==="if"||S.stack==="else"||S.stack==="for"||S.stack==="do"||S.stack==="while"||S.stack==="switch"||S.stack==="class"||S.stack==="try"||S.stack==="catch"||S.stack==="finally"||S.stack==="block")){if(S.stack==="function"&&(o.stack[S.begin-1]==="data_type"||o.types[S.begin-1]==="type")){r=S.begin;do{r=r-1;}while(r>0&&o.token[r]!==")"&&o.stack[r]!=="arguments");r=o.begin[r];}else {r=o.begin[S.begin-1];}if(g(o.token[r],40)){r=r-1;if(o.token[r-1]==="function")r=r-1;if(o.stack[r-1]==="object"||o.stack[r-1]==="switch")return;if(o.token[r-1]!=="="&&o.token[r-1]!=="return"&&o.token[r-1]!==":"){return}}else {return}}if(S.types==="comment"||O==="method"||O==="paren"||O==="expression"||O==="array"||O==="object"||O==="switch"&&S.stack!=="method"&&o.token[o.begin[s.count]]==="("&&o.token[o.begin[s.count]-1]!=="return"&&o.types[o.begin[s.count]-1]!=="operator"){return}if(o.stack[s.count]==="expression"&&(o.token[o.begin[s.count]-1]!=="while"||o.token[o.begin[s.count]-1]==="while"&&o.stack[o.begin[s.count]-2]!=="do")){return}if(x!==""&&"=<>+*?|^:&%~,.()]".indexOf(x)>-1&&f===false)return;if(S.types==="comment"){r=s.count;do{r=r-1;}while(r>0&&o.types[r]==="comment");if(r<1)return;S.token=o.token[r];S.types=o.types[r];S.stack=o.stack[r];}if(S.token===void 0||S.types==="start"||S.types==="separator"||S.types==="operator"&&S.token!=="++"&&S.token!=="--"||S.token==="x}"||S.token==="var"||S.token==="let"||S.token==="const"||S.token==="else"||S.token.indexOf("#!/")===0||S.token==="instanceof"){return}if(S.stack==="method"&&(o.token[S.begin-1]==="function"||o.token[S.begin-2]==="function")){return}if(p.script.variableList==="list")v.index[v.len]=s.count;d=p.script.correct===true?";":"x;";t="separator";r=s.linesSpace;s.linesSpace=0;F("");s.linesSpace=r;D();}function P(){let f=s.count;do{f=f-1;}while(f>-1&&o.token[f]==="x}");if(o.stack[f]==="else")return F("");f=f+1;s.splice({data:o,howmany:0,index:f,record:{begin:o.begin[f],ender:-1,lexer:"script",lines:s.linesSpace,stack:o.stack[f],token:d,types:t}});F("");}function j(){let f=s.count;if(o.types[f]==="comment"){do{f=f-1;}while(f>0&&o.types[f]==="comment")}if(o.token[f]==="from")f=f-2;if(o.token[f]==="x;"){s.splice({data:o,howmany:1,index:f});}}function R(){y(false);if(w>-1)L();H=s.wrapCommentBlock({chars:h,end:m,lexer:"script",opening:"/*",start:n,terminator:"*/"});n=H[1];if(o.token[s.count]==="var"||o.token[s.count]==="let"||o.token[s.count]==="const"){e=s.pop(o);F("");s.push(o,e,"");if(o.lines[s.count-2]===0)o.lines[s.count-2]=o.lines[s.count];o.lines[s.count]=0;}else if(H[0]!==""){d=H[0];t=/^\/\*\s*@ignore\s*\bstart\b/.test(d)?"ignore":"comment";if(d.indexOf("# sourceMappingURL=")===2){i[0]=s.count+1;i[1]=d;}s.push(o,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"script",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:d,types:t},"");}if(/\/\*\s*global\s+/.test(o.token[s.count])===true&&o.types.indexOf("word")<0){$[0]=o.token[s.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function D(){let f="";const r=U(5,false);const x=s.count;const O=s.linesSpace;if(p.language==="json"||J.length<1||J[J.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(d)===false){return}if(o.stack[s.count]==="do"&&r==="while"&&o.token[s.count]==="}"){return}if(d===";"&&o.token[x-1]==="x{"){f=o.token[o.begin[x-2]-1];if(o.token[x-2]==="do"||o.token[x-2]===")"&&"ifforwhilecatch".indexOf(f)>-1){e=s.pop(o);d=p.script.correct===true?"}":"x}";t="end";b=s.structure[s.structure.length-1];F("");J.pop();s.linesSpace=O;return}e=s.pop(o);d=p.script.correct===true?"}":"x}";t="end";b=s.structure[s.structure.length-1];F("");J.pop();d=";";t="end";s.push(o,e,"");s.linesSpace=O;return}d=p.script.correct===true?"}":"x}";t="end";if(o.token[s.count]==="x}")return;if(o.stack[s.count]==="if"&&(o.token[s.count]===";"||o.token[s.count]==="x;")&&r==="else"){b=s.structure[s.structure.length-1];F("");J.pop();s.linesSpace=O;return}do{b=s.structure[s.structure.length-1];F("");J.pop();if(o.stack[s.count]==="do")break}while(J[J.length-1]==="x{");s.linesSpace=O;}function oe(){let f=s.count;if(o.stack[f]==="object"&&p.script.objectSort===true){d=",";t="separator";j();F("");}else {do{f=f-1;}while(f>0&&o.types[f-1]==="comment");s.splice({data:o,howmany:0,index:f,record:{begin:o.begin[f],ender:-1,lexer:"script",lines:s.linesSpace,stack:o.stack[f],token:",",types:"separator"}});F("");}}function X(f){let r=false;let x=false;const O=U(1,false);const S=o.token[s.count]==="("?s.count:o.begin[s.count];function B(){let _=0;const I=o.token[S-1]==="Array";const ne=I===true?"[":"{";const z=I===true?"]":"}";const K=I===true?"array":"object";if(I===true&&o.types[s.count]==="number"){_=Number(o.token[s.count]);e=s.pop(o);}e=s.pop(o);e=s.pop(o);e=s.pop(o);s.structure.pop();d=ne;t="start";F(K);if(_>0){d=",";t="separator";do{F("");_=_-1;}while(_>0)}d=z;t="end";F("");}if(w>-1)L();if(T.length>0){if(T[T.length-1]===0){T.pop();}else {T[T.length-1]=T[T.length-1]-1;}}if(g(f,41)||f==="x)"||g(f,93)){if(p.script.correct===true)W();j();}if(g(f,41)||f==="x)")y(false);if(v.len>-1){if(g(f,125)&&(p.script.variableList==="list"&&v.count[v.len]===0||o.token[s.count]==="x;"&&p.script.variableList==="each")){M();}v.count[v.len]=v.count[v.len]-1;if(v.count[v.len]<0)M();}if(g(d,44)&&o.stack[s.count]!=="initializer"&&(g(f,93)&&g(o.token[s.count-1],91)||g(f,125))){e=s.pop(o);}if(g(f,41)||f==="x)"){d=f;if(N.length>0){q=N[N.length-1];if(q.length>1&&Y(O,123)&&(q[0]==="if"||q[0]==="for"||q[0]==="with"||q[0]==="while"&&o.stack[q[1]-2]!==void 0&&o.stack[q[1]-2]!=="do")){r=true;}}}else if(g(f,93)){d="]";}else if(g(f,125)){if(Y(d,44)&&p.script.correct===true)W();if(s.structure.length>0&&s.structure[s.structure.length-1][0]!=="object")y(true);if((p.script.objectSort===true||p.language==="json"&&p.json.objectSort===true)&&s.structure[s.structure.length-1][0]==="object"){s.objectSort(o);}if(t==="comment"){d=o.token[s.count];t=o.types[s.count];}d="}";}if(s.structure[s.structure.length-1][0]==="data_type"){t="type_end";}else {t="end";}N.pop();b=s.structure[s.structure.length-1];if(g(f,41)&&p.script.correct===true&&S-s.count<2&&(g(o.token[s.count],40)||o.types[s.count]==="number")&&(o.token[S-1]==="Array"||o.token[S-1]==="Object")&&o.token[S-2]==="new"){B();x=true;}if(J[J.length-1]==="x{"&&g(f,125)){D();J.pop();if(o.stack[s.count]!=="try"){if(Y(O,58)&&Y(O,59)&&o.token[o.begin[n]-1]!=="?")D();}d="}";}else {J.pop();}if(p.script.endComma!==void 0&&p.script.endComma!=="none"&&s.structure[s.structure.length-1][0]==="array"||s.structure[s.structure.length-1][0]==="object"||s.structure[s.structure.length-1][0]==="data_type"){if(p.script.endComma==="always"&&o.token[s.count]!==","){const _=s.structure[s.structure.length-1][1];let I=s.count;do{if(o.begin[I]===_){if(g(o.token[I],44))break}else {I=o.begin[I];}I=I-1;}while(I>_);if(I>_){const ne=t;const z=d;d=",";t="separator";F("");d=z;t=ne;}}else if(p.script.endComma==="never"&&g(o.token[s.count],44)){s.pop(o);}}if(x===false){F("");if(d==="}"&&o.stack[s.count]!=="object"&&o.stack[s.count]!=="class"&&o.stack[s.count]!=="data_type"){$.pop();D();}}if(r===true){d=p.script.correct===true?"{":"x{";t="start";F(q[0]);J.push("x{");q[1]=s.count;}C.pop();if(s.structure[s.structure.length-1][0]!=="data_type")C[C.length-1]=false;}function te(f,r,x){let O=0;let S=false;let B=false;let _=[f];let I;const ne=r.split("");const z=ne.length;const K=n;const he=n+f.length;const V=p.script.quoteConvert===void 0?"none":p.script.quoteConvert;function ae(){let ce=0;_=[];t=x;O=n;if(x==="string"&&/\s/.test(h[O+1])===true){ce=1;do{O=O+1;if(h[O]==="\n")ce=ce+1;}while(O<m&&/\s/.test(h[O+1])===true);s.linesSpace=ce;}}function ue(){let ce="";function we(fe){if(p.language!=="javascript"&&p.language!=="typescript"&&p.language!=="jsx"&&p.language!=="tsx"){const se=pe=>pe.replace(/\s*$/," ");const Ae=pe=>pe.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(fe)||/\}%(>|\])/.test(fe))return fe;fe=fe.replace(/\{((\{+)|%-?)\s*/g,se);fe=fe.replace(/\s*((\}\}+)|(-?%\}))/g,Ae);return fe}return fe}if(g(f,34)&&V==="single"){_[0]="'";_[_.length-1]="'";}else if(g(f,39)&&V==="double"){_[0]='"';_[_.length-1]='"';}else if(S===true){ce=_[_.length-1];_.pop();_.pop();_.push(ce);}n=O;if(r==="\n"){n=n-1;_.pop();}d=_.join("");if(g(f,34)||g(f,39)||f==="{{"||f==="{%"){d=we(d);}if(f==="{%"||f==="{{"){I=ve(d);t=I[0];F(I[1]);return}if(x==="string"){t="string";if(p.language==="json"){d=d.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(f.indexOf("#!")===0){d=d.slice(0,d.length-1);s.linesSpace=2;}else if(s.structure[s.structure.length-1][0]!=="object"||s.structure[s.structure.length-1][0]==="object"&&U(1,false)!==":"&&Y(o.token[s.count],44)&&Y(o.token[s.count],123)){if(d.length>p.wrap&&p.wrap>0||p.wrap!==0&&o.token[s.count]==="+"&&(o.token[s.count-1].charAt(0)==='"'||o.token[s.count-1].charAt(0)==="'")){let fe=d;let se="";let Ae=V==="double"?'"':V==="single"?"'":fe.charAt(0);const pe=p.wrap;const je=/u[0-9a-fA-F]{4}/;const Be=/x[0-9a-fA-F]{2}/;fe=fe.slice(1,fe.length-1);if(o.token[s.count]==="+"&&(o.token[s.count-1].charAt(0)==='"'||o.token[s.count-1].charAt(0)==="'")){s.pop(o);Ae=o.token[s.count].charAt(0);fe=o.token[s.count].slice(1,o.token[s.count].length-1)+fe;s.pop(o);}if(fe.length>pe&&pe>0){do{se=fe.slice(0,pe);if(se.charAt(pe-5)==="\\"&&je.test(fe.slice(pe-4,pe+1))){se=se.slice(0,pe-5);}else if(se.charAt(pe-4)==="\\"&&je.test(fe.slice(pe-3,pe+2))){se=se.slice(0,pe-4);}else if(se.charAt(pe-3)==="\\"&&(je.test(fe.slice(pe-2,pe+3))||Be.test(fe.slice(pe-2,pe+1)))){se=se.slice(0,pe-3);}else if(se.charAt(pe-2)==="\\"&&(je.test(fe.slice(pe-1,pe+4))||Be.test(fe.slice(pe-1,pe+2)))){se=se.slice(0,pe-2);}else if(se.charAt(pe-1)==="\\"){se=se.slice(0,pe-1);}se=Ae+se+Ae;fe=fe.slice(se.length-2);d=se;t="string";F("");s.linesSpace=0;d="+";t="operator";F("");}while(fe.length>pe)}if(fe===""){d=Ae+Ae;}else {d=Ae+fe+Ae;}t="string";}}}else if(/\{\s*\?>$/.test(d)){t="template_start";}else {t=x;}if(d.length>0)F("");}if(w>-1)L();if(h[n-1]==="\\"&&be(n-1)===true&&(h[n]==='"'||h[n]==="'")){s.pop(o);if(o.token[0]==="{"){if(h[n]==='"'){f='"';r='\\"';_=['"'];}else {f="'";r="\\'";_=["'"];}S=true;}else {if(h[n]==='"'){_=['\\"'];ue();return}_=["\\'"];ue();return}}O=he;if(O<m){do{if(o.token[0]!=="{"&&o.token[0]!=="["&&V!=="none"&&(h[O]==='"'||h[O]==="'")){if(h[O-1]==="\\"){if(be(O-1)===true){if(V==="double"&&h[O]==="'"){_.pop();}else if(V==="single"&&h[O]==='"'){_.pop();}}}else if(V==="double"&&h[O]==='"'&&h[n]==="'"){h[O]='\\"';}else if(V==="single"&&h[O]==="'"&&h[n]==='"'){h[O]="\\'";}_.push(h[O]);}else if(O>K){B=true;if(h[O]==="{"&&h[O+1]==="%"&&h[O+2]!==f){ue();te("{%","%}","template");ae();}else if(h[O]==="{"&&h[O+1]==="{"&&h[O+2]!==f){ue();te("{{","}}","template");ae();}else {B=false;_.push(h[O]);}}else {_.push(h[O]);}if((f==='"'||f==="'")&&(B===true||O>K)&&p.language!=="json"&&h[O-1]!=="\\"&&h[O]!=='"'&&h[O]!=="'"&&(h[O]==="\n"||O===m-1)){s.error="Unterminated string in script on line number "+s.lineNumber;break}if(h[O]===ne[z-1]&&(h[O-1]!=="\\"||be(O-1)===false)){if(z===1)break;if(_[O-he]===ne[0]&&_.slice(O-he-z+2).join("")===r)break}O=O+1;}while(O<m)}ue();}function ee(){y(false);D();if(w>-1)L();H=s.wrapCommentLine({chars:h,end:m,lexer:"script",opening:"//",start:n,terminator:"\n"});n=H[1];if(H[0]!==""){d=H[0];t=/^(\/\/\s*@prettify-ignore-start)/.test(d)?"ignore":"comment";if(d.indexOf("# sourceMappingURL=")===2){i[0]=s.count+1;i[1]=d;}s.push(o,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"script",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:d,types:t},"");}}function Z(){let f=0;let r=false;let x=false;let O=0;let S=0;let B=0;let _="";let I="";let ne="";const z=[];const K=C[C.length-1];const he="0123456789=<>+-*?|^:&.,;%(){}[]~";function V(){if(d==="(")s.structure[s.structure.length-1]=["paren",s.count];Q.lexers.markup(z.join(""));}if(w>-1)L();I=s.count>0?o.token[s.count-1]:"";ne=s.count>0?o.types[s.count-1]:"";_=U(1,false);if(p.language!=="jsx"&&p.language!=="tsx"&&/\d/.test(_)===false&&(d==="function"||I==="=>"||I==="void"||I==="."||o.stack[s.count]==="arguments"||t==="type"&&I==="type"||t==="reference"&&(ne==="operator"||I==="function"||I==="class"||I==="new")||t==="type"&&ne==="operator"||d==="return"||t==="operator")){const ae=[];let ue=0;let ce=0;f=n;do{ae.push(h[f]);if(h[f]==="<"){ue=ue+1;}else if(h[f]===">"){ue=ue-1;if(ue<1)break}f=f+1;}while(f<m);ce=n;n=f;_=U(1,false);if(h[f]===">"&&(K===true||I==="=>"||I==="."||ne!=="operator"||ne==="operator"&&(_==="("||_==="="))){t="generic";d=ae.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");F("");return}n=ce;}f=s.count;if(o.types[f]==="comment"){do{f=f-1;}while(f>0&&o.types[f]==="comment")}if(K===false&&U(1,false)!==">"&&(h[n]!=="<"&&he.indexOf(h[n+1])>-1||o.token[f]==="++"||o.token[f]==="--"||/\s/.test(h[n+1])===true||/\d/.test(h[n+1])===true&&(t==="operator"||t==="string"||t==="number"||t==="reference"||t==="word"&&d!=="return"))){t="operator";d=G();return F("")}if(p.language!=="typescript"&&(o.token[f]==="return"||o.types[f]==="operator"||o.types[f]==="start"||o.types[f]==="separator"||o.types[f]==="jsx_attribute_start"||o.token[f]==="}"&&s.structure[s.structure.length-1][0]==="global")){t="markup";p.language="jsx";do{z.push(h[n]);if(h[n]==="{"){S=S+1;r=true;}else if(h[n]==="}"){S=S-1;if(S===0)r=false;}else if(h[n]==="<"&&r===false){if(h[n+1]==="<"){do{z.push(h[n]);n=n+1;}while(n<m&&h[n+1]==="<")}O=O+1;if(U(1,false)==="/")x=true;}else if(h[n]===">"&&r===false){if(h[n+1]===">"){do{z.push(h[n]);n=n+1;}while(h[n+1]===">")}O=O-1;if(x===true){B=B-1;}else if(h[n-1]!=="/"){B=B+1;}if(O===0&&S===0&&B<1){_=U(2,false);if(_.charAt(0)!=="<")return V();if(_.charAt(0)==="<"&&he.indexOf(_.charAt(1))<0&&/\s/.test(_.charAt(1))===false){f=n+1;do{f=f+1;if(h[f]===">"||/\s/.test(h[f-1])&&he.indexOf(h[f])<0)break;if(he.indexOf(h[f])>-1)return V()}while(f<m)}else {return V()}}x=false;}n=n+1;}while(n<m);return V()}t="operator";d=G();F("");}function U(f,r){let x=r===true?n:n+1;let O="";if(typeof f!=="number"||f<1)f=1;if(h[n]==="/"){if(h[n+1]==="/"){O="\n";}else if(h[n+1]==="*"){O="/";}}if(x<m){do{if(/\s/.test(h[x])===false){if(h[x]==="/"){if(O===""){if(h[x+1]==="/"){O="\n";}else if(h[x+1]==="*"){O="/";}}else if(O==="/"&&h[x-1]==="*"){O="";}}if(O===""&&h[x-1]+h[x]!=="*/")return h.slice(x,x+f).join("")}else if(O==="\n"&&h[x]==="\n"){O="";}x=x+1;}while(x<m)}return ""}function de(){const f=m;const r=[h[n]];let x=0;let O=/zz/;let S=r[0]===".";if(n<m-2&&h[n]==="0"){if(h[n+1]==="x"){O=/[0-9a-fA-F]/;}else if(h[n+1]==="o"){O=/[0-9]/;}else if(h[n+1]==="b"){O=/0|1/;}if(O.test(h[n+2])===true){r.push(h[n+1]);x=n+1;do{x=x+1;r.push(h[x]);}while(O.test(h[x+1])===true);n=x;return r.join("")}}x=n+1;if(x<f){do{if(/[0-9]/.test(h[x])||h[x]==="."&&S===false){r.push(h[x]);if(h[x]===".")S=true;}else {break}x=x+1;}while(x<f)}if(x<f-1&&(/\d/.test(h[x-1])===true||/\d/.test(h[x-2])===true&&(h[x-1]==="-"||h[x-1]==="+"))&&(h[x]==="e"||h[x]==="E")){r.push(h[x]);if(h[x+1]==="-"||h[x+1]==="+"){r.push(h[x+1]);x=x+1;}S=false;x=x+1;if(x<f){do{if(/[0-9]/.test(h[x])||h[x]==="."&&S===false){r.push(h[x]);if(h[x]===".")S=true;}else {break}x=x+1;}while(x<f)}}n=x-1;return r.join("")}function G(){let f=0;let r=0;let x=m;let O="";const S=["=","<",">","+","*","?","|","^",":","&","%","~"];const B=S.length;if(w>-1)L();if(h[n]==="/"&&(s.count>-1&&(t!=="word"&&t!=="reference"||d==="typeof"||d==="return"||d==="else")&&t!=="number"&&t!=="string"&&t!=="end")){if(d==="return"||d==="typeof"||d==="else"||t!=="word"){d=me();t="regex";}else {d="/";t="operator";}F("");return "regex"}if(h[n]==="?"&&("+-*/.?".indexOf(h[n+1])>-1||h[n+1]===":"&&S.join("").indexOf(h[n+2])<0)){if(h[n+1]==="."&&/\d/.test(h[n+2])===false){O="?.";}else if(h[n+1]==="?"){O="??";}if(O==="")return "?"}if(h[n]===":"&&"+-*/".indexOf(h[n+1])>-1)return ":";if(n<m-1){if(h[n]!=="<"&&h[n+1]==="<")return h[n];if(h[n]==="!"&&h[n+1]==="/")return "!";if(h[n]==="-"){C[C.length-1]=false;if(h[n+1]==="-"){O="--";}else if(h[n+1]==="="){O="-=";}else if(h[n+1]===">"){O="->";}if(O==="")return "-"}if(h[n]==="+"){C[C.length-1]=false;if(h[n+1]==="+"){O="++";}else if(h[n+1]==="="){O="+=";}if(O==="")return "+"}if(h[n]==="="&&h[n+1]!=="="&&h[n+1]!=="!"&&h[n+1]!==">"){C[C.length-1]=false;return "="}}if(h[n]===":"){if(p.language==="typescript"){if(o.stack[s.count]==="arguments"){if(o.token[s.count]==="?"){s.pop(o);O="?:";n=n-1;}C[C.length-1]=true;}else if(d===")"&&(o.token[o.begin[s.count]-1]==="function"||o.token[o.begin[s.count]-2]==="function")){C[C.length-1]=true;}else if(t==="reference"){f=s.count;let _=false;do{if(o.begin[f]===o.begin[s.count]){if(f<s.count&&o.token[f]===":"&&o.types[f+1]!=="type")_=true;if(o.token[f]==="?"&&_===false)break;if(o.token[f]===";"||o.token[f]==="x;")break;if(o.token[f]==="var"||o.token[f]==="let"||o.token[f]==="const"||o.types[f]==="type"){C[C.length-1]=true;break}}else {if(o.types[f]==="type_end"){C[C.length-1]=true;break}f=o.begin[f];}f=f-1;}while(f>o.begin[s.count])}}else if(o.token[s.count-1]==="["&&(o.types[s.count]==="word"||o.types[s.count]==="reference")){s.structure[s.structure.length-1][0]="attribute";o.stack[s.count]="attribute";}}if(O===""){if(h[n+1]==="+"&&h[n+2]==="+"||h[n+1]==="-"&&h[n+2]==="-"){O=h[n];}else {const _=[h[n]];f=n+1;if(f<x){do{if(h[f]==="+"&&h[f+1]==="+"||h[f]==="-"&&h[f+1]==="-")break;r=0;if(r<B){do{if(h[f]===S[r]){_.push(S[r]);break}r=r+1;}while(r<B)}if(r===B)break;f=f+1;}while(f<x)}O=_.join("");}}n=n+(O.length-1);if(O==="=>"&&d===")"){f=s.count;x=o.begin[f];do{if(o.begin[f]===x)o.stack[f]="method";f=f-1;}while(f>x-1)}return O}function W(){let f=true;let r="+";let x="";let O="";let S="";let B=0;let _=0;let I=0;let ne="";const z=[];function K(){I=o.begin[I]-1;if(o.types[I]==="end"){K();}else if(o.token[I-1]==="."){he();}}function he(){I=I-2;if(o.types[I]==="end"){K();}else if(o.token[I-1]==="."){he();}}function V(){let ue=0;const ce=z.length;if(ue<ce){do{s.push(o,z[ue],"");ue=ue+1;}while(ue<ce)}}function ae(ue){const ce=ie(null);ce.begin=o.begin[ue];ce.ender=o.ender[ue];ce.lexer=o.lexer[ue];ce.lines=o.lines[ue];ce.stack=o.stack[ue];ce.token=o.token[ue];ce.types=o.types[ue];return ce}x=o.token[s.count];O=o.token[s.count-1];S=o.token[s.count-2];if(x!=="++"&&x!=="--"&&O!=="++"&&O!=="--"){I=s.count;if(o.types[I]==="end"){K();}else if(o.token[I-1]==="."){he();}}if(o.token[I-1]==="++"||o.token[I-1]==="--"){if("startendoperator".indexOf(o.types[I-2])>-1)return;B=I;if(B<s.count+1){do{z.push(ae(B));B=B+1;}while(B<s.count+1);s.splice({data:o,howmany:s.count-I,index:I});}}else {if(p.script.correct===false||x!=="++"&&x!=="--"&&O!=="++"&&O!=="--"){return}ne=U(1,false);if((x==="++"||x==="--")&&(h[n]===";"||ne===";"||h[n]==="}"||ne==="}"||h[n]===")"||ne===")")){r=o.stack[s.count];if(r==="array"||r==="method"||r==="object"||r==="paren"||r==="notation"||o.token[o.begin[s.count]-1]==="while"&&r!=="while"){return}B=s.count;do{B=B-1;if(o.token[B]==="return")return;if(o.types[B]==="end"){do{B=o.begin[B]-1;}while(o.types[B]==="end"&&B>0)}}while(B>0&&(o.token[B]==="."||o.types[B]==="word"||o.types[B]==="reference"||o.types[B]==="end"));if(o.token[B]===","&&h[n]!==";"&&ne!==";"&&h[n]!=="}"&&ne!=="}"&&h[n]!==")"&&ne!==")"){return}if(o.types[B]==="operator"){if(o.stack[B]==="switch"&&o.token[B]===":"){do{B=B-1;if(o.types[B]==="start"){_=_-1;if(_<0)break}else if(o.types[B]==="end"){_=_+1;}if(o.token[B]==="?"&&_===0)return}while(B>0)}else {return}}f=false;r=x==="--"?"-":"+";}else if(S==="["||S===";"||S==="x;"||S==="}"||S==="{"||S==="("||S===")"||S===","||S==="return"){if(x==="++"||x==="--"){if(S==="["||S==="("||S===","||S==="return")return;if(x==="--")r="-";f=false;}else if(O==="--"||x==="--"){r="-";}}else {return}if(f===false)e=s.pop(o);I=s.count;if(o.types[I]==="end"){K();}else if(o.token[I-1]==="."){he();}B=I;if(B<s.count+1){do{z.push(ae(B));B=B+1;}while(B<s.count+1)}}if(f===true){s.splice({data:o,howmany:1,index:I-1});d="=";t="operator";F("");V();d=r;t="operator";F("");d="1";t="number";F("");}else {d="=";t="operator";F("");V();d=r;t="operator";F("");d="1";t="number";F("");}d=o.token[s.count];t=o.types[s.count];if(ne==="}"&&h[n]!==";")y(false);}function F(f){const r=ie(null);r.begin=s.structure[s.structure.length-1][1];r.ender=-1;r.lexer="script";r.lines=s.linesSpace;r.stack=s.structure[s.structure.length-1][0];r.token=d;r.types=t;s.push(o,r,f);}function me(){let f=n+1;let r=0;let x=0;let O="";let S=false;const B=m;const _=["/"];if(f<B){do{_.push(h[f]);if(h[f-1]!=="\\"||h[f-2]==="\\"){if(h[f]==="["){S=true;}if(h[f]==="]"){S=false;}}if(h[f]==="/"&&S===false){if(h[f-1]==="\\"){x=0;r=f-1;if(r>0){do{if(h[r]==="\\"){x=x+1;}else {break}r=r-1;}while(r>0)}if(x%2===0){break}}else {break}}f=f+1;}while(f<B)}if(h[f+1]==="g"||h[f+1]==="i"||h[f+1]==="m"||h[f+1]==="y"||h[f+1]==="u"){_.push(h[f+1]);if(h[f+2]!==h[f+1]&&(h[f+2]==="g"||h[f+2]==="i"||h[f+2]==="m"||h[f+2]==="y"||h[f+2]==="u")){_.push(h[f+2]);if(h[f+3]!==h[f+1]&&h[f+3]!==h[f+2]&&(h[f+3]==="g"||h[f+3]==="i"||h[f+3]==="m"||h[f+3]==="y"||h[f+3]==="u")){_.push(h[f+3]);if(h[f+4]!==h[f+1]&&h[f+4]!==h[f+2]&&h[f+4]!==h[f+3]&&(h[f+4]==="g"||h[f+4]==="i"||h[f+4]==="m"||h[f+4]==="y"||h[f+4]==="u")){_.push(h[f+4]);if(h[f+5]!==h[f+1]&&h[f+5]!==h[f+2]&&h[f+5]!==h[f+3]&&h[f+5]!==h[f+4]&&(h[f+5]==="g"||h[f+5]==="i"||h[f+5]==="m"||h[f+5]==="y"||h[f+5]==="u")){_.push(h[f+4]);n=f+5;}else {n=f+4;}}else {n=f+3;}}else {n=f+2;}}else {n=f+1;}}else {n=f;}O=_.join("");return O}function be(f){const r=f;do{f=f-1;}while(h[f]==="\\"&&f>0);return (r-f)%2===1}function xe(f){let r=s.count;let x="";let O="";let S="";let B=false;J.push(f);if(f==="{"&&(o.types[s.count]==="type"||o.types[s.count]==="type_end"||o.types[s.count]==="generic")){let _=0;if(o.types[s.count]==="type_end")r=o.begin[s.count];_=r;do{r=r-1;if(o.begin[r]!==_&&o.begin[r]!==-1)break;if(o.token[r]===":")break}while(r>o.begin[r]);if(o.token[r]===":"&&o.stack[r-1]==="arguments"){C.push(false);B=true;}else {C.push(C[C.length-1]);}r=s.count;}else if(f==="["&&o.types[s.count]==="type_end"){C.push(true);}else {C.push(C[C.length-1]);}if(w>-1){L();r=s.count;}if(v.len>-1)v.count[v.len]=v.count[v.len]+1;if(o.token[r-1]==="function"){N.push(["function",r+1]);}else {N.push([d,r+1]);}d=f;if(C[C.length-1]===true){t="type_start";}else {t="start";}if(f==="("||f==="x("){j();}else if(f==="{"){if(k>-1){if(o.begin[k-1]===o.begin[o.begin[r]-1]||o.token[o.begin[r]]==="x("){k=-1;if(p.script.correct===true){X(")");}else {X("x)");}j();d="{";t="start";}}else if(d===")"){j();}if(t==="comment"&&o.token[r-1]===")"){d=o.token[r];o.token[r]="{";t=o.types[r];o.types[r]="start";}}x=(()=>{let _=s.count;if(o.types[_]==="comment"){do{_=_-1;}while(_>0&&o.types[_]==="comment")}return o.token[_]})();O=o.stack[r]===void 0?"":(()=>{let _=s.count;if(o.types[_]==="comment"){do{_=_-1;}while(_>0&&o.types[_]==="comment")}return o.token[o.begin[_]-1]})();if(g(d,123)&&(o.types[r]==="word"||o.token[r]==="]")){let _=r;if(o.token[_]==="]"){do{_=o.begin[_]-1;}while(o.token[_]==="]")}do{if(o.types[_]==="start"||o.types[_]==="end"||o.types[_]==="operator")break;_=_-1;}while(_>0);if(o.token[_]===":"&&o.stack[_-1]==="arguments"){S="function";$.push(u);u=[];}}if(t==="type_start"){S="data_type";}else if(S===""&&(g(d,123)||d==="x{")){if(x==="else"||x==="do"||x==="try"||x==="finally"||x==="switch"){S=x;}else if(T[T.length-1]===0&&x!=="return"){T.pop();S="class";}else if(o.token[r-1]==="class"){S="class";}else if(o.token[r]==="]"&&o.token[r-1]==="["){S="array";}else if((o.types[r]==="word"||o.types[r]==="reference")&&(o.types[r-1]==="word"||o.types[r-1]==="reference"||o.token[r-1]==="?"&&(o.types[r-2]==="word"||o.types[r-2]==="reference"))&&o.token[r]!=="in"&&o.token[r-1]!=="export"&&o.token[r-1]!=="import"){S="map";}else if(o.stack[r]==="method"&&o.types[r]==="end"&&(o.types[o.begin[r]-1]==="word"||o.types[o.begin[r]-1]==="reference")&&o.token[o.begin[r]-2]==="new"){S="initializer";}else if(g(d,123)&&(g(x,41)||x==="x)")&&(o.types[o.begin[r]-1]==="word"||o.types[o.begin[r]-1]==="reference"||o.token[o.begin[r]-1]==="]")){if(O==="if"){S="if";}else if(O==="for"){S="for";}else if(O==="while"){S="while";}else if(O==="class"){S="class";}else if(O==="switch"||o.token[o.begin[r]-1]==="switch"){S="switch";}else if(O==="catch"){S="catch";}else {S="function";}}else if(g(d,123)&&(x===";"||x==="x;")){S="block";}else if(g(d,123)&&o.token[r]===":"&&o.stack[r]==="switch"){S="block";}else if(o.token[r-1]==="import"||o.token[r-2]==="import"||o.token[r-1]==="export"||o.token[r-2]==="export"){S="object";}else if(g(x,41)&&(q[0]==="function"||q[0]==="if"||q[0]==="for"||q[0]==="class"||q[0]==="while"||q[0]==="switch"||q[0]==="catch")){S=q[0];}else if(o.stack[r]==="notation"){S="function";}else if((o.types[r]==="number"||o.types[r]==="string"||o.types[r]==="word"||o.types[r]==="reference")&&(o.types[r-1]==="word"||o.types[r-1]==="reference")&&o.token[o.begin[r]-1]!=="for"){S="function";}else if(s.structure.length>0&&o.token[r]!==":"&&s.structure[s.structure.length-1][0]==="object"&&(o.token[o.begin[r]-2]==="{"||o.token[o.begin[r]-2]===",")){S="function";}else if(o.types[q[1]-1]==="markup"&&o.token[q[1]-3]==="function"){S="function";}else if(x==="=>"){S="function";}else if(B===true||o.types[s.count]==="type_end"&&o.stack[o.begin[s.count]-2]==="arguments"){S="function";}else if(g(x,41)&&o.stack[r]==="method"&&(o.types[o.begin[r]-1]==="word"||o.types[o.begin[r]-1]==="property"||o.types[o.begin[r]-1]==="reference")){S="function";}else if(o.types[r]==="word"&&g(d,123)&&o.token[r]!=="return"&&o.token[r]!=="in"&&o.token[r]!=="import"&&o.token[r]!=="const"&&o.token[r]!=="let"&&o.token[r]!==""){S="block";}else if(g(d,123)&&"if|else|for|while|function|class|switch|catch|finally".indexOf(o.stack[r])>-1&&(o.token[r]==="x}"||o.token[r]==="}")){S="block";}else if(o.stack[r]==="arguments"){S="function";}else if(o.types[r]==="generic"){do{r=r-1;if(o.token[r]==="function"||o.stack[r]==="arguments"){S="function";break}if(o.token[r]==="interface"){S="map";break}if(o.token[r]===";"){S="object";break}}while(r>o.begin[s.count])}else {S="object";}if(S!=="object"&&S!=="class"){if(S==="function"){$.push(u);u=[];}else {$.push([]);}}}else if(d==="["){S="array";}else if(d==="("||d==="x("){if(x==="function"||o.token[r-1]==="function"||o.token[r-1]==="function*"||o.token[r-2]==="function"){S="arguments";}else if(o.token[r-1]==="."||o.token[o.begin[r]-2]==="."){S="method";}else if(o.types[r]==="generic"){S="method";}else if(o.token[r]==="}"&&o.stack[r]==="function"){S="method";}else if(x==="if"||x==="for"||x==="class"||x==="while"||x==="catch"||x==="finally"||x==="switch"||x==="with"){S="expression";}else if(o.types[r]==="word"||o.types[r]==="property"||o.types[r]==="reference"){S="method";}else {S="paren";}}F(S);if(T.length>0)T[T.length-1]=T[T.length-1]+1;}function ke(){const f=[h[n]];n=n+1;if(n<m){do{f.push(h[n]);if(h[n]==="`"&&(h[n-1]!=="\\"||be(n-1)===false))break;if(h[n-1]==="$"&&h[n]==="{"&&(h[n-2]!=="\\"||be(n-2)===false))break;n=n+1;}while(n<m)}return f.join("")}function ve(f){let r=2;let x=0;let O="";const S=f.slice(0,2);const B=f.length;if(f.charAt(2)==="-")r=r+1;if(/\s/.test(f.charAt(r))===true){do{r=r+1;}while(/\s/.test(f.charAt(r))===true&&r<B)}x=r;do{x=x+1;}while(/\s/.test(f.charAt(x))===false&&f.charAt(x)!=="("&&x<B);if(x===B)x=f.length-2;O=f.slice(r,x);if(O==="else"||S==="{%"&&(O==="elseif"||O==="when"||O==="elif"||O==="elsif")){return ["template_else",`template_${O}`]}if(S==="{{"){if(O==="end")return ["template_end",""];if(O==="block"&&/\{%\s*\w/.test(a)===false||O==="define"||O==="form"||O==="if"||O==="unless"||O==="range"||O==="with"){return ["template_start",`template_${O}`]}return ["template",""]}x=c.length-1;if(x>-1){do{if(O===c[x]&&(O!=="block"||/\{%\s*\w/.test(a)===false)){return ["template_start",`template_${O}`]}if(O==="end"+c[x]){return ["template_end",""]}x=x-1;}while(x>-1)}return ["template",""]}function M(){v.count.pop();v.index.pop();v.word.pop();v.len=v.len-1;}function L(){let f=w;let r=1;let x="";let O="";let S=d;let B=t;const _=[];function I(){J.push("x{");s.splice({data:o,howmany:1,index:s.count-3});}function ne(z,K,he){const V=o.begin[z];let ae=0;do{if(o.token[z]===K&&o.types[z]==="word"){if(he===true){o.types[z]="reference";}else if(o.begin[z]>V&&o.token[o.begin[z]]==="{"&&o.stack[z]!=="object"&&o.stack[z]!=="class"&&o.stack[z]!=="data_type"){if(o.stack[z]==="function"){o.types[z]="reference";}else {ae=o.begin[z];do{if(o.stack[ae]==="function"){o.types[z]="reference";break}ae=o.begin[ae];}while(ae>V)}}}z=z-1;}while(z>V)}do{_.push(h[f]);if(h[f]==="\\"){s.error=`Illegal escape in JavaScript on line number ${s.lineNumber}`;}f=f+1;}while(f<n);if(d.charAt(0)==="\u201C"){s.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${s.lineNumber}`;}else if(d.charAt(0)==="\u201D"){s.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${s.lineNumber}`;}x=_.join("");w=-1;if(s.count>0&&x==="function"&&o.token[s.count]==="("&&(o.token[s.count-1]==="{"||o.token[s.count-1]==="x{")){o.types[s.count]="start";}if(s.count>1&&x==="function"&&d==="("&&(o.token[s.count-1]==="}"||o.token[s.count-1]==="x}")){if(o.token[s.count-1]==="}"){f=s.count-2;if(f>-1){do{if(o.types[f]==="end"){r=r+1;}else if(o.types[f]==="start"||o.types[f]==="end"){r=r-1;}if(r===0)break;f=f-1;}while(f>-1)}if(o.token[f]==="{"&&o.token[f-1]===")"){r=1;f=f-2;if(f>-1){do{if(o.types[f]==="end"){r=r+1;}else if(o.types[f]==="start"||o.types[f]==="end"){r=r-1;}if(r===0)break;f=f-1;}while(f>-1)}if(o.token[f-1]!=="function"&&o.token[f-2]!=="function"){o.types[s.count]="start";}}}else {o.types[s.count]="start";}}if(p.script.correct===true&&(x==="Object"||x==="Array")&&h[n+1]==="("&&h[n+2]===")"&&o.token[s.count-1]==="="&&o.token[s.count]==="new"){if(x==="Object"){o.token[s.count]="{";d="}";o.stack[s.count]="object";s.structure[s.structure.length-1][0]="object";}else {o.token[s.count]="[";d="]";o.stack[s.count]="array";s.structure[s.structure.length-1][0]="array";}o.types[s.count]="start";t="end";h[n+1]="";h[n+2]="";n=n+2;}else {r=s.count;f=r;if(p.script.variableList!=="none"&&(x==="var"||x==="let"||x==="const")){if(o.types[r]==="comment"){do{r=r-1;}while(r>0&&o.types[r]==="comment")}if(p.script.variableList==="list"&&v.len>-1&&v.index[v.len]===r&&x===v.word[v.len]){d=",";t="separator";o.token[r]=d;o.types[r]=t;v.count[v.len]=0;v.index[v.len]=r;v.word[v.len]=x;return}v.len=v.len+1;v.count.push(0);v.index.push(r);v.word.push(x);r=f;}else if(v.len>-1&&x!==v.word[v.len]&&s.count===v.index[v.len]&&o.token[v.index[v.len]]===";"&&d!==v.word[v.len]&&p.script.variableList==="list"){M();}if(x==="from"&&o.token[s.count]==="x;"&&o.token[s.count-1]==="}"){j();}if(x==="while"&&o.token[s.count]==="x;"&&o.token[s.count-1]==="}"){let z=0;let K=s.count-2;if(K>-1){do{if(o.types[K]==="end"){z=z+1;}else if(o.types[K]==="start"){z=z-1;}if(z<0){if(o.token[K]==="{"&&o.token[K-1]==="do")j();return}K=K-1;}while(K>-1)}}if(B==="comment"){let z=s.count;do{z=z-1;}while(z>0&&o.types[z]==="comment");B=o.types[z];S=o.token[z];}O=U(2,false);if(x==="void"){if(S===":"&&o.stack[s.count-1]==="arguments"){t="type";}else {t="word";}}else if((s.structure[s.structure.length-1][0]==="object"||s.structure[s.structure.length-1][0]==="class"||s.structure[s.structure.length-1][0]==="data_type")&&(o.token[s.count]==="{"||o.token[o.begin[s.count]]==="{"&&o.token[s.count]===","||o.types[s.count]==="template_end"&&(o.token[o.begin[s.count]-1]==="{"||o.token[o.begin[s.count]-1]===","))){if(x==="return"||x==="break"){t="word";}else {t="property";}}else if(C[C.length-1]===true||(p.language==="typescript"||p.language==="flow")&&S==="type"){t="type";}else if($.length>0&&(S==="function"||S==="class"||S==="const"||S==="let"||S==="var"||S==="new"||S==="void")){t="reference";$[$.length-1].push(x);if(p.language==="javascript"||p.language==="jsx"||p.language==="typescript"||p.language==="tsx"){if(S==="var"||S==="function"&&o.types[s.count-1]!=="operator"&&o.types[s.count-1]!=="start"&&o.types[s.count-1]!=="end"){ne(s.count,x,true);}else {ne(s.count,x,false);}}else {ne(s.count,x,false);}}else if(s.structure[s.structure.length-1][0]==="arguments"&&t!=="operator"){t="reference";u.push(x);}else if(S===","&&o.stack[s.count]!=="method"&&(o.stack[s.count]!=="expression"||o.token[o.begin[s.count]-1]==="for")){let z=s.count;const K=s.structure[s.structure.length-1][1];do{if(o.begin[z]===K){if(o.token[z]===";")break;if(o.token[z]==="var"||o.token[z]==="let"||o.token[z]==="const"||o.token[z]==="type"){break}}else if(o.types[z]==="end"){z=o.begin[z];}z=z-1;}while(z>K);if($.length>0&&o.token[z]==="var"){t="reference";$[$.length-1].push(x);if(p.language==="javascript"||p.language==="jsx"||p.language==="typescript"||p.language==="tsx"){ne(z,x,true);}else {ne(z,x,false);}}else if($.length>0&&(o.token[z]==="let"||o.token[z]==="const"||o.token[z]==="type"&&(p.language==="typescript"||p.language==="tsx"))){t="reference";$[$.length-1].push(x);ne(z,x,false);}else {t="word";}}else if(s.structure[s.structure.length-1][0]!=="object"||s.structure[s.structure.length-1][0]==="object"&&d!==","&&d!=="{"){let z=$.length;let K=0;if(z>0){do{z=z-1;K=$[z].length;if(K>0){do{K=K-1;if(x===$[z][K])break}while(K>0);if(x===$[z][K])break}}while(z>0);if($[z][K]===x&&S!=="."){t="reference";}else {t="word";}}else {t="word";}}else {t="word";}d=x;if(x==="from"&&o.token[s.count]==="}")j();}F("");if(x==="class")T.push(0);if(x==="do"){O=U(1,true);if(O!=="{"){d=p.script.correct===true?"{":"x{";t="start";J.push("x{");F("do");}}if(x==="else"){O=U(2,true);let z=s.count-1;if(o.types[z]==="comment"){do{z=z-1;}while(z>0&&o.types[z]==="comment")}if(o.token[z]==="x}"){if(o.token[s.count]==="else"){if(o.stack[s.count-1]!=="if"&&o.types[s.count-1]!=="comment"&&o.stack[s.count-1]!=="else"){J.pop();s.splice({data:o,howmany:0,index:s.count-1,record:{begin:o.begin[o.begin[o.begin[s.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:p.script.correct===true?"}":"x}",types:"end"}});if(s.structure.length>1){s.structure.splice(s.structure.length-2,1);s.structure[s.structure.length-1][1]=s.count;}}else if(o.token[s.count-2]==="x}"&&b[0]!=="if"&&o.stack[s.count]==="else"){I();}else if(o.token[s.count-2]==="}"&&o.stack[s.count-2]==="if"&&b[0]==="if"&&o.token[b[1]-1]!=="if"&&o.token[o.begin[s.count-1]]==="x{"){I();}}else if(o.token[s.count]==="x}"&&o.stack[s.count]==="if"){I();}}if(O!=="if"&&O.charAt(0)!=="{"){d=p.script.correct===true?"{":"x{";t="start";J.push("x{");F("else");}}if((x==="for"||x==="if"||x==="switch"||x==="catch")&&o.token[s.count-1]!=="."){O=U(1,true);if(O!=="("){k=s.count;if(p.script.correct===true){xe("(");}else {xe("x(");}}}}do{if(/\s/.test(h[n])){if(w>-1)L();n=s.spacer({array:h,end:m,index:n});if(s.linesSpace>1&&d!==";"&&E<s.count&&h[n+1]!=="}"){y(false);E=s.count;}}else if(h[n]==="{"&&h[n+1]==="%"){te("{%","%}","template");}else if(h[n]==="{"&&h[n+1]==="{"){te("{{","}}","template");}else if(h[n]==="<"&&h[n+1]==="!"&&h[n+2]==="-"&&h[n+3]==="-"){te("<!--","-->","comment");}else if(h[n]==="<"){Z();}else if(h[n]==="/"&&(n===m-1||h[n+1]==="*")){R();}else if((s.count<0||o.lines[s.count]>0)&&h[n]==="#"&&h[n+1]==="!"&&(h[n+2]==="/"||h[n+2]==="[")){te("#!"+h[n+2],"\n","string");}else if(h[n]==="/"&&(n===m-1||h[n+1]==="/")){ee();}else if(h[n]==="`"||h[n]==="}"&&s.structure[s.structure.length-1][0]==="template_string"){if(w>-1)L();d=ke();if(d.charAt(0)==="}"&&d.slice(d.length-2)==="${"){t="template_string_else";F("template_string");}else if(d.slice(d.length-2)==="${"){t="template_string_start";F("template_string");}else if(d.charAt(0)==="}"){t="template_string_end";F("");}else {t="string";F("");}}else if(h[n]==='"'||h[n]==="'"){te(h[n],h[n],"string");}else if(h[n]==="-"&&(n<m-1&&h[n+1]!=="="&&h[n+1]!=="-")&&(t==="number"||t==="word"||t==="reference")&&d!=="return"&&(d===")"||d==="]"||t==="word"||t==="reference"||t==="number")){if(w>-1)L();d="-";t="operator";F("");}else if(w===-1&&(h[n]!=="0"||h[n]==="0"&&h[n+1]!=="b")&&(/\d/.test(h[n])||n!==m-2&&h[n]==="-"&&h[n+1]==="."&&/\d/.test(h[n+2])||n!==m-1&&(h[n]==="-"||h[n]===".")&&/\d/.test(h[n+1]))){if(w>-1)L();if(t==="end"&&h[n]==="-"){d="-";t="operator";}else {d=de();t="number";}F("");}else if(h[n]===":"&&h[n+1]===":"){if(w>-1)L();if(p.script.correct===true)W();j();n=n+1;d="::";t="separator";F("");}else if(h[n]===","){if(w>-1)L();if(p.script.correct===true)W();if(C[C.length-1]===true&&o.stack[s.count].indexOf("type")<0){C[C.length-1]=false;}if(t==="comment"){oe();}else if(v.len>-1&&v.count[v.len]===0&&p.script.variableList==="each"){j();d=";";t="separator";F("");d=v.word[v.len];t="word";F("");v.index[v.len]=s.count;}else {d=",";t="separator";j();F("");}}else if(h[n]==="."){if(w>-1)L();C[C.length-1]=false;if(h[n+1]==="."&&h[n+2]==="."){d="...";t="operator";n=n+2;}else {j();d=".";t="separator";}if(/\s/.test(h[n-1])===true)s.linesSpace=1;F("");}else if(h[n]===";"){if(w>-1)L();if(C[C.length-1]===true&&o.stack[s.count].indexOf("type")<0){C[C.length-1]=false;}if(T[T.length-1]===0)T.pop();if(v.len>-1&&v.count[v.len]===0){if(p.script.variableList==="each"){M();}else {v.index[v.len]=s.count+1;}}if(p.script.correct===true)W();d=";";t="separator";if(o.token[s.count]==="x}"){P();}else {F("");}D();}else if(h[n]==="("||h[n]==="["||h[n]==="{"){xe(h[n]);}else if(h[n]===")"||h[n]==="]"||h[n]==="}"){X(h[n]);}else if(h[n]==="*"&&o.stack[s.count]==="object"&&w<0&&/\s/.test(h[n+1])===false&&h[n+1]!=="="&&/\d/.test(h[n+1])===false){w=n;}else if(h[n]==="="||h[n]==="&"||h[n]==="<"||h[n]===">"||h[n]==="+"||h[n]==="-"||h[n]==="*"||h[n]==="/"||h[n]==="!"||h[n]==="?"||h[n]==="|"||h[n]==="^"||h[n]===":"||h[n]==="%"||h[n]==="~"){d=G();if(d==="regex"){d=o.token[s.count];}else if(d==="*"&&o.token[s.count]==="function"){o.token[s.count]="function*";}else {t="operator";if(d!=="!"&&d!=="++"&&d!=="--")j();F("");}}else if(w<0&&h[n]!==""){w=n;}if(v.len>-1&&s.count===v.index[v.len]+1&&o.token[v.index[v.len]]===";"&&d!==v.word[v.len]&&t!=="comment"&&p.script.variableList==="list"){M();}n=n+1;}while(n<m);if(w>-1)L();if((o.token[s.count]!=="}"&&o.token[0]==="{"||o.token[0]!=="{")&&(o.token[s.count]!=="]"&&o.token[0]==="["||o.token[0]!=="[")){y(false);}if(i[0]===s.count){d="\n"+i[1];t="string";F("");}if(o.token[s.count]==="x;"&&(o.token[s.count-1]==="}"||o.token[s.count-1]==="]")&&o.begin[s.count-1]===0){s.pop(o);}return o};var Qe=function(){const l=ie(null);l.markup="markup";l.html="markup";l.liquid="markup";l.xml="markup";l.javascript="script";l.typescript="script";l.jsx="script";l.tsx="script";l.json="script";l.less="style";l.scss="style";l.sass="style";l.css="style";l.text="text";return l}();var Ke=function(){const l=ie(null);l.html="HTML";l.xhtml="XHTML";l.liquid="Liquid";l.xml="XML";l.jsx="JSX";l.tsx="TSX";l.json="JSON";l.yaml="YAML";l.css="CSS";l.scss="SCSS";l.sass="SASS";l.less="LESS";l.text="Plain Text";l.javascript="JavaScript";l.typescript="TypeScript";return l}();function We(l){if(typeof l!=="string")return "markup";if(l.indexOf("html")>-1)return "markup";if(Qe[l]===void 0)return "script";return Qe[l]}function ot(l){if(typeof l!=="string"||Ke[l]===void 0)return l.toUpperCase();return Ke[l]}function ge(l){const a=ie(null);if(l==="unknown"){a.language=l;a.languageName="Unknown";a.lexer="markup";}else if(l==="xhtml"||l==="markup"){a.language="xml";a.languageName="XHTML";a.lexer="markup";}else {a.language=l;a.languageName=ot(l);a.lexer=We(l);}if(Q.hooks.language.length>0){for(const p of Q.hooks.language){const n=p(a);if(typeof n==="object")Le(a,n);}}return a}Ne.reference=ge;Ne.listen=function(l){Q.hooks.language.push(l);};function Ne(l){let a=[];let p=0;const n=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(l)&&/@import/.test(l)===false;const d=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(l);function t(){if(/\n\s*#+\s+/.test(l)||/^#+\s+/.test(l))return ge("markdown");if(/\$[a-zA-Z]/.test(l)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(l)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(l)&&/:\s*@[a-zA-Z];/.test(l)===false)return ge("scss");if(/@[a-zA-Z]:/.test(l)||/\.[a-zA-Z]\(\);/.test(l))return ge("less");return ge("css")}function q(){let w=1;let k="";let u=false;let e=false;const b=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(l);function H(){if(l.indexOf("(")>-1||l.indexOf("=")>-1||l.indexOf(";")>-1&&l.indexOf("{")>-1){if(d===true||/\w<\w+(,\s+\w+)*>/.test(l))return ge("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(l)||/=\s*<\w+/.test(l))return ge("typescript");return ge("javascript")}return ge("unknown")}function o(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(l)||/(?:public|private)\s+/.test(l)||/(?:export|declare)\s+type\s+\w+\s*=/.test(l)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(l)||/(?:typeof|keyof|as)\s+\w+/.test(l)||/\w+\s+as\s+\w+/.test(l)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(l)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(l)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(l))return ge("typescript");if(/\s(class|var|const|let)\s+\w/.test(l)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(l)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(l)&&(/\s?\{%/.test(l)||/{{/.test(l)))return ge("liquid");if(/^(\s*[$@])/.test(l)===false&&/([}\]];?\s*)$/.test(l)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(l)||/module\.export\s+=\s+/.test(l)||/export\s+default\s+\{/.test(l)||/[?:]\s*[{[]/.test(l)||/^(?:\s*return;?(?:\s+[{[])?)/.test(l)){return ge("javascript")}}if(/{%/.test(l)&&/{{/.test(l)&&/<\w/.test(l))return ge("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(l))return ge("less");if(/\$(\w|-)/.test(l))return ge("scss");if(/[;{:]\s*@\w/.test(l)===true)return ge("less");return ge("css")}if(w<p){do{if(u===false){if(a[w]==="*"&&a[w-1]==="/"){a[w-1]="";u=true;}else if(e===false&&a[w]==="f"&&w<p-6&&a[w+1]==="i"&&a[w+2]==="l"&&a[w+3]==="t"&&a[w+4]==="e"&&a[w+5]==="r"&&a[w+6]===":"){e=true;}}else if(u===true&&a[w]==="*"&&w!==p-1&&a[w+1]==="/"){u=false;a[w]="";a[w+1]="";}else if(e===true&&a[w]===";"){e=false;a[w]="";}if(u===true||e===true)a[w]="";w=w+1;}while(w<p)}k=a.join("");if(/\s\/\//.test(l)===false&&/\/\/\s/.test(l)===false&&/^(\s*(\{|\[)(?!%))/.test(l)===true&&/((\]|\})\s*)$/.test(l)&&l.indexOf(",")!==-1)return ge("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(l)===true&&(n===true||b===true||/console\.log\(/.test(l)===true||/export\s+default\s+class\s+/.test(l)===true||/export\s+(const|var|let|class)s+/.test(l)===true||/document\.get/.test(l)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(l)===true||l.indexOf("{")===-1||/^(\s*if\s+\()/.test(l)===true))return H();if(l.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(l)||/^(\s*\/(\*|\/))/.test(l)||/^(\s*\*\s*\{)/.test(l))&&/^(\s*if\s*\()/.test(l)===false&&/=\s*(\{|\[|\()/.test(k)===false&&(/(\+|-|=|\?)=/.test(k)===false||/\/\/\s*=+/.test(k)||/=+('|")?\)/.test(l)&&/;\s*base64/.test(l))&&/function(\s+\w+)*\s*\(/.test(k)===false)return o();return l.indexOf("{%")>-1?ge("liquid"):ge("unknown")}function E(){function w(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(l)||/{%-?\s*end\w+/.test(l)||/{{-?\s*content_for/.test(l)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(l)||/{%/.test(l)&&/%}/.test(l)&&/{{/.test(l)&&/}}/.test(l)?ge("liquid"):ge("html")}return /^(\s*<!doctype\s+html>)/i.test(l)||/^(\s*<html)/i.test(l)||/<form\s/i.test(l)&&/<label\s/i.test(l)&&/<input\s/i.test(l)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(l)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(l))||/<ul\s/i.test(l)&&/<li\s/i.test(l)&&/<\/li>/i.test(l)&&/<\/ul>/i.test(l)||/<head\s*>/.test(l)&&/<\/head>/.test(l)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(l)&&/XHTML\s+1\.1/.test(l)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(l)===false?w():/\s?{[{%]-?/.test(l)?ge("liquid"):ge("xml")}if(l===null||l.replace(/\s+/g,"")==="")return ge("unknown");if((/\n\s*#{1,6}\s+/.test(l)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(l))&&(/\[( |x|X)\]/.test(l)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(l)||/\n\s*```[a-zA-Z]*?\s+/.test(l)||/-+\|(-+\|)+/.test(l)))return ge("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(l))return E();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(l))return t();if(d===false&&/=(>|=|-|\+|\*)/.test(l)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(l)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(l)===false&&n===false&&/return\s*\w*\s*(;|\})/.test(l)===false&&(l===void 0||/^(?:\s*#(?!(!\/)))/.test(l)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(l)&&/>\s*<\w/.test(l)===false||(/^\s*:root\s*\{/.test(l)||/-{2}\w+\s*\{/.test(l)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(l))))return t();a=l.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,"").split("");p=a.length;if(/^(\s*({{|{%|<))/.test(l))return E();if(d===true||/^(?:[\s\w-]*<)/.test(l)===false&&/(?:>[\s\w-]*)$/.test(l)===false)return q();return (/^(?:\s*<\?xml)/.test(l)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(l)||/^\s*</.test(l)&&/<\/\w+(\w|\d)+>\s*$/.test(l))&&(/^(?:[\s\w]*<)/.test(l)||/(?:>[\s\w]*)$/.test(l))||/^(?:\s*<s((cript)|(tyle)))/i.test(l)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(l)?/^(?:[\s\w]*<)/.test(l)===false||/(?:>[\s\w]*)$/.test(l)===false?q():E():ge("unknown")}Q.lexers.markup=function l(a){const{options:p}=Q;const{data:n}=s;const d=p.language==="jsx"||p.language==="tsx";const t=p.language==="html"||p.language==="liquid";const q=p.markup;const E=q.attributeSortList.length;const w=ye({end:0,index:-1,start:0,line:1});const k=a.split(A);const u=k.length;let e=0;let b=false;let H="javascript";let o=t?p.language:"html";let $=0;function m(C){if(t===true&&d===false){if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(C))return C;if(q.delimiterSpacing===true){C=C.replace(/{[{%]-?\s*/g,c=>c.replace(/\s*$/," "));C=C.replace(/\s*-?[%}]}/g,c=>c.replace(/^\s*/," "));}return C}return C}function h(C,c,v){if(C===n){if(c.types.indexOf("end")>-1){w.end=w.end+1;}else if(c.types.indexOf("start")>-1){w.start=w.start+1;}}w.index=s.count;w.line=s.lineNumber;s.push(C,c,v);}function N(C){let c=0;let v=A;const y=/^(?:<|{%-?|{{-?)=?\s*/;if(typeof C!=="string")return A;c=C.replace(y,"%").replace(/\s+/," ").indexOf(" ");v=C.replace(y," ");v=c<0?v.slice(1,C.length-1):v.slice(1,c);if(o==="html")v=v.toLowerCase();v=v.replace(/-?[%}]}$/,A);if(v.indexOf("(")>0)v=v.slice(0,v.indexOf("("));if(v==="?xml?")return "xml";return v}function J(C,c){const v=N(C);const y=ye({begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"markup",lines:n.lines[s.count]>0?1:0,stack:s.structure[s.structure.length-1][0],token:`</${s.structure[s.structure.length-1][0]}>`,types:"end"});h(n,y,A);if(re.html.tags.has(s.structure[s.structure.length-1][0])&&(c===true&&s.structure.length>1||c===false&&`/${s.structure[s.structure.length-1][0]}`!==v)){do{y.begin=s.structure[s.structure.length-1][1];y.stack=s.structure[s.structure.length-1][0];y.token=`</${s.structure[s.structure.length-1][0]}>`;h(n,y,A);}while(re.html.tags.has(s.structure[s.structure.length-1][0])&&(c===true&&s.structure.length>1||c===false&&`/${s.structure[s.structure.length-1][0]}`!==v))}}function T(C){const c=ye({begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"markup",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:A,types:A});let v=0;let y=A;let P=A;let j=A;let R=A;let D=A;let oe=false;let X=false;let te=false;let ee=false;let Z=false;let U=false;let de=false;let W=[];let F=[A,0];function me(M){const L=M.indexOf("=");if(L>0&&(L<M.indexOf('"')&&M.indexOf('"')>0||L<M.indexOf("'")&&M.indexOf("'")>0)){return [M.slice(0,L),M.slice(L+1)]}return [M,A]}function be(){const M=s.count;const L=R.replace(/(\/)$/,A);const f=q.quoteConvert;let r=0;let x=0;let O=0;let B=A;let _=A;let I=[];let ne=W.length;function z(){if(te===true||f==="none"||c.types!=="attribute"||f==="single"&&c.token.indexOf('"')<0||f==="double"&&c.token.indexOf("'")<0){h(n,c,A);}else {let K=0;let he=false;const V=c.token.split(A);const ae=c.token.indexOf("=");const ue=V.length-1;if(Y(V[ae+1],34)&&Y(V[V.length-1],34)&&f==="single"){h(n,c,A);}else if(Y(V[ae+1],39)&&Y(V[V.length-1],39)&&f==="double"){h(n,c,A);}else {K=ae+2;if(f==="double"){if(c.token.slice(ae+2,ue).indexOf('"')>-1)he=true;V[ae+1]='"';V[V.length-1]='"';}else {if(c.token.slice(ae+2,ue).indexOf("'")>-1)he=true;V[ae+1]="'";V[V.length-1]="'";}if(he===true){do{if(V[K]==="'"&&f==="single"){V[K]='"';}else if(V[K]==='"'&&f==="double"){V[K]="'";}K=K+1;}while(K<ue)}c.token=V.join(A);h(n,c,A);}}}if(W.length<1)return;if(g(W[W.length-1][0],47)){W.pop();y=y.replace(/>$/,"/>");}x=W.length;O=1;if(O<x){do{B=W[O-1][0];if(B.charCodeAt(B.length-1)===61&&W[O][0].indexOf("=")<0){W[O-1][0]=B+W[O][0];W.splice(O,1);x=x-1;O=O-1;}O=O+1;}while(O<x)}if(q.attributeSort===true&&d===false&&ee===false&&Z===false){if(E>0){const K=[];O=0;x=0;ne=W.length;do{x=0;do{B=W[x][0].split("=")[0];if(q.attributeSortList[O]===B){K.push(W[x]);W.splice(x,1);ne=ne-1;break}x=x+1;}while(x<ne);O=O+1;}while(O<E);W=s.safeSort(W,A,false);W=K.concat(W);ne=W.length;}else {W=s.safeSort(W,A,false);}}c.begin=M;c.stack=L;c.types="attribute";I=[];if(r<ne){do{if(W[r]===void 0)break;c.lines=W[r][1];W[r][0]=W[r][0].replace(/\s+$/,A);if(d===true&&/^\/(\/|\*)/.test(W[r][0])){c.types="comment_attribute";c.token=W[r][0];z();r=r+1;continue}if(g(W[r][0][0],123)&&g(W[r][0][1],37)||g(W[r][0][W[r][0].length-1],125)&&g(W[r][0][W[r][0].length-2],37)){if(Ie(W[r][0])){c.token=W[r][0];c.types="template_attribute_end";c.ender=c.begin;}else {const K=De(W[r][0]);if(re.liquid.tags.has(K)){c.types="template_attribute_start";c.begin=s.count;c.token=W[r][0];}else if(re.liquid.else.has(K)){c.types="template_attribute_else";c.token=W[r][0];}else {c.types="template_attribute";c.token=W[r][0];}}z();r=r+1;continue}if(g(W[r][0][0],123)&&g(W[r][0][1],123)||g(W[r][0][W[r][0].length-1],125)&&g(W[r][0][W[r][0].length-2],125)){if(Ie(W[r][0])){c.token=W[r][0];c.types="template_attribute_end";c.ender=c.begin;}else {const K=De(W[r][0]);if(re.liquid.tags.has(K)){c.types="template_attribute_start";c.begin=s.count;c.token=W[r][0];}else if(re.liquid.else.has(K)){c.types="template_attribute_else";c.token=W[r][0];}else {c.types="template_attribute";c.token=W[r][0];}}z();r=r+1;continue}x=W[r][0].indexOf("=");O=W[r][0].indexOf('"');W[r][0].indexOf("'");if(x<0){c.types="attribute";if(g(W[r][0],35)||g(W[r][0],91)||g(W[r][0],123)||g(W[r][0],40)||d===true){c.token=W[r][0];}else {c.token=W[r][0].toLowerCase();}z();}else {B=W[r][0].slice(0,x);_=W[r][0].slice(x+1);if(q.correct&&(Y(_[0],60)||Y(_[0],123)||Y(_[0],61)||Y(_[0],34)||Y(_[0],39))){_='"'+_+'"';}if(d===true&&/^\s*{/.test(_)){c.token=B+"={";c.types="jsx_attribute_start";h(n,c,"jsx_attribute");Q.lexers.script(_.slice(1,_.length-1));c.begin=s.count;if(/\s\}$/.test(_)){_=_.slice(0,_.length-1);_=/\s+$/.exec(_)[0];c.lines=_.indexOf("\n")<0?1:_.split("\n").length;}else {c.lines=0;}c.begin=s.structure[s.structure.length-1][1];c.stack=s.structure[s.structure.length-1][0];c.token="}";c.types="jsx_attribute_end";z();c.types="attribute";c.begin=M;c.stack=L;}else {if(Ie(W[r][0])){c.token=W[r][0];c.types="template_attribute_end";c.ender=c.begin;}else if($e(W[r][0],5)){const K=De(W[r][0]);if(re.liquid.tags.has(K)){c.types="template_attribute_start";c.begin=s.count;c.token=W[r][0];}else if(re.liquid.else.has(K)){c.types="template_attribute_else";c.token=W[r][0];}else {c.types="template_attribute";c.token=W[r][0];}}else {c.types="attribute";if(g(W[r][0],35)||g(W[r][0],91)||g(W[r][0],123)||g(W[r][0],40)||d===true){c.token=W[r][0];}else {c.token=W[r][0].toLowerCase();}}z();}}r=r+1;}while(r<ne)}if(I.length>0){c.token=I.join(" ");z();}}b=false;if(C==="---"){D="---";j="comment";}else if(g(k[e],60)){if(g(k[e+1],47)){C=">";j="end";}else if(g(k[e+1],33)){if((k[e+2].charCodeAt(0)===100||k[e+2].charCodeAt(0)===68)&&(k[e+3].charCodeAt(0)===111||k[e+3].charCodeAt(0)===79)&&(k[e+4].charCodeAt(0)===99||k[e+4].charCodeAt(0)===67)&&(k[e+5].charCodeAt(0)===116||k[e+5].charCodeAt(0)===84)&&(k[e+6].charCodeAt(0)===121||k[e+6].charCodeAt(0)===89)&&(k[e+7].charCodeAt(0)===112||k[e+7].charCodeAt(0)===80)&&(k[e+8].charCodeAt(0)===101||k[e+8].charCodeAt(0)===69)){C=">";j="doctype";U=true;}else if(g(k[e+2],45)&&g(k[e+3],45)){C="-->";j="comment";D="<!--";}else if(g(k[e+2],91)&&k[e+3].charCodeAt(0)===67&&k[e+4].charCodeAt(0)===68&&k[e+5].charCodeAt(0)===65&&k[e+6].charCodeAt(0)===84&&k[e+7].charCodeAt(0)===65&&g(k[e+8],91)){C="]]>";j="cdata";U=true;}}else if(k[e+1]==="?"){C="?>";if(k[e+2].charCodeAt(0)===120&&k[e+3].charCodeAt(0)===109&&k[e+4].charCodeAt(0)===109){j="xml";de=true;}else {U=true;j="template";}}else if(g(k[e+1],37)){U=true;}else if((k[e+1].charCodeAt(0)===112||k[e+1].charCodeAt(0)===80)&&(k[e+2].charCodeAt(0)===114||k[e+2].charCodeAt(0)===82)&&(k[e+3].charCodeAt(0)===101||k[e+3].charCodeAt(0)===69)&&(g(k[e+4],62)||le(k[e+4]))){C="</pre>";j="ignore";U=true;}else {de=true;C=">";}}else if(g(k[e],123)){if(d){b=true;X=true;c.token="{";c.types="script_start";s.structure.push(["script",s.count]);h(n,c,A);return}if(g(k[e+1],123)){U=true;C="}}";j="template";}else if(g(k[e+1],37)){U=true;C="%}";j="template";const M=k.indexOf("}",e+2);if(k[M-1].charCodeAt(0)===37){let L=k.slice(e+2,M-1).join(A);if(L.charCodeAt(0)===45){D="{%-";L=L.slice(1).trimStart();}else {D="{%";L=L.trimStart();}if(L.charCodeAt(L.length-1)===45){C="-%}";L=L.slice(0,L.length-1).trimEnd();}else {C="%}";L=L.trimEnd();}if(L==="comment"){const f=a.indexOf("{%",M);let r=f;if(k[f+1].charCodeAt(0)===45)r=f+1;r=a.indexOf("endcomment",r);if(r>0){r=k.indexOf("}",r);if(r>0&&k[r-1].charCodeAt(0)===37){j="comment";D=k.slice(e,M+1).join(A);C=k.slice(f,r+1).join(A);}}}}else {U=true;C="%}";j="template";}}else {U=true;C=k[e+1]+"}";j="template";}}if(q.preserveAttributes===true)U=true;if(X)return;P=C.charAt(C.length-1);if(j==="comment"&&(g(k[e],60)||g(k[e],123)&&g(k[e+1],37))){F=s.wrapCommentBlock({chars:k,end:u,lexer:"markup",opening:D,start:e,terminator:C});y=F[0];e=F[1];if(y.replace(D,A).trimStart().startsWith("@prettify-ignore-start")){c.token=y;c.types="ignore";h(n,c,A);return}}else if(e<u){let ae=function(){if(ne===false&&g(k[e-1],123)&&(g(k[e],123)||g(k[e],37))){return true}else if(ne===true&&g(k[e],125)&&(g(k[e-1],125)||g(k[e-1],37))){return false}return ne},ue=function(){let we=e;do{we=we-1;}while(k[we]==="\\");we=e-we;return we%2===1},ce=function(we){let fe;let se=A;let Ae=0;let pe=0;const je="data-prettify-ignore";if(we===true){se=V.join(A);fe=me(se);B=A;if(fe[0]===je)te=true;}else {se=V.join(A);if(d===false||d&&Y(se[se.length-1],125)){se=se.replace(/\s+/g," ");}fe=me(se);if(fe[0]===je)te=true;if(d&&g(V[0],123)&&g(V[V.length-1],125))I=0;}if(g(se[0],123)&&g(se[1],37))Z=true;if(Ge(se)){$=$+1;}else if(Ie(se)){$=$-1;}se=se.replace(/^\u0020/,A).replace(/\u0020$/,A);V=se.replace(/\r\n/g,"\n").split("\n");pe=V.length;if(Ae<pe){do{V[Ae]=V[Ae].replace(/(\s+)$/,A);Ae=Ae+1;}while(Ae<pe)}se=V.join(p.crlf===true?"\r\n":"\n");se=m(se);if($>=1||$e(se,1)){S=g(k[e+1],10)?2:Y(k[e+1],32)?0:S;}if(se==="="){W[W.length-1][0]=`${W[W.length-1][0]}=`;}else if(g(se[0],61)&&W.length>0&&W[W.length-1][0].indexOf("=")<0){W[W.length-1][0]=W[W.length-1][0]+se;if($>=1||$e(se,5))W[W.length-1][1]=S;}else if(Y(se[0],61)&&W.length>0&&W[W.length-1][0].indexOf("=")===W[W.length-1][0].length-1){W[W.length-1][0]=W[W.length-1][0]+se;}else if(se!==A&&se!==" "){W.push([se,S]);}if(W.length>0){const[Be]=W[W.length-1];if(Be.indexOf("=\u201C")>0){s.error=`Invalid quote character (\u201C, &#x201c) used on line number ${s.lineNumber}`;}else if(Be.indexOf("=\u201D")>0){s.error=`Invalid quote character (\u201D, &#x201d) used on line number ${s.lineNumber}`;}}V=[];S=k[e]==="\n"?2:1;};const M=[];let L=0;let f=0;let r=0;let x=0;let O=0;let S=0;let B=A;let _=A;let I=0;let ne=false;let z=false;let K=false;let he=false;let V=[];do{if(g(k[e],10)){S=S+1;s.lineNumber=s.lineNumber+1;}if(U===true||(le(k[e])===false&&Y(B,125)||g(B,125))){ne=ae();M.push(k[e]);if(g(M[0],60)&&g(M[1],62)&&g(C,62)){c.token="<>";c.types="start";h(n,c,"(empty)");return}if(g(M[0],60)&&g(M[1],47)&&g(M[2],62)&&g(C,62)){c.token="</>";c.types="end";h(n,c,A);return}}if(j==="cdata"&&g(k[e],62)&&g(k[e-1],93)&&Y(k[e-2],93)){s.error=`CDATA tag (${M.join(A)}) not properly terminated with "]]>"`;break}if(j==="comment"){B=A;if(k[e]===P&&M.length>C.length+1){f=M.length;L=C.length-1;if(L>-1){do{f=f-1;if(M[f]!==C.charAt(L))break;L=L-1;}while(L>-1)}if(L<0)break}}else {if(B===A){if(g(M[0],60)&&g(M[1],33)&&j!=="cdata"){if(j==="doctype"&&g(k[e],62))break;if(g(k[e],91)){if(g(k[e+1],60)){j="start";break}if(le(k[e+1])){do{e=e+1;if(g(k[e],10))S=S+1;}while(e<u-1&&le(k[e+1]))}if(g(k[e+1],60)){j="start";break}}}if(d){if(g(k[e],123)){I=I+1;}else if(g(k[e],125)){I=I-1;}}if(g(k[e],60)&&U===false&&M.length>1&&/>{2,3}/.test(C)===false&&de){s.error=`Parse error (line ${s.lineNumber}) on: ${M.join(A)}`;}if(z===true&&le(k[e])===false&&k[e]!==P){z=false;v=0;B=_;M.pop();if(e<u){do{if(g(k[e],10))s.lineNumber=s.lineNumber+1;if(q.preserveAttributes===true){M.push(k[e]);}else {V.push(k[e]);}if(Y(B,34)||Y(B,39)){if(g(k[e-1],123)&&(g(k[e],37)||g(k[e],123))){ne=true;}else if((g(k[e-1],125)||g(k[e-1],37))&&g(k[e],125)){ne=false;}}if(d===false&&K===false&&ne===true){const we=g(V[0],61);do{e=e+1;if(g(k[e],10)){s.lineNumber=s.lineNumber+1;if(we){ne=false;B=A;ce(false);break}}V.push(k[e]);if(we&&g(k[e+1],62)){ne=false;B=A;W[W.length-1][0]+=V.join(A);V=[];break}if(we===false&&(g(k[e-1],125)||g(k[e-1],37))&&g(k[e],125)){ne=false;B=A;ce(false);break}}while(e<u)}if(d===false&&(g(k[e],60)||g(k[e],62))&&(B===A||g(B,62))){if(B===A&&g(k[e],60)){B=">";r=1;}else if(g(B,62)){if(g(k[e],60)){r=r+1;}else if(g(k[e],62)){r=r-1;if(r===0){B=A;v=0;ce(false);break}}}}else if(B===A){if(k[e+1]===P){if(g(V[V.length-1],47)||g(V[V.length-1],63)&&j==="xml"){V.pop();if(U===true)M.pop();e=e-1;}if(V.length>0)ce(false);break}if(d===false&&g(k[e],123)&&g(k[e-1],61)){B="}";}else if(g(k[e],34)||g(k[e],39)){B=k[e];if(K===false&&ne===false)K=true;if(g(k[e-1],61)&&(g(k[e+1],60)||g(k[e+1],123)&&g(k[e+2],37)||le(k[e+1])&&Y(k[e-1],61))){v=e;}}else if(g(k[e],40)){B=")";O=1;}else if(d){if((g(k[e-1],61)||le(k[e-1]))&&g(k[e],123)){B="}";x=1;}else if(g(k[e],47)){if(g(k[e+1],42)){B="*/";}else if(k[e+1]==="/"){B="\n";}}}else if(g(M[0],123)&&g(k[e],123)&&(g(k[e+1],123)||g(k[e+1],37))){B=g(k[e+1],123)?"}}":k[e+1]+"}";}if(le(k[e])&&B===A){if(g(V[V.length-2],61)){L=e+1;if(L<u){do{if(le(k[L])===false){if(g(k[L],34)||g(k[L],39)){e=L-1;he=true;V.pop();}break}L=L+1;}while(L<u)}}if(he===true){he=false;}else if(I===0||I===1&&g(V[0],123)){V.pop();if(V.length>0)ce(false);z=true;break}}}else if(g(k[e],40)&&g(B,41)){O=O+1;}else if(g(k[e],41)&&g(B,41)){O=O-1;if(O===0){B=A;if(k[e+1]===C.charAt(0)){ce(false);break}}}else if(d&&(g(B,125)||g(B,10)&&g(k[e],10)||B==="*/"&&g(k[e-1],42)&&g(k[e],47))){if(g(k[e],96)){e=e+1;do{V.push(k[e]);if(g(k[e],96))break;e=e+1;}while(e<k.length)}if(g(B,125)){if(g(k[e],125)&&k[e]!==B){x=x+1;}else if(k[e]===B){x=x-1;if(x===0){I=0;B=A;y=V.join(A);if(q.preserveAttributes===false){if(d){if(!/^\s*$/.test(y))W.push([y,S]);}else {y=y.replace(/\s+/g," ");if(y!==" ")W.push([y,S]);}}V=[];S=1;break}}}else {_=A;ee=true;y=V.join(A);if(y!==" ")W.push([y,S]);V=[];S=g(B,10)?2:1;B=A;break}}else if(g(k[e],123)&&g(k[e+1],37)&&g(k[v-1],61)&&(g(B,34)||g(B,39))){B=B+"{%";v=0;}else if(g(k[e-1],37)&&g(k[e],125)&&(B==='"{%'||B==="'{%")){B=B.charAt(0);v=0;}else if(g(k[e],60)&&g(C,62)&&g(k[v-1],61)&&(g(B,34)||g(B,39))){B=B+"<";v=0;}else if(g(k[e],62)&&(B==='"<'||B==="'<")){B=B.charAt(0);v=0;}else if(v===0&&Y(B,62)&&(B.length<2||Y(B,34)&&Y(B,39))){f=0;L=B.length-1;if(L>-1){do{if(k[e-f].charCodeAt(0)!==B.charCodeAt(L))break;f=f+1;L=L-1;}while(L>-1)}if(L<0&&ne===false&&K===true){K=false;ce(true);if(k[e+1]===P)break}}else if(v>0&&le(k[e])===false){v=0;}e=e+1;}while(e<u)}}else if(g(C,10)===false&&(g(k[e],34)||g(k[e],39))){B=k[e];}else if(j!=="comment"&&Y(C,10)&&g(k[e],60)&&g(k[e+1],33)&&g(k[e+2],45)&&g(k[e+3],45)&&n.types[s.count]!=="conditional"){B="-->";}else if(g(k[e],123)&&Y(M[0],123)&&Y(C,10)&&(g(k[e+1],123)||g(k[e+1],37))){if(g(k[e+1],123)){B="}}";}else {B=k[e+1]+"}";if(V.length<1&&(W.length<1||le(k[e-1]))){M.pop();do{if(g(k[e],10))S=S+1;V.push(k[e]);e=e+1;}while(e<u&&k[e-1]+k[e]!==B);V.push("}");W.push([V.join(A),S]);V=[];S=1;B=A;}}if(B===C)B=A;}else if(de&&Y(C,10)&&le(k[e])&&Y(k[e-1],60)){z=true;}else if(de&&d&&g(k[e],47)&&(g(k[e+1],42)||g(k[e+1],47))){z=true;M[M.length-1]=" ";_=g(k[e+1],42)?"*/":"\n";V.push(k[e]);}else if(ne===false&&(k[e]===P||g(C,10)&&g(k[e+1],60))&&(M.length>C.length+1||g(M[0],93))&&(d===false||I===0)){if(g(C,10)){if(le(M[M.length-1])){do{M.pop();e=e-1;}while(le(M[M.length-1]))}break}f=M.length;L=C.length-1;if(L>-1){do{f=f-1;if(M[f]!==C.charAt(L))break;L=L-1;}while(L>-1)}if(L<0)break}}else if(k[e].charCodeAt(0)===B.charCodeAt(B.length-1)&&(d&&g(C,125)&&(k[e-1]!=="\\"||ue()===false)||(d===false||Y(C,125)))){f=0;L=B.length-1;if(L>-1){do{if(k[e-f]!==B.charAt(L))break;f=f+1;L=L-1;}while(L>-1)}if(L<0)B=A;}}e=e+1;}while(e<u);if(q.correct===true){if(g(k[e+1],62)&&g(M[0],60)&&Y(M[0],60)){do{e=e+1;}while(g(k[e+1],62))}else if(g(M[0],60)&&g(M[1],60)&&Y(k[e+1],62)&&Y(M[M.length-2],62)){do{M.splice(1,1);}while(g(M[1],60))}}v=0;y=M.join(A);R=N(y);y=m(y);if(R==="xml"){o="xml";}else if(o===A&&R==="html"){o="html";}}c.token=y;c.types=j;R=N(y);if(U===false&&d===false)y=y.replace(/\s+/g," ");if(R==="comment"&&$e(y,2)){const M=y.slice(0,y.indexOf("%}")+2);const L=y.slice(y.indexOf("%}")+2,y.lastIndexOf("{%"));const f=y.slice(y.lastIndexOf("{%"));let r=0;let x=0;const O=B=>{r=B===A?0:B.split("\n").length;return A};const S=B=>{x=B===A?0:B.split("\n").length;return A};c.begin=s.structure[s.structure.length-1][1];c.ender=s.count+3;c.stack=s.structure[s.structure.length-1][0];c.types="template_start";c.token=M;h(n,c,"comment");y=L.replace(/^\s*/,O);y=y.replace(/\s*$/,S);c.begin=s.count;c.lines=r;c.stack="comment";c.token=y;c.types="comment";h(n,c,A);c.types="template_end";c.stack="comment";c.lines=x;c.token=f;h(n,c,A);return}c.types=j;oe=(()=>{const M=/(\/>)$/;const L=(r,x)=>{if(!re.html.tags.has(r))return false;if(r===x)return true;if(r==="dd"&&x==="dt")return true;if(r==="dt"&&x==="dd")return true;if(r==="td"&&x==="th")return true;if(r==="th"&&x==="td")return true;if(r==="colgroup"&&(x==="tbody"||x==="tfoot"||x==="thead"||x==="tr"))return true;if(r==="tbody"&&(x==="colgroup"||x==="tfoot"||x==="thead"))return true;if(r==="tfoot"&&(x==="colgroup"||x==="tbody"||x==="thead"))return true;if(r==="thead"&&(x==="colgroup"||x==="tbody"||x==="tfoot"))return true;if(r==="tr"&&x==="colgroup")return true;return false};const f=r=>{c.lines=n.lines[s.count]>0?1:0;c.token=`</${s.structure[s.structure.length-1][0]}>`;c.types="end";h(n,c,A);if(r>0){do{c.begin=s.structure[s.structure.length-1][1];c.stack=s.structure[s.structure.length-1][0];c.token=`</${s.structure[s.structure.length-1][0]}>`;h(n,c,A);r=r-1;}while(r>0)}c.begin=s.structure[s.structure.length-1][1];c.lines=s.linesSpace;c.stack=s.structure[s.structure.length-1][0];c.token=y;c.types="end";n.lines[s.count-1]=0;};if(j==="end"){const r=n.token[s.count];if(n.types[s.count-1]==="singleton"&&r.charCodeAt(r.length-2)!==47&&`/${N(r)}`===R){n.types[s.count-1]="start";}}if(o==="html"){if(g(y[0],60)&&Y(y[1],33)&&Y(y[1],63)&&(s.count<0||n.types[s.count].indexOf("template")<0))y=y.toLowerCase();if(re.html.tags.has(s.structure[s.structure.length-1][0])&&L(R.slice(1),s.structure[s.structure.length-2][0])){f(0);}else if(s.structure.length>3&&re.html.tags.has(s.structure[s.structure.length-1][0])&&re.html.tags.has(s.structure[s.structure.length-2][0])&&re.html.tags.has(s.structure[s.structure.length-3][0])&&L(R,s.structure[s.structure.length-4][0])){f(3);}else if(s.structure.length>2&&re.html.tags.has(s.structure[s.structure.length-1][0])&&re.html.tags.has(s.structure[s.structure.length-2][0])&&L(R,s.structure[s.structure.length-3][0])){f(2);}else if(s.structure.length>1&&re.html.tags.has(s.structure[s.structure.length-1][0])&&L(R,s.structure[s.structure.length-2][0])){f(1);}else if(L(R,s.structure[s.structure.length-1][0])){f(0);}else if(g(R[0],47)&&re.html.tags.has(s.structure[s.structure.length-1][0])&&s.structure[s.structure.length-1][0]!==R.slice(1)){J(y,false);c.begin=s.structure[s.structure.length-1][1];c.lines=s.linesSpace;c.stack=s.structure[s.structure.length-1][0];c.token=y;c.types="end";n.lines[s.count-1]=0;}if(re.html.voids.has(R)){if(q.correct===true&&M.test(y)===false)y=y.slice(0,y.length-1)+" />";return true}}return false})();if(re.embed("html",R)&&y.slice(y.length-2)!=="/>"||re.embed("liquid",R)&&y.slice(y.length-2)==="%}"){const M=$e(y,3);let L=W.length-1;let f=A;let r=[];if(L>-1){do{r=me(W[L][0]);if(r[0]==="type"){f=r[1];if(f.charCodeAt(0)===34||f.charCodeAt(0)===39){f=f.slice(1,f.length-1);}break}L=L-1;}while(L>-1)}if(M===false&&re.embed("html",R)){b=true;if(f===A){H=re.html.embed[R].language;}else if(re.html.embed[R].value(f)){H=re.html.embed[R].language;}}else if(M===true&&re.embed("liquid",R)){b=true;if(f===A){H=re.liquid.embed[R].language;}else {H=re.liquid.embed[R].language;}}if(b===true){L=e+1;if(L<u){do{if(le(k[L])===false){if(g(k[L],60)){if(k.slice(L+1,L+4).join(A)==="!--"){L=L+4;if(L<u){do{if(le(k[L])===false){b=false;break}if(k[L]==="\n"||k[L]==="\r")break;L=L+1;}while(L<u)}}else {b=false;}}break}L=L+1;}while(L<u)}}}if(de&&te===false&&j!=="xml"){if(oe===true||y.slice(y.length-2)==="/>"){j="singleton";}else {j="start";}c.types=j;}if(de&&U===false&&te&&g(C,62)&&y.slice(y.length-2)!=="/>"){const M=[];const L=[];if(oe===true){j="singleton";}else {W.forEach(f=>L.push(f[0]));U=true;j="ignore";e=e+1;if(e<u){let f=A;let r=0;let x=0;let O=false;do{if(g(k[e],10))s.lineNumber=s.lineNumber+1;M.push(k[e]);if(f===A){if(g(k[e],34)){f='"';}else if(g(k[e],39)){f="'";}else if(Y(M[0],123)&&g(k[e],123)&&(g(k[e+1],123)||g(k[e+1],37))){if(g(k[e+1],123)){f="}}";}else {f=k[e+1]+"}";}}else if(g(k[e],60)&&de===true){if(g(k[e+1],47)){O=true;}else {O=false;}}else if(k[e]===P&&Y(k[e-1],47)){if(O===true){v=v-1;if(v<0)break}else {v=v+1;}}}else if(g(k[e],f.charCodeAt(f.length-1))){x=0;r=f.length-1;if(r>-1){do{if(Y(k[e-x],f.charCodeAt(r)))break;x=x+1;r=r-1;}while(r>-1)}if(r<0)f=A;}e=e+1;}while(e<u)}}y=y+M.join(A);y=y.replace(">",` ${L.join(" ")}>`);c.token=y;c.types="content-ignore";W=[];}if(c.types.indexOf("template")>-1){if(g(y[0],123)&&g(y[1],37)){if((R==="case"||R==="default")&&(s.structure[s.structure.length-1][0]==="switch"||s.structure[s.structure.length-1][0]==="case")){c.types="template_else";}else if(re.liquid.else.has(R)){c.types="template_else";}else {if(re.liquid.tags.has(R)){c.types="template_start";}else if(R.charCodeAt(0)===101&&R.charCodeAt(1)===110&&R.charCodeAt(2)===100&&re.liquid.tags.has(R.slice(3))){c.types="template_end";}else if(R.charCodeAt(0)===101&&R.charCodeAt(1)===110&&R.charCodeAt(2)===100){c.types="template_end";c.stack=R.slice(3);let M=0;do{if(n.types[M]==="template"&&n.stack[M]===c.stack){n.types[M]="template_start";w.start=w.start+1;break}else {M=n.stack.indexOf(c.stack,M+1);}}while(M>-1)}else {c.stack=R;}}}else if(c.types==="template"){if(y.indexOf("else")>2)c.types="template_else";}if(c.types==="template_start"||c.types==="template_else"){if(R===A||g(R,37)){R=R+y.slice(1).replace(R,A).replace(/^\s+/,A);R=R.slice(0,R.indexOf("(")).replace(/\s+/,A);}}}if(j==="cdata"&&(c.stack==="script"||c.stack==="style")){let M=s.count;let L=s.count;const f=c.stack;if(n.types[L]==="attribute"){do{M=M-1;L=L-1;}while(n.types[L]==="attribute"&&L>-1)}c.begin=M;c.token="<![CDATA[";c.types="cdata_start";y=y.replace(/^(\s*<!\[cdata\[)/i,A).replace(/(\]\]>\s*)$/,A);h(n,c,A);s.structure.push(["cdata",s.count]);if(f==="script"){Q.lexers.script(y);}else {Q.lexers.style(y);}c.begin=s.structure[s.structure.length-1][1];c.token="]]>";c.types="cdata_end";h(n,c,A);s.structure.pop();}else {h(n,c,R);}be();if(p.wrap>0&&d===true){let M=0;let L=s.count;let f=0;if(n.types[L].indexOf("attribute")>-1){do{M=M+n.token[L].length+1;L=L-1;}while(n.lexer[L]!=="markup"||n.types[L].indexOf("attribute")>-1);if(n.lines[L]===1)M=M+n.token[L].length+1;}else if(n.lines[L]===1){M=n.token[L].length+1;}f=L-1;if(M>0&&n.types[f]!=="script_end"){if(n.types[f].indexOf("attribute")>-1){do{M=M+n.token[f].length+1;f=f-1;}while(n.lexer[f]!=="markup"||n.types[f].indexOf("attribute")>-1);if(n.lines[f]===1)M=M+n.token[f].length+1;}else if(n.lines[f]===1){M=n.token[f].length+1;}}}s.linesSpace=0;}function i(){const C=[];const c=e;const v=g(n.token[s.count],123)&&d===true;let y=A;let P=s.linesSpace;let j=A;if(b===true){if(v===true){j="script";}else if(s.structure[s.structure.length-1][1]>-1){j=N(n.token[s.structure[s.structure.length-1][1]].toLowerCase());}else if(n.begin[s.count]>1){j=N(n.token[n.begin[s.count]].toLowerCase());}else {j=N(n.token[n.begin[s.count]].toLowerCase());}}const R=n.types[s.count]==="template_start"&&n.token[s.count].indexOf("<!")===0&&n.token[s.count].indexOf("<![")<0&&n.token[s.count].charCodeAt(n.token[s.count].length-1)===91;const D=ie(null);D.begin=s.structure[s.structure.length-1][1];D.ender=-1;D.lexer="markup";D.lines=P;D.stack=s.structure[s.structure.length-1][0];D.token=A;D.types="content";function oe(){let X=e-1;let te=0;if(k[e-1]!=="\\")return false;if(X>-1){do{if(k[X]!=="\\")break;te=te+1;X=X-1;}while(X>-1)}return te%2===1}if(e<u){let X=A;let te=A;let ee=A;let Z=0;do{if(g(k[e],10))s.lineNumber=s.lineNumber+1;if(b===true){if(te===A){if(g(k[e],47)){if(g(k[e+1],42)){te="*";}else if(g(k[e+1],47)){te="/";}else if(j==="script"&&"([{!=,;.?:&<>".indexOf(k[e-1])>-1){if(d===false||Y(k[e-1],60))te="reg";}}else if((g(k[e],34)||g(k[e],39)||g(k[e],96))&&oe()===false){te=k[e];}else if(g(k[e],123)&&v===true){Z=Z+1;}else if(g(k[e],125)&&v===true){if(Z===0){ee=C.join(A).replace(/^\s+/,A).replace(/\s+$/,A);Q.lexers.script(ee);s.structure[s.structure.length-1][1]+=1;if(n.types[s.count]==="end"&&n.lexer[n.begin[s.count]-1]==="script"){D.lexer="script";D.token=q.correct===true?";":"x;";D.types="separator";h(n,D,A);D.lexer="markup";}D.token="}";D.types="script_end";h(n,D,A);s.structure.pop();break}Z=Z-1;}if($e(n.token[s.count],3)===false){X=k.slice(e,e+10).join(A).toLowerCase();if(j==="script"){X=e===u-9?X.slice(0,X.length-1):X.slice(0,X.length-2);if(X==="<\/script"){ee=C.join(A).replace(/^\s+/,A).replace(/\s+$/,A);e=e-1;if(C.length<1)break;if(/^<!--+/.test(ee)&&/--+>$/.test(ee)){D.token="<!--";D.types="comment";h(n,D,A);ee=ee.replace(/^<!--+/,A).replace(/--+>$/,A);Q.lexers.script(ee);D.token="-->";h(n,D,A);}else {Q.options.language=H;Q.lexers.script(ee);if(H==="json"&&p.json.objectSort===true||H!=="json"&&p.script.objectSort===true)s.sortCorrection(0,s.count+1);Q.options.language="html";}break}}if(j==="style"){if(e===u-8){X=X.slice(0,X.length-1);}else if(e===u-9){X=X.slice(0,X.length-2);}else {X=X.slice(0,X.length-3);}if(X==="</style"){let U=C.join(A).replace(/^\s+/,A).replace(/\s+$/,A);e=e-1;if(C.length<1)break;if(/^<!--+/.test(U)&&/--+>$/.test(U)){D.token="<!--";D.types="comment";h(n,D,A);U=U.replace(/^<!--+/,A).replace(/--+>$/,A);Q.lexers.style(U);D.token="-->";h(n,D,A);}else {Q.options.language=H;Q.lexers.style(U);if(p.style.sortProperties===true)s.sortCorrection(0,s.count+1);Q.options.language="html";}break}}}else {if(re.embed("liquid",j)){X=k.slice(e).join(A).toLowerCase();if(re.liquid.embed[j].end(X)){X=X.slice(0,X.indexOf("%}")+2);ee=C.join(A).replace(/^\s+/,A).replace(/\s+$/,A);e=e+X.length-1;if(C.length<1)break;const U=Qe[re.liquid.embed[j].language];if(/^<!--+/.test(ee)&&/--+>$/.test(ee)){D.token="<!--";D.types="comment";h(n,D,A);ee=ee.replace(/^<!--+/,A).replace(/--+>$/,A);Q.lexers[U](ee);D.token="-->";h(n,D,A);}else {Q.options.language=re.liquid.embed[j].language;Q.lexers[U](ee);if(H==="json"&&p.json.objectSort===true||H==="javascript"&&p.script.objectSort===true||(H==="css"||H==="scss")&&p.style.sortProperties===true)s.sortCorrection(0,s.count+1);Q.options.language="liquid";D.token=X;D.types="template_end";h(n,D,A);}break}}}}else if(te===k[e]&&(g(te,34)||g(te,39)||g(te,96)||g(te,42)&&g(k[e+1],47))&&oe()===false){te=A;}else if(g(te,96)&&k[e]==="$"&&g(k[e+1],123)&&oe()===false){te="}";}else if(g(te,125)&&g(k[e],125)&&oe()===false){te="`";}else if(g(te,47)&&(g(k[e],10)||k[e]==="\r")){te=A;}else if(te==="reg"&&g(k[e],47)&&oe()===false){te=A;}else if(g(te,47)&&g(k[e],60)&&g(k[e-1],45)&&g(k[e-2],45)){X=k.slice(e+1,e+11).join(A).toLowerCase();X=X.slice(0,X.length-2);if(j==="script"&&X==="<\/script")te=A;X=X.slice(0,X.length-1);if(j==="style"&&X==="</style")te=A;}}if(R===true&&g(k[e],93)){e=e-1;P=0;y=C.join(A);y=y.replace(/\s+$/,A);D.token=y;h(n,D,A);break}if(b===false&&C.length>0&&(g(k[e],60)&&Y(k[e+1],61)&&!/\s|\d/.test(k[e+1])||g(k[e],91)&&g(k[e+1],37)||g(k[e],123)&&(d===true||g(k[e+1],123)||g(k[e+1],37)))){e=e-1;if(s.structure[s.structure.length-1][0]==="comment"){y=C.join(A);}else {if(p.wrap===0&&q.preserveText===false){if(g(C[C.length-1],10)){let U=C.length-1;while(g(C[U-1],10))U=U-1;if(U>p.preserveLine){y=C.join(A).slice(0,U+p.preserveLine);}else {y=C.join(A);}}}else {y=C.join(A).replace(/\s+$/g,A);}}y=m(y);P=0;D.token=y;if(p.wrap>0&&q.preserveText===false){const{wrap:U}=p;const de=A;const G=A;const W=[];let F=U;let me=y.length;const be=()=>{if(y.charCodeAt(F)===32){W.push(y.slice(0,F));y=y.slice(F+1);me=y.length;F=U;return}do{F=F-1;}while(F>0&&y.charCodeAt(F)!==32);if(F>0){W.push(y.slice(0,F));y=y.slice(F+1);me=y.length;F=U;}else {F=U;do{F=F+1;}while(F<me&&y.charCodeAt(F)!==32);W.push(y.slice(0,F));y=y.slice(F+1);me=y.length;F=U;}};if(n.token[n.begin[s.count]]==="<a>"&&n.token[n.begin[n.begin[s.count]]]==="<li>"&&n.lines[n.begin[s.count]]===0&&s.linesSpace===0&&y.length<p.wrap){h(n,D,A);break}if(me<U){h(n,D,A);break}if(s.linesSpace<1){let xe=s.count;do{F=F-n.token[xe].length;if(n.types[xe].indexOf("attribute")>-1)F=F-1;if(n.lines[xe]>0&&n.types[xe].indexOf("attribute")<0)break;xe=xe-1;}while(xe>0&&F>0);if(F<1)F=y.indexOf(" ");}y=C.join(A);y=y.replace(/^\s+/,A).replace(/\s+$/,A).replace(/\s+/g," ");do{be();}while(F<me);if(y!==A&&Y(y,32))W.push(y);y=p.crlf===true?W.join("\r\n"):W.join("\n");y=de+y+G;}P=0;D.token=y;h(n,D,A);break}C.push(k[e]);e=e+1;}while(e<u)}if(e>c&&e<u){if(le(k[e])){let X=e;s.linesSpace=1;do{if(k[X]==="\n")s.linesSpace=s.linesSpace+1;X=X-1;}while(X>c&&le(k[X]))}else {s.linesSpace=0;}}else if(e!==c||e===c&&b===false){y=C.join(A).replace(/\s+$/,A);P=0;if(D.token!==y){D.token=y;h(n,D,A);s.linesSpace=0;}}b=false;}if(E>0){do{q.attributeSortList[e]=q.attributeSortList[e].replace(/^\s+/,A).replace(/\s+$/,A);e=e+1;}while(e<E);e=0;}if(p.language==="html"||p.language==="liquid")o="html";do{if(le(k[e])){if(n.types[s.count]==="template_start"&&s.structure[s.structure.length-1][0]==="comment"){i();}else {e=s.spacer({array:k,end:u,index:e});}}else if(b){i();}else if(g(k[e],60)){T(A);}else if(g(k[e],91)&&g(k[e+1],37)){T("%]");}else if(g(k[e],123)&&(d||g(k[e+1],123)||g(k[e+1],37))){T(A);}else if(g(k[e],45)&&g(k[e+1],45)&&g(k[e+2],45)){T("---");}else {i();}e=e+1;}while(e<u);if(Y(n.token[s.count][0],47)&&re.html.tags.has(s.structure[s.structure.length-1][0]))J(n.token[s.count],true);if(w.end!==w.start&&s.error===A){if(w.end>w.start){const C=w.end-w.start;const c=C===1?A:"s";s.error=["Prettify Error:","",`${C} more end type${c} than start types`].join("\n");}else {const C=w.start-w.end;const c=C===1?A:"s";s.error=["Prettify Error:","",`${C} more start type${c} than end types`].join("\n");}}return n};Q.beautify.markup=l=>{const a=ie(null);const p=ie(null);const n=ie(null);const d="markup";const t=Q.parsed;const q=l.language==="jsx"||l.language==="tsx";const E=l.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const w=l.markup;const k=Q.end<1||Q.end>t.token.length?t.token.length:Q.end+1;a.is=(m,h)=>t.types[m]===h;a.not=(m,h)=>t.types[m]!==h;a.idx=(m,h)=>m>-1&&(t.types[m]||A).indexOf(h);p.is=(m,h)=>t.token[m]===h;p.not=(m,h)=>t.token[m]!==h;let u=Q.start;let e=-1;let b=0;let H=0;let o=isNaN(l.indentLevel)?0:Number(l.indentLevel);const $=(()=>{const m=Q.start>0?Array(Q.start).fill(0,0,Q.start):[];function h(){let c=u+1;let v=0;if(a.is(c,void 0))return c-1;if(a.is(c,"comment")||u<k-1&&a.idx(c,"attribute")>-1){do{if(a.is(c,"jsx_attribute_start")){v=c;do{if(a.is(c,"jsx_attribute_end")&&t.begin[c]===v)break;c=c+1;}while(c<k)}else if(a.not(c,"comment")&&a.idx(c,"attribute")<0)return c;c=c+1;}while(c<k)}return c}function N(){const c=t.begin[u];let v=u;do{v=v-1;if(p.is(v,"</li>")&&p.is(v-1,"</a>")&&t.begin[t.begin[v]]===c&&t.begin[v-1]===t.begin[v]+1){v=t.begin[v];}else {return}}while(v>c+1);v=u;do{v=v-1;if(a.is(v+1,"attribute")){m[v]=-10;}else if(p.not(v,"</li>")){m[v]=-20;}}while(v>c+1)}function J(){let c=u;let v=false;if(t.lines[u+1]===0&&w.forceIndent===false){do{if(t.lines[c]>0){v=true;break}c=c-1;}while(c>e);c=u;}else {v=true;}if(v===true){const y=a.is(b,"comment")||a.is(b,"end")||a.is(b,"template_end")?o+1:o;do{m.push(y);c=c-1;}while(c>e);if(y===o+1)m[u]=o;if(a.is(c,"attribute")||a.is(c,"template_attribute")||a.is(c,"jsx_attribute_start")){m[t.begin[c]]=y;}else {m[c]=y;}}else {do{m.push(-20);c=c-1;}while(c>e);m[c]=-20;}e=-1;}function T(){let c=o;if(w.forceIndent===true||w.forceAttribute===true){m.push(o);return}if(b<k&&(a.idx(b,"end")>-1||a.idx(b,"start")>-1)&&t.lines[b]>0){m.push(o);c=c+1;if(t.types[u]==="singleton"&&u>0&&a.idx(u-1,"attribute")>-1&&a.is(t.begin[u-1],"singleton")){if(t.begin[u]<0||a.is(t.begin[u-1],"singleton")&&t.begin[t.ender[u]-1]!==u){m[u-1]=o;}else {m[u-1]=o+1;}}}else if(u>0&&a.is(u,"singleton")&&a.idx(u-1,"attribute")>-1){m[u-1]=o;H=t.token[u].length;m.push(-10);}else if(t.lines[b]===0){m.push(-20);}else if((l.wrap===0||u<k-2&&a.idx(u+2,"attribute")>-1&&t.token[u].length+t.token[u+1].length>l.wrap||(t.token[u].length+t.token[u+1]?t.token[u+1].length:0)>l.wrap)&&(a.is(u+1,"singleton")||a.is(u+1,"template"))){m.push(o);}else {H=H+1;m.push(-10);}if(u>0&&a.idx(u-1,"attribute")>-1&&t.lines[u]<1){m[u-1]=-20;}if(H>l.wrap){let v=u;let y=Math.max(t.begin[u],0);if(a.is(u,"content")&&w.preserveText===false){let P=0;const j=t.token[u].replace(/\s+/g," ").split(" ");do{v=v-1;if(m[v]<0){P=P+t.token[v].length;if(m[v]===-10)P=P+1;}else {break}}while(v>0);v=0;y=j.length;do{if(j[v].length+P>l.wrap){j[v]=E+j[v];P=j[v].length;}else {j[v]=` ${j[v]}`;P=P+j[v].length;}v=v+1;}while(v<y);if(g(j[0],32)){t.token[u]=j.join(A).slice(1);}else {m[u-1]=c;t.token[u]=j.join(A).replace(E,A);}if(t.token[u].indexOf(E)>0){H=t.token[u].length-t.token[u].lastIndexOf(E);}}else {do{v=v-1;if(m[v]>-1){H=t.token[u].length;if(t.lines[u+1]>0)H=H+1;return}if(a.idx(v,"start")>-1){H=0;return}if(t.lines[v+1]>0&&(a.not(v,"attribute")||a.is(v,"attribute")&&a.is(v+1,"attribute"))){if(a.not(v,"singleton")||a.is(v,"attribute")&&a.is(v+1,"attribute")){H=t.token[u].length;if(t.lines[u+1]>0)H=H+1;break}}}while(v>y);m[v]=c;}}}function i(){const c=u;if(t.types[c-1]==="script_start"&&g(t.token[c-1],123)){m[c-1]=-20;}do{if(t.lexer[u+1]===d&&t.begin[u+1]<c&&a.not(u+1,"start")&&a.not(u+1,"singleton"))break;m.push(0);u=u+1;}while(u<k);n[c]=u;if(t.types[u+1]==="script_end"&&t.token[u+1]==="}"){m.push(-20);}else {m.push(o-1);}b=h();if(t.lexer[b]===d&&t.stack[u].indexOf("attribute")<0&&(t.types[b]==="end"||t.types[b]==="template_end")){o=o-1;}}function C(){function c(Z){const U=Z.indexOf("=");if(U>0&&(U<Z.indexOf('"')&&Z.indexOf('"')>0||U<Z.indexOf("'")&&Z.indexOf("'")>0)){return [Z.slice(0,U),Z.slice(U+1)]}return [Z,A]}function v(Z){const U=c(Z);if(U[1]===A||U[0]==="href"||U[0].charCodeAt(0)===111&&U[0].charCodeAt(1)===110){return Z}else if(w.attributeValues==="preserve"){return U[0]+"="+U[1]}else if(w.attributeValues==="strip"){return `${U[0].trimStart()}=${U[1].replace(/\s+/g," ").replace(/^["']\s+/,'"')}`}const de=w.attributeValues;const G=[];const W=l.wrap>0?U[1].length>l.wrap:false;let F;let me=false;let be=A;let xe=A;let ke=0;let ve=0;if(de==="collapse"){F=U[1].replace(/\s+/g," ");}else if(de==="wrap"){F=U[1].replace(/\s+/g,M=>/\n/.test(M)?"\n":M.replace(/\s+/," "));}do{if(g(F[ke],123)&&(g(F[ke+1],123)||g(F[ke+1],37))){if(de==="collapse"){if(le(F[ke-1])===true&&G[G.length-1]!=="\n"){G.push("\n");}}if(g(F[ke+1],37)){ve=F.indexOf("%}",ke+1);be=F.slice(ke,ve+2);xe=g(be[2],45)?be.slice(3).trimStart():be.slice(2).trimStart();ke=ve+2;if(xe.startsWith("end")){me=false;if(de==="collapse"&&G[G.length-1]!=="\n"){G.push("\n");}}else if(re.liquid.tags.has(xe.slice(0,xe.search(/\s/)))){me=true;if(de==="collapse"&&G[G.length-1]!=="\n"){G.push("\n");}}G.push(be);}else {if(me&&de==="collapse"&&G[G.length-1]!=="\n"){G.push("\n");}ve=F.indexOf("}}",ke+1);be=F.slice(ke,ve+2);ke=ve+2;G.push(be);}if(de==="collapse"){if(le(F[ke])===true&&G[G.length-1]!=="\n"&&ke<F.length-1){G.push("\n");}}}else {if(F[ke]===" "){if(de==="collapse"){if(G[G.length-1]!=="\n"){G.push("\n");}}else if(W&&de==="wrap"){if(me===false){G.push("\n");}}}else {G.push(F[ke]);}ke=ke+1;}}while(ke<F.length);return U[0]+"="+G.join(A)}const y=u-1;function P(Z){if(a.is(Z,"attribute")||a.idx(Z,"template_attribute")>-1){t.token[Z]=v(t.token[Z]);}else {const U=t.token[Z].replace(/\s+/g," ").split(" ");const de=U.length;let G=1;let W=U[0].length;do{if(W+U[G].length>l.wrap){W=U[G].length;U[G]=E+U[G];}else {U[G]=` ${U[G]}`;W=W+U[G].length;}G=G+1;}while(G<de);t.token[Z]=U.join(A);}}let j=u;let R=false;let D=false;let oe=false;let X=0;let te=t.token[y].length+1;let ee=(()=>{if(a.idx(u,"start")>0){let Z=u;do{if(t.types[Z].indexOf("end")>0&&t.begin[Z]===u){if(Z<k-1&&a.idx(Z+1,"attribute")>-1){R=true;break}}Z=Z+1;}while(Z<k)}else if(u<k-1&&a.idx(u+1,"attribute")>-1){R=true;}if(a.is(b,"end")||a.is(b,"template_end")){return o+(a.is(y,"singleton")?2:1)}if(a.is(y,"singleton"))return o+1;return o})();if(R===false&&a.is(u,"comment_attribute")){m.push(o);m[y]=t.types[y]==="singleton"?o+1:o;return}if(ee<1)ee=1;do{H=H+t.token[u].length+1;if(t.types[u].indexOf("attribute")>0){if(t.types[u]==="template_attribute_start"){if(w.preserveAttributes===true){m.push(-10);}else {let Z=1;do{te=te+t.token[u].length+1;if(w.attributeChain==="inline"){m.push(-20);}else if(w.attributeChain==="collapse"){m.push(ee);}else if(w.attributeChain==="preserve"){if(t.lines[u]===0){m.push(-20);}else if(t.lines[u]===1){m.push(-10);}else {m.push(ee);}}if(Z===0)break;u=u+1;if(a.is(u,"template_attribute_start")){Z=Z+1;}else if(a.is(u,"template_attribute_end")){Z=Z-1;}X=X+1;}while(u<k);if(te>l.wrap);}}else if(t.types[u]==="template_attribute"){if(w.forceAttribute===true){m.push(ee);}else {m.push(-10);}}else if(t.types[u]==="comment_attribute"){m.push(ee);}else if(t.types[u].indexOf("start")>0){oe=true;if(u<k-2&&t.types[u+2].indexOf("attribute")>0){m.push(-20);u=u+1;n[u]=u;}else {if(y===u-1&&R===false){if(q){m.push(-20);}else {m.push(ee);}}else {if(q){m.push(-20);}else {m.push(ee+1);}}if(t.lexer[u+1]!==d){u=u+1;i();}}}else if(t.types[u].indexOf("end")>0&&t.types[u].indexOf("template")<0){if(m[u-1]!==-20)m[u-1]=m[t.begin[u]]-1;if(t.lexer[u+1]!==d){m.push(-20);}else {m.push(ee);}}else {m.push(ee);}D=true;}else if(a.is(u,"attribute")){te=te+t.token[u].length+1;if(w.preserveAttributes===true){m.push(-10);}else if(w.forceAttribute===true||w.forceAttribute>=1||oe===true||u<k-1&&a.not(u+1,"template_attribute")&&a.idx(u+1,"attribute")>0){t.token[u]=v(t.token[u]);m.push(ee);}else {m.push(-10);}}else if(t.begin[u]<y+1){break}u=u+1;X=X+1;}while(u<k);u=u-1;if(a.idx(u,"end")>0&&a.idx(u,"attribute")>0&&a.not(y,"singleton")&&a.not(u,"template_attribute_end")&&m[u-1]>0&&R===true){m[u-1]=m[u-1]-1;}if(m[u]!==-20){if(q===true&&a.idx(y,"start")>-1&&a.is(u+1,"script_start")){m[u]=ee;}else {if(p.is(u,"/")&&m[u-1]!==10){m[u-1]=-10;}else {m[u]=m[y];}}}if(w.forceAttribute===true){H=0;m[y]=ee;}else if(w.forceAttribute>=1){if(X>=w.forceAttribute){m[y]=ee;}else {m[y]=-10;}}else {m[y]=-10;}if(D===true||w.preserveAttributes===true||p.is(y,"<%xml%>")||p.is(y,"<?xml?>")){H=0;return}j=u;if(j>y+1){if(w.selfCloseSpace===false)te=te-1;if(te>l.wrap&&l.wrap>0&&w.forceAttribute===false){H=t.token[u].length;do{if(t.token[j].length>l.wrap&&le(t.token[j]))P(j);m[j]=ee;j=j-1;}while(j>y)}}else if(l.wrap>0&&a.is(u,"attribute")&&t.token[u].length>l.wrap&&le(t.token[u])){P(u);}}do{if(t.lexer[u]===d){if(t.token[u].toLowerCase().indexOf("<!doctype")===0)m[u-1]=o;if(t.types[u].indexOf("attribute")>-1){C();}else if(a.is(u,"comment")){if(e<0)e=u;if(a.not(u+1,"comment")||u>0&&a.idx(u-1,"end")>-1)J();}else if(a.not(u,"comment")){b=h();if(a.is(b,"end")||a.is(b,"template_end")){o=o-1;if(a.is(b,"template_end")&&a.is(t.begin[b]+1,"template_else"))o=o-1;if(p.is(u,"</ol>")||p.is(u,"</ul>")||p.is(u,"</dl>"))N();}if(a.is(u,"script_end")&&a.is(u+1,"end")){if(t.lines[b]<1){m.push(-20);}else if(t.lines[b]>1){m.push(o);}else {m.push(-10);}}else if((w.forceIndent===false||w.forceIndent&&a.is(b,"script_start"))&&(a.is(u,"content")||a.is(u,"singleton")||a.is(u,"template"))){H=H+t.token[u].length;if(a.is(u,"template")){m.push(o);const c=t.token[u].indexOf(E);if(c>0){const v=[];const y=m[u-1]*l.indentSize+t.token[u].charCodeAt(2)===45?l.indentSize:l.indentSize-1;let P=0;do{v.push(" ");P=P+1;}while(P<y);t.token[u]=t.token[u].replace(/^\s+/gm,A).replace(/\n/g,j=>`${j}${v.join(A)}`);}}else if(t.lines[b]>0&&a.is(b,"script_start")){m.push(-10);}else if(l.wrap>0&&(a.idx(u,"template")<0||b<k&&a.idx(u,"template")>-1&&a.idx(u,"template")<0)){T();}else if(b<k&&(a.idx(b,"end")>-1||a.idx(b,"start")>-1)&&(t.lines[b]>0||a.idx(u,"template_")>-1)){m.push(o);}else if(t.lines[b]===0){m.push(-20);}else {m.push(o);}}else if(a.is(u,"start")||a.is(u,"template_start")){o=o+1;if(a.is(u,"template_start")&&a.is(u+1,"template_else")){o=o+1;}if(q===true&&p.is(u+1,"{")){if(t.lines[b]===0){m.push(-20);}else if(t.lines[b]>1){m.push(o);}else {m.push(-10);}}else if(a.is(u,"start")&&a.is(b,"end")){m.push(-20);}else if(a.is(u,"start")&&a.is(b,"script_start")){m.push(-10);}else if(w.forceIndent===true){m.push(o);}else if(a.is(u,"template_start")&&a.is(b,"template_end")){m.push(-20);}else if(t.lines[b]===0&&(a.is(b,"content")||a.is(b,"singleton")||a.is(b,"start")&&a.is(b,"template"))){m.push(-20);}else {m.push(o);}}else if(w.forceIndent===false&&t.lines[b]===0&&(a.is(b,"content")||a.is(b,"singleton"))){m.push(-20);}else if(a.is(u+2,"script_end")){m.push(-20);}else if(a.is(u,"template_else")){if(a.is(b,"template_end")){m[u-1]=o+1;}else {m[u-1]=o-1;}m.push(o);}else {m.push(o);}}if(a.not(u,"content")&&a.not(u,"singleton")&&a.not(u,"template")&&a.not(u,"attribute")){H=0;}}else {H=0;i();}u=u+1;}while(u<k);return m})();return (()=>{const m=[];const h=(()=>{const C=[l.indentChar];const c=l.indentSize-1;let v=0;if(v<c){do{C.push(l.indentChar);v=v+1;}while(v<c)}return C.join(A)})();function N(C){const c=[];const v=l.preserveLine+1;const y=Math.min(t.lines[u+1]-1,v);let P=0;if(C<0)C=0;do{c.push(E);P=P+1;}while(P<y);if(C>0){P=0;do{c.push(h);P=P+1;}while(P<C)}return c.join(A)}function J(){let C=t.token[u].split(E);const c=t.lines[u+1];if(a.is(u,"comment"))C=C.map(j=>j.trimStart());const v=$[u-1]>-1?a.is(u,"attribute")?$[u-1]+1:$[u-1]:(()=>{let j=u-1;let R=j>-1&&a.idx(j,"start")>-1;if($[u]>-1&&a.is(u,"attribute"))return $[u]+1;do{j=j-1;if($[j]>-1){return a.is(u,"content")&&R===false?$[j]:$[j]+1}if(a.idx(j,"start")>-1)R=true;}while(j>0);return j===-2?0:1})();let y=0;t.lines[u+1]=0;const P=C.length-1;do{if(a.is(u,"comment")){if(C[y]!==A){if(C[y+1].trimStart()!==A){m.push(C[y],N(v));}else {m.push(C[y],"\n");}}else {if(C[y+1].trimStart()===A){m.push("\n");}else {m.push(N(v));}}}else {m.push(C[y]);m.push(N(v));}y=y+1;}while(y<P);t.lines[u+1]=c;m.push(C[P]);if($[u]===-10){m.push(" ");}else if($[u]>1){m.push(N($[u]));}}function T(){const C=/(\/|\?)?>$/;const c=t.token[u];const v=C.exec(c);let y=u+1;let P=false;let j=w.selfCloseSpace===true&&v!==null&&v[0]==="/>"?" ":A;if(v===null)return;t.token[u]=c.replace(C,A);do{if(a.is(y,"jsx_attribute_end")&&t.begin[t.begin[y]]===u){P=false;}else if(t.begin[y]===u){if(a.is(y,"jsx_attribute_start")){P=true;}else if(a.idx(y,"attribute")<0&&P===false){break}}else if(P===false&&(t.begin[y]<u||a.idx(y,"attribute")<0)){break}y=y+1;}while(y<k);if(a.is(y-1,"comment_attribute"))j=N($[y-2]-1);t.token[y-1]=t.token[y-1]+j+v[0];if(a.is(y,"comment")&&t.lines[u+1]<2)$[u]=-10;}u=Q.start;let i=l.indentLevel;do{if(t.lexer[u]===d){if((a.is(u,"start")||a.is(u,"singleton")||a.is(u,"xml")||a.is(u,"sgml"))&&a.idx(u,"attribute")<0&&u<k-1&&t.types[u+1]!==void 0&&a.idx(u+1,"attribute")>-1){T();}if(p.not(u,void 0)&&t.token[u].indexOf(E)>0&&(a.is(u,"content")&&w.preserveText===false||a.is(u,"comment")||a.is(u,"attribute"))){J();}else {m.push(t.token[u]);if($[u]===-10&&u<k-1){m.push(" ");}else if($[u]>-1){i=$[u];m.push(N($[u]));}}}else {if(n[u]===u&&a.not(u,"reference")){m.push(t.token[u]);}else {Q.end=n[u];l.indentLevel=i;Q.start=u;m.push(Q.beautify[t.lexer[u]](l).replace(/\s+$/,A));if($[Q.iterator]>-1&&n[u]>u){m.push(N($[Q.iterator]));}u=Q.iterator;l.indentLevel=0;}}u=u+1;}while(u<k);Q.iterator=k-1;if(m[0]===E||g(m[0],32))m[0]=A;return m.join(A)})()};Q.beautify.style=l=>{const a=[];const p=Q.parsed;const n=l.crlf===true?"\r\n":"\n";const d=Q.end>0?Q.end+1:p.token.length;const t=l.preserveLine+1;const q=qe(l.indentSize);const E=(()=>{let o=0;const $=[];do{$.push(l.indentChar);o=o+1;}while(o<l.indentSize);return $.join(A)})();let w=l.indentLevel;let k=l.style.forceValue==="wrap"&&l.wrap>0?l.wrap:0;let u=Q.start;let e=[A,A];function b(o){const $=[];const m=(()=>{if(u===d-1)return 1;if(p.lines[u+1]-1>t)return t;if(p.lines[u+1]>1)return p.lines[u+1]-1;return 1})();let h=0;if(o<0)o=0;do{$.push(n);h=h+1;k=w;}while(h<m);if(o>0){h=0;do{$.push(E);h=h+1;}while(h<o)}a.push($.join(A));}function H(){const o=p.begin[u];const $=p.token[o];const m=p.token[u];const h=[];let N=u;let J=0;let T;let i=0;if(o<0||N<=o)return;do{N=N-1;if(p.begin[N]===o){if(g(p.token[N],58)){T=[N-1,0];do{N=N-1;if((g(p.token[N],59)&&$==="{"||g(p.token[N],44)&&$==="(")&&p.begin[N]===o||p.token[N]===m&&p.begin[p.begin[N]]===o){break}if(p.types[N]!=="comment"&&p.types[N]!=="selector"&&p.token[N]!==$&&p.begin[N]===o){T[1]=p.token[N].length+T[1];}}while(N>o+1);if(T[1]>i)i=T[1];h.push(T);}}else if(p.types[N]==="end"){if(N<p.begin[N])break;N=p.begin[N];}}while(N>o);N=h.length;if(N<2)return;do{N=N-1;if(h[N][1]<i){J=h[N][1];do{p.token[h[N][0]]=p.token[h[N][0]]+" ";J=J+1;}while(J<i)}}while(N>0)}if(l.script.vertical===true&&l.style.compressCSS===false){u=d;do{u=u-1;if(g(p.token[u],125)||g(p.token[u],41))H();}while(u>0);u=Q.start;}do{if(p.types[u]==="property")k=w+p.token[u].length;if(p.types[u+1]==="end"||p.types[u+1]==="template_end"||p.types[u+1]==="template_else"){w=w-1;}if(p.types[u]==="template"&&p.lines[u]===0){a.push(p.token[u]);if(p.types[u+1]==="template"&&p.lines[u+1]>0)b(w);}else if(p.types[u]==="template"&&p.lines[u]>0){if(p.types[u-2]!=="property"&&p.types[u-1]!=="colon"){k=w;a.push(p.token[u]);b(w);}else if(p.types[u-2]==="property"&&p.types[u-1]==="colon"&&p.types[u+1]==="separator"&&g(p.token[u+1],44)){k=k+p.token[u].length;if(k>l.wrap)b(w);a.push(p.token[u]);do{u=u+1;a.push(p.token[u]);if(p.lines[u+1]>0)b(w);}while(p.types[u]!=="separator"&&Y(p.token[u],59));if(g(p.token[u],59)&&p.types[u]==="separator"){a.push(p.token[u]);if(p.lines[u+1]>0)b(w);u=u+1;continue}}else {k=k+p.token[u].length;if(k>l.wrap||l.style.forceValue==="collapse"){b(w);if(Y(p.token[u][2],45)){a.push(q,p.token[u].replace("{{","{{-"));}else {a.push(q,p.token[u]);}}else {a.push(p.token[u]);}}}else if(p.types[u]==="template_else"){a.push(p.token[u]);w=w+1;b(w);}else if(p.types[u]==="start"||p.types[u]==="template_start"){w=w+1;a.push(p.token[u]);if(p.types[u+1]!=="end"&&p.types[u+1]!=="template_end"&&(l.style.compressCSS===false||l.style.compressCSS===true&&p.types[u+1]==="selector")){b(w);}}else if(g(p.token[u],59)&&(l.style.compressCSS===false||l.style.compressCSS===true&&p.types[u+1]==="selector")||(p.types[u]==="end"||p.types[u]==="template_end"||p.types[u]==="comment")){a.push(p.token[u]);if(p.types[u+1]==="value"){if(p.lines[u+1]===1){a.push(" ");}else if(p.lines[u+1]>1){b(w);}}else if(p.types[u+1]!=="separator"){if(p.types[u+1]!=="comment"||p.types[u+1]==="comment"&&p.lines[u+1]>1){b(w);}else {a.push(" ");}}}else if(g(p.token[u],58)){a.push(p.token[u]);if(l.style.compressCSS===false)a.push(" ");}else if(p.types[u]==="selector"){if(l.style.classPadding===true&&p.types[u-1]==="end"&&p.lines[u]<3){a.push(n);}if(p.token[u].indexOf("and(")>0){p.token[u]=p.token[u].replace(/and\(/,"and (");a.push(p.token[u]);}else if(p.token[u].indexOf("when(")>0){e=p.token[u].split("when(");a.push(e[0].replace(/\s+$/,A));b(w+1);a.push(`when (${e[1]}`);}else {a.push(p.token[u]);}if(p.types[u+1]==="start"){if(l.script.braceAllman===true){b(w);}else if(l.style.compressCSS===false){a.push(" ");}}}else if(g(p.token[u],44)){a.push(p.token[u]);if(p.types[u+1]==="selector"||p.types[u+1]==="property"){b(w);}else if(l.style.compressCSS===false){a.push(" ");}}else if(p.stack[u]==="map"&&g(p.token[u+1],41)&&u-p.begin[u]>5){a.push(p.token[u]);b(w);}else if(p.token[u]==="x;"){b(w);}else if((p.types[u]==="variable"||p.types[u]==="function")&&l.style.classPadding===true&&p.types[u-1]==="end"&&p.lines[u]<3){a.push(n);a.push(p.token[u]);}else if(Y(p.token[u],59)||g(p.token[u],59)&&(l.style.compressCSS===false||l.style.compressCSS===true&&Y(p.token[u+1],125))){a.push(p.token[u]);}u=u+1;}while(u<d);Q.iterator=d-1;return a.join(A)};Q.beautify.script=l=>{const a=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const d=ie(null);const t=Q.parsed;const q="script";const E=Q.scopes;const w=Q.end<1||Q.end>t.token.length?t.token.length:Q.end+1;const k=(()=>{let e=Q.start;let b=isNaN(l.indentLevel)?0:Number(l.indentLevel);let H=false;let o=false;let $="";let m="";let h=t.types[0];let N=t.token[0];const J=[-1];const T=[];const i=Q.start>0?Array(Q.start).fill(0,0,Q.start):[];const C=[];const c=[[]];const v=[];const y=[];const P=[];const j=[false];const R=[];const D=[];function oe(){X(false,false);const L=l.commentIndent===true?b:0;if(H===false&&/\/\u002a\s*global\s/.test(t.token[e])){const f=t.token[e].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let r=f.length;do{r=r-1;f[r]=f[r].replace(/\s+/g,"");if(f[r]!=="")E.push([f[r],-1]);}while(r>0)}if(t.types[e-1]==="comment"||t.types[e+1]==="comment"){i[e-1]=L;}else if(t.lines[e]<2){let f=e+1;if(t.types[f]==="comment"){do{f=f+1;}while(f<w&&t.types[f]==="comment")}if(e<w-1&&t.stack[f]!=="block"&&(t.token[f]==="{"||t.token[f]==="x{")){let r=E.length;t.begin.splice(e,0,t.begin[f]);t.ender.splice(e,0,t.ender[f]);t.lexer.splice(e,0,t.lexer[f]);t.lines.splice(e,0,t.lines[f]);t.stack.splice(e,0,t.stack[f]);t.token.splice(e,0,t.token[f]);t.types.splice(e,0,t.types[f]);if(r>0){do{r=r-1;if(E[r][1]===f){E[r][1]=e;}else if(E[r][1]<e){break}}while(r>0)}f=f+1;t.begin.splice(f,1);t.ender.splice(f,1);t.lexer.splice(f,1);t.lines.splice(f,1);t.stack.splice(f,1);t.token.splice(f,1);t.types.splice(f,1);r=e+1;do{t.begin[r]=e;t.stack[r]=t.stack[f];r=r+1;}while(r<f);r=r+1;do{if(t.begin[r]===t.begin[f]){t.begin[r]=e;if(t.types[r]==="end"){break}}r=r+1;}while(r<w-1);t.begin[f]=e;e=e-1;}else {i[e-1]=-10;if(t.stack[e]==="paren"||t.stack[e]==="method"){i.push(b+2);}else {i.push(b);}if(l.commentIndent===true&&i[e]>-1&&t.lines[e]<3){t.lines[e]=3;}}if(t.types[e+1]!=="comment")H=true;return}else if(t.token[e-1]===","){i[e-1]=L;}else if(N==="="&&t.types[e-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(m)===true){i[e-1]=-10;}else if(N==="{"&&t.types[e-1]!=="comment"&&t.lines[0]<2){if(t.stack[e]==="function"){i[e-1]=L;}else {i[e-1]=/\n/.test(m)?L:-10;}}else {i[e-1]=L;}if(t.types[e+1]!=="comment")H=true;if(t.token[t.begin[e]]==="("){i.push(b+1);}else {i.push(b);}if(i[e]>-1&&t.lines[e]<3){if(t.types[e-1]==="comment"&&m.startsWith("//")){t.lines[e]=2;}else {t.lines[e]=3;}}if(l.script.commentNewline===true&&m.startsWith("//")===false&&t.lines[e]>=3){t.lines[e]=2;}}function X(L,f){let r=e-1;let x=L===true?0:1;const O=c[c.length-1]===void 0?[]:c[c.length-1];const S=f===false&&t.stack[e]==="array"&&L===true&&m!=="[";if(y[y.length-1]===false||t.stack[e]==="array"&&l.script.arrayFormat==="inline"||t.stack[e]==="object"&&l.script.objectIndent==="inline"){return}y[y.length-1]=false;do{if(t.types[r]==="end"){x=x+1;}else if(t.types[r]==="start"){x=x-1;}if(t.stack[r]==="global")break;if(x===0){if(t.stack[e]==="class"||t.stack[e]==="map"||S===false&&(L===false&&t.token[r]!=="("&&t.token[r]!=="x("||L===true&&t.token[r]===",")){if(t.types[r+1]==="template_start"){if(t.lines[r]<1){i[r]=-20;}else {i[r]=b-1;}}else if(O.length>0&&O[O.length-1]>-1){i[r]=b-1;}else {i[r]=b;}}else if(t.stack[e]==="array"&&t.types[e]==="operator"){if(t.token[r]===",")i[r]=b;if(r===t.begin[e])break}if(L===false)break}if(x<0){if(t.types[r+1]==="template_start"||t.types[r+1]==="template_string_start"){if(t.lines[r]<1){i[r]=-20;}else {i[r]=b-1;}}else if(O.length>0&&O[O.length-1]>-1){i[r]=b-1;}else {i[r]=b;}break}r=r-1;}while(r>-1)}function te(){const L=c[c.length-1]===void 0?[]:c[c.length-1];const f=()=>{let r=e;let x=false;const O=t.begin[r];do{r=r-1;if(t.lexer[r]==="markup"){x=true;break}if(t.begin[r]!==O)r=t.begin[r];}while(r>O);if(x===true){r=e;do{r=r-1;if(t.begin[r]!==O){r=t.begin[r];}else if(t.token[r]===","){i[r]=b+1;}}while(r>O);i[O]=b+1;i[e-1]=b;}else {i[e-1]=-20;}};if(m===")"&&t.token[e+1]==="."&&L[L.length-1]>-1&&t.token[L[0]]!==":"){let r=t.begin[e];let x=false;let O=false;do{r=r-1;}while(r>0&&i[r]<-9);x=i[r]===b;r=e+1;do{r=r+1;if(t.token[r]==="{"){O=true;break}if(t.begin[r]===t.begin[e+1]&&(t.types[r]==="separator"||t.types[r]==="end")){break}}while(r<w);if(x===false&&O===true&&c.length>1){c[c.length-2].push(t.begin[e]);b=b+1;}}if(h!=="separator")U();if(t.token[e+1]===","&&(t.stack[e]==="object"||t.stack[e]==="array")){X(true,false);}if(t.token[t.begin[e]-1]===","&&(t.token[e+1]==="}"||t.token[e+1]==="]")&&(t.stack[e]==="object"||t.stack[e]==="array")){X(true,false);}if(t.stack[e]!=="attribute"){if(m!==")"&&m!=="x)"&&(t.lexer[e-1]!=="markup"||t.lexer[e-1]==="markup"&&t.token[e-2]!=="return")){b=b-1;}if(m==="}"&&t.stack[e]==="switch"&&l.script.noCaseIndent===false){b=b-1;}}if(m==="}"||m==="x}"){if(t.types[e-1]!=="comment"&&N!=="{"&&N!=="x{"&&h!=="end"&&h!=="string"&&h!=="number"&&h!=="separator"&&N!=="++"&&N!=="--"&&(e<2||t.token[e-2]!==";"||t.token[e-2]!=="x;"||N==="break"||N==="return")){let r=e-1;let x=false;const O=t.begin[e];const S=T.length;do{if(t.begin[r]===O){if(t.token[r]==="="||t.token[r]===";"||t.token[r]==="x;"){x=true;}if(t.token[r]==="."&&i[r-1]>-1){y[y.length-1]=false;i[O]=b+1;i[e-1]=b;break}if(r>0&&t.token[r]==="return"&&(t.token[r-1]===")"||t.token[r-1]==="x)"||t.token[r-1]==="{"||t.token[r-1]==="x{"||t.token[r-1]==="}"||t.token[r-1]==="x}"||t.token[r-1]===";"||t.token[r-1]==="x;")){b=b-1;i[e-1]=b;break}if(t.token[r]===":"&&C.length===0||t.token[r]===","&&x===false){break}if(r===0||t.token[r-1]==="{"||t.token[r-1]==="x{"||t.token[r]==="for"||t.token[r]==="if"||t.token[r]==="do"||t.token[r]==="function"||t.token[r]==="while"||t.token[r]==="var"||t.token[r]==="let"||t.token[r]==="const"||t.token[r]==="with"){if(T[S-1]===false&&S>1&&(e===w-1||t.token[e+1]!==")"&&t.token[e+1]!=="x)")&&t.stack[e]!=="object"){b=b-1;}break}}else {r=t.begin[r];}r=r-1;}while(r>O)}J.pop();}if(l.script.bracePadding===false&&m!=="}"&&h!=="markup"){i[e-1]=-20;}if(l.script.bracePadding===true&&h!=="start"&&N!==";"&&(i[t.begin[e]]<-9||y[y.length-1]===true)){i[t.begin[e]]=-10;i[e-1]=-10;i.push(-20);}else if(t.stack[e]==="attribute"){i[e-1]=-20;i.push(b);}else if(t.stack[e]==="array"&&(L.length>0||v[v.length-1]===true)){ee();y[y.length-1]=false;i[t.begin[e]]=b+1;i[e-1]=b;i.push(-20);}else if((t.stack[e]==="object"||t.begin[e]===0&&m==="}")&&L.length>0){ee();y[y.length-1]=false;i[t.begin[e]]=b+1;i[e-1]=b;i.push(-20);}else if(m===")"||m==="x)"){const r=m===")"&&N!=="("&&D.length>0?D.pop()+1:0;const x=t.token[t.begin[e]-1]==="if"?(()=>{let O=e;do{O=O-1;if(t.token[O]===")"&&i[O-1]>-1)return r}while(O>t.begin[e]);return r+5})():r;if(r>0&&(l.language!=="jsx"||l.language==="jsx"&&t.token[t.begin[e]-1]!=="render")){const O=l.wrap;const S=t.begin[e];const B=D.length;let _=e-2;if(x>O){i[t.begin[e]]=b+1;i[e-1]=b;do{if(t.begin[_]===S){if(t.token[_]==="&&"||t.token[_]==="||"){i[_]=b+1;}else if(i[_]>-1&&t.types[_]!=="comment"&&t.token[_+1]!=="."){i[_]=i[_]+1;}}else if(i[_]>-1&&t.token[_+1]!=="."){i[_]=i[_]+1;}_=_-1;}while(_>S)}else if(B>0){D[B-1]=D[B-1]+r;}}else if(m===")"&&e>t.begin[e]+2&&t.lexer[t.begin[e]+1]===q&&t.token[t.begin[e]+1]!=="function"){const O=t.begin[e]<0?0:t.begin[e];const S=l.wrap;const B=L.length;let _=0;let I=0;let ne=0;let z=0;let K=0;let he=false;let V=false;let ae=b+1;let ue=false;let ce=false;let we=false;if(i[O]<-9){I=O;do{I=I+1;}while(I<e&&i[I]<-9);z=I;do{_=_+t.token[I].length;if(i[I]===-10)_=_+1;if(t.token[I]==="("&&ne>0&&ne<S-1&&z===e){ne=-1;}if(t.token[I]===")"){K=K-1;}else if(t.token[I]==="("){K=K+1;}if(I===O&&K>0)ne=_;I=I-1;}while(I>O&&i[I]<-9);if(t.token[I+1]===".")ae=i[I]+1;if(_>S-1&&S>0&&N!=="("&&ne!==-1&&y[y.length-2]===false){if(t.token[O-1]==="if"&&T[T.length-1]===true||t.token[O-1]!=="if"){i[O]=ae;if(t.token[O-1]==="for"){I=O;do{I=I+1;if(t.token[I]===";"&&t.begin[I]===O){i[I]=ae;}}while(I<e)}}}}I=e;_=0;do{I=I-1;if(t.stack[I]==="function"){I=t.begin[I];}else if(t.begin[I]===O){if(t.token[I]==="?"){we=true;}else if(t.token[I]===","&&he===false){he=true;if(_>=S&&S>0)ue=true;}else if(t.types[I]==="markup"&&ce===false){ce=true;}if(i[I]>-9&&t.token[I]!==","&&t.types[I]!=="markup"){_=0;}else {if(i[I]===-10)_=_+1;_=_+t.token[I].length;if(_>=S&&S>0&&(he===true||ce===true)){ue=true;}}}else {if(i[I]>-9){_=0;}else {_=_+t.token[I].length;if(_>=S&&S>0&&(he===true||ce===true)){ue=true;}}}}while(I>O&&ue===false);if(he===false&&t.token[t.begin[e]+1].charAt(0)==="`"){i[t.begin[e]]=-20;i[e-1]=-20;}else if((he===true||ce===true)&&_>=S&&S>0||i[O]>-9){if(we===true){ae=i[O];if(t.token[O-1]==="["){I=e;do{I=I+1;if(t.types[I]==="end"||t.token[I]===","||t.token[I]===";"){break}}while(I<w);if(t.token[I]==="]"){ae=ae-1;V=true;}}}else if(B>0&&L[B-1]>I){ae=ae-B;}y[y.length-1]=false;I=e;do{I=I-1;if(t.begin[I]===O){if(t.token[I].indexOf("=")>-1&&t.types[I]==="operator"&&t.token[I].indexOf("!")<0&&t.token[I].indexOf("==")<0&&t.token[I]!=="<="&&t.token[I].indexOf(">")<0){_=I;do{_=_-1;if(t.begin[_]===O&&(t.token[_]===";"||t.token[_]===","||_===O)){break}}while(_>O)}else if(t.token[I]===","){i[I]=ae;}else if(i[I]>-9&&V===false&&(t.token[O-1]!=="for"||t.token[I+1]==="?"||t.token[I+1]===":")&&(t.token[t.begin[e]]!=="("||t.token[I]!=="+")){i[I]=i[I]+1;}}else if(i[I]>-9&&V===false){i[I]=i[I]+1;}}while(I>O);i[O]=ae;i[e-1]=ae-1;}else {i[e-1]=-20;}if(t.token[t.begin[e]-1]==="+"&&i[t.begin[e]]>-9){i[t.begin[e]-1]=-10;}}else if(l.language==="jsx"){f();}else {i[e-1]=-20;}i.push(-20);}else if(y[y.length-1]===true){if(m==="]"&&t.begin[e]-1>0&&t.token[t.begin[t.begin[e]-1]]==="["){y[y.length-2]=false;}if(t.begin[e]<i.length)i[t.begin[e]]=-20;if(l.language==="jsx"){f();}else if(m==="]"&&i[t.begin[e]]>-1){i[e-1]=i[t.begin[e]]-1;}else {i[e-1]=-20;}i.push(-20);}else if(t.types[e-1]==="comment"&&t.token[e-1].substring(0,2)==="//"){if(t.token[e-2]==="x}")i[e-3]=b+1;i[e-1]=b;i.push(-20);}else if(t.types[e-1]!=="comment"&&(N==="{"&&m==="}"||N==="["&&m==="]")){i[e-1]=-20;i.push(-20);}else if(m==="]"){if(T[T.length-1]===true&&y[y.length-1]===false&&l.script.arrayFormat!=="inline"||N==="]"&&i[e-2]===b+1){i[e-1]=b;i[t.begin[e]]=b+1;}else if(i[e-1]===-10){i[e-1]=-20;}if(t.token[t.begin[e]+1]==="function"){i[e-1]=b;}else if(T[T.length-1]===false){if(N==="}"||N==="x}")i[e-1]=b;let r=e-1;let x=1;do{if(t.token[r]==="]")x=x+1;if(t.token[r]==="["){x=x-1;if(x===0){if(r>0&&(t.token[r+1]==="{"||t.token[r+1]==="x{"||t.token[r+1]==="[")){i[r]=b+1;break}if(t.token[r+1]!=="["||o===false){i[r]=-20;break}break}}if(x===1&&t.token[r]==="+"&&i[r]>1){i[r]=i[r]-1;}r=r-1;}while(r>-1)}else if(l.language==="jsx"){f();}if(l.script.arrayFormat==="inline"){let r=e;const x=t.begin[e];do{r=r-1;if(t.types[r]==="end")break}while(r>x);if(r>x){i[t.begin[e]]=b+1;i[e-1]=b;}else {i[t.begin[e]]=-20;i[e-1]=-20;}}else if(i[t.begin[e]]>-1){i[e-1]=i[t.begin[e]]-1;}i.push(-20);}else if(m==="}"||m==="x}"||T[T.length-1]===true){if(m==="}"&&N==="x}"&&t.token[e+1]==="else"){i[e-2]=b+2;i.push(-20);}else {i.push(b);}i[e-1]=b;}else {i.push(-20);}if(t.types[e-1]==="comment")i[e-1]=b;if(l.script.inlineReturn&&l.script.correct===false&&m==="x}"&&(t.stack[e]==="if"||t.stack[e]==="else")&&t.token[t.begin[t.begin[e-1]-1]-2]!=="else"){i[e-1]=-20;}ee();o=T[T.length-1];T.pop();c.pop();v.pop();P.pop();R.pop();y.pop();j.pop();}function ee(){let L=0;const f=c[c.length-1];if(f===void 0)return;L=f.length-1;if(L<1&&f[L]<0&&(m===";"||m==="x;"||m===")"||m==="x)"||m==="}"||m==="x}")){f.pop();return}if(L<0||f[L]<0)return;if(m===":"){if(t.token[f[L]]!=="?"){do{f.pop();L=L-1;b=b-1;}while(L>-1&&f[L]>-1&&t.token[f[L]]!=="?")}f[L]=e;i[e-1]=b;}else {do{f.pop();L=L-1;b=b-1;}while(L>-1&&f[L]>-1)}if((t.stack[e]==="array"||m===",")&&f.length<1)f.push(-1);}function Z(){const L=e;do{if(t.lexer[e+1]===q&&t.begin[e+1]<L)break;if(t.token[L-1]==="return"&&t.types[e]==="end"&&t.begin[e]===L)break;i.push(0);e=e+1;}while(e<w);d[L]=e;i.push(b-1);}function U(){let L=e-1;const f=t.begin[e];if(b<1)return;do{if(f!==t.begin[L]){L=t.begin[L];}else {if(t.types[L]==="separator"||t.types[L]==="operator"){if(t.token[L]==="."&&i[L-1]>0){if(t.token[f-1]==="if"){b=b-2;}else {b=b-1;}}break}}L=L-1;}while(L>0&&L>f)}function de(){if(t.token[e+1]!==","&&m.indexOf("/>")!==m.length-2||t.token[e+1]===","&&t.token[t.begin[e]-3]!=="React"){X(false,false);}if(N==="return"||N==="?"||N===":"){i[e-1]=-10;i.push(-20);}else if(h==="start"||t.token[e-2]==="return"&&t.stack[e-1]==="method"){i.push(b);}else {i.push(-20);}}function G(){const L=c[c.length-1]===void 0?[]:c[c.length-1];function f(){const r=t.token[e+1];let x=0;let O=0;let S=e;let B=m==="+"?b+2:b;let _=0;if(l.wrap<1){i.push(-10);return}do{S=S-1;if(t.token[t.begin[e]]==="("){if(S===t.begin[e]){_=x;}if(t.token[S]===","&&t.begin[S]===t.begin[e]&&T[T.length-1]===true){break}}if(x>l.wrap-1)break;if(i[S]>-9)break;if(t.types[S]==="operator"&&t.token[S]!=="="&&t.token[S]!=="+"&&t.begin[S]===t.begin[e]){break}x=x+t.token[S].length;if(S===t.begin[e]&&t.token[S]==="["&&x<l.wrap-1){break}if(t.token[S]==="."&&i[S]>-9)break;if(i[S]===-10)x=x+1;}while(S>0);if(_>0)_=_+r.length;x=x+r.length;O=S;if(x>l.wrap-1&&i[S]<-9){do{O=O-1;}while(O>0&&i[O]<-9)}if(t.token[O+1]==="."&&t.begin[e]<=t.begin[O]){B=B+1;}else if(t.types[O]==="operator"){B=i[O];}O=r.length;if(x+O<l.wrap){i.push(-10);return}if(t.token[t.begin[e]]==="("&&(t.token[L[0]]===":"||t.token[L[0]]==="?")){B=b+3;}else if(t.stack[e]==="method"){i[t.begin[e]]=b;if(T[T.length-1]===true){B=b+3;}else {B=b+1;}}else if(t.stack[e]==="object"||t.stack[e]==="array"){X(true,false);}if(t.token[S]==="var"||t.token[S]==="let"||t.token[S]==="const"){x=x-l.indentSize*l.indentChar.length*2;}if(_>0){S=l.wrap-_;}else {S=l.wrap-x;}if(S>0&&S<5){i.push(B);if(t.token[e].charAt(0)==='"'||t.token[e].charAt(0)==="'"){e=e+1;i.push(-10);}return}if(t.token[t.begin[e]]!=="("||_>l.wrap-1||_===0){if(_>0)x=_;if(x-r.length<l.wrap-1&&(r.charAt(0)==='"'||r.charAt(0)==="'")){e=e+1;x=x+3;if(x-r.length>l.wrap-4){i.push(B);return}i.push(-10);return}i.push(B);return}i.push(-10);}U();if(L.length>0&&L[L.length-1]>-1&&t.stack[e]==="array"){v[v.length-1]=true;}if(m!==":"){if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&y.length>0){X(true,false);}if(m!=="?"&&t.token[L[L.length-1]]==="."){let r=0;let x=e;const O=t.begin[x];do{if(t.begin[x]===O){if(t.token[x+1]==="{"||t.token[x+1]==="["||t.token[x]==="function"){break}if(t.token[x]===","||t.token[x]===";"||t.types[x]==="end"||t.token[x]===":"){L.pop();b=b-1;break}if(t.token[x]==="?"||t.token[x]===":"){if(t.token[L[L.length-1]]==="."&&r<2)L[L.length-1]=O+1;break}if(t.token[x]===".")r=r+1;}x=x+1;}while(x<w)}}if(m==="!"||m==="..."){if(N==="}"||N==="x}")i[e-1]=b;i.push(-20);return}if(N===";"||N==="x;"){if(t.token[t.begin[e]-1]!=="for")i[e-1]=b;i.push(-20);return}if(m==="*"){if(N==="function"||N==="yield"){i[e-1]=-20;}else {i[e-1]=-10;}i.push(-10);return}if(m==="?"){if(t.lines[e]===0&&t.types[e-2]==="word"&&t.token[e-2]!=="return"&&t.token[e-2]!=="in"&&t.token[e-2]!=="instanceof"&&t.token[e-2]!=="typeof"&&(h==="reference"||h==="word")){if(t.types[e+1]==="word"||t.types[e+1]==="reference"||(t.token[e+1]==="("||t.token[e+1]==="x(")&&t.token[e-2]==="new"){i[e-1]=-20;if(t.types[e+1]==="word"||t.types[e+1]==="reference"){i.push(-10);return}i.push(-20);return}}if(t.token[e+1]===":"){i[e-1]=-20;i.push(-20);return}C.push(e);if(l.script.ternaryLine===true){i[e-1]=-10;}else {let r=e-1;do{r=r-1;}while(r>-1&&i[r]<-9);L.push(e);b=b+1;if(i[r]===b&&t.token[r+1]!==":"){b=b+1;L.push(e);}i[e-1]=b;if(t.token[t.begin[e]]==="("&&(L.length<2||L[0]===L[1])){y[y.length-1]=false;if(e-2===t.begin[e]){i[t.begin[e]]=b-1;}else {i[t.begin[e]]=b;}r=e-2;do{if(t.types[r]==="end"&&i[r-1]>-1)break;if(i[r]>-1)i[r]=i[r]+1;r=r-1;}while(r>t.begin[e])}}i.push(-10);return}if(m===":"){if(t.stack[e]==="map"||t.types[e+1]==="type"||t.types[e+1]==="type_start"){i[e-1]=-20;i.push(-10);return}if(C.length>0&&t.begin[C[C.length-1]]===t.begin[e]){let r=e;const x=t.begin[e];do{r=r-1;if(t.begin[r]===x){if(t.token[r]===","||t.token[r]===";"){i[e-1]=-20;break}if(t.token[r]==="?"){C.pop();ee();if(l.script.ternaryLine===true)i[e-1]=-10;i.push(-10);return}}else if(t.types[r]==="end"){r=t.begin[r];}}while(r>x)}if(t.token[e-2]==="where"&&t.stack[e-2]===t.stack[e]){i[e-1]=-10;i.push(-10);return}if(h==="reference"&&t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("){i[e-1]=-20;i.push(-10);return}if((N===")"||N==="x)")&&t.token[t.begin[e-1]-2]==="function"){i[e-1]=-20;i.push(-10);return}if(t.stack[e]==="attribute"){i[e-1]=-20;i.push(-10);return}if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&(h==="reference"||N===")"||N==="]"||N==="?")&&(t.stack[e]==="map"||t.stack[e]==="class"||t.types[e+1]==="reference")&&(C.length===0||C[C.length-1]<t.begin[e])&&("mapclassexpressionmethodglobalparen".indexOf(t.stack[e])>-1||t.types[e-2]==="word"&&t.stack[e]!=="switch")){i[e-1]=-20;i.push(-10);return}if(t.stack[e]==="switch"&&(C.length<1||C[C.length-1]<t.begin[e])){i[e-1]=-20;if(l.script.caseSpace===true){i.push(-10);}else {i.push(b);}return}if(t.stack[e]==="object"){i[e-1]=-20;}else if(C.length>0){i[e-1]=b;}else {i[e-1]=-10;}i.push(-10);return}if(m==="++"||m==="--"){if(h==="number"||h==="reference"){i[e-1]=-20;i.push(-10);}else if(e<w-1&&(t.types[e+1]==="number"||t.types[e+1]==="reference")){i.push(-20);}else {i.push(-10);}return}if(m==="+"){if(h==="start"){i[e-1]=-20;}else {i[e-1]=-10;}if(l.wrap<1||t.token[t.begin[e]]==="x("){i.push(-10);return}const r=t.token[e+1];if(r===void 0){i.push(-10);return}if(t.types[e-1]==="operator"||t.types[e-1]==="start"){if(t.types[e+1]==="reference"||r==="("||r==="["){i.push(-20);return}if(Number(r.slice(1,-1))>-1&&(/\d/.test(r.charAt(1))===true||r.charAt(1)==="."||r.charAt(1)==="-"||r.charAt(1)==="+")){i.push(-20);return}}return f()}if(t.types[e-1]!=="comment"){if(N==="("){i[e-1]=-20;}else if(m==="*"&&t.stack[e]==="object"&&t.types[e+1]==="reference"&&(N==="{"||N===",")){i[e-1]=b;}else if(m!=="?"||C.length===0){i[e-1]=-10;}}if(m.indexOf("=")>-1&&m!=="=="&&m!=="==="&&m!=="!="&&m!=="!=="&&m!==">="&&m!=="<="&&m!=="=>"&&t.stack[e]!=="method"&&t.stack[e]!=="object"){let r=e+1;let x=0;let O=false;let S="";if((t.token[t.begin[e]]==="("||t.token[t.begin[e]]==="x(")&&t.token[e+1]!=="function"){return}do{if(t.types[r]==="start"){if(O===true&&t.token[r]!=="["){if(j[j.length-1]===true){j[j.length-1]=false;}break}x=x+1;}if(t.types[r]==="end")x=x-1;if(x<0){if(j[j.length-1]===true){j[j.length-1]=false;}break}if(x===0){S=t.token[r];if(O===true){if(t.types[r]==="operator"||t.token[r]===";"||t.token[r]==="x;"||t.token[r]==="?"||t.token[r]==="var"||t.token[r]==="let"||t.token[r]==="const"){if(S!==void 0&&(S==="?"||S.indexOf("=")>-1&&S!=="=="&&S!=="==="&&S!=="!="&&S!=="!=="&&S!==">="&&S!=="<=")){if(j[j.length-1]===false){j[j.length-1]=true;}}if((S===";"||S==="x;"||S==="var"||S==="let"||S==="const")&&j[j.length-1]===true){j[j.length-1]=false;}break}if(j[j.length-1]===true&&(S==="return"||S==="break"||S==="continue"||S==="throw")){j[j.length-1]=false;}}if(S===";"||S==="x;"||S===",")O=true;}r=r+1;}while(r<w);i.push(-10);return}if(m==="-"&&N==="return"||N==="="){i.push(-20);return}if(h==="operator"&&t.types[e+1]==="reference"&&N!=="--"&&N!=="++"&&m!=="&&"&&m!=="||"){i.push(-20);return}return f()}function W(){const L=()=>{let f=t.begin[e];if(f<0){E.push([t.token[e],-1]);}else {if(t.stack[f+1]!=="function"){do{f=t.begin[f];}while(f>-1&&t.stack[f+1]!=="function")}E.push([t.token[e],f]);}};if(t.types[e-1]==="comment"){i[e-1]=b;}else if(h==="end"&&N!==")"&&t.token[t.begin[e-1]-1]!==")"){i[e-1]=-10;}else if(h!=="separator"&&h!=="start"&&h!=="end"&&h.indexOf("template_string")<0){if(h==="word"||h==="operator"||h==="property"||h==="type"||h==="reference"){i[e-1]=-10;}else {i[e-1]=-20;}}if(N==="var"&&t.lexer[e-1]===q){L();}else if(N==="function"){E.push([t.token[e],e]);}else if(N==="let"||N==="const"){E.push([t.token[e],e]);}else if(t.stack[e]==="arguments"){E.push([t.token[e],e]);}else if(N===","){let f=e;do{f=f-1;}while(f>t.begin[e]&&t.token[f]!=="var"&&t.token[f]!=="let"&&t.token[f]!=="const");if(t.token[f]==="var"){L();}else if(t.token[f]==="let"||t.token[f]==="const"){E.push([t.token[e],e]);}}i.push(-10);}function F(){const L=c[c.length-1]===void 0?[]:c[c.length-1];const f=()=>{if(l.script.methodChain>0){let r=e;let x=t.begin[e];const O=[e];const S=t.token[x-1]==="if";do{r=r-1;if(t.types[r]==="end")r=t.begin[r];if(t.begin[r]===x){if(t.types[r]==="string"&&t.token[r].indexOf("${")===t.token[r].length-2){break}if(t.token[r]==="."){if(i[r-1]>0){i[e-1]=S===true?b+1:b;return}O.push(r);}else if(t.token[r]===";"||t.token[r]===","||t.types[r]==="operator"||(t.types[r]==="word"||t.types[r]==="reference")&&(t.types[r-1]==="word"||t.types[r-1]==="reference")){break}}}while(r>x);if(O.length<l.script.methodChain){i[e-1]=-20;return}r=0;x=O.length;do{i[O[r]-1]=S===true?b+1:b;r=r+1;}while(r<x);r=O[O.length-1]-1;do{if(i[r]>-1)i[r]=i[r]+1;r=r+1;}while(r<e);b=S===true?b+2:b+1;}i[e-1]=b;};if(m==="::"){i[e-1]=-20;i.push(-20);return}if(m==="."){if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&L.length>0){if(t.stack[e]==="object"||t.stack[e]==="array"){X(true,false);}else {X(false,false);}}if(l.script.methodChain===0){i[e-1]=-20;}else if(l.script.methodChain<0){if(t.lines[e]>0){f();}else {i[e-1]=-20;}}else {f();}i.push(-20);return}if(m===","){U();if(T[T.length-1]===false&&(t.stack[e]==="object"||t.stack[e]==="array"||t.stack[e]==="paren"||t.stack[e]==="expression"||t.stack[e]==="method")){T[T.length-1]=true;if(t.token[t.begin[e]]==="("){let r=e;do{r=r-1;if(t.begin[r]===t.begin[e]&&t.token[r]==="+"&&i[r]>-9){i[r]=i[r]+2;}}while(r>t.begin[e])}}if(t.stack[e]==="array"&&l.script.arrayFormat==="indent"){i[e-1]=-20;i.push(b);return}if(t.stack[e]==="array"&&l.script.arrayFormat==="inline"){i[e-1]=-20;i.push(-10);return}if(t.stack[e]==="object"&&l.script.objectIndent==="indent"){i[e-1]=-20;i.push(b);return}if(t.stack[e]==="object"&&l.script.objectIndent==="inline"){i[e-1]=-20;i.push(-10);return}if(L.length>0){if(L[L.length-1]>-1)ee();i[e-1]=-20;i.push(b);return}if(t.token[e-2]===":"&&t.token[e-4]==="where"){i[e-1]=-20;i.push(-10);return}i[e-1]=-20;if(t.types[e+1]!=="end"){P[P.length-1]=P[P.length-1]+1;}if((t.token[t.begin[e]]==="("||t.token[t.begin[e]]==="x(")&&l.language!=="jsx"&&t.stack[e]!=="global"&&(t.types[e-1]!=="string"&&t.types[e-1]!=="number"||t.token[e-2]!=="+"||t.types[e-1]==="string"&&t.types[e-1]!=="number"&&t.token[e-2]==="+"&&t.types[e-3]!=="string"&&t.types[e-3]!=="number")){i.push(-10);return}if(h==="reference"&&t.types[e-2]==="word"&&"var-let-const-from".indexOf(t.token[e-2])<0&&(t.types[e-3]==="end"||t.token[e-3]===";")){R[R.length-1]=true;i.push(-10);return}if(R[R.length-1]===true||t.stack[e]==="notation"){i.push(-10);return}if(P[P.length-1]>3&&(t.stack[e]==="array"||t.stack[e]==="object")){if(y[y.length-1]===true)X(true,true);i[e-1]=-20;if(v[v.length-1]===true){i.push(b);return}const r=t.begin[e];let x=e;do{if(t.types[x]==="end"){x=t.begin[x];}else {if(t.token[x]===","&&t.types[x+1]!=="comment"){i[x]=b;}}x=x-1;}while(x>r);i[r]=b;v[v.length-1]=true;return}if(t.stack[e]==="object"){if(y[y.length-1]===true&&t.types[t.begin[e]-1]!=="word"&&t.types[t.begin[e]-1]!=="reference"&&t.token[t.begin[e]-1]!=="("&&t.token[t.begin[e]-1]!=="x("){const r=t.begin[e];let x=e-1;do{if(t.begin[x]===r){if(t.token[x]===",")break;if(t.token[x]===":"){X(true,false);break}}x=x-1;}while(x>r)}}if(y[y.length-1]===false||t.token[e-2]==="+"&&(h==="string"||h==="number")&&i[e-2]>0&&(N.charAt(0)==='"'||N.charAt(0)==="'")){if(t.stack[e]==="method"){if(t.token[e-2]==="+"&&(N.charAt(0)==='"'||N.charAt(0)==="'")&&(t.token[e-3].charAt(0)==='"'||t.token[e-3].charAt(0)==="'")){i.push(b+2);return}if(t.token[e-2]!=="+"){i.push(-10);return}}i.push(b);return}if(y[y.length-1]===true&&t.stack[e]!=="object"){i.push(-10);return}if(P[P.length-1]<4&&(t.stack[e]==="array"||t.stack[e]==="object")){i.push(-10);return}i.push(b);return}if(m===";"||m==="x;"){U();if(t.token[e+1]!==void 0&&t.types[e+1].indexOf("attribute")>0&&t.types[e+1].indexOf("end")>0){i[e-1]=-20;i.push(b-1);return}if(J[J.length-1]>-1&&t.stack[J[J.length-1]]!=="expression"){let r=e;do{r=r-1;if(t.token[r]===";")break;if(t.token[r]===","){b=b-1;break}if(t.types[r]==="end")r=t.begin[r];}while(r>0&&r>t.begin[e])}J[J.length-1]=-1;ee();if(t.token[t.begin[e]-1]!=="for")X(false,false);R[R.length-1]=false;i[e-1]=-20;if(t.begin[e]>0&&t.token[t.begin[e]-1]==="for"&&t.stack[e]!=="for"){i.push(-10);return}i.push(b);return}i.push(-20);}function me(){const L=t.stack[e+1];const f=e===0?t.stack[e]:t.stack[e-1];if(N===")"||(f==="object"||f==="array")&&N!=="]"){if(L!=="method"||L==="method"&&t.token[e+1]!==")"&&t.token[e+2]!==")"){if(N===")"&&(L!=="function"||t.token[t.begin[t.begin[e-1]-1]]==="("||t.token[t.begin[t.begin[e-1]-1]]==="x(")){X(false,false);}else if(t.types[e+1]!=="end"&&t.types[e+2]!=="end"){X(true,false);}}}T.push(false);c.push([]);j.push(false);v.push(false);R.push(false);P.push(0);if(l.script.neverFlatten===true||L==="array"&&l.script.arrayFormat==="indent"||L==="attribute"||h==="generic"||L==="class"&&N!=="("&&N!=="x("||m==="["&&t.token[e+1]==="function"){y.push(false);}else {if(L==="expression"||L==="method"){y.push(true);}else if((L==="object"||L==="class")&&(N==="("||N==="x("||h==="word"||h==="reference")){y.push(true);}else if(L==="array"||m==="("||m==="x("){y.push(true);}else if(m==="{"&&L==="object"&&h!=="operator"&&h!=="start"&&h!=="string"&&h!=="number"&&f!=="object"&&f!=="array"&&e>0){y.push(true);}else {y.push(false);}}if(m!=="("&&m!=="x("&&t.stack[e+1]!=="attribute"){b=b+1;}if(m==="{"||m==="x{"){J.push(-1);if(t.types[e-1]!=="comment"){if(h==="markup"){i[e-1]=b;}else if(l.script.braceAllman===true&&h!=="operator"&&N!=="return"){i[e-1]=b-1;}else if(t.stack[e+1]!=="block"&&(L==="function"||N===")"||N==="x)"||N===","||N==="}"||h==="markup")){i[e-1]=-10;}else if(N==="{"||N==="x{"||N==="["||N==="}"||N==="x}"){i[e-1]=b-1;}}if(L==="object"){if(l.script.objectIndent==="indent"){y[y.length-1]=false;i.push(b);return}if(l.script.objectIndent==="inline"){y[y.length-1]=true;i.push(-20);return}}if(L==="switch"){if(l.script.noCaseIndent===true){i.push(b-1);return}b=b+1;i.push(b);return}if(y[y.length-1]===true){if(h!=="word"&&h!=="reference"){i.push(-20);return}}i.push(b);return}if(m==="("||m==="x("){if(l.wrap>0&&m==="("&&t.token[e+1]!==")"){D.push(1);}if(N==="-"&&(t.token[e-2]==="("||t.token[e-2]==="x(")){i[e-2]=-20;}if(h==="end"&&f!=="if"&&f!=="for"&&f!=="catch"&&f!=="else"&&f!=="do"&&f!=="try"&&f!=="finally"&&f!=="catch"){if(t.types[e-1]==="comment"){i[e-1]=b;}else {i[e-1]=-20;}}if(N==="async"){i[e-1]=-10;}else if(L==="method"||t.token[e-2]==="function"&&h==="reference"){if(N==="import"||N==="in"||l.script.functionNameSpace===true){i[e-1]=-10;}else if(N==="}"&&t.stack[e-1]==="function"||h==="word"||h==="reference"||h==="property"){i[e-1]=-20;}else if(f!=="method"&&L!=="method"){i[e-1]=b;}}if(N==="+"&&(t.token[e-2].charAt(0)==='"'||t.token[e-2].charAt(0)==="'")){i.push(b);return}if(N==="}"||N==="x}"){i.push(-20);return}if(N==="-"&&(e<2||t.token[e-2]!==")"&&t.token[e-2]!=="x)"&&t.token[e-2]!=="]"&&t.types[e-2]!=="reference"&&t.types[e-2]!=="string"&&t.types[e-2]!=="number")||l.script.functionSpace===false&&N==="function"){i[e-1]=-20;}i.push(-20);return}if(m==="["){if(N==="[")T[T.length-2]=true;if(N==="return"||N==="var"||N==="let"||N==="const"){i[e-1]=-10;}else if(t.types[e-1]!=="comment"&&t.stack[e-1]!=="attribute"&&(h==="end"||h==="word"||h==="reference")){i[e-1]=-20;}else if(N==="["||N==="{"||N==="x{"){i[e-1]=b-1;}if(t.stack[e]==="attribute"){i.push(-20);return}if(l.script.arrayFormat==="indent"){y[y.length-1]=false;i.push(b);return}if(l.script.arrayFormat==="inline"){y[y.length-1]=true;i.push(-20);return}if(L==="method"||y[y.length-1]===true){i.push(-20);return}let r=e+1;do{if(t.token[r]==="]"){i.push(-20);return}if(t.token[r]===","){i.push(b);return}r=r+1;}while(r<w);i.push(-20);}}function be(){if(m.length===1){i.push(-20);if(t.lines[e]===0)i[e-1]=-20;}else if(m.indexOf("#!/")===0){i.push(b);}else {i.push(-10);}if((N===","||h==="start")&&(t.stack[e]==="object"||t.stack[e]==="array")&&y[y.length-1]===false&&e>0){i[e-1]=b;}}function xe(){if($==="template_else"){i[e-1]=b-1;i.push(b);}else if($==="template_start"){b=b+1;if(t.lines[e-1]<1)i[e-1]=-20;if(t.lines[e]>0||N.length===1&&h==="string"){i.push(b);}else {i.push(-20);}}else if($==="template_end"){b=b-1;if(h==="template_start"||t.lines[e-1]<1){i[e-1]=-20;}else {i[e-1]=b;}if(t.lines[e]>0){i.push(b);}else {i.push(-20);}}else if($==="template"){if(t.lines[e]>0){i.push(b);}else {i.push(-20);}}}function ke(){if($==="template_string_start"){b=b+1;i.push(b);}else if($==="template_string_else"){U();i[e-1]=b-1;i.push(b);}else {U();b=b-1;i[e-1]=b;i.push(-10);}if(e>2&&(t.types[e-2]==="template_string_else"||t.types[e-2]==="template_string_start")){if(l.script.bracePadding===true){i[e-2]=-10;i[e-1]=-10;}else {i[e-2]=-20;i[e-1]=-20;}}}function ve(){if(t.token[e-1]===","||t.token[e-1]===":"&&t.stack[e-1]!=="data_type"){i[e-1]=-10;}else {i[e-1]=-20;}if(t.types[e]==="type"||t.types[e]==="type_end"){i.push(-10);}if(t.types[e]==="type_start"){i.push(-20);}}function M(){if((N===")"||N==="x)")&&t.stack[e]==="class"&&(t.token[t.begin[e-1]-1]==="static"||t.token[t.begin[e-1]-1]==="final"||t.token[t.begin[e-1]-1]==="void")){i[e-1]=-10;i[t.begin[e-1]-1]=-10;}if(N==="]")i[e-1]=-10;if(m==="else"&&N==="}"){if(t.token[e-2]==="x}")i[e-3]=i[e-3]-1;if(l.script.braceAllman===true||l.script.elseNewline===true){i[e-1]=b;}}if(m==="new"&&a.has(t.token[e+1]));if(m==="from"&&h==="end"&&e>0&&(t.token[t.begin[e-1]-1]==="import"||t.token[t.begin[e-1]-1]===",")){i[e-1]=-10;}if(m==="function"){if(l.script.functionSpace===false&&e<w-1&&(t.token[e+1]==="("||t.token[e+1]==="x(")){i.push(-20);return}i.push(-10);return}if(N==="-"&&e>1){if(t.types[e-2]==="operator"||t.token[e-2]===","){i[e-1]=-20;}else if(t.types[e-2]==="start"){i[e-2]=-20;i[e-1]=-20;}}else if(m==="while"&&(N==="}"||N==="x}")){let L=e-1;let f=0;do{if(t.token[L]==="}"||t.token[L]==="x}")f=f+1;if(t.token[L]==="{"||t.token[L]==="x{")f=f-1;if(f===0){if(t.token[L-1]==="do"){i[e-1]=-10;break}i[e-1]=b;break}L=L-1;}while(L>-1)}else if(m==="in"||(m==="else"&&l.script.elseNewline===false&&l.script.braceAllman===false||m==="catch")&&(N==="}"||N==="x}")){i[e-1]=-10;}else if(m==="var"||m==="let"||m==="const"){J[J.length-1]=e;if(h==="end")i[e-1]=b;if(t.token[t.begin[e]-1]!=="for"){let L=e+1;let f=0;do{if(t.types[L]==="end")f=f-1;if(t.types[L]==="start")f=f+1;if(f<0||f===0&&(t.token[L]===";"||t.token[L]===",")){break}L=L+1;}while(L<w);if(t.token[L]===",")b=b+1;}i.push(-10);return}if((m==="default"||m==="case")&&h!=="word"&&t.stack[e]==="switch"){i[e-1]=b-1;i.push(-10);return}if(m==="catch"&&N==="."){i[e-1]=-20;i.push(-20);return}if(m==="catch"||m==="finally"){i[e-1]=-10;i.push(-10);return}if(l.script.bracePadding===false&&e<w-1&&t.token[e+1].charAt(0)==="}"){i.push(-20);return}if(t.stack[e]==="object"&&(N==="{"||N===",")&&(t.token[e+1]==="("||t.token[e+1]==="x(")){i.push(-20);return}if(t.types[e-1]==="comment"&&t.token[t.begin[e]]==="("){i[e-1]=b+1;}if(l.script.inlineReturn){if(t.stack[e]==="if"&&m==="return"&&(N==="x{"||N==="{")){const L=t.begin.lastIndexOf(t.begin[e-1],e-3);if(t.token[L-2]==="else"){if(N==="x{")t.token[e-1]="{";if(t.token[t.ender[e]]==="x}")t.token[t.ender[e]]="}";t.lines[t.ender[e]]=t.lines[t.ender[e]]-1;}else {if(t.token[t.ender[e-1]+2]!=="if"&&t.token[t.ender[e-1]+1]!=="else"){i[e-1]=-20;if(N==="{")t.token[e-1]="x{";if(t.token[t.ender[e]]==="}")t.token[t.ender[e]]="x}";}else if(t.token[t.ender[e-1]+2]!=="if"&&t.token[t.ender[e-1]+1]!=="x{"){i[e-1]=-20;t.lines[t.ender[e-1]+2]=t.lines[t.ender[e-1]+2]-1;if(t.token[e-1]==="{")t.token[e-1]="x{";if(t.token[t.ender[e]]==="}")t.token[t.ender[e]]="x}";if(t.token[t.ender[e-1]+2]==="{")t.token[t.ender[e-1]+2]="x{";}}}if((N==="x}"||N==="}")&&(t.stack[e-1]==="if"&&m==="else"&&(t.token[e+1]==="{"||t.token[e+1]==="x{")&&t.token[e+2]==="return")){if(t.token[e-2]==="x;")t.token[e-2]=";";}if(N==="x{"&&m==="return"&&t.stack[e]==="else"){i[e-1]=-20;if(t.token[t.ender[e-1]-1]==="x;")t.token[t.ender[e-1]-1]=";";t.lines[t.ender[e-1]]=t.lines[t.ender[e-1]]-1;t.lines[t.ender[e]+1]=t.lines[t.ender[e]+1]-1;}if(N==="x}"&&m==="else"&&t.token[e+1]==="x{"&&t.token[e+2]==="return"&&t.token[t.ender[e]-1]==="}"){t.token[t.ender[e]-1]="x}";}}i.push(-10);}do{if(t.lexer[e]===q){$=t.types[e];m=t.token[e];if($==="comment"){oe();}else if($==="regex"){i.push(-20);}else if($==="string"){be();}else if($.indexOf("template_string")===0){ke();}else if($==="separator"){F();}else if($==="start"){me();}else if($==="end"){te();}else if($==="type"||$==="type_start"||$==="type_end"){ve();}else if($==="operator"){G();}else if($==="word"){M();}else if($==="reference"){W();}else if($==="markup"){de();}else if($.indexOf("template")===0){xe();}else if($==="generic"){if(N!=="return"&&N.charAt(0)!=="#"&&h!=="operator"&&N!=="public"&&N!=="private"&&N!=="static"&&N!=="final"&&N!=="implements"&&N!=="class"&&N!=="void"){i[e-1]=-20;}if(t.token[e+1]==="("||t.token[e+1]==="x("){i.push(-20);}else {i.push(-10);}}else {i.push(-10);}if($!=="comment"){h=$;N=m;}if(D.length>0&&t.token[e]!==")"){if(t.types[e]==="comment"&&D[D.length-1]>-1){D[D.length-1]=l.wrap+1;}else if(i[e]>-1||t.token[e].charAt(0)==="`"&&t.token[e].indexOf("\n")>0){D[D.length-1]=-1;}else if(D[D.length-1]>-1){D[D.length-1]=D[D.length-1]+t.token[e].length;if(i[e]===-10)D[D.length-1]=D[D.length-1]+1;}}}else {Z();}e=e+1;}while(e<w);return i})();const u=(()=>{const e=[];const b=(()=>{const i=[];const C=l.indentChar;let c=l.indentSize;if(typeof c!=="number"||c<1)return "";do{i.push(C);c=c-1;}while(c>0);return i.join("")})();const H=l.crlf===true?"\r\n":"\n";const o=l.preserveLine+1;const $=["x;","x}","x{","x(","x)"];let m=Q.start;let h="";let N=l.indentLevel;function J(i){const C=[];const c=(()=>{if(m===w-1)return 1;if(t.lines[m+1]-1>o)return o;if(t.lines[m+1]>1)return t.lines[m+1]-1;return 1})();let v=0;if(i<0)i=0;do{C.push(H);v=v+1;}while(v<c);if(i>0){v=0;do{C.push(b);v=v+1;}while(v<i)}return C.join("")}if(l.script.vertical===true){let i=function(C){let c=0;let v=0;let y=C-1;let P=0;let j=0;const R=t.begin[m];const D=[];do{if((t.begin[y]===R||t.token[y]==="]"||t.token[y]===")")&&(t.token[y+1]===":"&&t.stack[y]==="object"||t.token[y+1]==="=")){P=y;v=0;do{if(t.begin[P]===R){if(t.token[P]===","||t.token[P]===";"||t.token[P]==="x;"||k[P]>-1&&t.types[P]!=="comment"){if(t.token[P+1]==="."){v=v+l.indentSize*l.indentChar.length;}break}}else if(k[P]>-1){break}if(t.types[P]!=="comment"){if(k[P-1]===-10)v=v+1;v=t.token[P].length+v;}P=P-1;}while(P>R);j=P;if(t.token[j]===","&&t.token[y+1]==="="){do{if(t.types[j]==="end")j=t.begin[j];if(t.begin[j]===R){if(t.token[j]===";"||t.token[j]==="x;")break;if(t.token[j]==="var"||t.token[j]==="const"||t.token[j]==="let"){v=v+l.indentSize*l.indentChar.length;break}}j=j-1;}while(j>R)}if(v>c)c=v;D.push([y,v]);y=P;}else if(t.types[y]==="end"){y=t.begin[y];}y=y-1;}while(y>R);y=D.length;if(y>0){do{y=y-1;P=D[y][1];if(P<c){do{t.token[D[y][0]]=t.token[D[y][0]]+" ";P=P+1;}while(P<c)}}while(y>0)}};m=w;do{m=m-1;if(t.lexer[m]==="script"){if(t.token[m]==="}"&&t.token[m-1]!=="{"&&k[t.begin[m]]>0){i(m);}}else {m=t.begin[m];}}while(m>0)}m=Q.start;do{if(t.lexer[m]===q||Q.beautify[t.lexer[m]]===void 0){if(t.types[m]==="comment"&&l.commentIndent===true){if(/\n/.test(t.token[m])){const i=t.begin[m]>-1?t.token[m].charAt(2)==="*"?qe(k[m],b)+l.indentChar:qe(k[m],b):l.indentChar;const C=t.token[m].split(/\n/);let c=1;do{C[c]=i+C[c].trimStart();c=c+1;}while(c<C.length);t.token.splice(m,1,C.join("\n"));}}if($.indexOf(t.token[m])<0){if(t.token[m]!==";"||l.script.noSemicolon===false){e.push(t.token[m]);}else if(k[m]<0&&t.types[m+1]!=="comment"){e.push(";");}}if(m<w-1&&t.lexer[m+1]!==q&&t.begin[m]===t.begin[m+1]&&t.types[m+1].indexOf("end")<0&&t.token[m]!==","){e.push(" ");}else if(k[m]>-1){if((k[m]>-1&&t.token[m]==="{"||k[m]>-1&&t.token[m+1]==="}")&&t.lines[m]<3&&l.script.braceNewline===true){if(t.lines[m+1]<3)e.push(J(0));}e.push(J(k[m]));N=k[m];}else if(k[m]===-10){e.push(" ");if(t.lexer[m+1]!==q)N=N+1;}}else {if(d[m]===m){e.push(t.token[m]);}else {Q.end=d[m];Q.start=m;l.indentLevel=N;h=Q.beautify[t.lexer[m]](l);e.push(h.replace(/\s+$/,""));m=Q.iterator;if(k[m]===-10){e.push(" ");}else if(k[m]>-1){e.push(J(k[m]));}l.indentLevel=0;}}m=m+1;}while(m<w);Q.iterator=w-1;return e.join("")})();return u};var Ce={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeChain:{default:"inline",description:"Controls how Liquid tags contained within HTML attributed should be formatted.",type:"select",lexer:"markup",values:[{rule:"inline",description:"Liquid tag block contents are chained together"},{rule:"collapse",description:"Liquid tag block contents are split onto newlines"},{rule:"preserve",description:"Liquid tag block contents are preserved"}]},attributeValues:{default:false,description:"Controls how attribute values should be formatter",type:"select",lexer:"markup",values:[{rule:"preserve",description:"Preserves attribute values, leaving them intact."},{rule:"collapse",description:"Collapsed all space separated attributes values onto newlines"},{rule:"wrap",description:"Collapase attribute values when then exceed wrap limit"},{rule:"strip",description:"Strips newlines and extraneous whitespaces from attribute values"}]},delimiterSpacing:{default:true,description:"Whether or not delimiter characters should apply a single space at the start and end point",lexer:"markup",type:"boolean"},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadingAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},forceValue:{lexer:"style",description:"If CSS selector property values should be indented onto newlines",default:"preserve",type:"select",values:[{rule:"preserve",description:"Preserves property values, output does not augment provided structures"},{rule:"collapse",description:"Collapsed all selector property values onto newlines"},{rule:"wrap",description:"Collapase only selector property values which exceed wrap limit"}]},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},inlineReturn:{lexer:"script",default:true,type:"boolean",description:"Inlines return statements contained within `if` and `else` conditions. This rules also augments code and will reason about your structure to output the best and most readable results."},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};var Je={};Ve(Je,{format:()=>Me,language:()=>Ne,options:()=>Te,parse:()=>tt});function et(l){const a=l.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify\s+(\w+)?\s*{\s+/);const p=l.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify-ignore\b/);const n=Oe(Ce);const d=n.length;let t=0;if(p>-1&&l.source.slice(0,p).trimStart()==="")return false;if(a>-1&&(a===0||`"':`.indexOf(l.source.charAt(a-1))<0)){let C=function(){if(u.charAt(b-1)!=="\\")return false;let c=b;do{c=c-1;}while(c>0&&u.charAt(c)==="\\");return (b-c)%2===0};const w=[];const k=a;const u=l.source;const e=u.length;let b=k;let H=0;let o="";let $="";let m="";let h="";let N=[];let J=[];let T;let i;if(u.charAt(b)==="<"){i="<!--";}else if(u.charAt(b+1)==="/"){i="//";}else if(u.charAt(b+1)==="%"){T=u.indexOf("}",b+1);if(u[T-1].charCodeAt(0)===37)i=u.slice(b,T+1);}else {i="/*";}do{if(u.slice(b-9,b)==="@prettify")break;b=b+1;}while(b<e);do{if(C()===false){if(o===""){if(u.charAt(b)==='"'||u.charAt(b)==="'"||u.charAt(b)==="`"){o=u.charAt(b);if(w.length>0&&w[w.length-1].charAt(w[w.length-1].length-1)===":")H=b;}else if(/\s/.test(u.charAt(b))===false&&H===0){H=b;}else if(u.charAt(b)===","||/\s/.test(u.charAt(b))===true&&H>0){$=u.slice(H,b);if(w.length>0){if(w.length>0&&$===":"&&w[w.length-1].indexOf(":")<0){w[w.length-1]=w[w.length-1]+$;H=b;}else if(w.length>0&&w[w.length-1].charAt(w[w.length-1].length-1)===":"){w[w.length-1]=w[w.length-1]+$;H=0;}else {w.push($);H=0;}}else {w.push($);H=0;}}if(i==="<!--"&&u.slice(b-2,b+1)==="-->")break;if(i==="//"&&u.charAt(b)==="\n")break;if(i==="/*"&&u.slice(b-1,b+1)==="*/")break;if(i.charCodeAt(1)===37&&u.slice(b-1,b+1)==="%"&&u.indexOf("endcomment",u.indexOf("{%",T))>0)break}else if(u.charAt(b)===o&&o!=="${"){o="";}else if(o==="`"&&u.slice(b,b+2)==="${"){o="${";}else if(o==="${"&&u.charAt(b)==="}"){o="`";}}b=b+1;}while(b<e);if(H>0){o=u.slice(H,b+1);if(i==="<!--")o=o.replace(/\s*-+>$/,"");else if(i==="//")o=o.replace(/\s+$/,"");else o=o.replace(/\s*\u002a\/$/,"");w.push(o);}b=w.length;if(b>0){do{b=b-1;if(w[b].indexOf(":")>0){J=[w[b].slice(0,w[b].indexOf(":")),w[b].slice(w[b].indexOf(":")+1)];}else if(Ce[w[b]]!==void 0&&Ce[w[b]].type==="boolean"){l.options[w[b]]=true;}if(J.length===2&&Ce[J[0]]!==void 0){if(J[1].charAt(J[1].length-1)===J[1].charAt(0)&&(J[1].charAt(0)==='"'||J[1].charAt(0)==="'"||J[1].charAt(0)==="`")){J[1]=J[1].slice(1,J[1].length-1);}if(Ce[J[0]].type==="number"&&isNaN(Number(J[1]))===false){l.options[J[0]]=Number(J[1]);}else if(Ce[J[0]].type==="boolean"){l.options[J[0]]=J[1]==="true";}else {if(Ce[J[0]].values!==void 0){N=Oe(Ce[J[0]].values);H=N.length;do{H=H-1;if(N[H]===J[1]){l.options[J[0]]=J[1];break}}while(H>0)}else {if(J[0]==="language"){m=J[1];}else if(J[0]==="lexer"){h=J[1];}l.options[J[0]]=J[1];}}}}while(b>0);if(h===""&&m!=="")h=We(m);}}if(l.options.lexer==="script"){if(l.options.script.styleGuide!==void 0){switch(l.options.script.styleGuide){case"airbnb":l.options.wrap=80;l.options.indentChar=" ";l.options.indentSize=2;l.options.preserveLine=1;l.options.script.correct=true;l.options.script.quoteConvert="single";l.options.script.variableList="each";l.options.script.endComma="always";l.options.script.bracePadding=true;break;case"crockford":l.options.indentChar=" ";l.options.indentSize=4;l.options.script.correct=true;l.options.script.bracePadding=false;l.options.script.elseNewline=false;l.options.script.endComma="never";l.options.script.noCaseIndent=true;l.options.script.functionSpace=true;l.options.script.variableList="each";l.options.script.vertical=false;break;case"google":l.options.wrap=-1;l.options.indentChar=" ";l.options.indentSize=4;l.options.preserveLine=1;l.options.script.correct=true;l.options.script.quoteConvert="single";l.options.script.vertical=false;break;case"jquery":l.options.wrap=80;l.options.indentChar="	";l.options.indentSize=1;l.options.script.correct=true;l.options.script.bracePadding=true;l.options.script.quoteConvert="double";l.options.script.variableList="each";break;case"jslint":l.options.indentChar=" ";l.options.indentSize=4;l.options.script.correct=true;l.options.script.bracePadding=false;l.options.script.elseNewline=false;l.options.script.endComma="never";l.options.script.noCaseIndent=true;l.options.script.functionSpace=true;l.options.script.variableList="each";l.options.script.vertical=false;break;case"standard":l.options.wrap=0;l.options.indentChar=" ";l.options.indentSize=2;l.options.endNewline=false;l.options.preserveLine=1;l.options.script.correct=true;l.options.script.noSemicolon=true;l.options.script.endComma="never";l.options.script.braceNewline=false;l.options.script.bracePadding=false;l.options.script.braceAllman=false;l.options.script.quoteConvert="single";l.options.script.functionSpace=true;l.options.script.ternaryLine=false;l.options.script.variableList="each";l.options.script.vertical=false;break;case"yandex":l.options.script.correct=true;l.options.script.bracePadding=false;l.options.script.quoteConvert="single";l.options.script.variableList="each";l.options.script.vertical=false;break}}if(l.options.script.braceStyle!==void 0){switch(l.options.script.braceStyle){case"collapse":l.options.script.braceNewline=false;l.options.script.bracePadding=false;l.options.script.braceAllman=false;l.options.script.objectIndent="indent";l.options.script.neverFlatten=true;break;case"collapse-preserve-inline":l.options.script.braceNewline=false;l.options.script.bracePadding=true;l.options.script.braceAllman=false;l.options.script.objectIndent="indent";l.options.script.neverFlatten=false;break;case"expand":l.options.script.braceNewline=false;l.options.script.bracePadding=false;l.options.script.braceAllman=true;l.options.script.objectIndent="indent";l.options.script.neverFlatten=true;break}}if(l.options.language==="json")l.options.wrap=0;}do{if(l.options[Oe[t]]!==void 0){Ce[Oe[t]].lexer.length;}t=t+1;}while(t<d)}function at(l){const a=l.options.language;const p=l.options.lexer;s.count=-1;s.linesSpace=0;s.lineNumber=1;s.data.begin=[];s.data.ender=[];s.data.lexer=[];s.data.lines=[];s.data.stack=[];s.data.token=[];s.data.types=[];s.datanames=["begin","ender","lexer","lines","stack","token","types"];s.structure=[["global",-1]];s.structure.pop=function E(){const w=s.structure.length-1;const k=s.structure[w];if(w>0)s.structure.splice(w,1);return k};if(l.options.language==="auto"||l.options.lexer==="auto"){const E=Ne(l.source);if(l.options.language==="auto")l.options.language=E.language;if(l.options.lexer==="auto")l.options.lexer=E.lexer;}if(typeof l.lexers[l.options.lexer]==="function"){s.references=[[]];s.error="";for(const E of Oe(l.lexers)){if(l.options.language==="json"){l.options.json=l.options.json||ie(null);}else {l.options[E]=l.options[E]||ie(null);}}l.lexers[l.options.lexer](`${l.source} `);}else {s.error=`Specified lexer, ${l.options.lexer}, is not a function.`;}let n=0;let d=0;const t=Oe(s.data);const q=t.length;do{d=n+1;do{if(s.data[t[n]].length!==s.data[t[d]].length){s.error=`"${t[n]}" array is of different length than "${t[d]}"`;break}d=d+1;}while(d<q);n=n+1;}while(n<q-1);if(s.data.begin.length>0){if(l.options.lexer==="script"&&l.options[l.options.lexer].objectSort){s.sortCorrection(0,s.count+1);}else if(l.options.lexer==="style"&&l.options[l.options.lexer].sortProperties){s.sortCorrection(0,s.count+1);}}l.options.language=a;l.options.lexer=p;return s.data}function Ze(l){const a=Date.now();const p=l.mode;const n=l.options.crlf===true?"\r\n":"\n";let d="";if(l.source.trimStart()===""){const E=new RegExp(`\\n{${l.options.preserveLine},}`);d=l.source;d=l.source.replace(E,"\n\n");d=l.options.endNewline===true?d.replace(/\s*$/,n):d.replace(/\s+$/,"");l.stats.chars=d.length;l.stats.language=l.options.languageName;l.stats.size=Ee(d.length);l.stats.time=(Date.now()-a).toFixed(1);return d}if(l.options.language==="text"){l.options.language="auto";}if(l.options.lexer==="text"){l.options.lexer="auto";}if(l.options.language==="text"||l.options.lexer==="text"){l.options.language="text";l.options.languageName="Plain Text";l.options.lexer="text";}else if(l.options.language==="auto"&&l.options.lexer==="auto"){const E=Ne(l.source);if(l.options.lexer==="auto"){l.options.lexer=E.lexer;}if(l.options.language==="auto"){l.options.language=E.language;l.options.languageName=E.languageName;}}else {l.options.lexer=We(l.options.language);}l.stats.language=l.options.languageName;const t=et(l);if(t===false){l.stats.time=-1;l.stats.chars=l.source.length;l.stats.size=Ee(l.stats.chars);return l.source}l.parsed=at(l);if(p==="parse"){l.stats.time=(Date.now()-a).toFixed(1);l.stats.chars=l.source.length;l.stats.size=Ee(l.stats.chars);return l.parsed}d=l.beautify[l.options.lexer](l.options);d=l.options.endNewline===true?d.replace(/\s*$/,n):d.replace(/\s+$/,"");const q=d.length;l.stats.chars=q;l.stats.size=Ee(q);l.stats.time=(Date.now()-a).toFixed(1);l.end=0;l.start=0;return d}Me.before=l=>Q.hooks.before.push(l);Me.after=l=>Q.hooks.after.push(l);Te.listen=l=>Q.hooks.rules.push(l);Pe(Me,"stats",{get(){return Q.stats}});Pe(tt,"stats",{get(){return Q.stats}});Pe(Te,"rules",{get(){return Q.options}});function Me(l,a){Q.source=l;if(typeof a==="object")Q.options=Te(a);if(Q.hooks.before.length>0){for(const n of Q.hooks.before){if(n(Q.options,l)===false)return l}}const p=Ze(Q);if(Q.hooks.after.length>0){for(const n of Q.hooks.after){if(n.call(Q.parsed,p,Q.options)===false)return l}}return new Promise((n,d)=>{if(s.error.length)return d(s.error);return n(p)})}function Te(l){var a,p;for(const n of Oe(l)){if(((p=(a=Ce)==null?void 0:a[n])==null?void 0:p.lexer)==="auto"){Q.options[n]=l[n];}else if(n==="markup"){Le(Q.options.markup,l.markup);}else if(n==="script"){Le(Q.options.script,l.script);}else if(n==="style"){Le(Q.options.style,l.style);}else if(n==="json"){Le(Q.options.json,l.json);}else if(n==="grammar"){re.extend(l.grammar);}else if(n in Q.options){Q.options[n]=l[n];}}if(Q.hooks.rules.length>0){for(const n of Q.hooks.rules)n(Q.options);}return Q.options}function tt(l,a){Q.source=l;Q.mode="parse";if(typeof a==="object")Q.options=Te(a);const p=Ze(Q);return new Promise((n,d)=>{if(s.error.length)return d(s.error);return n(p)})}
