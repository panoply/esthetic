'use strict';

var ft=Object.defineProperty;var pt=(o,u)=>{for(var h in u)ft(o,h,{get:u[h],enumerable:true});};var M=function(){const o=typeof process!=="undefined"&&process.versions!=null?"node":"browser";let u="";return {env:o,mode:"beautify",end:0,iterator:0,start:0,scopes:[],beautify:{},lexers:{},get source(){return o==="node"&&Buffer.isBuffer(u)?u.toString():u},set source(h){u=o==="node"?Buffer.isBuffer(h)?h:Buffer.from(h):h;},data:{begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]},hooks:{before:[],language:[],rules:[],after:[]},stats:{chars:-1,time:-1,size:"",language:""},options:{lexer:"auto",language:"text",languageName:"Plain Text",mode:"beautify",indentLevel:0,crlf:false,commentIndent:true,endNewline:false,indentChar:" ",indentSize:2,preserveComment:false,preserveLine:2,wrap:0,grammar:{},markup:{correct:false,commentNewline:false,delimiterTrims:"preserve",delimiterSpacing:false,attributeCasing:"preserve",attributeSort:false,attributeSortList:[],forceAttribute:false,forceLeadAttribute:false,forceIndent:false,preserveCaptures:false,preserveText:false,preserveAttributes:false,selfCloseSpace:false,quoteConvert:"none",lineBreakOperator:"default",ignoreJson:false,ignoreStyles:false,ignoreScripts:false},style:{correct:false,compressCSS:false,classPadding:false,noLeadZero:false,sortSelectors:false,sortProperties:false,quoteConvert:"none",forceValue:"preserve"},script:{correct:false,braceNewline:false,bracePadding:false,braceStyle:"none",braceAllman:false,commentNewline:false,caseSpace:false,elseNewline:false,endComma:"never",arrayFormat:"default",objectSort:false,objectIndent:"default",functionNameSpace:false,functionSpace:false,styleGuide:"none",ternaryLine:false,methodChain:4,neverFlatten:false,noCaseIndent:false,noSemicolon:false,quoteConvert:"none",variableList:"none",vertical:false},json:{arrayFormat:"default",braceAllman:false,bracePadding:false,objectIndent:"default",objectSort:false}}}}();var Oe=Object.assign;var Pe=Object.create;var $e=Object.keys;var Fe=Object.defineProperty;var ye=Array.isArray;var S="";var K=" ";var ce="\n";var me;var ae=new(me=class{constructor(){this.script={};this.style={};this.html={embed:{}};this.liquid={embed:{}};this.script.keywords=Ae(me.script.keywords);this.style.units=Ae(me.style.units);this.style.atrules=Ae(me.style.atrules);this.style.pseudoFunctions=Ae(me.style.pseudo.functions);this.style.pseudoClasses=Ae(me.style.pseudo.classes);this.style.pseudoElements=Ae(me.style.pseudo.elements);this.html.tags=Ae(me.html.tags);this.html.voids=Ae(me.html.voids);this.liquid.tags=Ae(me.liquid.tags);this.liquid.else=Ae(me.liquid.else);this.liquid.singletons=Ae(me.liquid.singletons);this.defaults();}defaults(){for(const u in me.html.embedded){this.html.embed[u]={};for(const{language:h,attribute:f=null}of me.html.embedded[u]){this.html.embed[u].language=h;if(typeof f==="object"){for(const i in f){this.html.embed[u].attribute=i;if(ye(f[i])){this.html.embed[u].value=x=>new Set(f[i]).has(x);}else {this.html.embed[u].value=x=>new RegExp(f[i]).test(x);}}}else {this.html.embed[u].attribute=null;}}}for(const u in me.liquid.embedded){this.liquid.embed[u]={end:h=>new RegExp(`^{%-?\\s*end${u}`).test(h)};for(const{language:h,argument:f}of me.liquid.embedded[u]){this.liquid.embed[u].language=h;if(f){if(ye(f)){this.liquid.embed[u].attribute=i=>new Set(f).has(i);}else {this.liquid.embed[u].attribute=i=>new RegExp(f).test(i);}}else {this.liquid.embed[u].attribute=null;}}}}embed(u,h){return h in this[u].embed}extend(u){for(const h in u){if(h==="html"){if("tags"in u[h]&&ye(u[h].tags)){for(const f of u[h].tags){if(!this.html.tags.has(f)){me.html.tags.push(f);this.html.tags.add(f);}}}if("voids"in u[h]&&ye(u[h].voids)){for(const f of u[h].voids){if(!this.html.voids.has(f)){me.html.voids.push(f);this.html.voids.add(f);}}}if("embedded"in u[h]);}if(h==="liquid"){if("tags"in u[h]&&ye(u[h].tags)){for(const f of u[h].tags){if(!this.liquid.tags.has(f)){me.liquid.tags.push(f);this.liquid.tags.add(f);}}}if("else"in u[h]&&ye(u[h].else)){for(const f of u[h].else){if(!this.liquid.else.has(f)){me.liquid.else.push(f);this.liquid.else.add(f);}}}if("singletons"in u[h]&&ye(u[h].singletons)){for(const f of u[h].singletons){if(!this.liquid.singletons.has(f)){me.liquid.singletons.push(f);this.liquid.singletons.add(f);}}}if("embedded"in u[h]&&typeof u[h].embedded==="object"){for(const f in u[h].embedded){if(!(f in this.liquid.embed)){this.liquid.embed[f]={end:i=>new RegExp(`{%-?\\s*end${f}`).test(i)};}for(const{language:i,argument:x}of u[h].embedded[f]){if(this.liquid.embed[f].language!==i){this.liquid.embed[f].language=i;}if(x){if(this.liquid.embed[f].attribute===null){if(ye(x)){this.liquid.embed[f].attribute=e=>Ae(x).has(e);}else {this.liquid.embed[f].attribute=e=>new RegExp(x).test(e);}}else {const e=[];for(const _ of me.liquid.embedded[f]){if(ye(_.argument)){for(const l of _.argument){if(x!==l)e.push(x);else e.push(l);}this.liquid.embed[f].attribute=l=>Ae(e).has(l);}else {if(_.argument!==x){this.liquid.embed[f].attribute=l=>new RegExp(x).test(l);}}}}}}}}}if(h==="style"){if("units"in u[h]&&ye(u[h].units)){for(const f of u[h].units){if(!this.style.units.has(f)){me.style.units.push(f);this.style.units.add(f);}}}if("atrules"in u[h]&&ye(u[h].atrules)){for(const f of u[h].atrules){if(!this.style.atrules.has(f)){me.style.atrules.push(f);this.style.atrules.add(f);}}}if("pseudo"in u[h]){if("classes"in u[h].pseudo&&ye(u[h].pseudo.classes)){for(const f of u[h].pseudo.classes){if(!this.style.pseudoClasses.has(f)){me.style.pseudo.classes.push(f);this.style.pseudoClasses.add(f);}}}if("elements"in u[h].pseudo&&ye(u[h].pseudo.elements)){for(const f of u[h].pseudo.elements){if(!this.style.pseudoElements.has(f)){me.style.pseudo.elements.push(f);this.style.pseudoElements.add(f);}}}}}if(h==="script"){if("keywords"in u[h]&&ye(u[h].keywords)){for(const f of u[h].keywords){if(!this.script.keywords.has(f)){me.script.keywords.push(f);this.script.keywords.add(f);}}}}}}},me.script={keywords:["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]},me.html={embedded:{script:[{language:"javascript"},{language:"json",attribute:{type:["application/json","application/ld+json"]}},{language:"jsx",attribute:{type:["text/jsx","application/jsx"]}}],style:[{language:"css"}]},voids:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","path","circle","source","track","wbr"],tags:["body","colgroup","dd","dt","head","html","li","option","tbody","td","tfoot","th","thead","tr"]},me.liquid={embedded:{schema:[{language:"json"}],style:[{language:"css"}],stylesheet:[{language:"css"},{language:"scss",argument:/\s*['"]scss['"]/}],javascript:[{language:"javascript"}]},tags:["form","paginate","capture","case","comment","for","if","raw","tablerow","unless","schema","style","script","stylesheet","javascript"],else:["else","elsif","when"],singletons:["include","layout","section","assign","liquid","break","continue","cycle","decrement","echo","increment","render"]},me.style={units:["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"],atrules:["charset","color-profile","counter-style","font-face","font-feature-values","import","keyframes","layer","media","namespace","page","supports"],pseudo:{classes:["active","any-link","checked","default","defined","disabled","empty","enabled","first","first-child","first-of-type","fullscreen","focus","focus-visible","focus-within","host","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","modal","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","picture-in-picture","placeholder-shown","paused","playing","read-only","read-write","required","right","root","scope","target","valid","visited","where"],elements:["after","backdrop","before","cue","cue-region","first-letter","first-line","file-selector-button","marker","part","placeholder","selection","slotted"],functions:["after","before","first-letter","first-line","host","host-context","part","slotted","lang","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","where"]}},me);function Ae(o){return new Set(o)}function ve(o,u=K){if(o===0)return u;let h=S;let f=1;do{h+=u;}while(f++<o);return h}function c(o,u){if(!o)return false;return o.charCodeAt(0)===u}function Z(o,u){return c(o,u)===false}function he(o){return /\s/.test(o)}function et(o){const u=1024;const h=1048576;const f=1073741824;if(o<u)return o+" B";else if(o<h)return (o/u).toFixed(1)+" KB";else if(o<f)return (o/h).toFixed(1)+" MB";else return (o/f).toFixed(1)+" GB"}function tt(o){return `\\${o}`}function ze(o){const u=o.indexOf("{");const h=c(o[u+2],45)?o.slice(u+3).trimStart():o.slice(u+2).trimStart();return h.slice(0,h.search(/\s/))}function nt(o){const u=o.indexOf("{");if(c(o[u+1],37)){let h=c(o[u+2],45)?o.slice(u+3).trimStart():o.slice(u+2).trimStart();h=h.slice(0,h.search(/\s/));if(h.startsWith("end"))return false;return ae.liquid.tags.has(h)}return false}function Ie(o){let u=o;if(Array.isArray(o))u=o.join("");const h=u.indexOf("{");if(c(u[h+1],37)){if(c(u[h+2],45))return u.slice(h+3).trimStart().startsWith("end");return u.slice(h+2).trimStart().startsWith("end")}return false}function Be(o,u){if(u===1){return c(o[0],123)&&(c(o[1],37)||c(o[1],123))}else if(u===2){return c(o[o.length-1],125)&&(c(o[o.length-2],37)||c(o[o.length-2],125))}else if(u===3){return c(o[0],123)&&(c(o[1],37)||c(o[1],123))&&(c(o[o.length-1],125)&&(c(o[o.length-2],37)||c(o[o.length-2],123)))}else if(u===4){return /{[{%}]/.test(o)}else if(u===5){return /{[{%]/.test(o)&&/[%}]}/.test(o)}}function Ge(o){let u=0;const h=o.length;const f=o;const i=()=>{let e=0;const _=f.length;if(e<_){do{if(ye(f[e])===true)f[e]=Ge.apply(this,f[e]);e=e+1;}while(e<_)}};const x=e=>{let _=u;let l=0;let k=0;let y=0;let d=[];let t=f[u];let w="";const F=typeof t;if(_<h){do{w=typeof f[_];if(f[_]<t||w<F){t=f[_];d=[_];}else if(f[_]===t){d.push(_);}_=_+1;}while(_<h)}k=d.length;_=u;l=k+u;if(_<l){do{f[d[y]]=f[_];f[_]=t;y=y+1;_=_+1;}while(_<l)}u=u+k;if(u<h){x("");}else {if(this.recursive===true)i();o=f;}return e};x("");return o}function Xe(o){let u=0;const h=o.length;const f=o;const i=()=>{let e=0;const _=f.length;if(e<_){do{if(ye(f[e]))f[e]=Xe.apply(this,f[e]);e=e+1;}while(e<_)}};const x=e=>{let _=u;let l=0;let k=0;let y=0;let d=f[u];let t=[];let w="";const F=typeof d;if(_<h){do{w=typeof f[_];if(f[_]>d||w>F){d=f[_];t=[_];}else if(f[_]===d){t.push(_);}_=_+1;}while(_<h)}k=t.length;_=u;l=k+u;if(_<l){do{f[t[y]]=f[_];f[_]=d;y=y+1;_=_+1;}while(_<l)}u=u+k;if(u<h){x("");}else {if(this.recursive===true)i();o=f;}return e};x("");return o}function Ve(o){let u=o;const h=[o[0]];const f=()=>{let x=0;const e=u.length;if(x<e){do{if(ye(u[x]))u[x]=Ve.apply(this,u[x]);x=x+1;}while(x<e)}};const i=x=>{let e=0;const _=[];const l=u.length;if(e<l){do{if(u[e]!==x)_.push(u[e]);e=e+1;}while(e<l)}u=_;if(_.length>0){h.push(_[0]);i(_[0]);}else {if(this.recursive===true)f();o=u;}};i(this.array[0]);return o}var Ee=/^\s+/;var Re=/\s+$/;var Le=/^[\t\v\f\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/;var Ce=/[\t\v\f \u00a0\u2000-\u200b\u2028-\u2029\u3000]+$/;var st=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|#|<!-{2})\s*@prettify\s+/;var it=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|#|<!-{2})\s*@prettify-ignore\b/;var rt=/{%-?\s*|\s*-?%}/g;var lt=/(\/|\\|\||\*|\[|\]|\{|\})/g;var n=new class qt{constructor(){this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.data={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};this.structure=[["global",-1]];this.references=[[]];this.count=-1;this.lineNumber=1;this.linesSpace=0;this.error=S;}get current(){const{begin:u,ender:h,lexer:f,lines:i,stack:x,token:e,types:_}=this.data;return {begin:u[u.length-1],ender:h[h.length-1],lexer:f[f.length-1],lines:i[i.length-1],stack:x[x.length-1],token:e[u.length-1],types:_[u.length-1]}}init(){this.error=S;this.count=-1;this.linesSpace=0;this.lineNumber=1;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const u=this.structure.length-1;const h=this.structure[u];if(u>0)this.structure.splice(u,1);return h};return this.data}concat(u,h){for(const f of this.datanames)u[f]=u[f].concat(h[f]);if(u===this.data)this.count=u.token.length-1;}objectSort(u){let h=this.count;let f=this.structure[this.structure.length-1][1];let i=0;let x=0;let e=0;let _=0;let l=0;let k=0;let y=0;let d=true;const t=[];const w=f;const F=this.structure[this.structure.length-1][0];const a=this.linesSpace;const B=this.count;const R=M.options.language==="json";const b=u.lexer[h]==="style"&&F==="global";const E=u.lexer[h]==="style";const U=E===true?[";","separator"]:[",","separator"];const D=b===true?"global":F;const r={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};const A=(g,O)=>{let m=g[0];let $=O[0];if(u.types[m]==="comment"){do{m=m+1;}while(m<B&&u.types[m]==="comment");if(u.token[m]===void 0)return 1}if(u.types[$]==="comment"){do{$=$+1;}while($<B&&u.types[$]==="comment");if(u.token[$]===void 0)return 1}if(E===true){if(u.token[m].indexOf("@import")===0||u.token[$].indexOf("@import")===0){return m<$?-1:1}if(u.types[m]!==u.types[$]){if(u.types[m]==="function")return 1;if(u.types[m]==="variable")return -1;if(u.types[m]==="selector")return 1;if(u.types[m]==="property"&&u.types[$]!=="variable")return -1;if(u.types[m]==="mixin"&&u.types[$]!=="property"&&u.types[$]!=="variable")return -1}}if(u.token[m].toLowerCase()>u.token[$].toLowerCase())return 1;return -1};_=h;do{if(u.begin[h]===f||b===true&&h<_&&c(u.token[h],125)&&u.begin[u.begin[h]]===-1){if(u.types[h].indexOf("template")>-1)return;if(u.token[h]===U[0]||E===true&&c(u.token[h],125)&&Z(u.token[h+1],59)){d=true;l=h+1;}else if(E===true&&c(u.token[h-1],125)){d=true;l=h;}if(l===0&&u.types[0]==="comment"){do{l=l+1;}while(u.types[l]==="comment")}else if(u.types[l]==="comment"&&u.lines[l]<2){l=l+1;}if(d===true&&(u.token[h]===U[0]||E===true&&c(u.token[h-1],125))&&l<=_){if(E===true&&"};".indexOf(u.token[_])<0){_=_+1;}else if(E===false&&Z(u.token[_],44)){_=_+1;}t.push([l,_]);if(E===true&&c(u.token[l],125)){_=l;}else {_=l-1;}}}h=h-1;}while(h>f);if(t.length>0&&t[t.length-1][0]>h+1){i=t[t.length-1][0]-1;if(u.types[i]==="comment"&&u.lines[i]>1){do{i=i-1;}while(i>0&&u.types[i]==="comment");t[t.length-1][0]=i+1;}if(u.types[h+1]==="comment"&&h===-1){do{h=h+1;}while(u.types[h+1]==="comment")}t.push([h+1,i]);}if(t.length>1){if(R===true||E===true||c(u.token[h-1],61)||c(u.token[h-1],58)||c(u.token[h-1],40)||c(u.token[h-1],91)||c(u.token[h-1],44)||u.types[h-1]==="word"||h===0){t.sort(A);y=t.length;d=false;f=0;do{k=t[f][1];if(E===true){e=k;if(u.types[e]==="comment")e=e-1;if(c(u.token[e],125)){k=k+1;U[0]="}";U[1]="end";}else {U[0]=";";U[1]="separator";}}i=t[f][0];if(E===true&&u.types[k-1]!=="end"&&u.types[k]==="comment"&&u.types[k+1]!=="comment"&&f<y-1){k=k+1;}if(i<k){do{if(E===false&&f===y-1&&i===k-2&&c(u.token[i],44)&&u.lexer[i]==="script"&&u.types[i+1]==="comment"){x=x+1;}else {this.push(r,{begin:u.begin[i],ender:u.ender[i],lexer:u.lexer[i],lines:u.lines[i],stack:u.stack[i],token:u.token[i],types:u.types[i]});x=x+1;}if(u.token[i]===U[0]&&(E===true||u.begin[i]===u.begin[t[f][0]])){d=true;}else if(u.token[i]!==U[0]&&u.types[i]!=="comment"){d=false;}i=i+1;}while(i<k)}if(d===false&&r.token[r.token.length-1]!=="x;"&&(E===true||f<y-1)){i=r.types.length-1;if(r.types[i]==="comment"){do{i=i-1;}while(i>0&&r.types[i]==="comment")}i=i+1;this.splice({data:r,howmany:0,index:i,record:{begin:w,stack:D,ender:this.count,lexer:r.lexer[i-1],lines:0,token:U[0],types:U[1]}});x=x+1;}f=f+1;}while(f<y);this.splice({data:u,howmany:x,index:h+1});this.linesSpace=a;this.concat(u,r);}}}pop(u){const h={begin:u.begin.pop(),ender:u.ender.pop(),lexer:u.lexer.pop(),lines:u.lines.pop(),stack:u.stack.pop(),token:u.token.pop(),types:u.types.pop()};if(u===this.data)this.count=this.count-1;return h}push(u,h,f=S){const i=()=>{let x=this.count;const e=u.begin[x];if(u.lexer[x]==="style"&&M.options.style.sortProperties===true||u.lexer[x]==="script"&&(M.options.script.objectSort===true||M.options.json.objectSort===true)){return}do{if(u.begin[x]===e||u.begin[u.begin[x]]===e&&u.types[x].indexOf("attribute")>-1&&u.types[x].indexOf("attribute_end")<0){u.ender[x]=this.count;}else {x=u.begin[x];}x=x-1;}while(x>e);if(x>-1)u.ender[x]=this.count;};for(const x of this.datanames)u[x].push(h[x]);if(u===this.data){this.count=this.count+1;this.linesSpace=0;if(h.lexer!=="style"){if(f.replace(/(\{|\}|@|<|>|%|#|)/g,S)===S){f=h.types==="else"?"else":f=h.token;}}if(h.types==="start"||h.types.indexOf("_start")>0){this.structure.push([f,this.count]);}else if(h.types==="end"||h.types.indexOf("_end")>0){let x=0;if(this.structure.length>2&&(u.types[this.structure[this.structure.length-1][1]]==="else"||u.types[this.structure[this.structure.length-1][1]].indexOf("_else")>0)&&(u.types[this.structure[this.structure.length-2][1]]==="start"||u.types[this.structure[this.structure.length-2][1]].indexOf("_start")>0)&&(u.types[this.structure[this.structure.length-2][1]+1]==="else"||u.types[this.structure[this.structure.length-2][1]+1].indexOf("_else")>0)){this.structure.pop();u.begin[this.count]=this.structure[this.structure.length-1][1];u.stack[this.count]=this.structure[this.structure.length-1][0];u.ender[this.count-1]=this.count;x=u.ender[u.begin[this.count]+1];}i();if(x>0)u.ender[u.begin[this.count]+1]=x;this.structure.pop();}else if(h.types==="else"||h.types.indexOf("_else")>0){if(f===S)f="else";if(this.count>0&&(u.types[this.count-1]==="start"||u.types[this.count-1].indexOf("_start")>0)){this.structure.push([f,this.count]);}else {i();this.structure[this.structure.length-1]=f===S?["else",this.count]:[f,this.count];}}}}safeSort(u,h,f){if(ye(u)===false)return u;if(h==="normal")return Ve.call({array:u,recursive:f},u);if(h==="descend")return Xe.call({recursive:f},u);return Ge.call({recursive:f},u)}sortCorrection(u,h){let f=u;let i=-1;const x=this.data;const e=[];const _=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(f>0&&x.types[f].indexOf("attribute")>-1&&x.types[f].indexOf("end")<0&&x.types[f-1].indexOf("start")<0&&x.types[f-1].indexOf("attribute")<0&&x.lexer[f]==="markup"){_.push(f-1);}if(f>0&&x.types[f-1].indexOf("attribute")>-1&&x.types[f].indexOf("attribute")<0&&x.lexer[_[_.length-1]]==="markup"&&x.types[_[_.length-1]].indexOf("start")<0){_.pop();}if(x.begin[f]!==_[_.length-1]){x.begin[f]=_.length>0?_[_.length-1]:-1;}if(x.types[f].indexOf("else")>-1){if(_.length>0){_[_.length-1]=f;}else {_.push(f);}}if(x.types[f].indexOf("end")>-1)_.pop();if(x.types[f].indexOf("start")>-1)_.push(f);f=f+1;}while(f<h);f=h;do{f=f-1;if(x.types[f].indexOf("end")>-1){e.push(f);i=i+1;}x.ender[f]=i>-1?e[i]:-1;if(x.types[f].indexOf("start")>-1){e.pop();i=i-1;}}while(f>u)}spacer(u){this.linesSpace=1;do{if(u.array[u.index]===ce){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(he(u.array[u.index+1])===false)break;u.index=u.index+1;}while(u.index<u.end);return u.index}splice(u){const{data:h}=this;const f=[h.begin[this.count],h.token[this.count]];if(u.record!==void 0&&u.record.token!==S){for(const i of this.datanames){u.data[i].splice(u.index,u.howmany,u.record[i]);}if(u.data===h){this.count=this.count-u.howmany+1;if(f[0]!==h.begin[this.count]||f[1]!==h.token[this.count]){this.linesSpace=0;}}return}for(const i of this.datanames){u.data[i].splice(u.index,u.howmany);}if(u.data===h){this.count=this.count-u.howmany;this.linesSpace=0;}}wrapCommentBlock(u){const{wrap:h,crlf:f,preserveComment:i}=M.options;const x=[];const e=[];const _=f===true?"\r\n":ce;let l=u.start;let k=0;let y=0;let d=0;let t=0;let w=[];let F=S;let a=S;let B=false;let R=false;let b=false;let E=false;let U=S;let D=u.terminator.length-1;let r=u.terminator.charAt(D);let A=0;let g;const O=u.opening.replace(lt,tt);const m=new RegExp(`^(${O}\\s*@prettify-ignore-start)`);const $=new RegExp(`(${O}\\s*)`);const L=c(u.opening[0],123)&&c(u.opening[1],37);if(L){const te="\\s*"+u.terminator.replace(rt,V=>{return V.charCodeAt(0)===123?"{%-?\\s*":"\\s*-?%}"})+"$";g=new RegExp(te);}const P=()=>{if(/^\s+$/.test(w[k+1])||w[k+1]===S){do{k=k+1;}while(k<t&&(/^\s+$/.test(w[k+1])||w[k+1]===S))}if(k<t-1)e.push(S);};do{x.push(u.chars[l]);if(u.chars[l]===ce)this.lineNumber=this.lineNumber+1;if(u.chars[l]===r&&u.chars.slice(l-D,l+1).join(S)===u.terminator)break;l=l+1;}while(l<u.end);U=x.join(S);if(m.test(U)===true){let te=ce;l=l+1;do{x.push(u.chars[l]);if(x.slice(x.length-20).join(S)==="@prettify-ignore-end"){if(L){const V=u.chars.indexOf("{",l);if(c(u.chars[V+1],37)){const z=u.chars.slice(V,u.chars.indexOf("}",V+1)+1).join(S);if(g.test(z))u.terminator=z;}}l=l+1;break}l=l+1;}while(l<u.end);k=l;D=u.opening.length-1;r=u.opening.charAt(D);do{if(u.opening==="/*"&&c(u.chars[k-1],47)&&(c(u.chars[k],42)||c(u.chars[k],47)))break;if(u.opening!=="/*"&&u.chars[k]===r&&u.chars.slice(k-D,k+1).join(S)===u.opening)break;k=k-1;}while(k>u.start);if(u.opening==="/*"&&c(u.chars[k],42)){te="*/";}else if(u.opening!=="/*"){te=u.terminator;}D=te.length-1;r=te.charAt(D);if(te!==ce||u.chars[l]!==ce){do{x.push(u.chars[l]);if(te===ce&&u.chars[l+1]===ce)break;if(u.chars[l]===r&&u.chars.slice(l-D,l+1).join(S)===te)break;l=l+1;}while(l<u.end)}if(u.chars[l]===ce)l=l-1;U=x.join(S).replace(Ce,S);return [U,l]}if(i===true||h<1||l===u.end||U.length<=h&&U.indexOf(ce)<0||u.opening==="/*"&&U.indexOf(ce)>0&&U.replace(ce,S).indexOf(ce)>0&&/\n(?!(\s*\*))/.test(U)===false){return [U,l]}k=u.start;if(k>0&&u.chars[k-1]!==ce&&he(u.chars[k-1])){do{k=k-1;}while(k>0&&u.chars[k-1]!==ce&&he(u.chars[k-1]))}F=u.chars.slice(k,u.start).join(S);const T=new RegExp(ce+F,"g");w=U.replace(/\r\n/g,ce).replace(T,ce).split(ce);t=w.length;w[0]=w[0].replace($,S);w[t-1]=w[t-1].replace(g,S);if(t<2)w=w[0].split(K);if(w[0]===S){w[0]=u.opening;}else {w.splice(0,0,u.opening);}t=w.length;k=0;do{a=k<t-1?w[k+1].replace(Le,S):S;if(/^\s+$/.test(w[k])===true||w[k]===S){P();}else if(w[k].slice(0,4)==="    "){e.push(w[k]);}else if(w[k].replace(Le,S).length>h&&w[k].replace(Le,S).indexOf(K)>h){w[k]=w[k].replace(Le,S);y=w[k].indexOf(K);e.push(w[k].slice(0,y));w[k]=w[k].slice(y+1);k=k-1;}else {w[k]=u.opening==="/*"&&w[k].indexOf("/*")!==0?`   ${w[k].replace(Le,S).replace(Ce,S).replace(/\s+/g,K)}`:`${w[k].replace(Le,S).replace(Ce,S).replace(/\s+/g,K)}`;A=k<1?h-(u.opening.length+1):h;y=w[k].length;d=w[k].replace(Le,S).indexOf(K);if(y>A&&d>0&&d<A){y=A;do{y=y-1;if(he(w[k].charAt(y))&&y<=h)break}while(y>0);if(w[k].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test(w[k])===true&&/^\s*(\*|-)\s/.test(w[k+1])===false){w.splice(k+1,0,"* ");}if(w[k].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test(w[k])===true&&/^\s*\d+\.\s/.test(w[k+1])===false){w.splice(k+1,0,"1. ");}if(y<4){e.push(w[k]);E=true;}else if(k===t-1){e.push(w[k].slice(0,y));w[k]=w[k].slice(y+1);E=true;k=k-1;}else if(/^\s+$/.test(w[k+1])===true||w[k+1]===S){e.push(w[k].slice(0,y));w[k]=w[k].slice(y+1);B=true;k=k-1;}else if(w[k+1].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test(w[k+1])){e.push(w[k].slice(0,y));w[k]=w[k].slice(y+1);R=true;k=k-1;}else if(w[k+1].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test(w[k+1])){e.push(w[k].slice(0,y));w[k]=w[k].slice(y+1);b=true;k=k-1;}else if(w[k+1].slice(0,4)==="    "){e.push(w[k].slice(0,y));w[k]=w[k].slice(y+1);E=true;k=k-1;}else if(y+a.length>h&&a.indexOf(K)<0){e.push(w[k].slice(0,y));w[k]=w[k].slice(y+1);E=true;k=k-1;}else if(w[k].replace(Le,S).indexOf(K)<h){w[k+1]=w[k].length>h?w[k].slice(y+1)+_+w[k+1]:`${w[k].slice(y+1)} ${w[k+1]}`;}if(B===false&&R===false&&b===false&&E===false){w[k]=w[k].slice(0,y);}}else if(w[k+1]!==void 0&&(w[k].length+a.indexOf(K)>h&&a.indexOf(K)>0||w[k].length+a.length>h&&a.indexOf(K)<0)){e.push(w[k]);k=k+1;}else if(w[k+1]!==void 0&&/^\s+$/.test(w[k+1])===false&&w[k+1]!==S&&w[k+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test(w[k+1])===false){w[k+1]=`${w[k]} ${w[k+1]}`;B=true;}if(E===false&&R===false&&b===false){if(B===true){B=false;}else if(/^\s*(\*|-|(\d+\.))\s*$/.test(w[k])===false){if(k<t-1&&w[k+1]!==S&&/^\s+$/.test(w[k])===false&&w[k+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test(w[k+1])===false){w[k]=`${w[k]} ${w[k+1]}`;w.splice(k+1,1);t=t-1;k=k-1;}else {if(u.opening==="/*"&&w[k].indexOf("/*")!==0){e.push(`   ${w[k].replace(Le,S).replace(Ce,S).replace(/\s+/g,K)}`);}else {e.push(`${w[k].replace(Le,S).replace(Ce,S).replace(/\s+/g,K)}`);}}}}E=false;R=false;b=false;}k=k+1;}while(k<t);if(e.length>0){if(e[e.length-1].length>h-(u.terminator.length+1)){e.push(u.terminator);}else {e[e.length-1]=`${e[e.length-1]} ${u.terminator}`;}U=e.join(_);}else {w[w.length-1]=w[w.length-1]+u.terminator;U=w.join(_);}return [U,l]}wrapCommentLine(u){let h=u.start;let f=0;let i=S;let x=[];const{wrap:e,preserveComment:_}=M.options;function l(){let y=S;do{f=f+1;if(c(u.chars[f+1],10))return}while(f<u.end&&he(u.chars[f])===true);if(u.chars[f]+u.chars[f+1]==="//"){x=[];do{x.push(u.chars[f]);f=f+1;}while(f<u.end&&u.chars[f]!==ce);y=x.join(S);if(/^\/\/ (\*|-|(\d+\.))/.test(y)===false&&y.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(y)===false){i=`${i} ${y.replace(/(^\/\/\s*)/,S).replace(Ce,S)}`;h=f-1;l();}}}const k=()=>{const y=[];const d={ender:-1,types:"comment",lexer:u.lexer,lines:this.linesSpace};if(this.count>-1){d.begin=this.structure[this.structure.length-1][1];d.stack=this.structure[this.structure.length-1][0];d.token=this.data.token[this.count];}else {d.begin=-1;d.stack="global";d.token=S;}let t=0;let w=0;i=i.replace(/\s+/g,K).replace(Ce,S);w=i.length;if(e>w)return;do{t=e;if(i.charAt(t)!==K){do{t=t-1;}while(t>0&&i.charAt(t)!==K);if(t<3){t=e;do{t=t+1;}while(t<w-1&&i.charAt(t)!==K)}}y.push(i.slice(0,t));i=`// ${i.slice(t).replace(Le,S)}`;w=i.length;}while(e<w);t=0;w=y.length;do{d.token=y[t];this.push(this.data,d,S);d.lines=2;this.linesSpace=2;t=t+1;}while(t<w)};do{x.push(u.chars[h]);h=h+1;}while(h<u.end&&u.chars[h]!==ce);if(h===u.end){u.chars.push(ce);}else {h=h-1;}i=x.join(S).replace(Ce,S);if(/^(\/\/\s*@prettify-ignore-start\b)/.test(i)===true){let y=ce;h=h+1;do{x.push(u.chars[h]);h=h+1;}while(h<u.end&&(u.chars[h-1]!=="d"||u.chars[h-1]==="d"&&x.slice(x.length-20).join(S)!=="@prettify-ignore-end"));f=h;do{}while(f>u.start&&u.chars[f-1]==="/"&&(u.chars[f]==="*"||u.chars[f]==="/"));if(u.chars[f]==="*")y="*/";if(y!==ce||u.chars[h]!==ce){do{x.push(u.chars[h]);if(y===ce&&u.chars[h+1]===ce)break;h=h+1;}while(h<u.end&&(y===ce||y==="*/"&&(u.chars[h-1]!=="*"||u.chars[h]!=="/")))}if(u.chars[h]===ce)h=h-1;i=x.join(S).replace(Ce,S);return [i,h]}if(i==="//"||i.slice(0,6)==="//    "||_===true){return [i,h]}i=i.replace(/(\/\/\s*)/,"// ");if(e<1||h===u.end-1&&this.data.begin[this.count]<1)return [i,h];f=h+1;l();k();return [i,h]}};M.lexers.style=function o(u){const{options:h}=M;const f=h.style;const{data:i}=n;const x=u.split(S);const e=u.length;const _=[];const l=[];let k=0;let y=S;let d=S;function t(D){n.push(i,{begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"style",lines:n.linesSpace,stack:n.structure[n.structure.length-1][0],token:d,types:y},D);}function w(D){const r=D;do{D=D-1;}while(x[D]==="\\"&&D>0);return (r-D)%2===1}function F(D){const r=D.replace(/\s*!important/," !important").split(S);const A=/-?transition$/.test(i.token[n.count-2]);const g=[];const O=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const m=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let $=0;let L=0;let P=S;let T=r.length;let te=[];const V=oe=>{return oe};function z(oe){oe=oe.replace(/\s*/g,S);return /\/\d/.test(oe)&&D.indexOf("url(")===0?oe:` ${oe.charAt(0)} ${oe.charAt(1)}`}function re(oe){if(f.noLeadZero===true){return oe.replace(/^-?\D0+(\.|\d)/,I=>I.replace(/0+/,S))}else if(/0*\./.test(oe)){return oe.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(oe)[0])){return /^\D*0+\D*$/.test(oe)?oe.replace(/0+/,"0"):oe.replace(/\d+/.exec(oe)[0],/\d+/.exec(oe)[0].replace(/^0+/,S))}return oe}function Y(oe){return oe.replace(",",", ")}function ne(oe){return `${oe} `}function de(){const oe=$-1;let I=oe;if(oe<1)return true;do{I=I-1;}while(I>0&&r[I]==="\\");return (oe-I)%2===1}if($<T){do{te.push(r[$]);if(r[$-1]!=="\\"||de()===false){if(P===S){if(c(r[$],34)){P='"';L=L+1;}else if(c(r[$],39)){P="'";L=L+1;}else if(c(r[$],40)){P=")";L=L+1;}else if(c(r[$],91)){P="]";L=L+1;}}else if(c(r[$],40)&&c(P,41)||c(r[$],91)&&c(P,93)){L=L+1;}else if(r[$]===P){L=L-1;if(L===0)P=S;}}if(P===S&&c(r[$],32)){te.pop();g.push(V(te.join(S)));te=[];}$=$+1;}while($<T)}g.push(V(te.join(S)));T=g.length;$=0;if($<T){do{if(f.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(g[$])===true){g[$]=g[$].replace(/0+\./,".");}else if(f.noLeadZero===false&&/^-?\.\d+[a-z]/.test(g[$])){g[$]=g[$].replace(".","0.");}else if(O.test(g[$])||m.test(g[$])){g[$]=g[$].replace(O,re).replace(m,re);}else if(/^(0+([a-z]{2,3}|%))$/.test(g[$])&&A===false){g[$]="0";}else if(/^(0+)/.test(g[$])){g[$]=g[$].replace(/0+/,"0");if(/\d/.test(g[$].charAt(1)))g[$]=g[$].substr(1);}else if(/^url\((?!('|"))/.test(g[$])&&g[$].charCodeAt(g[$].length-1)===41){P=g[$].charAt(g[$].indexOf("url(")+4);if(P!=="@"&&Z(P,40)&&Z(P,60)){if(f.quoteConvert==="double"){g[$]=g[$].replace(/url\(/,'url("').replace(/\)$/,'")');}else {g[$]=g[$].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(g[$])){if(!ae.style.units.has(g[$].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,S))){g[$]=g[$].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,ne);}}if(/^\w+\(/.test(g[$])&&g[$].charAt(g[$].length-1)===")"&&(g[$].indexOf("url(")!==0||g[$].indexOf("url(")===0&&g[$].indexOf(" ")>0)){g[$]=g[$].replace(/,\S/g,Y);}$=$+1;}while($<T)}P=g.join(" ");return P.charAt(0)+P.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,z)}function a(){const D=[];const r=[];const A=f.quoteConvert;let g=k;let O=0;let m=S;let $=null;function L(){r.push(x[g]);if(he(x[g+1]))do{g=g+1;}while(g<e&&he(x[g+1]))}if(g<e){do{if(c(x[g],34)||c(x[g],39)){if($===null)$=false;if(D[D.length-1]===x[g]&&(x[g-1]!=="\\"||w(g-1)===false)){D.pop();if(A==="double"){x[g]='"';}else if(A==="single"){x[g]="'";}}else if(Z(D[D.length-1],34)&&Z(D[D.length-1],39)&&(x[g-1]!=="\\"||w(g-1)===false)){D.push(x[g]);if(A==="double"){x[g]='"';}else if(A==="single"){x[g]="'";}}else if(x[g-1]==="\\"&&A!=="none"){if(w(g-1)===true){if(A==="double"&&c(x[g],39)){r.pop();}else if(A==="single"&&c(x[g],34)){r.pop();}}}else if(A==="double"&&c(x[g],34)){x[g]='\\"';}else if(A==="single"&&c(x[g],39)){x[g]="\\'";}r.push(x[g]);}else if(x[g-1]!=="\\"||w(g-1)===false){if(c(x[g],40)){if($===null)$=true;D.push(")");L();}else if(c(x[g],91)){$=false;D.push("]");L();}else if((c(x[g],35)||c(x[g],64))&&c(x[g+1],123)){$=false;r.push(x[g]);g=g+1;D.push("}");L();}else if(x[g]===D[D.length-1]){r.push(x[g]);D.pop();}else {r.push(x[g]);}}else {r.push(x[g]);}if(n.structure[n.structure.length-1][0]==="map"&&D.length===0&&(c(x[g+1],44)||c(x[g+1],41))){if(c(x[g+1],41)&&c(i.token[n.count],40)){n.pop(i);n.structure.pop();r.splice(0,0,"(");}else {break}}if(c(x[g+1],58)){O=g;if(/\s/.test(x[O]))do{O=O-1;}while(/\s/.test(x[O]));m=x.slice(O-6,O+1).join(S);if(m.indexOf("filter")===m.length-6||m.indexOf("progid")===m.length-6){m="filter";}}if(D.length===0){if(c(x[g+1],59)&&w(g+1)===true||c(x[g+1],58)&&Z(x[g],58)&&Z(x[g+2],58)&&m!=="filter"&&m!=="progid"||(c(x[g+1],125)||c(x[g+1],123))||c(x[g+1],47)&&(c(x[g+2],42)||c(x[g+2],47))){O=r.length-1;if(/\s/.test(r[O])){do{O=O-1;g=g-1;r.pop();}while(/\s/.test(r[O]))}break}if(c(x[g+1],44))break}g=g+1;}while(g<e)}k=g;if(n.structure[n.structure.length-1][0]==="map"&&c(r[0],40)){_[_.length-1]=_[_.length-1]-1;}d=r.join(S).replace(/\s+/g," ").replace(/^\s/,S).replace(/\s$/,S);if($===true){d=d.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(n.count>-1&&i.token[n.count].indexOf("extend(")===0){y="pseudo";}else if($===true&&/\d/.test(d.charAt(0))===false&&/^rgba?\(/.test(d)===false&&d.indexOf("url(")!==0&&(d.indexOf(" ")<0||d.indexOf(" ")>d.indexOf("("))&&d.charAt(d.length-1)===")"){if(c(i.token[n.count],58)){y="value";}else {d=d.replace(/,\u0020?/g,", ");y="function";}d=F(d);}else if(n.count>-1&&`"'`.indexOf(i.token[n.count].charAt(0))>-1&&i.types[n.count]==="variable"){y="item";}else if(c(r[0],64)||r[0]==="$"){if(i.types[n.count]==="colon"&&h.language==="css"&&(i.types[n.count-1]==="property"||i.types[n.count-1]==="variable")){y="value";}else if(n.count>-1){y="item";m=i.token[n.count];g=m.indexOf("(");if(c(m[m.length-1],41)&&g>0){m=m.slice(g+1,m.length-1);i.token[n.count]=i.token[n.count].slice(0,g+1)+F(m)+")";}}d=F(d);}else {y="item";}t(S);}function B(D){let r=n.count;let A=0;let g=S;const O=[];function m(){if(n.count<0)return;if(r>0&&(i.types[r]==="comment"||i.types[r]==="ignore")){do{r=r-1;O.push(i.token[r]);}while(r>0&&i.lexer[r]==="style"&&(i.types[r]==="comment"||i.types[r]==="ignore"))}A=r-1;if(A>0&&(i.types[A]==="comment"||i.types[A]==="ignore")){do{A=A-1;}while(A>0&&i.lexer[r]==="style"&&(i.types[A]==="comment"||i.types[A]==="ignore"))}if(A<0)A=0;if(r<0)r=0;g=i.token[r].charAt(0);}function $(L){let P=L;const T=i.begin[P];i.token[L]=i.token[L].replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ").replace(/:\s+/g,": ").replace(/^\s+/,S).replace(/\s+$/,S).replace(/\s+::\s+/,"::");if(Z(i.token[P],44)&&i.types[P]!=="comment"){i.types[P]="selector";}if(c(i.token[P-1],44)||c(i.token[P-1],58)||i.types[P-1]==="comment"||i.types[P-1]==="pseudo"){if(i.types[P-1]==="colon"&&i.types[P]==="selector"&&(i.types[P-2]==="template"||i.types[P-2]==="template_start"||i.types[P-2]==="template_else"||i.types[P-2]==="template_end")){i.token[P-1]=":"+i.token[P]+K;i.types[P-1]="selector";n.splice({data:i,howmany:1,index:P});}else if(i.types[P-1]==="pseudo"){i.token[P-1]=`${i.token[P-1]}${i.token[P]}`;i.types[P-1]="selector";n.splice({data:i,howmany:1,index:P});}else {do{P=P-1;if(i.begin[P]===T){if(c(i.token[P],59))break;if(Z(i.token[P],44)&&i.types[P]!=="comment")i.types[P]="selector";if(i.token[P]===":"){i.token[P-1]=`${i.token[P-1]}:${i.token[P+1]}`.replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ");n.splice({data:i,howmany:2,index:P});}}else {break}}while(P>0)}}P=n.count;if(f.sortSelectors===true&&c(i.token[P-1],44)){const te=[i.token[P]];do{P=P-1;if(i.types[P]==="comment"||i.types[P]==="ignore"){do{P=P-1;}while(P>0&&(i.types[P]==="comment"||i.types[P]==="ignore"))}if(c(i.token[P],44))P=P-1;te.push(i.token[P]);}while(P>0&&(c(i.token[P-1],44)||i.types[P-1]==="selector"||i.types[P-1]==="comment"||i.types[P-1]==="ignore"));te.sort();P=n.count;i.token[P]=te.pop();do{P=P-1;if(i.types[P]==="comment"||i.types[P]==="ignore"){do{P=P-1;}while(P>0&&(i.types[P]==="comment"||i.types[P]==="ignore"))}if(c(i.token[P],44))P=P-1;i.token[P]=te.pop();}while(P>0&&(c(i.token[P-1],44)||i.token[P-1]==="selector"||i.types[P-1]==="comment"||i.types[P-1]==="ignore"))}r=n.count;m();}m();if(D==="start"&&(i.types[r]==="value"||i.types[r]==="variable")){i.types[r]="item";}if(i.lexer[n.count-1]!=="style"||A<0){if(D==="colon"){if(g==="$"||c(g,64)){i.types[r]="variable";}else if(i.stack[r]!=="global"&&(i.types[r]!=="comment"||i.types[r]!=="ignore")){i.types[r]="property";}}else if(i.lexer[r]==="style"){i.types[r]="selector";$(r);}}else if(D==="start"&&i.types[r]==="function"&&i.lexer[r]==="style"){i.types[r]="selector";$(r);}else if(i.types[r]==="item"&&i.lexer[r]==="style"){if(D==="start"){$(r);i.types[r]="selector";if(i.token[r]===":")i.types[A]="selector";if(i.token[r].indexOf("=\u201C")>0){n.error=`Invalid Quote (\u201C, \\201c) used on line number ${n.lineNumber}`;}else if(i.token[r].indexOf("=\u201D")>0){n.error=`Invalid Quote (\u201D, \\201d) used on line number ${n.lineNumber}`;}}else if(D==="end"){if(g==="$"||c(g,64)){i.types[r]="variable";}else {i.types[r]="value";}i.token[r]=F(i.token[r]);}else if(D==="separator"){if(i.types[A]==="colon"||c(i.token[A],44)||c(i.token[A],123)){if(Z(x[k],59)&&(i.types[A]==="selector"||c(i.token[A],123))){i.types[r]="selector";$(r);}else if(i.token[r].charAt(0)==="$"||c(i.token[r],64)){i.types[r]="variable";}else {i.types[r]="value";}i.token[r]=F(i.token[r]);if(i.token[r].charAt(0)==="\u201C"){n.error=`Invalid Quote (\u201C, \\201c) used on line number ${n.lineNumber}`;}else if(i.token[r].charAt(0)==="\u201D"){n.error=`Invalid (\u201D, \\201d) used on line number ${n.lineNumber}`;}}else {if(g==="$"||c(g,64)){i.types[r]="variable";}else if(i.types[A]==="value"||i.types[A]==="variable"){i.token[A]=i.token[A]+i.token[r];n.pop(i);}else {i.types[r]="value";}}}else if(D==="colon"){if(g==="$"||c(g,64)){i.types[r]="variable";}else {i.types[r]="property";}}else if(c(i.token[A],64)&&(i.types[A-2]!=="variable"&&i.types[A-2]!=="property"||i.types[A-1]==="separator")){i.types[A]="variable";y="variable";i.token[A]=F(i.token[A]);}}}function R(){let D=n.count;do{D=D-1;}while(D>0&&i.types[D]==="comment");if(i.token[D]===";")return;n.splice({data:i,howmany:0,index:D+1,record:{begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"style",lines:n.linesSpace,stack:n.structure[n.structure.length-1][0],token:";",types:"separator"}});}function b(D,r){const A=[];let g=S;let O=S;let m=0;let $=D.length;function L(P){const T=i.types[n.count-1];if(y==="item"){if(T==="colon"){i.types[n.count]="value";}else {B(T);}}y=P;if(y.indexOf("start")>-1||y.indexOf("else")>-1){t(d);}else {t(S);}}l[l.length-1]=true;if(k<e){do{A.push(x[k]);if(g===S){if(c(x[k],34)){g='"';}else if(c(x[k],39)){g="'";}else if(c(x[k],47)){if(c(x[k+1],47)){g="/";}else if(c(x[k+1],42)){g="*";}}else if(x[k+1]===r.charAt(0)){do{m=m+1;k=k+1;A.push(x[k]);}while(k<e&&m<r.length&&x[k+1]===r.charAt(m));if(m===r.length){g=A.join(S);if(he(g.charAt($))){do{$=$+1;}while(he(g.charAt($)))}m=$;do{m=m+1;}while(m<r.length&&!he(g.charAt(m)));if(m===g.length)m=m-r.length;if(D==="{%"){if(c(g[2],45)){g=g.replace(/^{%-\s*/,"{%- ");g=g.endsWith("-%}")?g.replace(/\s*-%}$/," -%}"):g.replace(/\s*%}$/," %}");O=g.slice(4);}else {g=g.replace(/^{%\s*/,"{% ");g=g.endsWith("-%}")?g.replace(/\s*-%}$/," -%}"):g.replace(/\s*%}$/," %}");O=g.slice(3);}}if(D==="{{"){if(c(g[2],45)){g=g.replace(/^{{-\s*/,"{{- ");g=g.endsWith("-}}")?g.replace(/\s*-}}$/," -}}"):g.replace(/\s*}}$/," }}");}else {g=g.replace(/^{{\s*/,"{{ ");g=g.endsWith("-}}")?g.replace(/\s*-}}$/," -}}"):g.replace(/\s*%}}$/," }}");}}if(y==="item"&&i.types[n.count-1]==="colon"&&(i.types[n.count-2]==="property"||i.types[n.count-2]==="variable")){y="value";i.types[n.count]="value";if(Number.isNaN(Number(i.token[n.count]))===true&&i.token[n.count].charAt(i.token[n.count].length-1)!==")"){i.token[n.count]=i.token[n.count]+g;}else {i.token[n.count]=i.token[n.count]+K+g;}return}d=g;if(D==="{%"){const P=Array.from(ae.liquid.tags);let T=P.length-1;O=O.slice(0,O.indexOf(" "));if(O.indexOf("(")>0){O=O.slice(0,O.indexOf("("));}if(ae.liquid.else.has(O)){L("template_else");return}T=P.length-1;if(T>-1){do{if(O===P[T]){L("template_start");return}if(O==="end"+P[T]){L("template_end");return}T=T-1;}while(T>-1)}}else if(D==="{{"){let P=g.slice(2);const T=P.length;let te=0;do{te=te+1;}while(te<T&&he(P.charAt(te))===false&&P.charCodeAt($)!==40);P=P.slice(0,te);if(P.charAt(P.length-2)==="}"){P=P.slice(0,P.length-2);}if(P==="end"){L("template_end");return}}L("template");return}m=0;}}else if(g===x[k]){if(c(g,34)||c(g,39)){g=S;}else if(c(g,47)&&(x[k]==="\r"||c(x[k],10))){g=S;}else if(c(g,42)&&c(x[k+1],47)){g=S;}}k=k+1;}while(k<e)}}function E(D){let r;if(D){r=n.wrapCommentLine({chars:x,end:e,lexer:"style",opening:"//",start:k,terminator:"\n"});d=r[0];y=/^(\/\/\s*@prettify-ignore-start)/.test(d)?"ignore":"comment";}else {r=n.wrapCommentBlock({chars:x,end:e,lexer:"style",opening:"/*",start:k,terminator:"*/"});d=r[0];y=/^(\/\*\s*@prettify-ignore-start)/.test(d)?"ignore":"comment";}t(S);k=r[1];}function U(){const D=n.linesSpace;const r=Pe(null);r.data=Pe(null);r.data.margin=[S,S,S,S,false];r.data.padding=[S,S,S,S,false];r.last=Pe(null);r.last.margin=0;r.last.padding=0;r.removes=[];const A=n.structure[n.structure.length-1][1];function g(L){if(i.token[m-2]===L){const P=i.token[m].replace(/\s*!important\s*/g,S).split(" ");const T=P.length;if(i.token[m].indexOf("!important")>-1)r.data[L[4]]=true;if(T>3){if(r.data[L][0]===S)r.data[L][0]=P[0];if(r.data[L][1]===S)r.data[L][1]=P[1];if(r.data[L][2]===S)r.data[L][2]=P[2];if(r.data[L][3]===S)r.data[L][3]=P[3];}else if(T>2){if(r.data[L][0]===S)r.data[L][0]=P[0];if(r.data[L][1]===S)r.data[L][1]=P[1];if(r.data[L][2]===S)r.data[L][2]=P[2];if(r.data[L][3]===S)r.data[L][3]=P[1];}else if(T>1){if(r.data[L][0]===S)r.data[L][0]=P[0];if(r.data[L][1]===S)r.data[L][1]=P[1];if(r.data[L][2]===S)r.data[L][2]=P[0];if(r.data[L][3]===S)r.data[L][3]=P[1];}else {if(r.data[L][0]===S)r.data[L][0]=P[0];if(r.data[L][1]===S)r.data[L][1]=P[0];if(r.data[L][2]===S)r.data[L][2]=P[0];if(r.data[L][3]===S)r.data[L][3]=P[0];}}else if(i.token[m-2]===`${L}-bottom`){if(r.data[L][2]===S)r.data[L][2]=i.token[m];}else if(i.token[m-2]===`${L}-left`){if(r.data[L][3]===S)r.data[L][3]=i.token[m];}else if(i.token[m-2]===`${L}-right`){if(r.data[L][1]===S)r.data[L][1]=i.token[m];}else if(i.token[m-2]===`${L}-top`){if(r.data[L][0]===S)r.data[L][0]=i.token[m];}else {return}r.removes.push([m,L]);r.last[L]=m;}function O(){let L=0;let P=S;const T=/^(0+([a-z]+|%))/;const te=r.removes.length;const V=r.data.margin[0]!==S&&r.data.margin[1]!==S&&r.data.margin[2]!==S&&r.data.margin[3]!==S;const z=r.data.padding[0]!==S&&r.data.padding[1]!==S&&r.data.padding[2]!==S&&r.data.padding[3]!==S;function re(Y){if(T.test(r.data[Y][0])===true)r.data[Y][0]="0";if(T.test(r.data[Y][1])===true)r.data[Y][1]="0";if(T.test(r.data[Y][2])===true)r.data[Y][2]="0";if(T.test(r.data[Y][3])===true)r.data[Y][3]="0";if(r.data[Y][0]===r.data[Y][1]&&r.data[Y][0]===r.data[Y][2]&&r.data[Y][0]===r.data[Y][3]){P=r.data[Y][0];}else if(r.data[Y][0]===r.data[Y][2]&&r.data[Y][1]===r.data[Y][3]&&r.data[Y][0]!==r.data[Y][1]){P=`${r.data[Y][0]} ${r.data[Y][1]}`;}else if(r.data[Y][1]===r.data[Y][3]&&r.data[Y][0]!==r.data[Y][2]){P=`${r.data[Y][0]} ${r.data[Y][1]} ${r.data[Y][2]}`;}else {P=`${r.data[Y][0]} ${r.data[Y][1]} ${r.data[Y][2]} ${r.data[Y][3]}`;}if(r.data[Y[4]]===true)P=`${P.replace(" !important",S)} !important`;if(r.last[Y]>n.count){L=A<1?1:A+1;do{if(i.begin[L]===A&&i.types[L]==="value"&&i.token[L-2].indexOf(Y)===0){r.last[Y]=L;break}L=L+1;}while(L<n.count)}i.token[r.last[Y]]=P;i.token[r.last[Y]-2]=Y;}if(te>1&&(V===true||z===true)){do{if(r.removes[L][0]!==r.last.margin&&r.removes[L][0]!==r.last.padding&&(V===true&&r.removes[L][1]==="margin"||z===true&&r.removes[L][1]==="padding")){n.splice({data:i,howmany:i.types[r.removes[L][0]+1]==="separator"?4:3,index:r.removes[L][0]-2});}L=L+1;}while(L<te-1)}if(V===true)re("margin");if(z===true)re("padding");if($===true){if(A<0){n.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {n.sortCorrection(A,n.count+1);}}}let m=n.count;let $=false;do{m=m-1;if(i.begin[m]===A){if(i.types[m]==="value"&&i.types[m-2]==="property"){if(i.token[m-2].indexOf("margin")===0){g("margin");}else if(i.token[m-2].indexOf("padding")===0){g("padding");}}}else {$=true;m=i.begin[m];}}while(m>A);O();n.linesSpace=D;}do{if(he(x[k])){k=n.spacer({array:x,end:e,index:k});}else if(c(x[k],47)&&c(x[k+1],42)){E(false);}else if(c(x[k],47)&&c(x[k+1],47)){E(true);}else if(c(x[k],123)&&c(x[k+1],37)){b("{%","%}");}else if(c(x[k],123)&&c(x[k+1],123)){b("{{","}}");}else if(c(x[k],123)||c(x[k],40)&&c(i.token[n.count],58)&&i.types[n.count-1]==="variable"){B("start");y="start";d=x[k];if(c(x[k],40)){t("map");_.push(0);}else if(i.types[n.count]==="selector"||i.types[n.count]==="variable"){t(i.token[n.count]);}else if(i.types[n.count]==="colon"){t(i.token[n.count-1]);}else {t("block");}l.push(false);}else if(c(x[k],125)||x[k]===")"&&n.structure[n.structure.length-1][0]==="map"&&_[_.length-1]===0){if(c(x[k],125)&&c(i.token[n.count-1],123)&&i.types[n.count]==="item"&&i.token[n.count-2]!==void 0&&i.token[n.count-2].charAt(i.token[n.count-2].length-1)==="@"){i.token[n.count-2]=i.token[n.count-2]+"{"+i.token[n.count]+"}";n.pop(i);n.pop(i);n.structure.pop();}else {if(c(x[k],41))_.pop();B("end");if(c(x[k],125)&&Z(i.token[n.count],59)){if(i.types[n.count]==="value"||i.types[n.count]==="function"||i.types[n.count]==="variable"&&(c(i.token[n.count-1],58)||c(i.token[n.count-1],59))){if(f.correct===true){d=";";}else {d="x;";}y="separator";t(S);}else if(i.types[n.count]==="comment"){R();}}l.pop();d=x[k];y="end";if(c(x[k],125))U();if(f.sortProperties===true&&c(x[k],125))n.objectSort(i);t(S);}}else if(c(x[k],59)||c(x[k],44)){if(i.types[n.count-1]==="selector"||i.types[n.count]!=="function"&&c(i.token[n.count-1],125)){B("start");}else {B("separator");}if(i.types[n.count]!=="separator"&&w(k)===true){d=x[k];y="separator";t(S);}}else if(n.count>-1&&c(x[k],58)&&i.types[n.count]!=="end"){B("colon");d=":";y="colon";t(S);}else {if(n.structure[n.structure.length-1][0]==="map"&&c(x[k],40)){_[_.length-1]=_[_.length-1]+1;}a();}k=k+1;}while(k<e);if(f.sortProperties===true)n.objectSort(i);return i};M.lexers.script=function o(u){const{options:h}=M;const f=Oe({},h.script);if(h.language==="json"){h.script=Oe(h.script,h.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}let i=0;let x=S;let e=S;let _=[];let l=0;let k=-1;let y=-1;let d=[];let t;let w;let F;const{data:a}=n;const{references:B}=n;const R=u.length;const b=u.split(S);const E=[];const U=[];const D=[];const r=[0,S];const A=[false];const g=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const O={};O.count=[];O.index=[];O.len=-1;O.word=[];function m(p){let s=0;const C=ne(1,false);const j=n.structure.length===0?"":n.structure[n.structure.length-1][0];const v=Pe(null);v.begin=a.begin[n.count];v.ender=a.begin[n.count];v.lexer=a.lexer[n.count];v.lines=a.lines[n.count];v.stack=a.stack[n.count];v.token=a.token[n.count];v.types=a.types[n.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(x))return;if(e==="start"||e==="type_start")return;if(h.language==="json")return;if(c(v.token,59)||c(v.token,44)||v.stack==="class"||v.stack==="map"||v.stack==="attribute"||a.types[v.begin-1]==="generic"||C==="{"||j==="initializer"){return}if(c(v.token,125)&&a.stack[v.begin-1]==="global"&&a.types[v.begin-1]!=="operator"&&v.stack===a.stack[n.count-1]){return}if(v.stack==="array"&&v.token!=="]")return;if(a.token[a.begin[n.count]]==="{"&&v.stack==="data_type")return;if(v.types!==void 0&&v.types.indexOf("template")>-1&&v.types.indexOf("template_string")<0){return}if(c(C,59)&&p===false)return;if(a.lexer[n.count-1]!=="script"&&(i<R&&R===M.source.length-1||R<M.source.length-1)){return}if(c(v.token,125)&&(v.stack==="function"||v.stack==="if"||v.stack==="else"||v.stack==="for"||v.stack==="do"||v.stack==="while"||v.stack==="switch"||v.stack==="class"||v.stack==="try"||v.stack==="catch"||v.stack==="finally"||v.stack==="block")){if(v.stack==="function"&&(a.stack[v.begin-1]==="data_type"||a.types[v.begin-1]==="type")){s=v.begin;do{s=s-1;}while(s>0&&a.token[s]!==")"&&a.stack[s]!=="arguments");s=a.begin[s];}else {s=a.begin[v.begin-1];}if(c(a.token[s],40)){s=s-1;if(a.token[s-1]==="function")s=s-1;if(a.stack[s-1]==="object"||a.stack[s-1]==="switch")return;if(a.token[s-1]!=="="&&a.token[s-1]!=="return"&&a.token[s-1]!==":"){return}}else {return}}if(v.types==="comment"||j==="method"||j==="paren"||j==="expression"||j==="array"||j==="object"||j==="switch"&&v.stack!=="method"&&a.token[a.begin[n.count]]==="("&&a.token[a.begin[n.count]-1]!=="return"&&a.types[a.begin[n.count]-1]!=="operator"){return}if(a.stack[n.count]==="expression"&&(a.token[a.begin[n.count]-1]!=="while"||a.token[a.begin[n.count]-1]==="while"&&a.stack[a.begin[n.count]-2]!=="do")){return}if(C!==""&&"=<>+*?|^:&%~,.()]".indexOf(C)>-1&&p===false)return;if(v.types==="comment"){s=n.count;do{s=s-1;}while(s>0&&a.types[s]==="comment");if(s<1)return;v.token=a.token[s];v.types=a.types[s];v.stack=a.stack[s];}if(v.token===void 0||v.types==="start"||v.types==="separator"||v.types==="operator"&&v.token!=="++"&&v.token!=="--"||v.token==="x}"||v.token==="var"||v.token==="let"||v.token==="const"||v.token==="else"||v.token.indexOf("#!/")===0||v.token==="instanceof"){return}if(v.stack==="method"&&(a.token[v.begin-1]==="function"||a.token[v.begin-2]==="function")){return}if(h.script.variableList==="list")O.index[O.len]=n.count;x=h.script.correct===true?";":"x;";e="separator";s=n.linesSpace;n.linesSpace=0;ee("");n.linesSpace=s;T();}function $(){let p=n.count;do{p=p-1;}while(p>-1&&a.token[p]==="x}");if(a.stack[p]==="else")return ee("");p=p+1;n.splice({data:a,howmany:0,index:p,record:{begin:a.begin[p],ender:-1,lexer:"script",lines:n.linesSpace,stack:a.stack[p],token:x,types:e}});ee("");}function L(){let p=n.count;if(a.types[p]==="comment"){do{p=p-1;}while(p>0&&a.types[p]==="comment")}if(a.token[p]==="from")p=p-2;if(a.token[p]==="x;"){n.splice({data:a,howmany:1,index:p});}}function P(){m(false);if(k>-1)N();F=n.wrapCommentBlock({chars:b,end:R,lexer:"script",opening:"/*",start:i,terminator:"*/"});i=F[1];if(a.token[n.count]==="var"||a.token[n.count]==="let"||a.token[n.count]==="const"){t=n.pop(a);ee("");n.push(a,t,"");if(a.lines[n.count-2]===0)a.lines[n.count-2]=a.lines[n.count];a.lines[n.count]=0;}else if(F[0]!==""){x=F[0];e=/^\/\*\s*@prettify-ignore-start/.test(x)?"ignore":"comment";if(x.indexOf("# sourceMappingURL=")===2){r[0]=n.count+1;r[1]=x;}n.push(a,{begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"script",lines:n.linesSpace,stack:n.structure[n.structure.length-1][0],token:x,types:e},"");}if(/\/\*\s*global\s+/.test(a.token[n.count])===true&&a.types.indexOf("word")<0){B[0]=a.token[n.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function T(){let p="";const s=ne(5,false);const C=n.count;const j=n.linesSpace;if(h.language==="json"||U.length<1||U[U.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(x)===false){return}if(a.stack[n.count]==="do"&&s==="while"&&a.token[n.count]==="}"){return}if(x===";"&&a.token[C-1]==="x{"){p=a.token[a.begin[C-2]-1];if(a.token[C-2]==="do"||a.token[C-2]===")"&&"ifforwhilecatch".indexOf(p)>-1){t=n.pop(a);x=h.script.correct===true?"}":"x}";e="end";w=n.structure[n.structure.length-1];ee("");U.pop();n.linesSpace=j;return}t=n.pop(a);x=h.script.correct===true?"}":"x}";e="end";w=n.structure[n.structure.length-1];ee("");U.pop();x=";";e="end";n.push(a,t,"");n.linesSpace=j;return}x=h.script.correct===true?"}":"x}";e="end";if(a.token[n.count]==="x}")return;if(a.stack[n.count]==="if"&&(a.token[n.count]===";"||a.token[n.count]==="x;")&&s==="else"){w=n.structure[n.structure.length-1];ee("");U.pop();n.linesSpace=j;return}do{w=n.structure[n.structure.length-1];ee("");U.pop();if(a.stack[n.count]==="do")break}while(U[U.length-1]==="x{");n.linesSpace=j;}function te(){let p=n.count;if(a.stack[p]==="object"&&h.script.objectSort===true){x=",";e="separator";L();ee("");}else {do{p=p-1;}while(p>0&&a.types[p-1]==="comment");n.splice({data:a,howmany:0,index:p,record:{begin:a.begin[p],ender:-1,lexer:"script",lines:n.linesSpace,stack:a.stack[p],token:",",types:"separator"}});ee("");}}function V(p){let s=false;let C=false;const j=ne(1,false);const v=a.token[n.count]==="("?n.count:a.begin[n.count];function W(){let q=0;const Q=a.token[v-1]==="Array";const ie=Q===true?"[":"{";const J=Q===true?"]":"}";const G=Q===true?"array":"object";if(Q===true&&a.types[n.count]==="number"){q=Number(a.token[n.count]);t=n.pop(a);}t=n.pop(a);t=n.pop(a);t=n.pop(a);n.structure.pop();x=ie;e="start";ee(G);if(q>0){x=",";e="separator";do{ee("");q=q-1;}while(q>0)}x=J;e="end";ee("");}if(k>-1)N();if(D.length>0){if(D[D.length-1]===0){D.pop();}else {D[D.length-1]=D[D.length-1]-1;}}if(c(p,41)||p==="x)"||c(p,93)){if(h.script.correct===true)I();L();}if(c(p,41)||p==="x)")m(false);if(O.len>-1){if(c(p,125)&&(h.script.variableList==="list"&&O.count[O.len]===0||a.token[n.count]==="x;"&&h.script.variableList==="each")){H();}O.count[O.len]=O.count[O.len]-1;if(O.count[O.len]<0)H();}if(c(x,44)&&a.stack[n.count]!=="initializer"&&(c(p,93)&&c(a.token[n.count-1],91)||c(p,125))){t=n.pop(a);}if(c(p,41)||p==="x)"){x=p;if(E.length>0){_=E[E.length-1];if(_.length>1&&Z(j,123)&&(_[0]==="if"||_[0]==="for"||_[0]==="with"||_[0]==="while"&&a.stack[_[1]-2]!==void 0&&a.stack[_[1]-2]!=="do")){s=true;}}}else if(c(p,93)){x="]";}else if(c(p,125)){if(Z(x,44)&&h.script.correct===true)I();if(n.structure.length>0&&n.structure[n.structure.length-1][0]!=="object")m(true);if((h.script.objectSort===true||h.language==="json"&&h.json.objectSort===true)&&n.structure[n.structure.length-1][0]==="object"){n.objectSort(a);}if(e==="comment"){x=a.token[n.count];e=a.types[n.count];}x="}";}if(n.structure[n.structure.length-1][0]==="data_type"){e="type_end";}else {e="end";}E.pop();w=n.structure[n.structure.length-1];if(c(p,41)&&h.script.correct===true&&v-n.count<2&&(c(a.token[n.count],40)||a.types[n.count]==="number")&&(a.token[v-1]==="Array"||a.token[v-1]==="Object")&&a.token[v-2]==="new"){W();C=true;}if(U[U.length-1]==="x{"&&c(p,125)){T();U.pop();if(a.stack[n.count]!=="try"){if(Z(j,58)&&Z(j,59)&&a.token[a.begin[i]-1]!=="?")T();}x="}";}else {U.pop();}if(h.script.endComma!==void 0&&h.script.endComma!=="none"&&n.structure[n.structure.length-1][0]==="array"||n.structure[n.structure.length-1][0]==="object"||n.structure[n.structure.length-1][0]==="data_type"){if(h.script.endComma==="always"&&a.token[n.count]!==","){const q=n.structure[n.structure.length-1][1];let Q=n.count;do{if(a.begin[Q]===q){if(c(a.token[Q],44))break}else {Q=a.begin[Q];}Q=Q-1;}while(Q>q);if(Q>q){const ie=e;const J=x;x=",";e="separator";ee("");x=J;e=ie;}}else if(h.script.endComma==="never"&&c(a.token[n.count],44)){n.pop(a);}}if(C===false){ee("");if(x==="}"&&a.stack[n.count]!=="object"&&a.stack[n.count]!=="class"&&a.stack[n.count]!=="data_type"){B.pop();T();}}if(s===true){x=h.script.correct===true?"{":"x{";e="start";ee(_[0]);U.push("x{");_[1]=n.count;}A.pop();if(n.structure[n.structure.length-1][0]!=="data_type")A[A.length-1]=false;}function z(p,s,C){let j=0;let v=false;let W=false;let q=[p];let Q;const ie=s.split(S);const J=ie.length;const G=i;const ue=i+p.length;const X=h.script.quoteConvert===void 0?"none":h.script.quoteConvert;function se(){let pe=0;q=[];e=C;j=i;if(C==="string"&&/\s/.test(b[j+1])===true){pe=1;do{j=j+1;if(b[j]==="\n")pe=pe+1;}while(j<R&&/\s/.test(b[j+1])===true);n.linesSpace=pe;}}function fe(){let pe=S;function we(ge){if(h.language!=="javascript"&&h.language!=="typescript"&&h.language!=="jsx"&&h.language!=="tsx"){const le=ke=>ke.replace(/\s*$/," ");const Se=ke=>ke.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(ge)||/\}%(>|\])/.test(ge))return ge;ge=ge.replace(/\{((\{+)|%-?)\s*/g,le);ge=ge.replace(/\s*((\}\}+)|(-?%\}))/g,Se);return ge}return ge}if(c(p,34)&&X==="single"){q[0]="'";q[q.length-1]="'";}else if(c(p,39)&&X==="double"){q[0]='"';q[q.length-1]='"';}else if(v===true){pe=q[q.length-1];q.pop();q.pop();q.push(pe);}i=j;if(s==="\n"){i=i-1;q.pop();}x=q.join(S);if(c(p,34)||c(p,39)||p==="{{"||p==="{%"){x=we(x);}if(p==="{%"||p==="{{"){Q=Ze(x);e=Q[0];ee(Q[1]);return}if(C==="string"){e="string";if(h.language==="json"){x=x.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(p.indexOf("#!")===0){x=x.slice(0,x.length-1);n.linesSpace=2;}else if(n.structure[n.structure.length-1][0]!=="object"||n.structure[n.structure.length-1][0]==="object"&&ne(1,false)!==":"&&Z(a.token[n.count],44)&&Z(a.token[n.count],123)){if(x.length>h.wrap&&h.wrap>0||h.wrap!==0&&a.token[n.count]==="+"&&(a.token[n.count-1].charAt(0)==='"'||a.token[n.count-1].charAt(0)==="'")){let ge=x;let le="";let Se=X==="double"?'"':X==="single"?"'":ge.charAt(0);const ke=h.wrap;const qe=/u[0-9a-fA-F]{4}/;const De=/x[0-9a-fA-F]{2}/;ge=ge.slice(1,ge.length-1);if(a.token[n.count]==="+"&&(a.token[n.count-1].charAt(0)==='"'||a.token[n.count-1].charAt(0)==="'")){n.pop(a);Se=a.token[n.count].charAt(0);ge=a.token[n.count].slice(1,a.token[n.count].length-1)+ge;n.pop(a);}if(ge.length>ke&&ke>0){do{le=ge.slice(0,ke);if(le.charAt(ke-5)==="\\"&&qe.test(ge.slice(ke-4,ke+1))){le=le.slice(0,ke-5);}else if(le.charAt(ke-4)==="\\"&&qe.test(ge.slice(ke-3,ke+2))){le=le.slice(0,ke-4);}else if(le.charAt(ke-3)==="\\"&&(qe.test(ge.slice(ke-2,ke+3))||De.test(ge.slice(ke-2,ke+1)))){le=le.slice(0,ke-3);}else if(le.charAt(ke-2)==="\\"&&(qe.test(ge.slice(ke-1,ke+4))||De.test(ge.slice(ke-1,ke+2)))){le=le.slice(0,ke-2);}else if(le.charAt(ke-1)==="\\"){le=le.slice(0,ke-1);}le=Se+le+Se;ge=ge.slice(le.length-2);x=le;e="string";ee(S);n.linesSpace=0;x="+";e="operator";ee(S);}while(ge.length>ke)}if(ge===S){x=Se+Se;}else {x=Se+ge+Se;}e="string";}}}else if(/\{\s*\?>$/.test(x)){e="template_start";}else {e=C;}if(x.length>0)ee(S);}if(k>-1)N();if(b[i-1]==="\\"&&xe(i-1)===true&&(c(b[i],34)||c(b[i],39))){n.pop(a);if(c(a.token[0],123)){if(c(b[i],34)){p='"';s='\\"';q=['"'];}else {p="'";s="\\'";q=["'"];}v=true;}else {if(c(b[i],34)){q=['\\"'];fe();return}q=["\\'"];fe();return}}j=ue;if(j<R){do{if(Z(a.token[0],123)&&Z(a.token[0],91)&&X!=="none"&&(c(b[j],34)||c(b[j],39))){if(b[j-1]==="\\"){if(xe(j-1)===true){if(X==="double"&&c(b[j],39)){q.pop();}else if(X==="single"&&c(b[j],34)){q.pop();}}}else if(X==="double"&&c(b[j],34)&&c(b[i],39)){b[j]='\\"';}else if(X==="single"&&c(b[j],39)&&c(b[i],34)){b[j]="\\'";}q.push(b[j]);}else if(j>G){W=true;if(c(b[j],123)&&c(b[j+1],37)&&b[j+2]!==p){fe();z("{%","%}","template");se();}else if(c(b[j],123)&&c(b[j+1],123)&&b[j+2]!==p){fe();z("{{","}}","template");se();}else {W=false;q.push(b[j]);}}else {q.push(b[j]);}if(h.language!=="json"&&h.language!=="javascript"&&(c(p,34)||c(p,39))&&(W===true||j>G)&&b[j-1]!=="\\"&&Z(b[j],34)&&Z(b[j],39)&&(c(b[j],10)||j===R-1===true)){n.error="Unterminated string in script on line number "+n.lineNumber;break}if(b[j]===ie[J-1]&&(b[j-1]!=="\\"||xe(j-1)===false)){if(J===1)break;if(q[j-ue]===ie[0]&&q.slice(j-ue-J+2).join("")===s)break}j=j+1;}while(j<R)}fe();}function re(){m(false);T();if(k>-1)N();F=n.wrapCommentLine({chars:b,end:R,lexer:"script",opening:"//",start:i,terminator:"\n"});i=F[1];if(F[0]!==""){x=F[0];e=/^(\/\/\s*@prettify-ignore-start)/.test(x)?"ignore":"comment";if(x.indexOf("# sourceMappingURL=")===2){r[0]=n.count+1;r[1]=x;}n.push(a,{begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"script",lines:n.linesSpace,stack:n.structure[n.structure.length-1][0],token:x,types:e},"");}}function Y(){let p=0;let s=false;let C=false;let j=0;let v=0;let W=0;let q="";let Q="";let ie="";const J=[];const G=A[A.length-1];const ue="0123456789=<>+-*?|^:&.,;%(){}[]~";function X(){if(x==="(")n.structure[n.structure.length-1]=["paren",n.count];M.lexers.markup(J.join(""));}if(k>-1)N();Q=n.count>0?a.token[n.count-1]:"";ie=n.count>0?a.types[n.count-1]:"";q=ne(1,false);if(h.language!=="jsx"&&h.language!=="tsx"&&/\d/.test(q)===false&&(x==="function"||Q==="=>"||Q==="void"||Q==="."||a.stack[n.count]==="arguments"||e==="type"&&Q==="type"||e==="reference"&&(ie==="operator"||Q==="function"||Q==="class"||Q==="new")||e==="type"&&ie==="operator"||x==="return"||e==="operator")){const se=[];let fe=0;let pe=0;p=i;do{se.push(b[p]);if(b[p]==="<"){fe=fe+1;}else if(b[p]===">"){fe=fe-1;if(fe<1)break}p=p+1;}while(p<R);pe=i;i=p;q=ne(1,false);if(b[p]===">"&&(G===true||Q==="=>"||Q==="."||ie!=="operator"||ie==="operator"&&(q==="("||q==="="))){e="generic";x=se.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");ee("");return}i=pe;}p=n.count;if(a.types[p]==="comment"){do{p=p-1;}while(p>0&&a.types[p]==="comment")}if(G===false&&ne(1,false)!==">"&&(b[i]!=="<"&&ue.indexOf(b[i+1])>-1||a.token[p]==="++"||a.token[p]==="--"||/\s/.test(b[i+1])===true||/\d/.test(b[i+1])===true&&(e==="operator"||e==="string"||e==="number"||e==="reference"||e==="word"&&x!=="return"))){e="operator";x=oe();return ee("")}if(h.language!=="typescript"&&(a.token[p]==="return"||a.types[p]==="operator"||a.types[p]==="start"||a.types[p]==="separator"||a.types[p]==="jsx_attribute_start"||a.token[p]==="}"&&n.structure[n.structure.length-1][0]==="global")){e="markup";h.language="jsx";do{J.push(b[i]);if(b[i]==="{"){v=v+1;s=true;}else if(b[i]==="}"){v=v-1;if(v===0)s=false;}else if(b[i]==="<"&&s===false){if(b[i+1]==="<"){do{J.push(b[i]);i=i+1;}while(i<R&&b[i+1]==="<")}j=j+1;if(ne(1,false)==="/")C=true;}else if(b[i]===">"&&s===false){if(b[i+1]===">"){do{J.push(b[i]);i=i+1;}while(b[i+1]===">")}j=j-1;if(C===true){W=W-1;}else if(b[i-1]!=="/"){W=W+1;}if(j===0&&v===0&&W<1){q=ne(2,false);if(q.charAt(0)!=="<")return X();if(q.charAt(0)==="<"&&ue.indexOf(q.charAt(1))<0&&/\s/.test(q.charAt(1))===false){p=i+1;do{p=p+1;if(b[p]===">"||/\s/.test(b[p-1])&&ue.indexOf(b[p])<0)break;if(ue.indexOf(b[p])>-1)return X()}while(p<R)}else {return X()}}C=false;}i=i+1;}while(i<R);return X()}e="operator";x=oe();ee("");}function ne(p,s){let C=s===true?i:i+1;let j="";if(typeof p!=="number"||p<1)p=1;if(b[i]==="/"){if(b[i+1]==="/"){j="\n";}else if(b[i+1]==="*"){j="/";}}if(C<R){do{if(/\s/.test(b[C])===false){if(b[C]==="/"){if(j===""){if(b[C+1]==="/"){j="\n";}else if(b[C+1]==="*"){j="/";}}else if(j==="/"&&b[C-1]==="*"){j="";}}if(j===""&&b[C-1]+b[C]!=="*/")return b.slice(C,C+p).join("")}else if(j==="\n"&&b[C]==="\n"){j="";}C=C+1;}while(C<R)}return ""}function de(){const p=R;const s=[b[i]];let C=0;let j=/zz/;let v=s[0]===".";if(i<R-2&&b[i]==="0"){if(b[i+1]==="x"){j=/[0-9a-fA-F]/;}else if(b[i+1]==="o"){j=/[0-9]/;}else if(b[i+1]==="b"){j=/0|1/;}if(j.test(b[i+2])===true){s.push(b[i+1]);C=i+1;do{C=C+1;s.push(b[C]);}while(j.test(b[C+1])===true);i=C;return s.join("")}}C=i+1;if(C<p){do{if(/[0-9]/.test(b[C])||b[C]==="."&&v===false){s.push(b[C]);if(b[C]===".")v=true;}else {break}C=C+1;}while(C<p)}if(C<p-1&&(/\d/.test(b[C-1])===true||/\d/.test(b[C-2])===true&&(b[C-1]==="-"||b[C-1]==="+"))&&(b[C]==="e"||b[C]==="E")){s.push(b[C]);if(b[C+1]==="-"||b[C+1]==="+"){s.push(b[C+1]);C=C+1;}v=false;C=C+1;if(C<p){do{if(/[0-9]/.test(b[C])||b[C]==="."&&v===false){s.push(b[C]);if(b[C]===".")v=true;}else {break}C=C+1;}while(C<p)}}i=C-1;return s.join("")}function oe(){let p=0;let s=0;let C=R;let j="";const v=["=","<",">","+","*","?","|","^",":","&","%","~"];const W=v.length;if(k>-1)N();if(b[i]==="/"&&(n.count>-1&&(e!=="word"&&e!=="reference"||x==="typeof"||x==="return"||x==="else")&&e!=="number"&&e!=="string"&&e!=="end")){if(x==="return"||x==="typeof"||x==="else"||e!=="word"){x=Ne();e="regex";}else {x="/";e="operator";}ee("");return "regex"}if(b[i]==="?"&&("+-*/.?".indexOf(b[i+1])>-1||b[i+1]===":"&&v.join("").indexOf(b[i+2])<0)){if(b[i+1]==="."&&/\d/.test(b[i+2])===false){j="?.";}else if(b[i+1]==="?"){j="??";}if(j==="")return "?"}if(b[i]===":"&&"+-*/".indexOf(b[i+1])>-1)return ":";if(i<R-1){if(b[i]!=="<"&&b[i+1]==="<")return b[i];if(b[i]==="!"&&b[i+1]==="/")return "!";if(b[i]==="-"){A[A.length-1]=false;if(b[i+1]==="-"){j="--";}else if(b[i+1]==="="){j="-=";}else if(b[i+1]===">"){j="->";}if(j==="")return "-"}if(b[i]==="+"){A[A.length-1]=false;if(b[i+1]==="+"){j="++";}else if(b[i+1]==="="){j="+=";}if(j==="")return "+"}if(b[i]==="="&&b[i+1]!=="="&&b[i+1]!=="!"&&b[i+1]!==">"){A[A.length-1]=false;return "="}}if(b[i]===":"){if(h.language==="typescript"){if(a.stack[n.count]==="arguments"){if(a.token[n.count]==="?"){n.pop(a);j="?:";i=i-1;}A[A.length-1]=true;}else if(x===")"&&(a.token[a.begin[n.count]-1]==="function"||a.token[a.begin[n.count]-2]==="function")){A[A.length-1]=true;}else if(e==="reference"){p=n.count;let q=false;do{if(a.begin[p]===a.begin[n.count]){if(p<n.count&&a.token[p]===":"&&a.types[p+1]!=="type")q=true;if(a.token[p]==="?"&&q===false)break;if(a.token[p]===";"||a.token[p]==="x;")break;if(a.token[p]==="var"||a.token[p]==="let"||a.token[p]==="const"||a.types[p]==="type"){A[A.length-1]=true;break}}else {if(a.types[p]==="type_end"){A[A.length-1]=true;break}p=a.begin[p];}p=p-1;}while(p>a.begin[n.count])}}else if(a.token[n.count-1]==="["&&(a.types[n.count]==="word"||a.types[n.count]==="reference")){n.structure[n.structure.length-1][0]="attribute";a.stack[n.count]="attribute";}}if(j===""){if(b[i+1]==="+"&&b[i+2]==="+"||b[i+1]==="-"&&b[i+2]==="-"){j=b[i];}else {const q=[b[i]];p=i+1;if(p<C){do{if(b[p]==="+"&&b[p+1]==="+"||b[p]==="-"&&b[p+1]==="-")break;s=0;if(s<W){do{if(b[p]===v[s]){q.push(v[s]);break}s=s+1;}while(s<W)}if(s===W)break;p=p+1;}while(p<C)}j=q.join("");}}i=i+(j.length-1);if(j==="=>"&&x===")"){p=n.count;C=a.begin[p];do{if(a.begin[p]===C)a.stack[p]="method";p=p-1;}while(p>C-1)}return j}function I(){let p=true;let s="+";let C="";let j="";let v="";let W=0;let q=0;let Q=0;let ie="";const J=[];function G(){Q=a.begin[Q]-1;if(a.types[Q]==="end"){G();}else if(a.token[Q-1]==="."){ue();}}function ue(){Q=Q-2;if(a.types[Q]==="end"){G();}else if(a.token[Q-1]==="."){ue();}}function X(){let fe=0;const pe=J.length;if(fe<pe){do{n.push(a,J[fe],"");fe=fe+1;}while(fe<pe)}}function se(fe){const pe=Pe(null);pe.begin=a.begin[fe];pe.ender=a.ender[fe];pe.lexer=a.lexer[fe];pe.lines=a.lines[fe];pe.stack=a.stack[fe];pe.token=a.token[fe];pe.types=a.types[fe];return pe}C=a.token[n.count];j=a.token[n.count-1];v=a.token[n.count-2];if(C!=="++"&&C!=="--"&&j!=="++"&&j!=="--"){Q=n.count;if(a.types[Q]==="end"){G();}else if(a.token[Q-1]==="."){ue();}}if(a.token[Q-1]==="++"||a.token[Q-1]==="--"){if("startendoperator".indexOf(a.types[Q-2])>-1)return;W=Q;if(W<n.count+1){do{J.push(se(W));W=W+1;}while(W<n.count+1);n.splice({data:a,howmany:n.count-Q,index:Q});}}else {if(h.script.correct===false||C!=="++"&&C!=="--"&&j!=="++"&&j!=="--"){return}ie=ne(1,false);if((C==="++"||C==="--")&&(b[i]===";"||ie===";"||b[i]==="}"||ie==="}"||b[i]===")"||ie===")")){s=a.stack[n.count];if(s==="array"||s==="method"||s==="object"||s==="paren"||s==="notation"||a.token[a.begin[n.count]-1]==="while"&&s!=="while"){return}W=n.count;do{W=W-1;if(a.token[W]==="return")return;if(a.types[W]==="end"){do{W=a.begin[W]-1;}while(a.types[W]==="end"&&W>0)}}while(W>0&&(a.token[W]==="."||a.types[W]==="word"||a.types[W]==="reference"||a.types[W]==="end"));if(a.token[W]===","&&b[i]!==";"&&ie!==";"&&b[i]!=="}"&&ie!=="}"&&b[i]!==")"&&ie!==")"){return}if(a.types[W]==="operator"){if(a.stack[W]==="switch"&&a.token[W]===":"){do{W=W-1;if(a.types[W]==="start"){q=q-1;if(q<0)break}else if(a.types[W]==="end"){q=q+1;}if(a.token[W]==="?"&&q===0)return}while(W>0)}else {return}}p=false;s=C==="--"?"-":"+";}else if(v==="["||v===";"||v==="x;"||v==="}"||v==="{"||v==="("||v===")"||v===","||v==="return"){if(C==="++"||C==="--"){if(v==="["||v==="("||v===","||v==="return")return;if(C==="--")s="-";p=false;}else if(j==="--"||C==="--"){s="-";}}else {return}if(p===false)t=n.pop(a);Q=n.count;if(a.types[Q]==="end"){G();}else if(a.token[Q-1]==="."){ue();}W=Q;if(W<n.count+1){do{J.push(se(W));W=W+1;}while(W<n.count+1)}}if(p===true){n.splice({data:a,howmany:1,index:Q-1});x="=";e="operator";ee("");X();x=s;e="operator";ee("");x="1";e="number";ee("");}else {x="=";e="operator";ee("");X();x=s;e="operator";ee("");x="1";e="number";ee("");}x=a.token[n.count];e=a.types[n.count];if(ie==="}"&&b[i]!==";")m(false);}function ee(p){n.push(a,{begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"script",lines:n.linesSpace,stack:n.structure[n.structure.length-1][0],token:x,types:e},p);}function Ne(){let p=i+1;let s=0;let C=0;let j="";let v=false;const W=R;const q=["/"];if(p<W){do{q.push(b[p]);if(b[p-1]!=="\\"||b[p-2]==="\\"){if(b[p]==="["){v=true;}if(b[p]==="]"){v=false;}}if(b[p]==="/"&&v===false){if(b[p-1]==="\\"){C=0;s=p-1;if(s>0){do{if(b[s]==="\\"){C=C+1;}else {break}s=s-1;}while(s>0)}if(C%2===0){break}}else {break}}p=p+1;}while(p<W)}if(b[p+1]==="g"||b[p+1]==="i"||b[p+1]==="m"||b[p+1]==="y"||b[p+1]==="u"){q.push(b[p+1]);if(b[p+2]!==b[p+1]&&(b[p+2]==="g"||b[p+2]==="i"||b[p+2]==="m"||b[p+2]==="y"||b[p+2]==="u")){q.push(b[p+2]);if(b[p+3]!==b[p+1]&&b[p+3]!==b[p+2]&&(b[p+3]==="g"||b[p+3]==="i"||b[p+3]==="m"||b[p+3]==="y"||b[p+3]==="u")){q.push(b[p+3]);if(b[p+4]!==b[p+1]&&b[p+4]!==b[p+2]&&b[p+4]!==b[p+3]&&(b[p+4]==="g"||b[p+4]==="i"||b[p+4]==="m"||b[p+4]==="y"||b[p+4]==="u")){q.push(b[p+4]);if(b[p+5]!==b[p+1]&&b[p+5]!==b[p+2]&&b[p+5]!==b[p+3]&&b[p+5]!==b[p+4]&&(b[p+5]==="g"||b[p+5]==="i"||b[p+5]==="m"||b[p+5]==="y"||b[p+5]==="u")){q.push(b[p+4]);i=p+5;}else {i=p+4;}}else {i=p+3;}}else {i=p+2;}}else {i=p+1;}}else {i=p;}j=q.join("");return j}function xe(p){const s=p;do{p=p-1;}while(b[p]==="\\"&&p>0);return (s-p)%2===1}function Qe(p){let s=n.count;let C="";let j="";let v="";let W=false;U.push(p);if(p==="{"&&(a.types[n.count]==="type"||a.types[n.count]==="type_end"||a.types[n.count]==="generic")){let q=0;if(a.types[n.count]==="type_end")s=a.begin[n.count];q=s;do{s=s-1;if(a.begin[s]!==q&&a.begin[s]!==-1)break;if(a.token[s]===":")break}while(s>a.begin[s]);if(a.token[s]===":"&&a.stack[s-1]==="arguments"){A.push(false);W=true;}else {A.push(A[A.length-1]);}s=n.count;}else if(p==="["&&a.types[n.count]==="type_end"){A.push(true);}else {A.push(A[A.length-1]);}if(k>-1){N();s=n.count;}if(O.len>-1)O.count[O.len]=O.count[O.len]+1;if(a.token[s-1]==="function"){E.push(["function",s+1]);}else {E.push([x,s+1]);}x=p;if(A[A.length-1]===true){e="type_start";}else {e="start";}if(p==="("||p==="x("){L();}else if(p==="{"){if(y>-1){if(a.begin[y-1]===a.begin[a.begin[s]-1]||a.token[a.begin[s]]==="x("){y=-1;if(h.script.correct===true){V(")");}else {V("x)");}L();x="{";e="start";}}else if(x===")"){L();}if(e==="comment"&&a.token[s-1]===")"){x=a.token[s];a.token[s]="{";e=a.types[s];a.types[s]="start";}}C=(()=>{let q=n.count;if(a.types[q]==="comment"){do{q=q-1;}while(q>0&&a.types[q]==="comment")}return a.token[q]})();j=a.stack[s]===void 0?"":(()=>{let q=n.count;if(a.types[q]==="comment"){do{q=q-1;}while(q>0&&a.types[q]==="comment")}return a.token[a.begin[q]-1]})();if(c(x,123)&&(a.types[s]==="word"||a.token[s]==="]")){let q=s;if(a.token[q]==="]"){do{q=a.begin[q]-1;}while(a.token[q]==="]")}do{if(a.types[q]==="start"||a.types[q]==="end"||a.types[q]==="operator")break;q=q-1;}while(q>0);if(a.token[q]===":"&&a.stack[q-1]==="arguments"){v="function";B.push(d);d=[];}}if(e==="type_start"){v="data_type";}else if(v===""&&(c(x,123)||x==="x{")){if(C==="else"||C==="do"||C==="try"||C==="finally"||C==="switch"){v=C;}else if(D[D.length-1]===0&&C!=="return"){D.pop();v="class";}else if(a.token[s-1]==="class"){v="class";}else if(a.token[s]==="]"&&a.token[s-1]==="["){v="array";}else if((a.types[s]==="word"||a.types[s]==="reference")&&(a.types[s-1]==="word"||a.types[s-1]==="reference"||a.token[s-1]==="?"&&(a.types[s-2]==="word"||a.types[s-2]==="reference"))&&a.token[s]!=="in"&&a.token[s-1]!=="export"&&a.token[s-1]!=="import"){v="map";}else if(a.stack[s]==="method"&&a.types[s]==="end"&&(a.types[a.begin[s]-1]==="word"||a.types[a.begin[s]-1]==="reference")&&a.token[a.begin[s]-2]==="new"){v="initializer";}else if(c(x,123)&&(c(C,41)||C==="x)")&&(a.types[a.begin[s]-1]==="word"||a.types[a.begin[s]-1]==="reference"||a.token[a.begin[s]-1]==="]")){if(j==="if"){v="if";}else if(j==="for"){v="for";}else if(j==="while"){v="while";}else if(j==="class"){v="class";}else if(j==="switch"||a.token[a.begin[s]-1]==="switch"){v="switch";}else if(j==="catch"){v="catch";}else {v="function";}}else if(c(x,123)&&(C===";"||C==="x;")){v="block";}else if(c(x,123)&&a.token[s]===":"&&a.stack[s]==="switch"){v="block";}else if(a.token[s-1]==="import"||a.token[s-2]==="import"||a.token[s-1]==="export"||a.token[s-2]==="export"){v="object";}else if(c(C,41)&&(_[0]==="function"||_[0]==="if"||_[0]==="for"||_[0]==="class"||_[0]==="while"||_[0]==="switch"||_[0]==="catch")){v=_[0];}else if(a.stack[s]==="notation"){v="function";}else if((a.types[s]==="number"||a.types[s]==="string"||a.types[s]==="word"||a.types[s]==="reference")&&(a.types[s-1]==="word"||a.types[s-1]==="reference")&&a.token[a.begin[s]-1]!=="for"){v="function";}else if(n.structure.length>0&&a.token[s]!==":"&&n.structure[n.structure.length-1][0]==="object"&&(a.token[a.begin[s]-2]==="{"||a.token[a.begin[s]-2]===",")){v="function";}else if(a.types[_[1]-1]==="markup"&&a.token[_[1]-3]==="function"){v="function";}else if(C==="=>"){v="function";}else if(W===true||a.types[n.count]==="type_end"&&a.stack[a.begin[n.count]-2]==="arguments"){v="function";}else if(c(C,41)&&a.stack[s]==="method"&&(a.types[a.begin[s]-1]==="word"||a.types[a.begin[s]-1]==="property"||a.types[a.begin[s]-1]==="reference")){v="function";}else if(a.types[s]==="word"&&c(x,123)&&a.token[s]!=="return"&&a.token[s]!=="in"&&a.token[s]!=="import"&&a.token[s]!=="const"&&a.token[s]!=="let"&&a.token[s]!==""){v="block";}else if(c(x,123)&&"if|else|for|while|function|class|switch|catch|finally".indexOf(a.stack[s])>-1&&(a.token[s]==="x}"||a.token[s]==="}")){v="block";}else if(a.stack[s]==="arguments"){v="function";}else if(a.types[s]==="generic"){do{s=s-1;if(a.token[s]==="function"||a.stack[s]==="arguments"){v="function";break}if(a.token[s]==="interface"){v="map";break}if(a.token[s]===";"){v="object";break}}while(s>a.begin[n.count])}else {v="object";}if(v!=="object"&&v!=="class"){if(v==="function"){B.push(d);d=[];}else {B.push([]);}}}else if(x==="["){v="array";}else if(x==="("||x==="x("){if(C==="function"||a.token[s-1]==="function"||a.token[s-1]==="function*"||a.token[s-2]==="function"){v="arguments";}else if(a.token[s-1]==="."||a.token[a.begin[s]-2]==="."){v="method";}else if(a.types[s]==="generic"){v="method";}else if(a.token[s]==="}"&&a.stack[s]==="function"){v="method";}else if(C==="if"||C==="for"||C==="class"||C==="while"||C==="catch"||C==="finally"||C==="switch"||C==="with"){v="expression";}else if(a.types[s]==="word"||a.types[s]==="property"||a.types[s]==="reference"){v="method";}else {v="paren";}}ee(v);if(D.length>0)D[D.length-1]=D[D.length-1]+1;}function Ue(){const p=[b[i]];i=i+1;if(i<R){do{p.push(b[i]);if(b[i]==="`"&&(b[i-1]!=="\\"||xe(i-1)===false))break;if(b[i-1]==="$"&&b[i]==="{"&&(b[i-2]!=="\\"||xe(i-2)===false))break;i=i+1;}while(i<R)}return p.join("")}function Ze(p){let s=2;let C=0;let j="";const v=p.slice(0,2);const W=p.length;if(p.charAt(2)==="-")s=s+1;if(/\s/.test(p.charAt(s))===true){do{s=s+1;}while(/\s/.test(p.charAt(s))===true&&s<W)}C=s;do{C=C+1;}while(/\s/.test(p.charAt(C))===false&&p.charAt(C)!=="("&&C<W);if(C===W)C=p.length-2;j=p.slice(s,C);if(j==="else"||v==="{%"&&(j==="elseif"||j==="when"||j==="elif"||j==="elsif")){return ["template_else",`template_${j}`]}if(v==="{{"){if(j==="end")return ["template_end",""];if(j==="block"&&/\{%\s*\w/.test(u)===false||j==="define"||j==="form"||j==="if"||j==="unless"||j==="range"||j==="with"){return ["template_start",`template_${j}`]}return ["template",""]}C=g.length-1;if(C>-1){do{if(j===g[C]&&(j!=="block"||/\{%\s*\w/.test(u)===false)){return ["template_start",`template_${j}`]}if(j==="end"+g[C]){return ["template_end",""]}C=C-1;}while(C>-1)}return ["template",""]}function H(){O.count.pop();O.index.pop();O.word.pop();O.len=O.len-1;}function N(){let p=k;let s=1;let C="";let j="";let v=x;let W=e;const q=[];function Q(){U.push("x{");n.splice({data:a,howmany:1,index:n.count-3});}function ie(J,G,ue){const X=a.begin[J];let se=0;do{if(a.token[J]===G&&a.types[J]==="word"){if(ue===true){a.types[J]="reference";}else if(a.begin[J]>X&&a.token[a.begin[J]]==="{"&&a.stack[J]!=="object"&&a.stack[J]!=="class"&&a.stack[J]!=="data_type"){if(a.stack[J]==="function"){a.types[J]="reference";}else {se=a.begin[J];do{if(a.stack[se]==="function"){a.types[J]="reference";break}se=a.begin[se];}while(se>X)}}}J=J-1;}while(J>X)}do{q.push(b[p]);if(b[p]==="\\"){n.error=`Illegal escape in JavaScript on line number ${n.lineNumber}`;}p=p+1;}while(p<i);if(x.charAt(0)==="\u201C"){n.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${n.lineNumber}`;}else if(x.charAt(0)==="\u201D"){n.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${n.lineNumber}`;}C=q.join("");k=-1;if(n.count>0&&C==="function"&&a.token[n.count]==="("&&(a.token[n.count-1]==="{"||a.token[n.count-1]==="x{")){a.types[n.count]="start";}if(n.count>1&&C==="function"&&x==="("&&(a.token[n.count-1]==="}"||a.token[n.count-1]==="x}")){if(a.token[n.count-1]==="}"){p=n.count-2;if(p>-1){do{if(a.types[p]==="end"){s=s+1;}else if(a.types[p]==="start"||a.types[p]==="end"){s=s-1;}if(s===0)break;p=p-1;}while(p>-1)}if(a.token[p]==="{"&&a.token[p-1]===")"){s=1;p=p-2;if(p>-1){do{if(a.types[p]==="end"){s=s+1;}else if(a.types[p]==="start"||a.types[p]==="end"){s=s-1;}if(s===0)break;p=p-1;}while(p>-1)}if(a.token[p-1]!=="function"&&a.token[p-2]!=="function"){a.types[n.count]="start";}}}else {a.types[n.count]="start";}}if(h.script.correct===true&&(C==="Object"||C==="Array")&&b[i+1]==="("&&b[i+2]===")"&&a.token[n.count-1]==="="&&a.token[n.count]==="new"){if(C==="Object"){a.token[n.count]="{";x="}";a.stack[n.count]="object";n.structure[n.structure.length-1][0]="object";}else {a.token[n.count]="[";x="]";a.stack[n.count]="array";n.structure[n.structure.length-1][0]="array";}a.types[n.count]="start";e="end";b[i+1]="";b[i+2]="";i=i+2;}else {s=n.count;p=s;if(h.script.variableList!=="none"&&(C==="var"||C==="let"||C==="const")){if(a.types[s]==="comment"){do{s=s-1;}while(s>0&&a.types[s]==="comment")}if(h.script.variableList==="list"&&O.len>-1&&O.index[O.len]===s&&C===O.word[O.len]){x=",";e="separator";a.token[s]=x;a.types[s]=e;O.count[O.len]=0;O.index[O.len]=s;O.word[O.len]=C;return}O.len=O.len+1;O.count.push(0);O.index.push(s);O.word.push(C);s=p;}else if(O.len>-1&&C!==O.word[O.len]&&n.count===O.index[O.len]&&a.token[O.index[O.len]]===";"&&x!==O.word[O.len]&&h.script.variableList==="list"){H();}if(C==="from"&&a.token[n.count]==="x;"&&a.token[n.count-1]==="}"){L();}if(C==="while"&&a.token[n.count]==="x;"&&a.token[n.count-1]==="}"){let J=0;let G=n.count-2;if(G>-1){do{if(a.types[G]==="end"){J=J+1;}else if(a.types[G]==="start"){J=J-1;}if(J<0){if(a.token[G]==="{"&&a.token[G-1]==="do")L();return}G=G-1;}while(G>-1)}}if(W==="comment"){let J=n.count;do{J=J-1;}while(J>0&&a.types[J]==="comment");W=a.types[J];v=a.token[J];}j=ne(2,false);if(C==="void"){if(v===":"&&a.stack[n.count-1]==="arguments"){e="type";}else {e="word";}}else if((n.structure[n.structure.length-1][0]==="object"||n.structure[n.structure.length-1][0]==="class"||n.structure[n.structure.length-1][0]==="data_type")&&(a.token[n.count]==="{"||a.token[a.begin[n.count]]==="{"&&a.token[n.count]===","||a.types[n.count]==="template_end"&&(a.token[a.begin[n.count]-1]==="{"||a.token[a.begin[n.count]-1]===","))){if(C==="return"||C==="break"){e="word";}else {e="property";}}else if(A[A.length-1]===true||(h.language==="typescript"||h.language==="flow")&&v==="type"){e="type";}else if(B.length>0&&(v==="function"||v==="class"||v==="const"||v==="let"||v==="var"||v==="new"||v==="void")){e="reference";B[B.length-1].push(C);if(h.language==="javascript"||h.language==="jsx"||h.language==="typescript"||h.language==="tsx"){if(v==="var"||v==="function"&&a.types[n.count-1]!=="operator"&&a.types[n.count-1]!=="start"&&a.types[n.count-1]!=="end"){ie(n.count,C,true);}else {ie(n.count,C,false);}}else {ie(n.count,C,false);}}else if(n.structure[n.structure.length-1][0]==="arguments"&&e!=="operator"){e="reference";d.push(C);}else if(v===","&&a.stack[n.count]!=="method"&&(a.stack[n.count]!=="expression"||a.token[a.begin[n.count]-1]==="for")){let J=n.count;const G=n.structure[n.structure.length-1][1];do{if(a.begin[J]===G){if(a.token[J]===";")break;if(a.token[J]==="var"||a.token[J]==="let"||a.token[J]==="const"||a.token[J]==="type"){break}}else if(a.types[J]==="end"){J=a.begin[J];}J=J-1;}while(J>G);if(B.length>0&&a.token[J]==="var"){e="reference";B[B.length-1].push(C);if(h.language==="javascript"||h.language==="jsx"||h.language==="typescript"||h.language==="tsx"){ie(J,C,true);}else {ie(J,C,false);}}else if(B.length>0&&(a.token[J]==="let"||a.token[J]==="const"||a.token[J]==="type"&&(h.language==="typescript"||h.language==="tsx"))){e="reference";B[B.length-1].push(C);ie(J,C,false);}else {e="word";}}else if(n.structure[n.structure.length-1][0]!=="object"||n.structure[n.structure.length-1][0]==="object"&&x!==","&&x!=="{"){let J=B.length;let G=0;if(J>0){do{J=J-1;G=B[J].length;if(G>0){do{G=G-1;if(C===B[J][G])break}while(G>0);if(C===B[J][G])break}}while(J>0);if(B[J][G]===C&&v!=="."){e="reference";}else {e="word";}}else {e="word";}}else {e="word";}x=C;if(C==="from"&&a.token[n.count]==="}")L();}ee("");if(C==="class")D.push(0);if(C==="do"){j=ne(1,true);if(j!=="{"){x=h.script.correct===true?"{":"x{";e="start";U.push("x{");ee("do");}}if(C==="else"){j=ne(2,true);let J=n.count-1;if(a.types[J]==="comment"){do{J=J-1;}while(J>0&&a.types[J]==="comment")}if(a.token[J]==="x}"){if(a.token[n.count]==="else"){if(a.stack[n.count-1]!=="if"&&a.types[n.count-1]!=="comment"&&a.stack[n.count-1]!=="else"){U.pop();n.splice({data:a,howmany:0,index:n.count-1,record:{begin:a.begin[a.begin[a.begin[n.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:h.script.correct===true?"}":"x}",types:"end"}});if(n.structure.length>1){n.structure.splice(n.structure.length-2,1);n.structure[n.structure.length-1][1]=n.count;}}else if(a.token[n.count-2]==="x}"&&w[0]!=="if"&&a.stack[n.count]==="else"){Q();}else if(a.token[n.count-2]==="}"&&a.stack[n.count-2]==="if"&&w[0]==="if"&&a.token[w[1]-1]!=="if"&&a.token[a.begin[n.count-1]]==="x{"){Q();}}else if(a.token[n.count]==="x}"&&a.stack[n.count]==="if"){Q();}}if(j!=="if"&&j.charAt(0)!=="{"){x=h.script.correct===true?"{":"x{";e="start";U.push("x{");ee("else");}}if((C==="for"||C==="if"||C==="switch"||C==="catch")&&a.token[n.count-1]!=="."){j=ne(1,true);if(j!=="("){y=n.count;if(h.script.correct===true){Qe("(");}else {Qe("x(");}}}}do{if(/\s/.test(b[i])){if(k>-1)N();i=n.spacer({array:b,end:R,index:i});if(n.linesSpace>1&&x!==";"&&l<n.count&&b[i+1]!=="}"){m(false);l=n.count;}}else if(b[i]==="{"&&b[i+1]==="%"){z("{%","%}","template");}else if(b[i]==="{"&&b[i+1]==="{"){z("{{","}}","template");}else if(b[i]==="<"&&b[i+1]==="!"&&b[i+2]==="-"&&b[i+3]==="-"){z("<!--","-->","comment");}else if(b[i]==="<"){Y();}else if(b[i]==="/"&&(i===R-1||b[i+1]==="*")){P();}else if((n.count<0||a.lines[n.count]>0)&&b[i]==="#"&&b[i+1]==="!"&&(b[i+2]==="/"||b[i+2]==="[")){z("#!"+b[i+2],"\n","string");}else if(b[i]==="/"&&(i===R-1||b[i+1]==="/")){re();}else if(c(b[i],96)||c(b[i],125)&&n.structure[n.structure.length-1][0]==="template_string"){if(k>-1)N();x=Ue();if(c(x,125)&&x.slice(x.length-2)==="${"){e="template_string_else";ee("template_string");}else if(x.slice(x.length-2)==="${"){e="template_string_start";ee("template_string");}else if(c(x[0],125)){e="template_string_end";ee("");}else {e="string";ee("");}}else if(b[i]==='"'||b[i]==="'"){z(b[i],b[i],"string");}else if(b[i]==="-"&&(i<R-1&&b[i+1]!=="="&&b[i+1]!=="-")&&(e==="number"||e==="word"||e==="reference")&&x!=="return"&&(x===")"||x==="]"||e==="word"||e==="reference"||e==="number")){if(k>-1)N();x="-";e="operator";ee("");}else if(k===-1&&(b[i]!=="0"||b[i]==="0"&&b[i+1]!=="b")&&(/\d/.test(b[i])||i!==R-2&&b[i]==="-"&&b[i+1]==="."&&/\d/.test(b[i+2])||i!==R-1&&(b[i]==="-"||b[i]===".")&&/\d/.test(b[i+1]))){if(k>-1)N();if(e==="end"&&b[i]==="-"){x="-";e="operator";}else {x=de();e="number";}ee("");}else if(b[i]===":"&&b[i+1]===":"){if(k>-1)N();if(h.script.correct===true)I();L();i=i+1;x="::";e="separator";ee("");}else if(b[i]===","){if(k>-1)N();if(h.script.correct===true)I();if(A[A.length-1]===true&&a.stack[n.count].indexOf("type")<0){A[A.length-1]=false;}if(e==="comment"){te();}else if(O.len>-1&&O.count[O.len]===0&&h.script.variableList==="each"){L();x=";";e="separator";ee("");x=O.word[O.len];e="word";ee("");O.index[O.len]=n.count;}else {x=",";e="separator";L();ee("");}}else if(b[i]==="."){if(k>-1)N();A[A.length-1]=false;if(b[i+1]==="."&&b[i+2]==="."){x="...";e="operator";i=i+2;}else {L();x=".";e="separator";}if(/\s/.test(b[i-1])===true)n.linesSpace=1;ee("");}else if(b[i]===";"){if(k>-1)N();if(A[A.length-1]===true&&a.stack[n.count].indexOf("type")<0){A[A.length-1]=false;}if(D[D.length-1]===0)D.pop();if(O.len>-1&&O.count[O.len]===0){if(h.script.variableList==="each"){H();}else {O.index[O.len]=n.count+1;}}if(h.script.correct===true)I();x=";";e="separator";if(a.token[n.count]==="x}"){$();}else {ee("");}T();}else if(b[i]==="("||b[i]==="["||b[i]==="{"){Qe(b[i]);}else if(b[i]===")"||b[i]==="]"||b[i]==="}"){V(b[i]);}else if(b[i]==="*"&&a.stack[n.count]==="object"&&k<0&&/\s/.test(b[i+1])===false&&b[i+1]!=="="&&/\d/.test(b[i+1])===false){k=i;}else if(b[i]==="="||b[i]==="&"||b[i]==="<"||b[i]===">"||b[i]==="+"||b[i]==="-"||b[i]==="*"||b[i]==="/"||b[i]==="!"||b[i]==="?"||b[i]==="|"||b[i]==="^"||b[i]===":"||b[i]==="%"||b[i]==="~"){x=oe();if(x==="regex"){x=a.token[n.count];}else if(x==="*"&&a.token[n.count]==="function"){a.token[n.count]="function*";}else {e="operator";if(x!=="!"&&x!=="++"&&x!=="--")L();ee("");}}else if(k<0&&b[i]!==""){k=i;}if(O.len>-1&&n.count===O.index[O.len]+1&&a.token[O.index[O.len]]===";"&&x!==O.word[O.len]&&e!=="comment"&&h.script.variableList==="list"){H();}i=i+1;}while(i<R);if(k>-1)N();if((a.token[n.count]!=="}"&&a.token[0]==="{"||a.token[0]!=="{")&&(a.token[n.count]!=="]"&&a.token[0]==="["||a.token[0]!=="[")){m(false);}if(r[0]===n.count){x="\n"+r[1];e="string";ee("");}if(a.token[n.count]==="x;"&&(a.token[n.count-1]==="}"||a.token[n.count-1]==="]")&&a.begin[n.count-1]===0){n.pop(a);}h.script=f;return a};var He={markup:"markup",html:"markup",liquid:"markup",xml:"markup",javascript:"script",typescript:"script",jsx:"script",tsx:"script",json:"script",less:"style",scss:"style",sass:"style",css:"style",text:"text"};var ot={html:"HTML",xhtml:"XHTML",liquid:"Liquid",xml:"XML",jsx:"JSX",tsx:"TSX",json:"JSON",yaml:"YAML",css:"CSS",scss:"SCSS",sass:"SASS",less:"LESS",text:"Plain Text",javascript:"JavaScript",typescript:"TypeScript"};function Ye(o){return typeof o!=="string"||o.indexOf("html")>-1||He[o]===void 0?"markup":He[o]}function ht(o){if(typeof o!=="string"||ot[o]===void 0)return o.toUpperCase();return ot[o]}function be(o){const u={};if(o==="unknown"){u.language=o;u.languageName="Unknown";u.lexer="markup";}else if(o==="xhtml"||o==="markup"){u.language="xml";u.languageName="XHTML";u.lexer="markup";}else {u.language=o;u.languageName=ht(o);u.lexer=Ye(o);}if(M.hooks.language.length>0){for(const h of M.hooks.language){const f=h(u);if(typeof f==="object")Oe(u,f);}}return u}Te.reference=be;Te.listen=function(o){M.hooks.language.push(o);};function Te(o){let u=[];let h=0;const f=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(o)&&/@import/.test(o)===false;const i=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(o);function x(){if(/\n\s*#+\s+/.test(o)||/^#+\s+/.test(o))return be("markdown");if(/\$[a-zA-Z]/.test(o)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(o)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(o)&&/:\s*@[a-zA-Z];/.test(o)===false)return be("scss");if(/@[a-zA-Z]:/.test(o)||/\.[a-zA-Z]\(\);/.test(o))return be("less");return be("css")}function e(){let l=1;let k=S;let y=false;let d=false;const t=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(o);function w(){if(o.indexOf("(")>-1||o.indexOf("=")>-1||o.indexOf(";")>-1&&o.indexOf("{")>-1){if(i===true||/\w<\w+(,\s+\w+)*>/.test(o))return be("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(o)||/=\s*<\w+/.test(o))return be("typescript");return be("javascript")}return be("unknown")}function F(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(o)||/(?:public|private)\s+/.test(o)||/(?:export|declare)\s+type\s+\w+\s*=/.test(o)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(o)||/(?:typeof|keyof|as)\s+\w+/.test(o)||/\w+\s+as\s+\w+/.test(o)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(o)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(o)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(o))return be("typescript");if(/\s(class|var|const|let)\s+\w/.test(o)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(o)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(o)&&(/\s?\{%/.test(o)||/{{/.test(o)))return be("liquid");if(/^(\s*[$@])/.test(o)===false&&/([}\]];?\s*)$/.test(o)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(o)||/module\.export\s+=\s+/.test(o)||/export\s+default\s+\{/.test(o)||/[?:]\s*[{[]/.test(o)||/^(?:\s*return;?(?:\s+[{[])?)/.test(o)){return be("javascript")}}if(/{%/.test(o)&&/{{/.test(o)&&/<\w/.test(o))return be("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(o))return be("less");if(/\$(\w|-)/.test(o))return be("scss");if(/[;{:]\s*@\w/.test(o)===true)return be("less");return be("css")}if(l<h){do{if(y===false){if(c(u[l],42)&&c(u[l-1],47)){u[l-1]=S;y=true;}else if(d===false&&l<h-6&&u[l].charCodeAt(0)===102&&u[l+1].charCodeAt(0)===105&&u[l+2].charCodeAt(0)===108&&u[l+3].charCodeAt(0)===116&&u[l+4].charCodeAt(0)===101&&u[l+5].charCodeAt(0)===114&&c(u[l+6],58)){d=true;}}else if(y===true&&c(u[l],42)&&l!==h-1&&c(u[l+1],47)){y=false;u[l]=S;u[l+1]=S;}else if(d===true&&c(u[l],59)){d=false;u[l]=S;}if(y===true||d===true)u[l]=S;l=l+1;}while(l<h)}k=u.join(S);if(/\s\/\//.test(o)===false&&/\/\/\s/.test(o)===false&&/^(\s*(\{|\[)(?!%))/.test(o)===true&&/((\]|\})\s*)$/.test(o)&&o.indexOf(",")!==-1)return be("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(o)===true&&(f===true||t===true||/console\.log\(/.test(o)===true||/export\s+default\s+class\s+/.test(o)===true||/export\s+(const|var|let|class)s+/.test(o)===true||/document\.get/.test(o)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(o)===true||o.indexOf("{")===-1||/^(\s*if\s+\()/.test(o)===true))return w();if(o.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(o)||/^(\s*\/(\*|\/))/.test(o)||/^(\s*\*\s*\{)/.test(o))&&/^(\s*if\s*\()/.test(o)===false&&/=\s*(\{|\[|\()/.test(k)===false&&(/(\+|-|=|\?)=/.test(k)===false||/\/\/\s*=+/.test(k)||/=+('|")?\)/.test(o)&&/;\s*base64/.test(o))&&/function(\s+\w+)*\s*\(/.test(k)===false)return F();return o.indexOf("{%")>-1?be("liquid"):be("unknown")}function _(){function l(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(o)||/{%-?\s*end\w+/.test(o)||/{{-?\s*content_for/.test(o)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(o)||/{%/.test(o)&&/%}/.test(o)&&/{{/.test(o)&&/}}/.test(o)?be("liquid"):be("html")}return /^(\s*<!doctype\s+html>)/i.test(o)||/^(\s*<html)/i.test(o)||/<form\s/i.test(o)&&/<label\s/i.test(o)&&/<input\s/i.test(o)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(o)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(o))||/<ul\s/i.test(o)&&/<li\s/i.test(o)&&/<\/li>/i.test(o)&&/<\/ul>/i.test(o)||/<head\s*>/.test(o)&&/<\/head>/.test(o)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(o)&&/XHTML\s+1\.1/.test(o)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(o)===false?l():/\s?{[{%]-?/.test(o)?be("liquid"):be("xml")}if(o===null||o.replace(/\s+/g,S)===S)return be("unknown");if((/\n\s*#{1,6}\s+/.test(o)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(o))&&(/\[( |x|X)\]/.test(o)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(o)||/\n\s*```[a-zA-Z]*?\s+/.test(o)||/-+\|(-+\|)+/.test(o)))return be("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(o))return _();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(o))return x();if(i===false&&/=(>|=|-|\+|\*)/.test(o)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(o)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(o)===false&&f===false&&/return\s*\w*\s*(;|\})/.test(o)===false&&(o===void 0||/^(?:\s*#(?!(!\/)))/.test(o)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(o)&&/>\s*<\w/.test(o)===false||(/^\s*:root\s*\{/.test(o)||/-{2}\w+\s*\{/.test(o)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(o))))return x();u=o.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,S).split(S);h=u.length;if(/^(\s*({{|{%|<))/.test(o))return _();if(i===true||/^(?:[\s\w-]*<)/.test(o)===false&&/(?:>[\s\w-]*)$/.test(o)===false)return e();return (/^(?:\s*<\?xml)/.test(o)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(o)||/^\s*</.test(o)&&/<\/\w+(\w|\d)+>\s*$/.test(o))&&(/^(?:[\s\w]*<)/.test(o)||/(?:>[\s\w]*)$/.test(o))||/^(?:\s*<s((cript)|(tyle)))/i.test(o)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(o)?/^(?:[\s\w]*<)/.test(o)===false||/(?:>[\s\w]*)$/.test(o)===false?e():_():be("unknown")}M.lexers.markup=function o(u){const{options:h}=M;const{data:f}=n;const i=h.language==="jsx"||h.language==="tsx";const x=h.language==="html"||h.language==="liquid";const e=h.markup;const _=e.attributeSortList.length;const l=u.split(S);const k=l.length;const y={end:0,start:0,line:1,index:-1};let d=0;let t=false;let w="javascript";let F=x?h.language:"html";let a=0;function B(A){if(e.delimiterTrims==="force"){if(c(A[1],37)){if(!c(A[2],45))A=A.replace(/^{%/,"{%-");if(!A.endsWith("-%}"))A=A.replace(/%}$/,"-%}");}else {if(!c(A[2],45))A=A.replace(/^{{/,"{{-");if(!A.endsWith("-}}"))A=A.replace(/}}$/,"-}}");}}else if(e.delimiterTrims==="strip"){if(c(A[1],37)){if(c(A[2],45))A=A.replace(/^{%-/,"{%");if(A.endsWith("-%}"))A=A.replace(/-%}$/,"%}");}else {if(c(A[2],45))A=A.replace(/^{{-/,"{{");if(A.endsWith("-}}"))A=A.replace(/-}}$/,"}}");}}else if(e.delimiterTrims==="tags"&&c(A[1],37)){if(!c(A[2],45))A=A.replace(/^{%/,"{%-");if(!A.endsWith("-%}"))A=A.replace(/%}$/,"-%}");}else if(e.delimiterTrims==="outputs"&&c(A[1],123)){if(!c(A[2],45))A=A.replace(/^{{/,"{{-");if(!A.endsWith("-}}"))A=A.replace(/}}$/,"-}}");}return A}function R(A){if(x===true&&i===false){if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(A))return A;if(e.delimiterTrims!=="preserve")A=B(A);if(e.delimiterSpacing===true){A=A.replace(/^{[{%]-?\s*/g,g=>g.replace(Ce,K));A=A.replace(/\s*-?[%}]}$/g,g=>g.replace(Le,K));}return A}return A}function b(A,g,O){if(A===f){if(g.types.indexOf("end")>-1){y.end=y.end+1;}else if(g.types.indexOf("start")>-1){y.start=y.start+1;}}y.index=n.count;y.line=n.lineNumber;n.push(A,g,O);}function E(A){let g=0;let O=S;const m=/^(?:<|{%-?|{{-?)\s*/;if(typeof A!=="string")return S;g=A.replace(m,"%").replace(/\s+/,K).indexOf(K);O=A.replace(m,K);O=g<0?O.slice(1,A.length-1):O.slice(1,g);if(F==="html")O=O.toLowerCase();O=O.replace(/-?[%}]}$/,S);if(O.indexOf("(")>0)O=O.slice(0,O.indexOf("("));if(O==="?xml?")return "xml";return O}function U(A,g){const O=E(A);const m={begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"markup",lines:f.lines[n.count]>0?1:0,stack:n.structure[n.structure.length-1][0],token:`</${n.structure[n.structure.length-1][0]}>`,types:"end"};b(f,m,S);if(ae.html.tags.has(n.structure[n.structure.length-1][0])&&(g===true&&n.structure.length>1||g===false&&`/${n.structure[n.structure.length-1][0]}`!==O)){do{m.begin=n.structure[n.structure.length-1][1];m.stack=n.structure[n.structure.length-1][0];m.token=`</${n.structure[n.structure.length-1][0]}>`;b(f,m,S);}while(ae.html.tags.has(n.structure[n.structure.length-1][0])&&(g===true&&n.structure.length>1||g===false&&`/${n.structure[n.structure.length-1][0]}`!==O))}}function D(A){const g={begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"markup",lines:n.linesSpace,stack:n.structure[n.structure.length-1][0],token:S,types:S};let O=0;let m=S;let $=S;let L=S;let P=S;let T=S;let te=false;let V=false;let z=false;let re=false;let Y=false;let ne=false;let de=false;let I=[];let ee=[S,0];function Ne(H){const N=H.indexOf("=");if(N>0&&(N<H.indexOf('"')&&H.indexOf('"')>0||N<H.indexOf("'")&&H.indexOf("'")>0)){return [H.slice(0,N),H.slice(N+1)]}return [H,S]}function xe(){const H=n.count;const N=P.replace(/(\/)$/,S);const p=e.quoteConvert;let s=0;let C=0;let j=0;let W=S;let q=S;let Q=[];let ie=I.length;function J(){let G=Be(g.token,5);if(z===true||p==="none"||g.types.indexOf("attribute")<0||G===false&&p==="single"&&g.token.indexOf('"')<0||G===false&&p==="double"&&g.token.indexOf("'")<0){b(f,g,S);}else {let ue=0;let X=false;const se=g.token.split(S);const fe=g.token.indexOf("=");const pe=se.length-1;if(Z(se[fe+1],34)&&Z(se[se.length-1],34)&&p==="single"&&G===false){b(f,g,S);}else if(Z(se[fe+1],39)&&Z(se[se.length-1],39)&&p==="double"&&G===false){b(f,g,S);}else {ue=fe+2;if(G===false){if(p==="double"){if(g.token.slice(fe+2,pe).indexOf('"')>-1)X=true;se[fe+1]='"';se[se.length-1]='"';}else if(p==="single"){if(g.token.slice(fe+2,pe).indexOf("'")>-1)X=true;se[fe+1]="'";se[se.length-1]="'";}}if(X===true||G===true){G=false;do{if(c(se[ue-1],123)&&(c(se[ue],37)||c(se[ue],123))){G=true;}else if(c(se[ue],125)&&(c(se[ue-1],37)||c(se[ue-1],125))){G=false;}if(G===true){if(c(se[ue],34)&&p==="double"){se[ue]="'";}else if(c(se[ue],39)&&p==="single"){se[ue]='"';}}else {if(c(se[ue],39)&&p==="double"){se[ue]='"';}else if(c(se[ue],34)&&p==="single"){se[ue]="'";}}ue=ue+1;}while(ue<pe)}g.token=se.join(S);b(f,g,S);}}}if(I.length<1)return;if(c(I[I.length-1][0],47)){I.pop();m=m.replace(/>$/,"/>");}C=I.length;j=1;if(j<C){do{W=I[j-1][0];if(W.charCodeAt(W.length-1)===61&&I[j][0].indexOf("=")<0){I[j-1][0]=W+I[j][0];I.splice(j,1);C=C-1;j=j-1;}j=j+1;}while(j<C)}if(e.attributeSort===true&&i===false&&re===false&&Y===false){if(_>0){const G=[];j=0;C=0;ie=I.length;do{C=0;do{W=I[C][0].split("=")[0];if(e.attributeSortList[j]===W){G.push(I[C]);I.splice(C,1);ie=ie-1;break}C=C+1;}while(C<ie);j=j+1;}while(j<_);I=n.safeSort(I,S,false);I=G.concat(I);ie=I.length;}else {I=n.safeSort(I,S,false);}}g.begin=H;g.stack=N;g.types="attribute";Q=[];if(s<ie){do{if(I[s]===void 0)break;g.lines=I[s][1];I[s][0]=I[s][0].replace(Re,S);if(i===true&&/^\/(\/|\*)/.test(I[s][0])){g.types="comment_attribute";g.token=I[s][0];J();s=s+1;continue}if(c(I[s][0][0],123)&&c(I[s][0][1],37)||c(I[s][0][I[s][0].length-1],125)&&c(I[s][0][I[s][0].length-2],37)){if(Ie(I[s][0])){g.token=I[s][0];g.types="template_attribute_end";g.ender=g.begin;}else {const G=ze(I[s][0]);if(ae.liquid.tags.has(G)){g.types="template_attribute_start";g.begin=n.count;g.token=I[s][0];}else if(ae.liquid.else.has(G)){g.types="template_attribute_else";g.token=I[s][0];}else {g.types="template_attribute";g.token=I[s][0];}}J();s=s+1;continue}if(c(I[s][0][0],123)&&c(I[s][0][1],123)||c(I[s][0][I[s][0].length-1],125)&&c(I[s][0][I[s][0].length-2],125)){if(Ie(I[s][0])){g.token=I[s][0];g.types="template_attribute_end";g.ender=g.begin;}else {const G=ze(I[s][0]);if(ae.liquid.tags.has(G)){g.types="template_attribute_start";g.begin=n.count;g.token=I[s][0];}else if(ae.liquid.else.has(G)){g.types="template_attribute_else";g.token=I[s][0];}else {g.types="template_attribute";g.token=I[s][0];}}J();s=s+1;continue}C=I[s][0].indexOf("=");j=I[s][0].indexOf('"');I[s][0].indexOf("'");if(C<0){g.types="attribute";if(c(I[s][0],35)||c(I[s][0],91)||c(I[s][0],123)||c(I[s][0],40)||i===true){g.token=I[s][0];}else {if(e.attributeCasing==="preserve"){g.token=I[s][0];}else {g.token=I[s][0].toLowerCase();}}J();}else {W=I[s][0].slice(0,C);q=I[s][0].slice(C+1);if(e.correct&&(Z(q[0],60)||Z(q[0],123)||Z(q[0],61)||Z(q[0],34)||Z(q[0],39))){q='"'+q+'"';}if(i===true&&/^\s*{/.test(q)){g.token=W+"={";g.types="jsx_attribute_start";b(f,g,"jsx_attribute");M.lexers.script(q.slice(1,q.length-1));g.begin=n.count;if(/\s\}$/.test(q)){q=q.slice(0,q.length-1);q=Re.exec(q)[0];g.lines=q.indexOf("\n")<0?1:q.split("\n").length;}else {g.lines=0;}g.begin=n.structure[n.structure.length-1][1];g.stack=n.structure[n.structure.length-1][0];g.token="}";g.types="jsx_attribute_end";J();g.types="attribute";g.begin=H;g.stack=N;}else {if(Ie(W)||(Z(q,39)||Z(q,34))&&Ie(q)){g.token=I[s][0];g.types="template_attribute_end";g.ender=g.begin;}else if(Be(W,5)&&(Z(q,39)||Z(q,34))&&Be(W,5)){const G=ze(I[s][0]);if(ae.liquid.tags.has(G)){g.types="template_attribute_start";g.begin=n.count;g.token=I[s][0];}else if(ae.liquid.else.has(G)){g.types="template_attribute_else";g.token=I[s][0];}else {g.types="template_attribute";g.token=I[s][0];}}else {g.types="attribute";if(c(I[s][0],35)||c(I[s][0],91)||c(I[s][0],123)||c(I[s][0],40)||i===true){g.token=I[s][0];}else {g.token=I[s][0];}}J();}}s=s+1;}while(s<ie)}if(Q.length>0){g.token=Q.join(K);J();}}t=false;if(A==="---"){T="---";L="ignore";ne=true;}else if(c(l[d],60)){if(c(l[d+1],47)){A=">";L="end";}else if(c(l[d+1],33)){if((l[d+2].charCodeAt(0)===100||l[d+2].charCodeAt(0)===68)&&(l[d+3].charCodeAt(0)===111||l[d+3].charCodeAt(0)===79)&&(l[d+4].charCodeAt(0)===99||l[d+4].charCodeAt(0)===67)&&(l[d+5].charCodeAt(0)===116||l[d+5].charCodeAt(0)===84)&&(l[d+6].charCodeAt(0)===121||l[d+6].charCodeAt(0)===89)&&(l[d+7].charCodeAt(0)===112||l[d+7].charCodeAt(0)===80)&&(l[d+8].charCodeAt(0)===101||l[d+8].charCodeAt(0)===69)){A=">";L="doctype";ne=true;}else if(c(l[d+2],45)&&c(l[d+3],45)){A="-->";L="comment";T="<!--";}else if(c(l[d+2],91)&&l[d+3].charCodeAt(0)===67&&l[d+4].charCodeAt(0)===68&&l[d+5].charCodeAt(0)===65&&l[d+6].charCodeAt(0)===84&&l[d+7].charCodeAt(0)===65&&c(l[d+8],91)){A="]]>";L="cdata";ne=true;}}else if(l[d+1]==="?"){A="?>";if(l[d+2].charCodeAt(0)===120&&l[d+3].charCodeAt(0)===109&&l[d+4].charCodeAt(0)===109){L="xml";de=true;}else {ne=true;L="template";}}else if(c(l[d+1],37)){ne=true;}else if((l[d+1].charCodeAt(0)===112||l[d+1].charCodeAt(0)===80)&&(l[d+2].charCodeAt(0)===114||l[d+2].charCodeAt(0)===82)&&(l[d+3].charCodeAt(0)===101||l[d+3].charCodeAt(0)===69)&&(c(l[d+4],62)||he(l[d+4]))){A="</pre>";L="ignore";ne=true;}else if(e.ignoreScripts===true&&l.slice(d+1,d+7).join(S).toLowerCase()==="script"){A="<\/script>";L="ignore";ne=true;z=true;}else if(e.ignoreStyles===true&&l.slice(d+1,d+6).join(S).toLowerCase()==="style"){A="</style>";L="ignore";ne=true;z=true;}else {de=true;A=">";}}else if(c(l[d],123)){if(i){t=true;V=true;g.token="{";g.types="script_start";n.structure.push(["script",n.count]);b(f,g,S);return}if(c(l[d+1],123)){ne=true;A="}}";L="template";}else if(c(l[d+1],37)){ne=true;A="%}";L="template";const H=l.indexOf("}",d+2);if(l[H-1].charCodeAt(0)===37){let N=l.slice(d+2,H-1).join(S);if(N.charCodeAt(0)===45){T="{%-";N=N.slice(1).trimStart();}else {T="{%";N=N.trimStart();}if(N.charCodeAt(N.length-1)===45){A="-%}";N=N.slice(0,N.length-1).trimEnd();}else {A="%}";N=N.trimEnd();}if(N==="comment"){const p=u.indexOf("{%",H);let s=p;if(l[p+1].charCodeAt(0)===45)s=p+1;s=u.indexOf("endcomment",s);if(s>0){s=l.indexOf("}",s);if(s>0&&l[s-1].charCodeAt(0)===37){L="comment";T=l.slice(d,H+1).join(S);A=l.slice(p,s+1).join(S);}}}else if(N==="#"){L="comment";L="template";A="%}";}}else {ne=true;A="%}";L="template";}}else {ne=true;A=l[d+1]+"}";L="template";}}if(e.preserveAttributes===true)ne=true;if(V)return;$=A.charAt(A.length-1);if(L==="comment"&&(c(l[d],60)||c(l[d],123)&&c(l[d+1],37))){ee=n.wrapCommentBlock({chars:l,end:k,lexer:"markup",opening:T,start:d,terminator:A});m=ee[0];d=ee[1];if(m.replace(T,S).trimStart().startsWith("@prettify-ignore-start")){g.token=m;g.types="ignore";b(f,g,S);return}}else if(d<k){let se=function(){if(ie===false&&c(l[d-1],123)&&(c(l[d],123)||c(l[d],37))){return true}else if(ie===true&&c(l[d],125)&&(c(l[d-1],125)||c(l[d-1],37))){return false}return ie},fe=function(){let we=d;do{we=we-1;}while(l[we]==="\\");we=d-we;return we%2===1},pe=function(we){let ge;let le=S;let Se=0;let ke=0;const qe="data-prettify-ignore";if(we===true){le=X.join(S);ge=Ne(le);W=S;if(ge[0]===qe)z=true;}else {le=X.join(S);if(i===false||i&&Z(le[le.length-1],125)){le=le.replace(/\s+/g,K);}ge=Ne(le);if(ge[0]===qe)z=true;if(i&&c(X[0],123)&&c(X[X.length-1],125))Q=0;}if(c(le[0],123)&&c(le[1],37))Y=true;if(we===false){if(nt(le)){a=a+1;}else if(Ie(le)){a=a-1;}}le=le.replace(/^\u0020/,S).replace(/\u0020$/,S);X=le.replace(/\r\n/g,"\n").split("\n");ke=X.length;if(Se<ke){do{X[Se]=X[Se].replace(/(\s+)$/,S);Se=Se+1;}while(Se<ke)}le=X.join(h.crlf===true?"\r\n":"\n");le=R(le);if(a>=1||Be(le,1)){if(Be(le,5)===false){v=c(l[d+1],10)||c(l[d],10)?2:c(l[d],32)&&Z(l[d+1],32)?1:0;}else {v=c(l[d+1],10)?2:Z(l[d+1],32)?0:v;}}if(le==="="){I[I.length-1][0]=`${I[I.length-1][0]}=`;}else if(c(le[0],61)&&I.length>0&&I[I.length-1][0].indexOf("=")<0){I[I.length-1][0]=I[I.length-1][0]+le;if(a>=1||Be(le,5))I[I.length-1][1]=v;}else if(Z(le[0],61)&&I.length>0&&I[I.length-1][0].indexOf("=")===I[I.length-1][0].length-1){I[I.length-1][0]=I[I.length-1][0]+le;}else if(le!==S&&le!==K){I.push([le,v]);}if(I.length>0){const[De]=I[I.length-1];if(De.indexOf("=\u201C")>0){n.error=`Invalid quote character (\u201C, &#x201c) used on line number ${n.lineNumber}`;}else if(De.indexOf("=\u201D")>0){n.error=`Invalid quote character (\u201D, &#x201d) used on line number ${n.lineNumber}`;}}X=[];v=l[d]==="\n"?2:1;};const H=[];let N=0;let p=0;let s=0;let C=0;let j=0;let v=0;let W=S;let q=S;let Q=0;let ie=false;let J=false;let G=false;let ue=false;let X=[];do{if(c(l[d],10)){v=v+1;n.lineNumber=n.lineNumber+1;}if(ne===true||(he(l[d])===false&&Z(W,125)||c(W,125))){ie=se();H.push(l[d]);if(c(H[0],60)&&c(H[1],62)&&c(A,62)){g.token="<>";g.types="start";b(f,g,"(empty)");return}if(c(H[0],60)&&c(H[1],47)&&c(H[2],62)&&c(A,62)){g.token="</>";g.types="end";b(f,g,S);return}}if(L==="cdata"&&c(l[d],62)&&c(l[d-1],93)&&Z(l[d-2],93)){n.error=`CDATA tag (${H.join(S)}) not properly terminated with "]]>"`;break}if(L==="comment"){W=S;if(l[d]===$&&H.length>A.length+1){p=H.length;N=A.length-1;if(N>-1){do{p=p-1;if(H[p]!==A.charAt(N))break;N=N-1;}while(N>-1)}if(N<0)break}}else {if(W===S){if(c(H[0],60)&&c(H[1],33)&&L!=="cdata"){if(L==="doctype"&&c(l[d],62))break;if(c(l[d],91)){if(c(l[d+1],60)){L="start";break}if(he(l[d+1])){do{d=d+1;if(c(l[d],10))v=v+1;}while(d<k-1&&he(l[d+1]))}if(c(l[d+1],60)){L="start";break}}}if(i){if(c(l[d],123)){Q=Q+1;}else if(c(l[d],125)){Q=Q-1;}}if(c(l[d],60)&&ne===false&&H.length>1&&/>{2,3}/.test(A)===false&&de){n.error=`Parse error (line ${n.lineNumber}) on: ${H.join(S)}`;}if(J===true&&he(l[d])===false&&l[d]!==$){J=false;O=0;W=q;H.pop();if(d<k){do{if(c(l[d],10))n.lineNumber=n.lineNumber+1;if(e.preserveAttributes===true){H.push(l[d]);}else {X.push(l[d]);}if(Z(W,34)||Z(W,39)){if(c(l[d-1],123)&&(c(l[d],37)||c(l[d],123))){ie=true;}else if((c(l[d-1],125)||c(l[d-1],37))&&c(l[d],125)){ie=false;}}if(i===false&&G===false&&ie===true&&e.preserveAttributes===false){const we=c(X[0],61);do{d=d+1;if(c(l[d],10)){n.lineNumber=n.lineNumber+1;if(we){ie=false;W=S;pe(false);break}}X.push(l[d]);if(we&&c(l[d+1],62)){ie=false;W=S;I[I.length-1][0]+=X.join(S);X=[];break}if(we===false&&(c(l[d-1],125)||c(l[d-1],37))&&c(l[d],125)){ie=false;W=S;pe(false);break}}while(d<k)}if(i===false&&(c(l[d],60)||c(l[d],62))&&(W===S||c(W,62))){if(W===S&&c(l[d],60)){W=">";s=1;}else if(c(W,62)){if(c(l[d],60)){s=s+1;}else if(c(l[d],62)){s=s-1;if(s===0){W=S;O=0;pe(false);break}}}}else if(W===S){if(l[d+1]===$){if(c(X[X.length-1],47)||c(X[X.length-1],63)&&L==="xml"){X.pop();if(ne===true)H.pop();d=d-1;}if(X.length>0)pe(false);break}if(i===false&&c(l[d],123)&&c(l[d-1],61)){W="}";}else if(c(l[d],34)||c(l[d],39)){W=l[d];if(G===false&&ie===false)G=true;if(c(l[d-1],61)&&(c(l[d+1],60)||c(l[d+1],123)&&c(l[d+2],37)||he(l[d+1])&&Z(l[d-1],61))){O=d;}}else if(c(l[d],40)){W=")";j=1;}else if(i){if((c(l[d-1],61)||he(l[d-1]))&&c(l[d],123)){W="}";C=1;}else if(c(l[d],47)){if(c(l[d+1],42)){W="*/";}else if(l[d+1]==="/"){W="\n";}}}else if(c(H[0],123)&&c(l[d],123)&&(c(l[d+1],123)||c(l[d+1],37))){W=c(l[d+1],123)?"}}":l[d+1]+"}";}if(he(l[d])&&W===S){if(c(X[X.length-2],61)){N=d+1;if(N<k){do{if(he(l[N])===false){if(c(l[N],34)||c(l[N],39)){d=N-1;ue=true;X.pop();}break}N=N+1;}while(N<k)}}if(ue===true){ue=false;}else if(Q===0||Q===1&&c(X[0],123)){X.pop();if(X.length>0)pe(false);J=true;break}}}else if(c(l[d],40)&&c(W,41)){j=j+1;}else if(c(l[d],41)&&c(W,41)){j=j-1;if(j===0){W=S;if(l[d+1]===A.charAt(0)){pe(false);break}}}else if(i&&(c(W,125)||c(W,10)&&c(l[d],10)||W==="*/"&&c(l[d-1],42)&&c(l[d],47))){if(c(l[d],96)){d=d+1;do{X.push(l[d]);if(c(l[d],96))break;d=d+1;}while(d<l.length)}if(c(W,125)){if(c(l[d],125)&&l[d]!==W){C=C+1;}else if(l[d]===W){C=C-1;if(C===0){Q=0;W=S;m=X.join(S);if(e.preserveAttributes===false){if(i){if(!/^\s*$/.test(m))I.push([m,v]);}else {m=m.replace(/\s+/g,K);if(m!==K)I.push([m,v]);}}X=[];v=1;break}}}else {q=S;re=true;m=X.join(S);if(m!==K)I.push([m,v]);X=[];v=c(W,10)?2:1;W=S;break}}else if(c(l[d],123)&&c(l[d+1],37)&&c(l[O-1],61)&&(c(W,34)||c(W,39))){W=W+"{%";O=0;}else if(c(l[d-1],37)&&c(l[d],125)&&(W==='"{%'||W==="'{%")){W=W.charAt(0);O=0;}else if(c(l[d],60)&&c(A,62)&&c(l[O-1],61)&&(c(W,34)||c(W,39))){W=W+"<";O=0;}else if(c(l[d],62)&&(W==='"<'||W==="'<")){W=W.charAt(0);O=0;}else if(O===0&&Z(W,62)&&(W.length<2||Z(W,34)&&Z(W,39))){p=0;N=W.length-1;if(N>-1){do{if(l[d-p].charCodeAt(0)!==W.charCodeAt(N))break;p=p+1;N=N-1;}while(N>-1)}if(N<0&&ie===false&&G===true){G=false;pe(true);if(l[d+1]===$)break}}else if(O>0&&he(l[d])===false){O=0;}d=d+1;}while(d<k)}}else if(c(A,10)===false&&(c(l[d],34)||c(l[d],39))){W=l[d];}else if(L!=="comment"&&Z(A,10)&&c(l[d],60)&&c(l[d+1],33)&&c(l[d+2],45)&&c(l[d+3],45)&&f.types[n.count]!=="conditional"){W="-->";}else if(c(l[d],123)&&Z(H[0],123)&&Z(A,10)&&(c(l[d+1],123)||c(l[d+1],37))){if(c(l[d+1],123)){W="}}";}else {W=l[d+1]+"}";if(X.length<1&&(I.length<1||he(l[d-1]))){H.pop();do{if(c(l[d],10))v=v+1;X.push(l[d]);d=d+1;}while(d<k&&l[d-1]+l[d]!==W);X.push("}");I.push([X.join(S),v]);X=[];v=1;W=S;}}if(W===A)W=S;}else if(de&&Z(A,10)&&he(l[d])&&Z(l[d-1],60)){J=true;}else if(de&&i&&c(l[d],47)&&(c(l[d+1],42)||c(l[d+1],47))){J=true;H[H.length-1]=K;q=c(l[d+1],42)?"*/":"\n";X.push(l[d]);}else if(ie===false&&(l[d]===$||c(A,10)&&c(l[d+1],60))&&(H.length>A.length+1||c(H[0],93))&&(i===false||Q===0)){if(c(A,10)){if(he(H[H.length-1])){do{H.pop();d=d-1;}while(he(H[H.length-1]))}break}p=H.length;N=A.length-1;if(N>-1){do{p=p-1;if(H[p]!==A.charAt(N))break;N=N-1;}while(N>-1)}if(N<0){if(c(H[p],62)&&c(l[d],62)&&I.length>0){if(I[I.length-1][1]===0&&c(l[d-1],125)&&he(l[d+1])){I[I.length-1][1]=c(l[d+1],32)?1:2;}}break}}}else if(l[d].charCodeAt(0)===W.charCodeAt(W.length-1)&&(i&&c(A,125)&&(l[d-1]!=="\\"||fe()===false)||(i===false||Z(A,125)))){p=0;N=W.length-1;if(N>-1){do{if(l[d-p]!==W.charAt(N))break;p=p+1;N=N-1;}while(N>-1)}if(N<0)W=S;}}d=d+1;}while(d<k);if(e.correct===true){if(c(l[d+1],62)&&c(H[0],60)&&Z(H[0],60)){do{d=d+1;}while(c(l[d+1],62))}else if(c(H[0],60)&&c(H[1],60)&&Z(l[d+1],62)&&Z(H[H.length-2],62)){do{H.splice(1,1);}while(c(H[1],60))}}O=0;m=H.join(S);P=E(m);m=R(m);if(P==="xml"){F="xml";}else if(F===S&&P==="html"){F="html";}}g.token=m;g.types=L;P=E(m);if(ne===false&&i===false)m=m.replace(/\s+/g,K);if(P==="comment"&&Be(m,2)){const H=m.slice(0,m.indexOf("%}")+2);const N=m.slice(m.indexOf("%}")+2,m.lastIndexOf("{%"));const p=m.slice(m.lastIndexOf("{%"));let s=0;let C=0;const j=W=>{s=W===S?0:W.split(ce).length;return S};const v=W=>{C=W===S?0:W.split(ce).length;return S};g.begin=n.structure[n.structure.length-1][1];g.ender=n.count+3;g.stack=n.structure[n.structure.length-1][0];g.types="template_start";g.token=H;b(f,g,"comment");m=N.replace(/^\s*/,j);m=m.replace(/\s*$/,v);g.begin=n.count;g.lines=s;g.stack="comment";g.token=m;g.types="comment";b(f,g,S);g.types="template_end";g.stack="comment";g.lines=C;g.token=p;b(f,g,S);return}g.types=L;te=(()=>{const H=/(\/>)$/;function N(s,C){if(!ae.html.tags.has(s))return false;if(s===C)return true;if(s==="dd"&&C==="dt")return true;if(s==="dt"&&C==="dd")return true;if(s==="td"&&C==="th")return true;if(s==="th"&&C==="td")return true;if(s==="colgroup"&&(C==="tbody"||C==="tfoot"||C==="thead"||C==="tr"))return true;if(s==="tbody"&&(C==="colgroup"||C==="tfoot"||C==="thead"))return true;if(s==="tfoot"&&(C==="colgroup"||C==="tbody"||C==="thead"))return true;if(s==="thead"&&(C==="colgroup"||C==="tbody"||C==="tfoot"))return true;if(s==="tr"&&C==="colgroup")return true;return false}function p(s){g.lines=f.lines[n.count]>0?1:0;g.token=`</${n.structure[n.structure.length-1][0]}>`;g.types="end";b(f,g,S);if(s>0){do{g.begin=n.structure[n.structure.length-1][1];g.stack=n.structure[n.structure.length-1][0];g.token=`</${n.structure[n.structure.length-1][0]}>`;b(f,g,S);s=s-1;}while(s>0)}g.begin=n.structure[n.structure.length-1][1];g.lines=n.linesSpace;g.stack=n.structure[n.structure.length-1][0];g.token=m;g.types="end";f.lines[n.count-1]=0;}if(L==="end"){const s=f.token[n.count];if(f.types[n.count-1]==="singleton"&&s.charCodeAt(s.length-2)!==47&&`/${E(s)}`===P){f.types[n.count-1]="start";}}if(F==="html"){if(c(m[0],60)&&Z(m[1],33)&&Z(m[1],63)&&(n.count<0||f.types[n.count].indexOf("template")<0)){m=m.toLowerCase();}if(ae.html.tags.has(n.structure[n.structure.length-1][0])&&N(P.slice(1),n.structure[n.structure.length-2][0])){p(0);}else if(n.structure.length>3&&ae.html.tags.has(n.structure[n.structure.length-1][0])&&ae.html.tags.has(n.structure[n.structure.length-2][0])&&ae.html.tags.has(n.structure[n.structure.length-3][0])&&N(P,n.structure[n.structure.length-4][0])){p(3);}else if(n.structure.length>2&&ae.html.tags.has(n.structure[n.structure.length-1][0])&&ae.html.tags.has(n.structure[n.structure.length-2][0])&&N(P,n.structure[n.structure.length-3][0])){p(2);}else if(n.structure.length>1&&ae.html.tags.has(n.structure[n.structure.length-1][0])&&N(P,n.structure[n.structure.length-2][0])){p(1);}else if(N(P,n.structure[n.structure.length-1][0])){p(0);}else if(c(P[0],47)&&ae.html.tags.has(n.structure[n.structure.length-1][0])&&n.structure[n.structure.length-1][0]!==P.slice(1)){U(m,false);g.begin=n.structure[n.structure.length-1][1];g.lines=n.linesSpace;g.stack=n.structure[n.structure.length-1][0];g.token=m;g.types="end";f.lines[n.count-1]=0;}if(i===false&&ae.html.voids.has(P)){if(e.correct===true&&H.test(m)===false){m=m.slice(0,m.length-1)+" />";}return true}}return false})();if(ae.embed("html",P)&&m.slice(m.length-2)!=="/>"||ae.embed("liquid",P)&&m.slice(m.length-2)==="%}"){const H=Be(m,3);let N=I.length-1;let p=S;let s=[];if(N>-1){do{s=Ne(I[N][0]);if(s[0]==="type"){p=s[1];if(p.charCodeAt(0)===34||p.charCodeAt(0)===39){p=p.slice(1,p.length-1);}break}N=N-1;}while(N>-1)}if(H===false&&ae.embed("html",P)){t=true;if(p===S){w=ae.html.embed[P].language;}else if(ae.html.embed[P].value(p)){w=ae.html.embed[P].language;}}else if(H===true&&ae.embed("liquid",P)){t=true;if(p===S){w=ae.liquid.embed[P].language;}else {w=ae.liquid.embed[P].language;}}if(t===true){N=d+1;if(N<k){do{if(he(l[N])===false){if(c(l[N],60)){if(l.slice(N+1,N+4).join(S)==="!--"){N=N+4;if(N<k){do{if(he(l[N])===false){t=false;break}if(l[N]==="\n"||l[N]==="\r")break;N=N+1;}while(N<k)}}else {t=false;}}break}N=N+1;}while(N<k)}}}if(de&&z===false&&L!=="xml"){if(te===true||m.slice(m.length-2)==="/>"){L="singleton";}else {L="start";}g.types=L;}if(de&&ne===false&&z&&c(A,62)&&m.slice(m.length-2)!=="/>"){const H=[];const N=[];if(te===true){L="singleton";}else {I.forEach(p=>N.push(p[0]));ne=true;L="ignore";d=d+1;if(d<k){let p=S;let s=0;let C=0;let j=false;do{if(c(l[d],10))n.lineNumber=n.lineNumber+1;H.push(l[d]);if(p===S){if(c(l[d],34)){p='"';}else if(c(l[d],39)){p="'";}else if(Z(H[0],123)&&c(l[d],123)&&(c(l[d+1],123)||c(l[d+1],37))){if(c(l[d+1],123)){p="}}";}else {p=l[d+1]+"}";}}else if(c(l[d],60)&&de===true){if(c(l[d+1],47)){j=true;}else {j=false;}}else if(l[d]===$&&Z(l[d-1],47)){if(j===true){O=O-1;if(O<0)break}else {O=O+1;}}}else if(c(l[d],p.charCodeAt(p.length-1))){C=0;s=p.length-1;if(s>-1){do{if(Z(l[d-C],p.charCodeAt(s)))break;C=C+1;s=s-1;}while(s>-1)}if(s<0)p=S;}d=d+1;}while(d<k)}}m=m+H.join(S);m=m.replace(">",` ${N.join(K)}>`);g.token=m;g.types="content-ignore";I=[];}if(g.types.indexOf("template")>-1){if(c(m[0],123)&&c(m[1],37)){if((P==="case"||P==="default")&&(n.structure[n.structure.length-1][0]==="switch"||n.structure[n.structure.length-1][0]==="case")){g.types="template_else";}else if(ae.liquid.else.has(P)){g.types="template_else";}else {if(ae.liquid.tags.has(P)){g.types="template_start";}else if(P.charCodeAt(0)===101&&P.charCodeAt(1)===110&&P.charCodeAt(2)===100&&ae.liquid.tags.has(P.slice(3))){g.types="template_end";}else if(P.startsWith("end")){g.types="template_end";g.stack=P.slice(3);let H=0;do{if(f.types[H]==="template"&&f.stack[H]===g.stack){f.types[H]="template_start";y.start=y.start+1;break}else {H=f.stack.indexOf(g.stack,H+1);}}while(H>-1)}else {g.stack=P;}}}else if(g.types==="template"){if(m.indexOf("else")>2)g.types="template_else";}if(g.types==="template_start"||g.types==="template_else"){if(P===S||c(P,37)){P=P+m.slice(1).replace(P,S).replace(Ee,S);P=P.slice(0,P.indexOf("(")).replace(/\s+/,S);}}if(e.quoteConvert==="double"){g.token=g.token.replace(/'/g,'"');}else if(e.quoteConvert==="single"){g.token=g.token.replace(/"/g,"'");}}if(L==="cdata"&&(g.stack==="script"||g.stack==="style")){let H=n.count;let N=n.count;const p=g.stack;if(f.types[N]==="attribute"){do{H=H-1;N=N-1;}while(f.types[N]==="attribute"&&N>-1)}g.begin=H;g.token="<![CDATA[";g.types="cdata_start";m=m.replace(/^(\s*<!\[cdata\[)/i,S).replace(/(\]\]>\s*)$/,S);b(f,g,S);n.structure.push(["cdata",n.count]);if(p==="script"){M.lexers.script(m);}else {M.lexers.style(m);}g.begin=n.structure[n.structure.length-1][1];g.token="]]>";g.types="cdata_end";b(f,g,S);n.structure.pop();}else {b(f,g,P);}xe();if(h.wrap>0&&i===true){let H=0;let N=n.count;let p=0;if(f.types[N].indexOf("attribute")>-1){do{H=H+f.token[N].length+1;N=N-1;}while(f.lexer[N]!=="markup"||f.types[N].indexOf("attribute")>-1);if(f.lines[N]===1)H=H+f.token[N].length+1;}else if(f.lines[N]===1){H=f.token[N].length+1;}p=N-1;if(H>0&&f.types[p]!=="script_end"){if(f.types[p].indexOf("attribute")>-1){do{H=H+f.token[p].length+1;p=p-1;}while(f.lexer[p]!=="markup"||f.types[p].indexOf("attribute")>-1);if(f.lines[p]===1)H=H+f.token[p].length+1;}else if(f.lines[p]===1){H=f.token[p].length+1;}}}n.linesSpace=0;}function r(){const A=d;const g=c(f.token[n.count],123)&&i===true;let O=[];let m=S;let $=n.linesSpace;let L=S;if(t===true){if(g===true){L="script";}else if(n.structure[n.structure.length-1][1]>-1){L=E(f.token[n.structure[n.structure.length-1][1]].toLowerCase());}else if(f.begin[n.count]>1){L=E(f.token[f.begin[n.count]].toLowerCase());}else {L=E(f.token[f.begin[n.count]].toLowerCase());}}const P=f.types[n.count]==="template_start"&&f.token[n.count].indexOf("<!")===0&&f.token[n.count].indexOf("<![")<0&&f.token[n.count].charCodeAt(f.token[n.count].length-1)===91;const T={begin:n.structure[n.structure.length-1][1],ender:-1,lexer:"markup",lines:$,stack:n.structure[n.structure.length-1][0],token:S,types:"content"};function te(){let z=d-1;let re=0;if(l[d-1]!=="\\")return false;if(z>-1){do{if(l[z]!=="\\")break;re=re+1;z=z-1;}while(z>-1)}return re%2===1}if(d<k){let z=S;let re=S;let Y=S;let ne=0;do{if(c(l[d],10))n.lineNumber=n.lineNumber+1;if(t===true){if(re===S){if(c(l[d],47)){if(c(l[d+1],42)){re="*";}else if(c(l[d+1],47)){re="/";}else if(L==="script"&&"([{!=,;.?:&<>".indexOf(l[d-1])>-1){if(i===false||Z(l[d-1],60))re="reg";}}else if((c(l[d],34)||c(l[d],39)||c(l[d],96))&&te()===false){re=l[d];}else if(c(l[d],123)&&g===true){ne=ne+1;}else if(c(l[d],125)&&g===true){if(ne===0){Y=O.join(S).replace(Ee,S).replace(Re,S);M.lexers.script(Y);n.structure[n.structure.length-1][1]+=1;if(f.types[n.count]==="end"&&f.lexer[f.begin[n.count]-1]==="script"){T.lexer="script";T.token=e.correct===true?";":"x;";T.types="separator";b(f,T,S);T.lexer="markup";}T.token="}";T.types="script_end";b(f,T,S);n.structure.pop();break}ne=ne-1;}if(Be(f.token[n.count],3)===false){z=l.slice(d,d+10).join(S).toLowerCase();if(L==="script"){z=d===k-9?z.slice(0,z.length-1):z.slice(0,z.length-2);if(z==="<\/script"){Y=O.join(S).replace(Ee,S).replace(Re,S);d=d-1;if(O.length<1)break;if(/^<!--+/.test(Y)&&/--+>$/.test(Y)){T.token="<!--";T.types="comment";b(f,T,S);Y=Y.replace(/^<!--+/,S).replace(/--+>$/,S);M.lexers.script(Y);T.token="-->";b(f,T,S);}else {h.language=w;M.lexers.script(Y);if(w==="json"&&h.json.objectSort===true||w!=="json"&&h.script.objectSort===true)n.sortCorrection(0,n.count+1);h.language="html";}break}}if(L==="style"){if(d===k-8){z=z.slice(0,z.length-1);}else if(d===k-9){z=z.slice(0,z.length-2);}else {z=z.slice(0,z.length-3);}if(z==="</style"){let de=O.join(S).replace(Ee,S).replace(Re,S);d=d-1;if(O.length<1)break;if(/^<!--+/.test(de)&&/--+>$/.test(de)){T.token="<!--";T.types="comment";b(f,T,S);de=de.replace(/^<!--+/,S).replace(/--+>$/,S);M.lexers.style(de);T.token="-->";b(f,T,S);}else {h.language=w;M.lexers.style(de);if(h.style.sortProperties===true)n.sortCorrection(0,n.count+1);h.language="html";}break}}}else {if(ae.embed("liquid",L)){const de=l.slice(d).join(S);const oe=de.search(new RegExp(`{%-?\\s*end${L}`));O=O.length>0?O.concat(O,l.slice(d,d+oe)):l.slice(d,d+oe);d=d+oe;z=l.slice(d).join(S).toLowerCase();if(ae.liquid.embed[L].end(z)){z=z.slice(0,z.indexOf("%}")+2);Y=O.join(S).replace(Ee,S).replace(Re,S);d=d+(z.length-1);if(O.length<1)break;const I=He[ae.liquid.embed[L].language];h.language=w;M.lexers[I](Y);if(w==="json"&&h.json.objectSort===true||w==="javascript"&&h.script.objectSort===true||(w==="css"||w==="scss")&&h.style.sortProperties===true){n.sortCorrection(0,n.count+1);}h.language="liquid";T.token=z;T.types="template_end";b(f,T,S);}break}}}else if(re===l[d]&&(c(re,34)||c(re,39)||c(re,96)||c(re,42)&&c(l[d+1],47))&&te()===false){re=S;}else if(c(re,96)&&l[d]==="$"&&c(l[d+1],123)&&te()===false){re="}";}else if(c(re,125)&&c(l[d],125)&&te()===false){re="`";}else if(c(re,47)&&(c(l[d],10)||l[d]==="\r")){re=S;}else if(re==="reg"&&c(l[d],47)&&te()===false){re=S;}else if(c(re,47)&&c(l[d],60)&&c(l[d-1],45)&&c(l[d-2],45)){z=l.slice(d+1,d+11).join(S).toLowerCase();z=z.slice(0,z.length-2);if(L==="script"&&z==="<\/script")re=S;z=z.slice(0,z.length-1);if(L==="style"&&z==="</style")re=S;}}if(P===true&&c(l[d],93)){d=d-1;$=0;m=O.join(S);m=m.replace(Re,S);T.token=m;b(f,T,S);break}if(t===false&&O.length>0&&(c(l[d],60)&&Z(l[d+1],61)&&!/\s|\d/.test(l[d+1])||c(l[d],91)&&c(l[d+1],37)||c(l[d],123)&&(i===true||c(l[d+1],123)||c(l[d+1],37)))){d=d-1;if(n.structure[n.structure.length-1][0]==="comment"){m=O.join(S);}else {m=O.join(S).replace(Re,S);}$=0;T.token=m;if(h.wrap>0&&e.preserveText===false){let Ne=function(){if(c(m[I],32)){oe.push(m.slice(0,I));m=m.slice(I+1);ee=m.length;I=de;return}do{I=I-1;}while(I>0&&Z(m[I],32));if(I>0){oe.push(m.slice(0,I));m=m.slice(I+1);ee=m.length;I=de;}else {I=de;do{I=I+1;}while(I<ee&&Z(m[I],32));oe.push(m.slice(0,I));m=m.slice(I+1);ee=m.length;I=de;}};const{wrap:de}=h;const oe=[];let I=de;let ee=m.length;if(f.token[f.begin[n.count]]==="<a>"&&f.token[f.begin[f.begin[n.count]]]==="<li>"&&f.lines[f.begin[n.count]]===0&&n.linesSpace===0&&m.length<h.wrap){b(f,T,S);break}if(ee<de){b(f,T,S);break}if(n.linesSpace<1&&n.count>-1){let xe=n.count;do{I=I-f.token[xe].length;if(f.types[xe].indexOf("attribute")>-1)I=I-1;if(f.lines[xe]>0&&f.types[xe].indexOf("attribute")<0)break;xe=xe-1;}while(xe>0&&I>0);if(I<1)I=m.indexOf(K);}m=O.join(S).replace(Ee,S).replace(Re,S).replace(/\s+/g,K);do{Ne();}while(I<ee);if(m!==S&&Z(m,32))oe.push(m);m=h.crlf===true?oe.join("\r\n"):oe.join("\n");m=S+m+S;}else {const de=m.indexOf(ce);if(de>-1){T.token=m.slice(0,de);b(f,T,S);m=m.slice(de);const oe=m.match(/^\n+/);if(oe===null){T.lines=1;}else {T.lines=2;m=m.replace(Ee,S);}}}$=0;T.token=m;b(f,T,S);break}O.push(l[d]);d=d+1;}while(d<k)}if(d>A&&d<k){if(he(l[d])){let z=d;n.linesSpace=1;do{if(c(l[z],10))n.linesSpace=n.linesSpace+1;z=z-1;}while(z>A&&he(l[z]))}else {n.linesSpace=0;}}else if(d!==A||d===A&&t===false){m=O.join(S).replace(Re,S);$=0;if(T.token!==m){T.token=m;b(f,T,S);n.linesSpace=0;}}t=false;}if(h.language==="html"||h.language==="liquid")F="html";do{if(he(l[d])){if(f.types[n.count]==="template_start"&&n.structure[n.structure.length-1][0]==="comment"){r();}else {d=n.spacer({array:l,end:k,index:d});}}else if(t){r();}else if(c(l[d],60)){D(S);}else if(c(l[d],91)&&c(l[d+1],37)){D("%]");}else if(c(l[d],123)&&(i||c(l[d+1],123)||c(l[d+1],37))){D(S);}else if(c(l[d],45)&&c(l[d+1],45)&&c(l[d+2],45)){D("---");}else {r();}d=d+1;}while(d<k);if(Z(f.token[n.count][0],47)&&ae.html.tags.has(n.structure[n.structure.length-1][0]))U(f.token[n.count],true);if(y.end!==y.start&&n.error===S){if(y.end>y.start){const A=y.end-y.start;const g=A===1?S:"s";n.error=["Prettify Error:","",`${A} more end type${g} than start types`].join("\n");}else {const A=y.start-y.end;const g=A===1?S:"s";n.error=["Prettify Error:","",`${A} more start type${g} than end types`].join("\n");}}return f};M.beautify.markup=o=>{const u={};const h="markup";const{data:f}=n;const i=o.language==="jsx"||o.language==="tsx";const x=o.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const e=o.markup;const _=M.end<1||M.end>f.token.length?f.token.length:M.end+1;const l={is:(B,R)=>f.types[B]===R,not:(B,R)=>f.types[B]!==R,idx:(B,R)=>B>-1&&(f.types[B]||S).indexOf(R)};const k={is:(B,R)=>f.token[B]===R,not:(B,R)=>f.token[B]!==R};let y=M.start;let d=-1;let t=0;let w=0;let F=isNaN(o.indentLevel)?0:Number(o.indentLevel);const a=(()=>{const B=M.start>0?Array(M.start).fill(0,0,M.start):[];function R(){let O=y+1;let m=0;if(l.is(O,void 0))return O-1;if(l.is(O,"comment")||y<_-1&&l.idx(O,"attribute")>-1){do{if(l.is(O,"jsx_attribute_start")){m=O;do{if(l.is(O,"jsx_attribute_end")&&f.begin[O]===m)break;O=O+1;}while(O<_)}else if(l.not(O,"comment")&&l.idx(O,"attribute")<0)return O;O=O+1;}while(O<_)}return O}function b(){const O=f.begin[y];let m=y;do{m=m-1;if(k.is(m,"</li>")&&k.is(m-1,"</a>")&&f.begin[f.begin[m]]===O&&f.begin[m-1]===f.begin[m]+1){m=f.begin[m];}else {return}}while(m>O+1);m=y;do{m=m-1;if(l.is(m+1,"attribute")){B[m]=-10;}else if(k.not(m,"</li>")){B[m]=-20;}}while(m>O+1)}function E(){let O=y;let m=false;if(f.lines[y+1]===0&&e.forceIndent===false){do{if(f.lines[O]>0){m=true;break}O=O-1;}while(O>d);O=y;}else {m=true;}if(m===true){if(l.is(f.begin[O]-1,"template")){B[f.begin[O]-1]=F;}const $=l.is(t,"end")||l.is(t,"template_end")?F+1:F;do{B.push($);O=O-1;}while(O>d);if($===F+1)B[y]=F;if(l.is(O,"attribute")||l.is(O,"template_attribute")||l.is(O,"jsx_attribute_start")){B[f.begin[O]]=$;}else {B[O]=$;}}else {do{B.push(-20);O=O-1;}while(O>d);B[O]=-20;}d=-1;}function U(){let O=F;if(e.forceIndent===true||e.forceAttribute===true){B.push(F);return}if(t<_&&(l.idx(t,"end")>-1||l.idx(t,"start")>-1)&&f.lines[t]>0){B.push(F);O=O+1;if(y>0&&l.is(y,"singleton")&&l.idx(y-1,"attribute")>-1&&l.is(f.begin[y-1],"singleton")){if(f.begin[y]<0||l.is(f.begin[y-1],"singleton")&&f.begin[f.ender[y]-1]!==y){B[y-1]=F;}else {B[y-1]=F+1;}}}else if(y>0&&l.is(y,"singleton")&&l.idx(y-1,"attribute")>-1){B[y-1]=F;w=f.token[y].length;B.push(-10);}else if(f.lines[t]===0){B.push(-20);}else if((o.wrap===0||y<_-2&&f.token[y]!==void 0&&f.token[y+1]!==void 0&&f.token[y+2]!==void 0&&f.token[y].length+f.token[y+1].length+f.token[y+2].length+1>o.wrap&&l.idx(y+2,"attribute")>-1||f.token[y]!==void 0&&f.token[y+1]!==void 0&&f.token[y].length+f.token[y+1].length>o.wrap)&&(l.is(y+1,"singleton")||l.is(y+1,"template"))){B.push(F);}else {w=w+1;B.push(-10);}if(y>0&&l.idx(y-1,"attribute")>-1&&f.lines[y]<1){B[y-1]=-20;}if(w>o.wrap){let m=y;let $=Math.max(f.begin[y],0);if(l.is(y,"content")&&e.preserveText===false){let L=0;const P=f.token[y].replace(/\s+/g,K).split(K);do{m=m-1;if(B[m]<0){L=L+f.token[m].length;if(B[m]===-10)L=L+1;}else {break}}while(m>0);m=0;$=P.length;do{if(P[m].length+L>o.wrap){P[m]=x+P[m];L=P[m].length;}else {P[m]=` ${P[m]}`;L=L+P[m].length;}m=m+1;}while(m<$);if(c(P[0],32)){f.token[y]=P.join(S).slice(1);}else {B[y-1]=O;f.token[y]=P.join(S).replace(x,S);}if(f.token[y].indexOf(x)>0){w=f.token[y].length-f.token[y].lastIndexOf(x);}}else {do{m=m-1;if(B[m]>-1){w=f.token[y].length;if(f.lines[y+1]>0)w=w+1;return}if(l.idx(m,"start")>-1){w=0;return}if(f.lines[m+1]>0&&(l.not(m,"attribute")||l.is(m,"attribute")&&l.is(m+1,"attribute"))){if(l.not(m,"singleton")||l.is(m,"attribute")&&l.is(m+1,"attribute")){w=f.token[y].length;if(f.lines[y+1]>0)w=w+1;break}}}while(m>$);B[m]=O;}}}function D(){const O=y;if(f.types[O-1]==="script_start"&&c(f.token[O-1],123)){B[O-1]=-20;}do{if(f.lexer[y+1]===h&&f.begin[y+1]<O&&l.not(y+1,"start")&&l.not(y+1,"singleton"))break;B.push(0);y=y+1;}while(y<_);u[O]=y;if(f.types[y+1]==="script_end"&&f.token[y+1]==="}"){B.push(-20);}else {B.push(F-1);}t=R();if(f.lexer[t]===h&&f.stack[y].indexOf("attribute")<0&&(f.types[t]==="end"||f.types[t]==="template_end")){F=F-1;}}function r(){function O(z){const re=f.token[z].replace(/\s+/g,K).split(K);const Y=re.length;let ne=1;let de=re[0].length;do{if(de+re[ne].length>o.wrap){de=re[ne].length;re[ne]=x+re[ne];}else {re[ne]=` ${re[ne]}`;de=de+re[ne].length;}ne=ne+1;}while(ne<Y);f.token[z]=re.join(S);}let m=y;const $=y-1;let L=false;let P=false;let T=0;let te=f.token[$].length+1;let V=(()=>{if(l.idx(y,"start")>0){let z=y;do{if(f.types[z].indexOf("end")>0&&f.begin[z]===y){if(z<_-1&&l.idx(z+1,"attribute")>-1){L=true;break}}z=z+1;}while(z<_)}else if(y<_-1&&l.idx(y+1,"attribute")>-1){L=true;}if(l.is(t,"end")||l.is(t,"template_end")){return F+(l.is($,"singleton")?2:1)}if(l.is($,"singleton"))return F+1;return F})();if(L===false&&l.is(y,"comment_attribute")){B.push(F);B[$]=f.types[$]==="singleton"?F+1:F;return}if(V<1)V=1;do{w=w+f.token[y].length+1;if(f.types[y].indexOf("attribute")>0){if(f.types[y]==="template_attribute_start"){if(e.preserveAttributes===true){B.push(-10);}else {let z=1;do{if(f.lines[y]===0){B.push(-20);}else if(f.lines[y]===1){if(e.forceAttribute===true){B.push(V);}else {B.push(-10);}}else {B.push(V);}if(z===0)break;y=y+1;if(l.is(y,"template_attribute_start")){z=z+1;}else if(l.is(y,"template_attribute_end")){z=z-1;}T=T+1;if(f.token[y]!==void 0){w=w+f.token[y].length+1;te=te+f.token[y].length+1;}}while(y<_)}}else if(f.types[y]==="template_attribute"){if(e.forceAttribute===true){B.push(V);}else {B.push(-10);}}else if(f.types[y]==="comment_attribute"){B.push(V);}else if(f.types[y].indexOf("start")>0){P=true;if(y<_-2&&f.types[y+2].indexOf("attribute")>0){B.push(-20);y=y+1;u[y]=y;}else {if($===y-1&&L===false){if(i){B.push(-20);}else {B.push(V);}}else {if(i){B.push(-20);}else {B.push(V+1);}}if(f.lexer[y+1]!==h){y=y+1;D();}}}else if(f.types[y].indexOf("end")>0&&f.types[y].indexOf("template")<0){if(B[y-1]!==-20)B[y-1]=B[f.begin[y]]-1;if(f.lexer[y+1]!==h){B.push(-20);}else {B.push(V);}}else {B.push(V);}}else if(l.is(y,"attribute")){te=te+f.token[y].length+1;if(e.preserveAttributes===true){B.push(-10);}else if(e.forceAttribute===true||e.forceAttribute>=1||P===true||y<_-1&&(l.idx(y+1,"template_attribute_")>-1&&f.lines[y+1]!==-20||l.idx(y+1,"attribute")>0)){if(e.forceAttribute===false&&f.lines[y]===1){if(l.is(y+1,"template_attribute_start")&&f.lines[y+1]>1){B.push(V);}else {B.push(-10);}}else {if(e.forceAttribute===true){B.push(V);}else {B.push(-10);}}}else {B.push(-10);}}else if(f.begin[y]<$+1){break}y=y+1;T=T+1;}while(y<_);y=y-1;if(l.idx(y,"template")<0&&l.idx(y,"end")>0&&l.idx(y,"attribute")>0&&l.not($,"singleton")&&B[y-1]>0&&L===true){B[y-1]=B[y-1]-1;}if(B[y]!==-20){if(i===true&&l.idx($,"start")>-1&&l.is(y+1,"script_start")){B[y]=V;}else {if(k.is(y,"/")&&B[y-1]!==10){B[y-1]=-10;}else {B[y]=B[$];}}}if(e.forceAttribute===true){w=0;B[$]=V;}else if(e.forceAttribute>=1){if(T>=e.forceAttribute){B[$]=V;let z=y-1;do{if(l.is(z,"template")&&B[z]===-10){B[z]=V;}else if(l.is(z,"attribute")&&B[z]===-10){B[z]=V;}z=z-1;}while(z>$)}else {B[$]=-10;}}else {B[$]=-10;}if(e.preserveAttributes===true||k.is($,"<%xml%>")||k.is($,"<?xml?>")){w=0;return}m=y;if(m>$+1){if(e.selfCloseSpace===false)te=te-1;if(te>o.wrap&&o.wrap>0&&e.forceAttribute===false){if(e.forceLeadAttribute===true){B[$]=V;m=m-1;}w=f.token[y].length;do{if(f.token[m].length>o.wrap&&he(f.token[m]))O(m);if(l.idx(m,"template")>-1&&B[m]===-10){B[m]=V;}else if(l.is(m,"attribute")&&B[m]===-10){B[m]=V;}m=m-1;}while(m>$)}}else if(o.wrap>0&&l.is(y,"attribute")&&f.token[y].length>o.wrap&&he(f.token[y])){O(y);}}function A(){const O=B[B.length-2]+1;const m=f.token[y].split(ce);const $=c(f.token[y][2],45);let L=0;let P=0;let T=S;let te=S;let V=$?ve(O*o.indentSize):ve(O*o.indentSize-1);do{if(L===0){T=m[L].trimEnd();if(T.endsWith(",")){te=","+K;m[L]=T.slice(0,-1);}else if(T.endsWith("|")){te="|"+K;m[L]=T.slice(0,-1);}else if(/^{[{%]-?$/.test(T)){m[L]=T;L=L+1;do{T=m[L].trim();if(T.length>0){break}else {m.splice(L,1);if(L>m.length)break}}while(L<m.length);const z=m[m.length-1].trim();if(/^-?[%}]}$/.test(z)){P=1;if($){m[L]=V+T;m[m.length-1]=V.slice(2)+z;V=V.slice(2)+ve(o.indentSize);}else {m[L]=V+ve(o.indentSize)+T;m[m.length-1]=V.slice(1)+z;V=V+ve(o.indentSize);}}else {m[L]=V+ve(o.indentSize)+T;}}else if(T.endsWith(",")===false&&c(m[L+1].trimStart(),44)&&e.lineBreakOperator==="after"){m[L]=T+",";}L=L+1;continue}T=m[L].trim();if(c(T,44)&&e.lineBreakOperator==="after"){if(T.endsWith("%}")){T=K+T.slice(1);}else {T=K+T.slice(1)+",";}}if(T.length===0){m.splice(L,1);continue}if(L===m.length-1&&P===1)break;if(T.endsWith(",")&&e.lineBreakOperator==="before"){m[L]=V+te+T.slice(0,-1);te=","+K;}else if(T.endsWith("|")){m[L]=V+te+T.slice(0,-1);te=V+"|"+K;}else {m[L]=V+te+T;te=S;}L=L+1;}while(L<m.length);f.token[y]=m.join(ce);}function g(O){return l.is(O,"template")&&f.token[O].indexOf(x)>0&&/{%-?\s*\bliquid/.test(f.token[O])===false}do{if(f.lexer[y]===h){if(l.is(y,"doctype"))B[y-1]=F;if(l.idx(y,"attribute")>-1){r();}else if(l.is(y,"comment")){if(d<0)d=y;if(l.not(y+1,"comment")||y>0&&l.idx(y-1,"end")>-1){E();}}else if(l.not(y,"comment")){t=R();if(l.is(t,"end")||l.is(t,"template_end")){F=F-1;if(l.is(t,"template_end")&&l.is(f.begin[t]+1,"template_else")){F=F-1;}if(k.is(y,"</ol>")||k.is(y,"</ul>")||k.is(y,"</dl>"))b();}if(l.is(y,"script_end")&&l.is(t,"end")){if(f.lines[t]<1){B.push(-20);}else if(f.lines[t]>1){B.push(F);}else {B.push(-10);}}else if((e.forceIndent===false||e.forceIndent===true&&l.is(t,"script_start"))&&(l.is(y,"content")||l.is(y,"singleton")||l.is(y,"template"))){w=w+f.token[y].length;if(f.lines[t]>0&&l.is(t,"script_start")){B.push(-10);}else if(o.wrap>0&&(l.idx(y,"template")<0||t<_&&l.idx(y,"template")>-1&&l.idx(t,"template")<0)){U();}else if(t<_&&(l.idx(t,"end")>-1||l.idx(t,"start")>-1)&&(f.lines[t]>0||l.idx(y,"template_")>-1)){B.push(F);if(g(y))A();}else if(f.lines[t]===0){B.push(-20);}else if(f.lines[t]===1){B.push(-10);}else {B.push(F);if(g(y))A();}}else if(l.is(y,"start")||l.is(y,"template_start")){F=F+1;if(l.is(y,"template_start")&&l.is(t,"template_else"))F=F+1;if(i===true&&k.is(y+1,"{")){if(f.lines[t]===0){B.push(-20);}else if(f.lines[t]>1){B.push(F);}else {B.push(-10);}}else if(l.is(y,"start")&&l.is(t,"end")||l.is(y,"template_start")&&l.is(t,"template_end")){B.push(-20);}else if(l.is(y,"start")&&l.is(t,"script_start")){B.push(-10);}else if(e.forceIndent===true){B.push(F);}else if(f.lines[t]===0&&(l.is(t,"content")||l.is(t,"singleton")||l.is(y,"start")&&l.is(t,"template"))){B.push(-20);}else {B.push(F);}}else if(e.forceIndent===false&&f.lines[t]===0&&(l.is(t,"content")||l.is(t,"singleton"))){B.push(-20);}else if(l.is(y+2,"script_end")){B.push(-20);}else if(l.is(y,"template_else")){B[y-1]=l.is(t,"template_end")?F+1:F-1;B.push(F);}else if(e.forceIndent===true&&(l.is(y,"content")&&(l.is(t,"template")||l.is(t,"content"))||l.is(y,"template")&&(l.is(t,"content")||l.is(t,"template")))){if(f.lines[t]<1){B.push(-20);}else if(f.lines[t]>1){B.push(F);}else {B.push(-10);}}else {B.push(F);}}if(l.not(y,"content")&&l.not(y,"singleton")&&l.not(y,"template")&&l.not(y,"attribute")){w=0;}}else {w=0;D();}y=y+1;}while(y<_);return B})();return function(){const B=[];const R=function(){const A=[o.indentChar];const g=o.indentSize-1;let O=0;if(O<g){do{A.push(o.indentChar);O=O+1;}while(O<g)}return A.join(S)}();function b(A){const g=[];const O=o.preserveLine+1;const m=Math.min(f.lines[y+1]-1,O);let $=0;if(A<0)A=0;do{g.push(x);$=$+1;}while($<m);if(A>0){$=0;do{g.push(R);$=$+1;}while($<A)}return g.join(S)}function E(){let A=f.token[y].split(x);const g=f.lines[y+1];if(l.is(y,"comment"))A=A.map(L=>L.trimStart());const O=a[y-1]>-1?l.is(y,"attribute")?a[y-1]+1:a[y-1]:(()=>{let L=y-1;let P=L>-1&&l.idx(L,"start")>-1;if(a[y]>-1&&l.is(y,"attribute")){return a[y]+1}do{L=L-1;if(a[L]>-1)return l.is(y,"content")&&P===false?a[L]:a[L]+1;if(l.idx(L,"start")>-1)P=true;}while(L>0);return L===-2?0:1})();let m=0;f.lines[y+1]=0;const $=A.length-1;do{if(l.is(y,"comment")){if(A[m]!==S){if(A[m+1].trimStart()!==S){B.push(A[m],b(O));}else {B.push(A[m],ce);}}else {if(A[m+1].trimStart()===S){B.push(ce);}else {B.push(b(O));}}}else {B.push(A[m]);B.push(b(O));}m=m+1;}while(m<$);f.lines[y+1]=g;B.push(A[$]);if(l.is(y,"comment")&&(l.is(y+1,"template_end")||l.is(y-1,"template_end"))){B.push(b(a[y]));}else if(a[y]===-10){B.push(K);}else if(a[y]>1){B.push(b(a[y]));}}function U(){const A=/\/?>$/;const g=f.token[y];const O=A.exec(g);if(O===null)return;let m=y+1;let $=false;let L=e.selfCloseSpace===true&&O!==null&&O[0]==="/>"?K:S;f.token[y]=g.replace(A,S);do{if(l.is(m,"jsx_attribute_end")&&f.begin[f.begin[m]]===y){$=false;}else if(f.begin[m]===y){if(l.is(m,"jsx_attribute_start")){$=true;}else if(l.idx(m,"attribute")<0&&$===false){break}}else if($===false&&(f.begin[m]<y||l.idx(m,"attribute")<0)){break}m=m+1;}while(m<_);if(l.is(m-1,"comment_attribute"))L=b(a[m-2]-1);f.token[m-1]=`${f.token[m-1]}${L}${O[0]}`;if(l.is(m,"comment")&&f.lines[y+1]<2)a[y]=-10;}y=M.start;let D=o.indentLevel;let r=S;do{if(f.lexer[y]===h){if((l.is(y,"start")||l.is(y,"singleton")||l.is(y,"xml"))&&l.idx(y,"attribute")<0&&y<_-1&&f.types[y+1]!==void 0&&l.idx(y+1,"attribute")>-1){U();}if(k.not(y,void 0)&&f.token[y].indexOf(x)>0&&(l.is(y,"content")&&e.preserveText===false||l.is(y,"comment")||l.is(y,"attribute"))){E();}else {B.push(f.token[y]);if(a[y]===-10&&y<_-1){B.push(K);}else if(a[y]>-1){D=a[y];B.push(b(a[y]));}}}else {M.start=y;M.end=u[y];o.indentLevel=D;const A=o.language;const g=c(f.token[y],123)?"liquid":"html";let O=false;if(g==="liquid"&&f.stack[y]in ae[g].embed&&"language"in ae[g].embed[f.stack[y]]){O=ae[g].embed[f.stack[y]].language==="json";if(O)o.language="json";}r=M.beautify[f.lexer[y]](o).replace(Ce,S);B.push(r);if(r.endsWith(ce)){if(D-1>0)B.push(ve(D-1,R));}else {if(e.forceIndent===true||a[M.iterator]>-1&&u[y]>y){B.push(b(a[M.iterator]));}}y=M.iterator;o.indentLevel=0;if(O)o.language=A;}y=y+1;}while(y<_);M.iterator=_-1;if(B[0]===x||c(B[0],32))B[0]=S;return B.join(S)}()};M.beautify.style=o=>{const u=[];const h=M.data;const f=o.crlf===true?"\r\n":"\n";const i=M.end>0?M.end+1:h.token.length;const x=o.preserveLine+1;const e=(()=>{let w=0;const F=[];do{F.push(o.indentChar);w=w+1;}while(w<o.indentSize);return F.join(S)})();let _=o.indentLevel;let l=o.wrap>0?o.wrap:0;let k=M.start;let y=[S,S];function d(w){const F=[];const a=(()=>{if(k===i-1)return 1;if(h.lines[k+1]-1>x)return x;if(h.lines[k+1]>1)return h.lines[k+1]-1;return 1})();let B=0;if(w<0)w=0;do{F.push(f);B=B+1;l=_;}while(B<a);if(w>0){B=0;do{F.push(e);B=B+1;}while(B<w)}u.push(F.join(S));}function t(){const w=h.begin[k];const F=h.token[w];const a=h.token[k];const B=[];let R=k;let b=0;let E;let U=0;if(w<0||R<=w)return;do{R=R-1;if(h.begin[R]===w){if(c(h.token[R],58)){E=[R-1,0];do{R=R-1;if((c(h.token[R],59)&&F==="{"||c(h.token[R],44)&&F==="(")&&h.begin[R]===w||h.token[R]===a&&h.begin[h.begin[R]]===w){break}if(h.types[R]!=="comment"&&h.types[R]!=="selector"&&h.token[R]!==F&&h.begin[R]===w){E[1]=h.token[R].length+E[1];}}while(R>w+1);if(E[1]>U)U=E[1];B.push(E);}}else if(h.types[R]==="end"){if(R<h.begin[R])break;R=h.begin[R];}}while(R>w);R=B.length;if(R<2)return;do{R=R-1;if(B[R][1]<U){b=B[R][1];do{h.token[B[R][0]]=h.token[B[R][0]]+" ";b=b+1;}while(b<U)}}while(R>0)}if(o.script.vertical===true&&o.style.compressCSS===false){k=i;do{k=k-1;if(c(h.token[k],125)||c(h.token[k],41))t();}while(k>0);k=M.start;}do{if(h.types[k]==="property")l=_+h.token[k].length;if(h.types[k+1]==="end"||h.types[k+1]==="template_end"||h.types[k+1]==="template_else"){_=_-1;}if(h.types[k]==="template"&&h.lines[k]===0){u.push(h.token[k]);if(h.types[k+1]==="template"&&h.lines[k+1]>0)d(_);}else if(h.types[k]==="template"&&h.lines[k]>0){if(h.types[k-2]!=="property"&&h.types[k-1]!=="colon"){l=_;u.push(h.token[k]);if(h.types[k+1]!=="separator"&&Z(h.token[k+1],59)){d(_);}}else if(h.types[k-2]==="property"&&h.types[k-1]==="colon"&&h.types[k+1]==="separator"&&c(h.token[k+1],44)){l=l+h.token[k].length;if(l>o.wrap)d(_);u.push(h.token[k]);do{k=k+1;u.push(h.token[k]);if(h.lines[k+1]>0)d(_);}while(h.types[k]!=="separator"&&Z(h.token[k],59));if(c(h.token[k],59)&&h.types[k]==="separator"){u.push(h.token[k]);if(h.lines[k+1]>0)d(_);k=k+1;continue}}else {l=l+h.token[k].length;if(o.wrap>0&&l>o.wrap){d(_);u.push(h.token[k]);}else {u.push(h.token[k]);}}}else if(h.types[k]==="template_else"){u.push(h.token[k]);_=_+1;d(_);}else if(h.types[k]==="start"||h.types[k]==="template_start"){_=_+1;u.push(h.token[k]);if(h.types[k+1]!=="end"&&h.types[k+1]!=="template_end"&&(o.style.compressCSS===false||o.style.compressCSS===true&&h.types[k+1]==="selector")){d(_);}}else if(c(h.token[k],59)&&(o.style.compressCSS===false||o.style.compressCSS===true&&h.types[k+1]==="selector")||(h.types[k]==="end"||h.types[k]==="template_end"||h.types[k]==="comment")){u.push(h.token[k]);if(h.types[k+1]==="value"){if(h.lines[k+1]===1){u.push(" ");}else if(h.lines[k+1]>1){d(_);}}else if(h.types[k+1]!=="separator"){if(h.types[k+1]!=="comment"||h.types[k+1]==="comment"&&h.lines[k+1]>1){d(_);}else {u.push(K);}}}else if(c(h.token[k],58)){u.push(h.token[k]);if(o.style.compressCSS===false){if(h.types[k]!=="selector"&&Z(h.token[k+1],44))u.push(K);}}else if(h.types[k]==="selector"){if(o.style.classPadding===true&&h.types[k-1]==="end"&&h.lines[k]<3){u.push(f);}if(h.token[k].indexOf("and(")>0){h.token[k]=h.token[k].replace(/and\(/,"and (");u.push(h.token[k]);}else if(h.token[k].indexOf("when(")>0){y=h.token[k].split("when(");u.push(y[0].replace(/\s+$/,S));d(_+1);u.push(`when (${y[1]}`);}else {u.push(h.token[k]);}if(h.types[k+1]==="start"){if(o.style.compressCSS===false){u.push(" ");}}}else if(c(h.token[k],44)){u.push(h.token[k]);if(h.types[k+1]==="selector"||h.types[k+1]==="property"){d(_);}else if(o.style.compressCSS===false){u.push(" ");}}else if(h.stack[k]==="map"&&c(h.token[k+1],41)&&k-h.begin[k]>5){u.push(h.token[k]);d(_);}else if(h.token[k]==="x;"){d(_);}else if((h.types[k]==="variable"||h.types[k]==="function")&&o.style.classPadding===true&&h.types[k-1]==="end"&&h.lines[k]<3){u.push(f);u.push(h.token[k]);}else if(Z(h.token[k],59)||c(h.token[k],59)&&(o.style.compressCSS===false||o.style.compressCSS===true&&Z(h.token[k+1],125))){u.push(h.token[k]);}k=k+1;}while(k<i);M.iterator=i-1;return u.join(S)};M.beautify.script=o=>{const u=Oe({},o.script);if(o.language==="json"){o.script=Oe(o.script,o.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}const h=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const x=Pe(null);const e=M.data;const _="script";const l=M.scopes;const k=M.end<1||M.end>e.token.length?e.token.length:M.end+1;const y=(()=>{let t=M.start;let w=isNaN(o.indentLevel)?0:Number(o.indentLevel);let F=false;let a=false;let B="";let R="";let b=e.types[0];let E=e.token[0];const U=[-1];const D=[];const r=M.start>0?Array(M.start).fill(0,0,M.start):[];const A=[];const g=[[]];const O=[];const m=[];const $=[];const L=[false];const P=[];const T=[];function te(){V(false,false);const N=o.commentIndent===true?w:0;if(F===false&&/\/\u002a\s*global\s/.test(e.token[t])){const p=e.token[t].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let s=p.length;do{s=s-1;p[s]=p[s].replace(/\s+/g,"");if(p[s]!=="")l.push([p[s],-1]);}while(s>0)}if(e.types[t-1]==="comment"||e.types[t+1]==="comment"){r[t-1]=N;}else if(e.lines[t]<2){let p=t+1;if(e.types[p]==="comment"){do{p=p+1;}while(p<k&&e.types[p]==="comment")}if(t<k-1&&e.stack[p]!=="block"&&(e.token[p]==="{"||e.token[p]==="x{")){let s=l.length;e.begin.splice(t,0,e.begin[p]);e.ender.splice(t,0,e.ender[p]);e.lexer.splice(t,0,e.lexer[p]);e.lines.splice(t,0,e.lines[p]);e.stack.splice(t,0,e.stack[p]);e.token.splice(t,0,e.token[p]);e.types.splice(t,0,e.types[p]);if(s>0){do{s=s-1;if(l[s][1]===p){l[s][1]=t;}else if(l[s][1]<t){break}}while(s>0)}p=p+1;e.begin.splice(p,1);e.ender.splice(p,1);e.lexer.splice(p,1);e.lines.splice(p,1);e.stack.splice(p,1);e.token.splice(p,1);e.types.splice(p,1);s=t+1;do{e.begin[s]=t;e.stack[s]=e.stack[p];s=s+1;}while(s<p);s=s+1;do{if(e.begin[s]===e.begin[p]){e.begin[s]=t;if(e.types[s]==="end"){break}}s=s+1;}while(s<k-1);e.begin[p]=t;t=t-1;}else {r[t-1]=-10;if(e.stack[t]==="paren"||e.stack[t]==="method"){r.push(w+2);}else {r.push(w);}if(o.commentIndent===true&&r[t]>-1&&e.lines[t]<3){e.lines[t]=3;}}if(e.types[t+1]!=="comment")F=true;return}else if(e.token[t-1]===","){r[t-1]=N;}else if(E==="="&&e.types[t-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(R)===true){r[t-1]=-10;}else if(E==="{"&&e.types[t-1]!=="comment"&&e.lines[0]<2){if(e.stack[t]==="function"){r[t-1]=N;}else {r[t-1]=/\n/.test(R)?N:-10;}}else {r[t-1]=N;}if(e.types[t+1]!=="comment")F=true;if(e.token[e.begin[t]]==="("){r.push(w+1);}else {r.push(w);}if(r[t]>-1&&e.lines[t]<3){if(e.types[t-1]==="comment"&&R.startsWith("//")){e.lines[t]=2;}else {e.lines[t]=3;}}if(o.script.commentNewline===true&&R.startsWith("//")===false&&e.lines[t]>=3){e.lines[t]=2;}}function V(N,p){let s=t-1;let C=N===true?0:1;const j=g[g.length-1]===void 0?[]:g[g.length-1];const v=p===false&&e.stack[t]==="array"&&N===true&&R!=="[";if(m[m.length-1]===false||e.stack[t]==="array"&&o.script.arrayFormat==="inline"||e.stack[t]==="object"&&o.script.objectIndent==="inline"){return}m[m.length-1]=false;do{if(e.types[s]==="end"){C=C+1;}else if(e.types[s]==="start"){C=C-1;}if(e.stack[s]==="global")break;if(C===0){if(e.stack[t]==="class"||e.stack[t]==="map"||v===false&&(N===false&&e.token[s]!=="("&&e.token[s]!=="x("||N===true&&e.token[s]===",")){if(e.types[s+1]==="template_start"){if(e.lines[s]<1){r[s]=-20;}else {r[s]=w-1;}}else if(j.length>0&&j[j.length-1]>-1){r[s]=w-1;}else {r[s]=w;}}else if(e.stack[t]==="array"&&e.types[t]==="operator"){if(e.token[s]===",")r[s]=w;if(s===e.begin[t])break}if(N===false)break}if(C<0){if(e.types[s+1]==="template_start"||e.types[s+1]==="template_string_start"){if(e.lines[s]<1){r[s]=-20;}else {r[s]=w-1;}}else if(j.length>0&&j[j.length-1]>-1){r[s]=w-1;}else {r[s]=w;}break}s=s-1;}while(s>-1)}function z(){const N=g[g.length-1]===void 0?[]:g[g.length-1];const p=()=>{let s=t;let C=false;const j=e.begin[s];do{s=s-1;if(e.lexer[s]==="markup"){C=true;break}if(e.begin[s]!==j)s=e.begin[s];}while(s>j);if(C===true){s=t;do{s=s-1;if(e.begin[s]!==j){s=e.begin[s];}else if(e.token[s]===","){r[s]=w+1;}}while(s>j);r[j]=w+1;r[t-1]=w;}else {r[t-1]=-20;}};if(R===")"&&e.token[t+1]==="."&&N[N.length-1]>-1&&e.token[N[0]]!==":"){let s=e.begin[t];let C=false;let j=false;do{s=s-1;}while(s>0&&r[s]<-9);C=r[s]===w;s=t+1;do{s=s+1;if(e.token[s]==="{"){j=true;break}if(e.begin[s]===e.begin[t+1]&&(e.types[s]==="separator"||e.types[s]==="end")){break}}while(s<k);if(C===false&&j===true&&g.length>1){g[g.length-2].push(e.begin[t]);w=w+1;}}if(b!=="separator")ne();if(e.token[t+1]===","&&(e.stack[t]==="object"||e.stack[t]==="array")){V(true,false);}if(e.token[e.begin[t]-1]===","&&(e.token[t+1]==="}"||e.token[t+1]==="]")&&(e.stack[t]==="object"||e.stack[t]==="array")){V(true,false);}if(e.stack[t]!=="attribute"){if(R!==")"&&R!=="x)"&&(e.lexer[t-1]!=="markup"||e.lexer[t-1]==="markup"&&e.token[t-2]!=="return")){w=w-1;}if(R==="}"&&e.stack[t]==="switch"&&o.script.noCaseIndent===false){w=w-1;}}if(R==="}"||R==="x}"){if(e.types[t-1]!=="comment"&&E!=="{"&&E!=="x{"&&b!=="end"&&b!=="string"&&b!=="number"&&b!=="separator"&&E!=="++"&&E!=="--"&&(t<2||e.token[t-2]!==";"||e.token[t-2]!=="x;"||E==="break"||E==="return")){let s=t-1;let C=false;const j=e.begin[t];const v=D.length;do{if(e.begin[s]===j){if(e.token[s]==="="||e.token[s]===";"||e.token[s]==="x;"){C=true;}if(e.token[s]==="."&&r[s-1]>-1){m[m.length-1]=false;r[j]=w+1;r[t-1]=w;break}if(s>0&&e.token[s]==="return"&&(e.token[s-1]===")"||e.token[s-1]==="x)"||e.token[s-1]==="{"||e.token[s-1]==="x{"||e.token[s-1]==="}"||e.token[s-1]==="x}"||e.token[s-1]===";"||e.token[s-1]==="x;")){w=w-1;r[t-1]=w;break}if(e.token[s]===":"&&A.length===0||e.token[s]===","&&C===false){break}if(s===0||e.token[s-1]==="{"||e.token[s-1]==="x{"||e.token[s]==="for"||e.token[s]==="if"||e.token[s]==="do"||e.token[s]==="function"||e.token[s]==="while"||e.token[s]==="var"||e.token[s]==="let"||e.token[s]==="const"||e.token[s]==="with"){if(D[v-1]===false&&v>1&&(t===k-1||e.token[t+1]!==")"&&e.token[t+1]!=="x)")&&e.stack[t]!=="object"){w=w-1;}break}}else {s=e.begin[s];}s=s-1;}while(s>j)}U.pop();}if(o.script.bracePadding===false&&R!=="}"&&b!=="markup"){r[t-1]=-20;}if(o.script.bracePadding===true&&b!=="start"&&E!==";"&&(r[e.begin[t]]<-9||m[m.length-1]===true)){r[e.begin[t]]=-10;r[t-1]=-10;r.push(-20);}else if(e.stack[t]==="attribute"){r[t-1]=-20;r.push(w);}else if(e.stack[t]==="array"&&(N.length>0||O[O.length-1]===true)){re();m[m.length-1]=false;r[e.begin[t]]=w+1;r[t-1]=w;r.push(-20);}else if((e.stack[t]==="object"||e.begin[t]===0&&R==="}")&&N.length>0){re();m[m.length-1]=false;r[e.begin[t]]=w+1;r[t-1]=w;r.push(-20);}else if(R===")"||R==="x)"){const s=R===")"&&E!=="("&&T.length>0?T.pop()+1:0;const C=e.token[e.begin[t]-1]==="if"?(()=>{let j=t;do{j=j-1;if(e.token[j]===")"&&r[j-1]>-1)return s}while(j>e.begin[t]);return s+5})():s;if(s>0&&(o.language!=="jsx"||o.language==="jsx"&&e.token[e.begin[t]-1]!=="render")){const j=o.wrap;const v=e.begin[t];const W=T.length;let q=t-2;if(C>j){r[e.begin[t]]=w+1;r[t-1]=w;do{if(e.begin[q]===v){if(e.token[q]==="&&"||e.token[q]==="||"){r[q]=w+1;}else if(r[q]>-1&&e.types[q]!=="comment"&&e.token[q+1]!=="."){r[q]=r[q]+1;}}else if(r[q]>-1&&e.token[q+1]!=="."){r[q]=r[q]+1;}q=q-1;}while(q>v)}else if(W>0){T[W-1]=T[W-1]+s;}}else if(R===")"&&t>e.begin[t]+2&&e.lexer[e.begin[t]+1]===_&&e.token[e.begin[t]+1]!=="function"){const j=e.begin[t]<0?0:e.begin[t];const v=o.wrap;const W=N.length;let q=0;let Q=0;let ie=0;let J=0;let G=0;let ue=false;let X=false;let se=w+1;let fe=false;let pe=false;let we=false;if(r[j]<-9){Q=j;do{Q=Q+1;}while(Q<t&&r[Q]<-9);J=Q;do{q=q+e.token[Q].length;if(r[Q]===-10)q=q+1;if(e.token[Q]==="("&&ie>0&&ie<v-1&&J===t){ie=-1;}if(e.token[Q]===")"){G=G-1;}else if(e.token[Q]==="("){G=G+1;}if(Q===j&&G>0)ie=q;Q=Q-1;}while(Q>j&&r[Q]<-9);if(e.token[Q+1]===".")se=r[Q]+1;if(q>v-1&&v>0&&E!=="("&&ie!==-1&&m[m.length-2]===false){if(e.token[j-1]==="if"&&D[D.length-1]===true||e.token[j-1]!=="if"){r[j]=se;if(e.token[j-1]==="for"){Q=j;do{Q=Q+1;if(e.token[Q]===";"&&e.begin[Q]===j){r[Q]=se;}}while(Q<t)}}}}Q=t;q=0;do{Q=Q-1;if(e.stack[Q]==="function"){Q=e.begin[Q];}else if(e.begin[Q]===j){if(e.token[Q]==="?"){we=true;}else if(e.token[Q]===","&&ue===false){ue=true;if(q>=v&&v>0)fe=true;}else if(e.types[Q]==="markup"&&pe===false){pe=true;}if(r[Q]>-9&&e.token[Q]!==","&&e.types[Q]!=="markup"){q=0;}else {if(r[Q]===-10)q=q+1;q=q+e.token[Q].length;if(q>=v&&v>0&&(ue===true||pe===true)){fe=true;}}}else {if(r[Q]>-9){q=0;}else {q=q+e.token[Q].length;if(q>=v&&v>0&&(ue===true||pe===true)){fe=true;}}}}while(Q>j&&fe===false);if(ue===false&&e.token[e.begin[t]+1].charAt(0)==="`"){r[e.begin[t]]=-20;r[t-1]=-20;}else if((ue===true||pe===true)&&q>=v&&v>0||r[j]>-9){if(we===true){se=r[j];if(e.token[j-1]==="["){Q=t;do{Q=Q+1;if(e.types[Q]==="end"||e.token[Q]===","||e.token[Q]===";"){break}}while(Q<k);if(e.token[Q]==="]"){se=se-1;X=true;}}}else if(W>0&&N[W-1]>Q){se=se-W;}m[m.length-1]=false;Q=t;do{Q=Q-1;if(e.begin[Q]===j){if(e.token[Q].indexOf("=")>-1&&e.types[Q]==="operator"&&e.token[Q].indexOf("!")<0&&e.token[Q].indexOf("==")<0&&e.token[Q]!=="<="&&e.token[Q].indexOf(">")<0){q=Q;do{q=q-1;if(e.begin[q]===j&&(e.token[q]===";"||e.token[q]===","||q===j)){break}}while(q>j)}else if(e.token[Q]===","){r[Q]=se;}else if(r[Q]>-9&&X===false&&(e.token[j-1]!=="for"||e.token[Q+1]==="?"||e.token[Q+1]===":")&&(e.token[e.begin[t]]!=="("||e.token[Q]!=="+")){r[Q]=r[Q]+1;}}else if(r[Q]>-9&&X===false){r[Q]=r[Q]+1;}}while(Q>j);r[j]=se;r[t-1]=se-1;}else {r[t-1]=-20;}if(e.token[e.begin[t]-1]==="+"&&r[e.begin[t]]>-9){r[e.begin[t]-1]=-10;}}else if(o.language==="jsx"){p();}else {r[t-1]=-20;}r.push(-20);}else if(m[m.length-1]===true){if(R==="]"&&e.begin[t]-1>0&&e.token[e.begin[e.begin[t]-1]]==="["){m[m.length-2]=false;}if(e.begin[t]<r.length)r[e.begin[t]]=-20;if(o.language==="jsx"){p();}else if(R==="]"&&r[e.begin[t]]>-1){r[t-1]=r[e.begin[t]]-1;}else {r[t-1]=-20;}r.push(-20);}else if(e.types[t-1]==="comment"&&e.token[t-1].substring(0,2)==="//"){if(e.token[t-2]==="x}")r[t-3]=w+1;r[t-1]=w;r.push(-20);}else if(e.types[t-1]!=="comment"&&(E==="{"&&R==="}"||E==="["&&R==="]")){r[t-1]=-20;r.push(-20);}else if(R==="]"){if(D[D.length-1]===true&&m[m.length-1]===false&&o.script.arrayFormat!=="inline"||E==="]"&&r[t-2]===w+1){r[t-1]=w;r[e.begin[t]]=w+1;}else if(r[t-1]===-10){r[t-1]=-20;}if(e.token[e.begin[t]+1]==="function"){r[t-1]=w;}else if(D[D.length-1]===false){if(E==="}"||E==="x}")r[t-1]=w;let s=t-1;let C=1;do{if(e.token[s]==="]")C=C+1;if(e.token[s]==="["){C=C-1;if(C===0){if(s>0&&(e.token[s+1]==="{"||e.token[s+1]==="x{"||e.token[s+1]==="[")){r[s]=w+1;break}if(e.token[s+1]!=="["||a===false){r[s]=-20;break}break}}if(C===1&&e.token[s]==="+"&&r[s]>1){r[s]=r[s]-1;}s=s-1;}while(s>-1)}else if(o.language==="jsx"){p();}if(o.script.arrayFormat==="inline"){let s=t;const C=e.begin[t];do{s=s-1;if(e.types[s]==="end")break}while(s>C);if(s>C){r[e.begin[t]]=w+1;r[t-1]=w;}else {r[e.begin[t]]=-20;r[t-1]=-20;}}else if(r[e.begin[t]]>-1){r[t-1]=r[e.begin[t]]-1;}r.push(-20);}else if(R==="}"||R==="x}"||D[D.length-1]===true){if(R==="}"&&E==="x}"&&e.token[t+1]==="else"){r[t-2]=w+2;r.push(-20);}else {r.push(w);}r[t-1]=w;}else {r.push(-20);}if(e.types[t-1]==="comment")r[t-1]=w;re();a=D[D.length-1];D.pop();g.pop();O.pop();$.pop();P.pop();m.pop();L.pop();}function re(){let N=0;const p=g[g.length-1];if(p===void 0)return;N=p.length-1;if(N<1&&p[N]<0&&(R===";"||R==="x;"||R===")"||R==="x)"||R==="}"||R==="x}")){p.pop();return}if(N<0||p[N]<0)return;if(R===":"){if(e.token[p[N]]!=="?"){do{p.pop();N=N-1;w=w-1;}while(N>-1&&p[N]>-1&&e.token[p[N]]!=="?")}p[N]=t;r[t-1]=w;}else {do{p.pop();N=N-1;w=w-1;}while(N>-1&&p[N]>-1)}if((e.stack[t]==="array"||R===",")&&p.length<1)p.push(-1);}function Y(){const N=t;do{if(e.lexer[t+1]===_&&e.begin[t+1]<N)break;if(e.token[N-1]==="return"&&e.types[t]==="end"&&e.begin[t]===N)break;r.push(0);t=t+1;}while(t<k);x[N]=t;r.push(w-1);}function ne(){let N=t-1;const p=e.begin[t];if(w<1)return;do{if(p!==e.begin[N]){N=e.begin[N];}else {if(e.types[N]==="separator"||e.types[N]==="operator"){if(e.token[N]==="."&&r[N-1]>0){if(e.token[p-1]==="if"){w=w-2;}else {w=w-1;}}break}}N=N-1;}while(N>0&&N>p)}function de(){if(e.token[t+1]!==","&&R.indexOf("/>")!==R.length-2||e.token[t+1]===","&&e.token[e.begin[t]-3]!=="React"){V(false,false);}if(E==="return"||E==="?"||E===":"){r[t-1]=-10;r.push(-20);}else if(b==="start"||e.token[t-2]==="return"&&e.stack[t-1]==="method"){r.push(w);}else {r.push(-20);}}function oe(){const N=g[g.length-1]===void 0?[]:g[g.length-1];function p(){const s=e.token[t+1];let C=0;let j=0;let v=t;let W=R==="+"?w+2:w;let q=0;if(o.wrap<1){r.push(-10);return}do{v=v-1;if(e.token[e.begin[t]]==="("){if(v===e.begin[t]){q=C;}if(e.token[v]===","&&e.begin[v]===e.begin[t]&&D[D.length-1]===true){break}}if(C>o.wrap-1)break;if(r[v]>-9)break;if(e.types[v]==="operator"&&e.token[v]!=="="&&e.token[v]!=="+"&&e.begin[v]===e.begin[t]){break}C=C+e.token[v].length;if(v===e.begin[t]&&e.token[v]==="["&&C<o.wrap-1){break}if(e.token[v]==="."&&r[v]>-9)break;if(r[v]===-10)C=C+1;}while(v>0);if(q>0)q=q+s.length;C=C+s.length;j=v;if(C>o.wrap-1&&r[v]<-9){do{j=j-1;}while(j>0&&r[j]<-9)}if(e.token[j+1]==="."&&e.begin[t]<=e.begin[j]){W=W+1;}else if(e.types[j]==="operator"){W=r[j];}j=s.length;if(C+j<o.wrap){r.push(-10);return}if(e.token[e.begin[t]]==="("&&(e.token[N[0]]===":"||e.token[N[0]]==="?")){W=w+3;}else if(e.stack[t]==="method"){r[e.begin[t]]=w;if(D[D.length-1]===true){W=w+3;}else {W=w+1;}}else if(e.stack[t]==="object"||e.stack[t]==="array"){V(true,false);}if(e.token[v]==="var"||e.token[v]==="let"||e.token[v]==="const"){C=C-o.indentSize*o.indentChar.length*2;}if(q>0){v=o.wrap-q;}else {v=o.wrap-C;}if(v>0&&v<5){r.push(W);if(e.token[t].charAt(0)==='"'||e.token[t].charAt(0)==="'"){t=t+1;r.push(-10);}return}if(e.token[e.begin[t]]!=="("||q>o.wrap-1||q===0){if(q>0)C=q;if(C-s.length<o.wrap-1&&(s.charAt(0)==='"'||s.charAt(0)==="'")){t=t+1;C=C+3;if(C-s.length>o.wrap-4){r.push(W);return}r.push(-10);return}r.push(W);return}r.push(-10);}ne();if(N.length>0&&N[N.length-1]>-1&&e.stack[t]==="array"){O[O.length-1]=true;}if(R!==":"){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&m.length>0){V(true,false);}if(R!=="?"&&e.token[N[N.length-1]]==="."){let s=0;let C=t;const j=e.begin[C];do{if(e.begin[C]===j){if(e.token[C+1]==="{"||e.token[C+1]==="["||e.token[C]==="function"){break}if(e.token[C]===","||e.token[C]===";"||e.types[C]==="end"||e.token[C]===":"){N.pop();w=w-1;break}if(e.token[C]==="?"||e.token[C]===":"){if(e.token[N[N.length-1]]==="."&&s<2)N[N.length-1]=j+1;break}if(e.token[C]===".")s=s+1;}C=C+1;}while(C<k)}}if(R==="!"||R==="..."){if(E==="}"||E==="x}")r[t-1]=w;r.push(-20);return}if(E===";"||E==="x;"){if(e.token[e.begin[t]-1]!=="for")r[t-1]=w;r.push(-20);return}if(R==="*"){if(E==="function"||E==="yield"){r[t-1]=-20;}else {r[t-1]=-10;}r.push(-10);return}if(R==="?"){if(e.lines[t]===0&&e.types[t-2]==="word"&&e.token[t-2]!=="return"&&e.token[t-2]!=="in"&&e.token[t-2]!=="instanceof"&&e.token[t-2]!=="typeof"&&(b==="reference"||b==="word")){if(e.types[t+1]==="word"||e.types[t+1]==="reference"||(e.token[t+1]==="("||e.token[t+1]==="x(")&&e.token[t-2]==="new"){r[t-1]=-20;if(e.types[t+1]==="word"||e.types[t+1]==="reference"){r.push(-10);return}r.push(-20);return}}if(e.token[t+1]===":"){r[t-1]=-20;r.push(-20);return}A.push(t);if(o.script.ternaryLine===true){r[t-1]=-10;}else {let s=t-1;do{s=s-1;}while(s>-1&&r[s]<-9);N.push(t);w=w+1;if(r[s]===w&&e.token[s+1]!==":"){w=w+1;N.push(t);}r[t-1]=w;if(e.token[e.begin[t]]==="("&&(N.length<2||N[0]===N[1])){m[m.length-1]=false;if(t-2===e.begin[t]){r[e.begin[t]]=w-1;}else {r[e.begin[t]]=w;}s=t-2;do{if(e.types[s]==="end"&&r[s-1]>-1)break;if(r[s]>-1)r[s]=r[s]+1;s=s-1;}while(s>e.begin[t])}}r.push(-10);return}if(R===":"){if(e.stack[t]==="map"||e.types[t+1]==="type"||e.types[t+1]==="type_start"){r[t-1]=-20;r.push(-10);return}if(A.length>0&&e.begin[A[A.length-1]]===e.begin[t]){let s=t;const C=e.begin[t];do{s=s-1;if(e.begin[s]===C){if(e.token[s]===","||e.token[s]===";"){r[t-1]=-20;break}if(e.token[s]==="?"){A.pop();re();if(o.script.ternaryLine===true)r[t-1]=-10;r.push(-10);return}}else if(e.types[s]==="end"){s=e.begin[s];}}while(s>C)}if(e.token[t-2]==="where"&&e.stack[t-2]===e.stack[t]){r[t-1]=-10;r.push(-10);return}if(b==="reference"&&e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("){r[t-1]=-20;r.push(-10);return}if((E===")"||E==="x)")&&e.token[e.begin[t-1]-2]==="function"){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="attribute"){r[t-1]=-20;r.push(-10);return}if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&(b==="reference"||E===")"||E==="]"||E==="?")&&(e.stack[t]==="map"||e.stack[t]==="class"||e.types[t+1]==="reference")&&(A.length===0||A[A.length-1]<e.begin[t])&&("mapclassexpressionmethodglobalparen".indexOf(e.stack[t])>-1||e.types[t-2]==="word"&&e.stack[t]!=="switch")){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="switch"&&(A.length<1||A[A.length-1]<e.begin[t])){r[t-1]=-20;if(o.script.caseSpace===true){r.push(-10);}else {r.push(w);}return}if(e.stack[t]==="object"){r[t-1]=-20;}else if(A.length>0){r[t-1]=w;}else {r[t-1]=-10;}r.push(-10);return}if(R==="++"||R==="--"){if(b==="number"||b==="reference"){r[t-1]=-20;r.push(-10);}else if(t<k-1&&(e.types[t+1]==="number"||e.types[t+1]==="reference")){r.push(-20);}else {r.push(-10);}return}if(R==="+"){if(b==="start"){r[t-1]=-20;}else {r[t-1]=-10;}if(o.wrap<1||e.token[e.begin[t]]==="x("){r.push(-10);return}const s=e.token[t+1];if(s===void 0){r.push(-10);return}if(e.types[t-1]==="operator"||e.types[t-1]==="start"){if(e.types[t+1]==="reference"||s==="("||s==="["){r.push(-20);return}if(Number(s.slice(1,-1))>-1&&(/\d/.test(s.charAt(1))===true||s.charAt(1)==="."||s.charAt(1)==="-"||s.charAt(1)==="+")){r.push(-20);return}}return p()}if(e.types[t-1]!=="comment"){if(E==="("){r[t-1]=-20;}else if(R==="*"&&e.stack[t]==="object"&&e.types[t+1]==="reference"&&(E==="{"||E===",")){r[t-1]=w;}else if(R!=="?"||A.length===0){r[t-1]=-10;}}if(R.indexOf("=")>-1&&R!=="=="&&R!=="==="&&R!=="!="&&R!=="!=="&&R!==">="&&R!=="<="&&R!=="=>"&&e.stack[t]!=="method"&&e.stack[t]!=="object"){let s=t+1;let C=0;let j=false;let v="";if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&e.token[t+1]!=="function"){return}do{if(e.types[s]==="start"){if(j===true&&e.token[s]!=="["){if(L[L.length-1]===true){L[L.length-1]=false;}break}C=C+1;}if(e.types[s]==="end")C=C-1;if(C<0){if(L[L.length-1]===true){L[L.length-1]=false;}break}if(C===0){v=e.token[s];if(j===true){if(e.types[s]==="operator"||e.token[s]===";"||e.token[s]==="x;"||e.token[s]==="?"||e.token[s]==="var"||e.token[s]==="let"||e.token[s]==="const"){if(v!==void 0&&(v==="?"||v.indexOf("=")>-1&&v!=="=="&&v!=="==="&&v!=="!="&&v!=="!=="&&v!==">="&&v!=="<=")){if(L[L.length-1]===false){L[L.length-1]=true;}}if((v===";"||v==="x;"||v==="var"||v==="let"||v==="const")&&L[L.length-1]===true){L[L.length-1]=false;}break}if(L[L.length-1]===true&&(v==="return"||v==="break"||v==="continue"||v==="throw")){L[L.length-1]=false;}}if(v===";"||v==="x;"||v===",")j=true;}s=s+1;}while(s<k);r.push(-10);return}if(R==="-"&&E==="return"||E==="="){r.push(-20);return}if(b==="operator"&&e.types[t+1]==="reference"&&E!=="--"&&E!=="++"&&R!=="&&"&&R!=="||"){r.push(-20);return}return p()}function I(){const N=()=>{let p=e.begin[t];if(p<0){l.push([e.token[t],-1]);}else {if(e.stack[p+1]!=="function"){do{p=e.begin[p];}while(p>-1&&e.stack[p+1]!=="function")}l.push([e.token[t],p]);}};if(e.types[t-1]==="comment"){r[t-1]=w;}else if(b==="end"&&E!==")"&&e.token[e.begin[t-1]-1]!==")"){r[t-1]=-10;}else if(b!=="separator"&&b!=="start"&&b!=="end"&&b.indexOf("template_string")<0){if(b==="word"||b==="operator"||b==="property"||b==="type"||b==="reference"){r[t-1]=-10;}else {r[t-1]=-20;}}if(E==="var"&&e.lexer[t-1]===_){N();}else if(E==="function"){l.push([e.token[t],t]);}else if(E==="let"||E==="const"){l.push([e.token[t],t]);}else if(e.stack[t]==="arguments"){l.push([e.token[t],t]);}else if(E===","){let p=t;do{p=p-1;}while(p>e.begin[t]&&e.token[p]!=="var"&&e.token[p]!=="let"&&e.token[p]!=="const");if(e.token[p]==="var"){N();}else if(e.token[p]==="let"||e.token[p]==="const"){l.push([e.token[t],t]);}}r.push(-10);}function ee(){const N=g[g.length-1]===void 0?[]:g[g.length-1];const p=()=>{if(o.script.methodChain>0){let s=t;let C=e.begin[t];const j=[t];const v=e.token[C-1]==="if";do{s=s-1;if(e.types[s]==="end")s=e.begin[s];if(e.begin[s]===C){if(e.types[s]==="string"&&e.token[s].indexOf("${")===e.token[s].length-2){break}if(e.token[s]==="."){if(r[s-1]>0){r[t-1]=v===true?w+1:w;return}j.push(s);}else if(e.token[s]===";"||e.token[s]===","||e.types[s]==="operator"||(e.types[s]==="word"||e.types[s]==="reference")&&(e.types[s-1]==="word"||e.types[s-1]==="reference")){break}}}while(s>C);if(j.length<o.script.methodChain){r[t-1]=-20;return}s=0;C=j.length;do{r[j[s]-1]=v===true?w+1:w;s=s+1;}while(s<C);s=j[j.length-1]-1;do{if(r[s]>-1)r[s]=r[s]+1;s=s+1;}while(s<t);w=v===true?w+2:w+1;}r[t-1]=w;};if(R==="::"){r[t-1]=-20;r.push(-20);return}if(R==="."){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&N.length>0){if(e.stack[t]==="object"||e.stack[t]==="array"){V(true,false);}else {V(false,false);}}if(o.script.methodChain===0){r[t-1]=-20;}else if(o.script.methodChain<0){if(e.lines[t]>0){p();}else {r[t-1]=-20;}}else {p();}r.push(-20);return}if(R===","){ne();if(D[D.length-1]===false&&(e.stack[t]==="object"||e.stack[t]==="array"||e.stack[t]==="paren"||e.stack[t]==="expression"||e.stack[t]==="method")){D[D.length-1]=true;if(e.token[e.begin[t]]==="("){let s=t;do{s=s-1;if(e.begin[s]===e.begin[t]&&e.token[s]==="+"&&r[s]>-9){r[s]=r[s]+2;}}while(s>e.begin[t])}}if(e.stack[t]==="array"&&o.script.arrayFormat==="indent"){r[t-1]=-20;r.push(w);return}if(e.stack[t]==="array"&&o.script.arrayFormat==="inline"){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="object"&&o.script.objectIndent==="indent"){r[t-1]=-20;r.push(w);return}if(e.stack[t]==="object"&&o.script.objectIndent==="inline"){r[t-1]=-20;r.push(-10);return}if(N.length>0){if(N[N.length-1]>-1)re();r[t-1]=-20;r.push(w);return}if(e.token[t-2]===":"&&e.token[t-4]==="where"){r[t-1]=-20;r.push(-10);return}r[t-1]=-20;if(e.types[t+1]!=="end"){$[$.length-1]=$[$.length-1]+1;}if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&o.language!=="jsx"&&e.stack[t]!=="global"&&(e.types[t-1]!=="string"&&e.types[t-1]!=="number"||e.token[t-2]!=="+"||e.types[t-1]==="string"&&e.types[t-1]!=="number"&&e.token[t-2]==="+"&&e.types[t-3]!=="string"&&e.types[t-3]!=="number")){r.push(-10);return}if(b==="reference"&&e.types[t-2]==="word"&&"var-let-const-from".indexOf(e.token[t-2])<0&&(e.types[t-3]==="end"||e.token[t-3]===";")){P[P.length-1]=true;r.push(-10);return}if(P[P.length-1]===true||e.stack[t]==="notation"){r.push(-10);return}if($[$.length-1]>3&&(e.stack[t]==="array"||e.stack[t]==="object")){if(m[m.length-1]===true)V(true,true);r[t-1]=-20;if(O[O.length-1]===true){r.push(w);return}const s=e.begin[t];let C=t;do{if(e.types[C]==="end"){C=e.begin[C];}else {if(e.token[C]===","&&e.types[C+1]!=="comment"){r[C]=w;}}C=C-1;}while(C>s);r[s]=w;O[O.length-1]=true;return}if(e.stack[t]==="object"){if(m[m.length-1]===true&&e.types[e.begin[t]-1]!=="word"&&e.types[e.begin[t]-1]!=="reference"&&e.token[e.begin[t]-1]!=="("&&e.token[e.begin[t]-1]!=="x("){const s=e.begin[t];let C=t-1;do{if(e.begin[C]===s){if(e.token[C]===",")break;if(e.token[C]===":"){V(true,false);break}}C=C-1;}while(C>s)}}if(m[m.length-1]===false||e.token[t-2]==="+"&&(b==="string"||b==="number")&&r[t-2]>0&&(E.charAt(0)==='"'||E.charAt(0)==="'")){if(e.stack[t]==="method"){if(e.token[t-2]==="+"&&(E.charAt(0)==='"'||E.charAt(0)==="'")&&(e.token[t-3].charAt(0)==='"'||e.token[t-3].charAt(0)==="'")){r.push(w+2);return}if(e.token[t-2]!=="+"){r.push(-10);return}}r.push(w);return}if(m[m.length-1]===true&&e.stack[t]!=="object"){r.push(-10);return}if($[$.length-1]<4&&(e.stack[t]==="array"||e.stack[t]==="object")){r.push(-10);return}r.push(w);return}if(R===";"||R==="x;"){ne();if(e.token[t+1]!==void 0&&e.types[t+1].indexOf("attribute")>0&&e.types[t+1].indexOf("end")>0){r[t-1]=-20;r.push(w-1);return}if(U[U.length-1]>-1&&e.stack[U[U.length-1]]!=="expression"){let s=t;do{s=s-1;if(e.token[s]===";")break;if(e.token[s]===","){w=w-1;break}if(e.types[s]==="end")s=e.begin[s];}while(s>0&&s>e.begin[t])}U[U.length-1]=-1;re();if(e.token[e.begin[t]-1]!=="for")V(false,false);P[P.length-1]=false;r[t-1]=-20;if(e.begin[t]>0&&e.token[e.begin[t]-1]==="for"&&e.stack[t]!=="for"){r.push(-10);return}r.push(w);return}r.push(-20);}function Ne(){const N=e.stack[t+1];const p=t===0?e.stack[t]:e.stack[t-1];if(E===")"||(p==="object"||p==="array")&&E!=="]"){if(N!=="method"||N==="method"&&e.token[t+1]!==")"&&e.token[t+2]!==")"){if(E===")"&&(N!=="function"||e.token[e.begin[e.begin[t-1]-1]]==="("||e.token[e.begin[e.begin[t-1]-1]]==="x(")){V(false,false);}else if(e.types[t+1]!=="end"&&e.types[t+2]!=="end"){V(true,false);}}}D.push(false);g.push([]);L.push(false);O.push(false);P.push(false);$.push(0);if(o.script.neverFlatten===true||N==="array"&&o.script.arrayFormat==="indent"||N==="attribute"||b==="generic"||N==="class"&&E!=="("&&E!=="x("||R==="["&&e.token[t+1]==="function"){m.push(false);}else {if(N==="expression"||N==="method"){m.push(true);}else if((N==="object"||N==="class")&&(E==="("||E==="x("||b==="word"||b==="reference")){m.push(true);}else if(N==="array"||R==="("||R==="x("){m.push(true);}else if(R==="{"&&N==="object"&&b!=="operator"&&b!=="start"&&b!=="string"&&b!=="number"&&p!=="object"&&p!=="array"&&t>0){m.push(true);}else {m.push(false);}}if(R!=="("&&R!=="x("&&e.stack[t+1]!=="attribute"){w=w+1;}if(R==="{"||R==="x{"){U.push(-1);if(e.types[t-1]!=="comment"){if(b==="markup"){r[t-1]=w;}else if(o.script.braceAllman===true&&b!=="operator"&&E!=="return"){r[t-1]=w-1;}else if(e.stack[t+1]!=="block"&&(N==="function"||E===")"||E==="x)"||E===","||E==="}"||b==="markup")){r[t-1]=-10;}else if(E==="{"||E==="x{"||E==="["||E==="}"||E==="x}"){r[t-1]=w-1;}}if(N==="object"){if(o.script.objectIndent==="indent"){m[m.length-1]=false;r.push(w);return}if(o.script.objectIndent==="inline"){m[m.length-1]=true;r.push(-20);return}}if(N==="switch"){if(o.script.noCaseIndent===true){r.push(w-1);return}w=w+1;r.push(w);return}if(m[m.length-1]===true){if(b!=="word"&&b!=="reference"){r.push(-20);return}}r.push(w);return}if(R==="("||R==="x("){if(o.wrap>0&&R==="("&&e.token[t+1]!==")"){T.push(1);}if(E==="-"&&(e.token[t-2]==="("||e.token[t-2]==="x(")){r[t-2]=-20;}if(b==="end"&&p!=="if"&&p!=="for"&&p!=="catch"&&p!=="else"&&p!=="do"&&p!=="try"&&p!=="finally"&&p!=="catch"){if(e.types[t-1]==="comment"){r[t-1]=w;}else {r[t-1]=-20;}}if(E==="async"){r[t-1]=-10;}else if(N==="method"||e.token[t-2]==="function"&&b==="reference"){if(E==="import"||E==="in"||o.script.functionNameSpace===true){r[t-1]=-10;}else if(E==="}"&&e.stack[t-1]==="function"||b==="word"||b==="reference"||b==="property"){r[t-1]=-20;}else if(p!=="method"&&N!=="method"){r[t-1]=w;}}if(E==="+"&&(e.token[t-2].charAt(0)==='"'||e.token[t-2].charAt(0)==="'")){r.push(w);return}if(E==="}"||E==="x}"){r.push(-20);return}if(E==="-"&&(t<2||e.token[t-2]!==")"&&e.token[t-2]!=="x)"&&e.token[t-2]!=="]"&&e.types[t-2]!=="reference"&&e.types[t-2]!=="string"&&e.types[t-2]!=="number")||o.script.functionSpace===false&&E==="function"){r[t-1]=-20;}r.push(-20);return}if(R==="["){if(E==="[")D[D.length-2]=true;if(E==="return"||E==="var"||E==="let"||E==="const"){r[t-1]=-10;}else if(e.types[t-1]!=="comment"&&e.stack[t-1]!=="attribute"&&(b==="end"||b==="word"||b==="reference")){r[t-1]=-20;}else if(E==="["||E==="{"||E==="x{"){r[t-1]=w-1;}if(e.stack[t]==="attribute"){r.push(-20);return}if(o.script.arrayFormat==="indent"){m[m.length-1]=false;r.push(w);return}if(o.script.arrayFormat==="inline"){m[m.length-1]=true;r.push(-20);return}if(N==="method"||m[m.length-1]===true){r.push(-20);return}let s=t+1;do{if(e.token[s]==="]"){r.push(-20);return}if(e.token[s]===","){r.push(w);return}s=s+1;}while(s<k);r.push(-20);}}function xe(){if(R.length===1){r.push(-20);if(e.lines[t]===0)r[t-1]=-20;}else if(R.indexOf("#!/")===0){r.push(w);}else {r.push(-10);}if((E===","||b==="start")&&(e.stack[t]==="object"||e.stack[t]==="array")&&m[m.length-1]===false&&t>0){r[t-1]=w;}}function Qe(){if(o.language!=="json"&&e.types[t-1]!=="string"){if(B==="template_else"){r[t-1]=w-1;r.push(w);}else if(B==="template_start"){w=w+1;if(e.lines[t-1]<1)r[t-1]=-20;if(e.lines[t]>0||E.length===1&&b==="string"){r.push(w);}else {r.push(-20);}}else if(B==="template_end"){w=w-1;if(b==="template_start"||e.lines[t-1]<1){r[t-1]=-20;}else {r[t-1]=w;}if(e.lines[t]>0){r.push(w);}else {r.push(-20);}}else if(B==="template"){if(e.lines[t]>0){r.push(w);}else {r.push(-20);}}}}function Ue(){if(B==="template_string_start"){w=w+1;r.push(w);}else if(B==="template_string_else"){ne();r[t-1]=w-1;r.push(w);}else {ne();w=w-1;r[t-1]=w;r.push(-10);}if(t>2&&(e.types[t-2]==="template_string_else"||e.types[t-2]==="template_string_start")){if(o.script.bracePadding===true){r[t-2]=-10;r[t-1]=-10;}else {r[t-2]=-20;r[t-1]=-20;}}}function Ze(){if(e.token[t-1]===","||e.token[t-1]===":"&&e.stack[t-1]!=="data_type"){r[t-1]=-10;}else {r[t-1]=-20;}if(e.types[t]==="type"||e.types[t]==="type_end"){r.push(-10);}if(e.types[t]==="type_start"){r.push(-20);}}function H(){if((E===")"||E==="x)")&&e.stack[t]==="class"&&(e.token[e.begin[t-1]-1]==="static"||e.token[e.begin[t-1]-1]==="final"||e.token[e.begin[t-1]-1]==="void")){r[t-1]=-10;r[e.begin[t-1]-1]=-10;}if(E==="]")r[t-1]=-10;if(R==="else"&&E==="}"){if(e.token[t-2]==="x}")r[t-3]=r[t-3]-1;if(o.script.braceAllman===true||o.script.elseNewline===true){r[t-1]=w;}}if(R==="new"&&h.has(e.token[t+1]));if(R==="from"&&b==="end"&&t>0&&(e.token[e.begin[t-1]-1]==="import"||e.token[e.begin[t-1]-1]===",")){r[t-1]=-10;}if(R==="function"){if(o.script.functionSpace===false&&t<k-1&&(e.token[t+1]==="("||e.token[t+1]==="x(")){r.push(-20);return}r.push(-10);return}if(E==="-"&&t>1){if(e.types[t-2]==="operator"||e.token[t-2]===","){r[t-1]=-20;}else if(e.types[t-2]==="start"){r[t-2]=-20;r[t-1]=-20;}}else if(R==="while"&&(E==="}"||E==="x}")){let N=t-1;let p=0;do{if(e.token[N]==="}"||e.token[N]==="x}")p=p+1;if(e.token[N]==="{"||e.token[N]==="x{")p=p-1;if(p===0){if(e.token[N-1]==="do"){r[t-1]=-10;break}r[t-1]=w;break}N=N-1;}while(N>-1)}else if(R==="in"||(R==="else"&&o.script.elseNewline===false&&o.script.braceAllman===false||R==="catch")&&(E==="}"||E==="x}")){r[t-1]=-10;}else if(R==="var"||R==="let"||R==="const"){U[U.length-1]=t;if(b==="end")r[t-1]=w;if(e.token[e.begin[t]-1]!=="for"){let N=t+1;let p=0;do{if(e.types[N]==="end")p=p-1;if(e.types[N]==="start")p=p+1;if(p<0||p===0&&(e.token[N]===";"||e.token[N]===",")){break}N=N+1;}while(N<k);if(e.token[N]===",")w=w+1;}r.push(-10);return}if((R==="default"||R==="case")&&b!=="word"&&e.stack[t]==="switch"){r[t-1]=w-1;r.push(-10);return}if(R==="catch"&&E==="."){r[t-1]=-20;r.push(-20);return}if(R==="catch"||R==="finally"){r[t-1]=-10;r.push(-10);return}if(o.script.bracePadding===false&&t<k-1&&e.token[t+1].charAt(0)==="}"){r.push(-20);return}if(e.stack[t]==="object"&&(E==="{"||E===",")&&(e.token[t+1]==="("||e.token[t+1]==="x(")){r.push(-20);return}if(e.types[t-1]==="comment"&&e.token[e.begin[t]]==="("){r[t-1]=w+1;}r.push(-10);}do{if(e.lexer[t]===_){B=e.types[t];R=e.token[t];if(B==="comment"){te();}else if(B==="regex"){r.push(-20);}else if(B==="string"){xe();}else if(B.indexOf("template_string")===0){Ue();}else if(B==="separator"){ee();}else if(B==="start"){Ne();}else if(B==="end"){z();}else if(B==="type"||B==="type_start"||B==="type_end"){Ze();}else if(B==="operator"){oe();}else if(B==="word"){H();}else if(B==="reference"){I();}else if(B==="markup"){de();}else if(B.indexOf("template")===0){Qe();}else if(B==="generic"){if(E!=="return"&&E.charAt(0)!=="#"&&b!=="operator"&&E!=="public"&&E!=="private"&&E!=="static"&&E!=="final"&&E!=="implements"&&E!=="class"&&E!=="void"){r[t-1]=-20;}if(e.token[t+1]==="("||e.token[t+1]==="x("){r.push(-20);}else {r.push(-10);}}else {r.push(-10);}if(B!=="comment"){b=B;E=R;}if(T.length>0&&e.token[t]!==")"){if(e.types[t]==="comment"&&T[T.length-1]>-1){T[T.length-1]=o.wrap+1;}else if(r[t]>-1||e.token[t].charAt(0)==="`"&&e.token[t].indexOf(ce)>0){T[T.length-1]=-1;}else if(T[T.length-1]>-1){T[T.length-1]=T[T.length-1]+e.token[t].length;if(r[t]===-10)T[T.length-1]=T[T.length-1]+1;}}}else {Y();}t=t+1;}while(t<k);return r})();const d=(()=>{const t=[];const w=(()=>{const r=[];const A=o.indentChar;let g=o.indentSize;if(typeof g!=="number"||g<1)return "";do{r.push(A);g=g-1;}while(g>0);return r.join("")})();const F=o.crlf===true?"\r\n":ce;const a=o.preserveLine+1;const B=["x;","x}","x{","x(","x)"];let R=M.start;let b="";let E=o.indentLevel;function U(r){const A=[];const g=(()=>{if(R===k-1)return 1;if(e.lines[R+1]-1>a)return a;if(e.lines[R+1]>1)return e.lines[R+1]-1;return 1})();let O=0;if(r<0)r=0;do{A.push(F);O=O+1;}while(O<g);if(r>0){O=0;do{A.push(w);O=O+1;}while(O<r)}return A.join(S)}if(o.script.vertical===true){let r=function(A){let g=0;let O=0;let m=A-1;let $=0;let L=0;const P=e.begin[R];const T=[];do{if((e.begin[m]===P||e.token[m]==="]"||e.token[m]===")")&&(e.token[m+1]===":"&&e.stack[m]==="object"||e.token[m+1]==="=")){$=m;O=0;do{if(e.begin[$]===P){if(e.token[$]===","||e.token[$]===";"||e.token[$]==="x;"||y[$]>-1&&e.types[$]!=="comment"){if(e.token[$+1]==="."){O=O+o.indentSize*o.indentChar.length;}break}}else if(y[$]>-1){break}if(e.types[$]!=="comment"){if(y[$-1]===-10)O=O+1;O=e.token[$].length+O;}$=$-1;}while($>P);L=$;if(e.token[L]===","&&e.token[m+1]==="="){do{if(e.types[L]==="end")L=e.begin[L];if(e.begin[L]===P){if(e.token[L]===";"||e.token[L]==="x;")break;if(e.token[L]==="var"||e.token[L]==="const"||e.token[L]==="let"){O=O+o.indentSize*o.indentChar.length;break}}L=L-1;}while(L>P)}if(O>g)g=O;T.push([m,O]);m=$;}else if(e.types[m]==="end"){m=e.begin[m];}m=m-1;}while(m>P);m=T.length;if(m>0){do{m=m-1;$=T[m][1];if($<g){do{e.token[T[m][0]]=e.token[T[m][0]]+K;$=$+1;}while($<g)}}while(m>0)}};R=k;do{R=R-1;if(e.lexer[R]==="script"){if(e.token[R]==="}"&&e.token[R-1]!=="{"&&y[e.begin[R]]>0){r(R);}}else {R=e.begin[R];}}while(R>0)}R=M.start;do{if(e.lexer[R]===_||M.beautify[e.lexer[R]]===void 0){if(e.types[R]==="comment"&&o.commentIndent===true){if(/\n/.test(e.token[R])){const r=e.begin[R]>-1?e.token[R].charAt(2)==="*"?ve(y[R],w)+o.indentChar:ve(y[R],w):o.indentChar;const A=e.token[R].split(/\n/);let g=1;do{A[g]=r+A[g].trimStart();g=g+1;}while(g<A.length);e.token.splice(R,1,A.join(ce));}}if(B.indexOf(e.token[R])<0){if(e.token[R]!==";"||o.script.noSemicolon===false){t.push(e.token[R]);}else if(y[R]<0&&e.types[R+1]!=="comment"){t.push(";");}}if(R<k-1&&e.lexer[R+1]!==_&&e.begin[R]===e.begin[R+1]&&e.types[R+1].indexOf("end")<0&&e.token[R]!==","){t.push(K);}else if(y[R]>-1){if((y[R]>-1&&e.token[R]==="{"||y[R]>-1&&e.token[R+1]==="}")&&e.lines[R]<3&&o.script.braceNewline===true){if(e.lines[R+1]<3)t.push(U(0));}t.push(U(y[R]));E=y[R];}else if(y[R]===-10){t.push(K);if(e.lexer[R+1]!==_)E=E+1;}}else {if(x[R]===R){t.push(e.token[R]);}else {M.end=x[R];M.start=R;o.indentLevel=E;b=M.beautify[e.lexer[R]](o).replace(Ce,S);t.push(b);R=M.iterator;if(y[R]===-10){t.push(K);}else if(y[R]>-1){t.push(U(y[R]));}o.indentLevel=0;}}R=R+1;}while(R<k);M.iterator=k-1;return t.join(S)})();if(o.language==="json"){o.script=Oe(o.script,u);}return d};var Ke={};pt(Ke,{definitions:()=>je,format:()=>Je,formatSync:()=>mt,language:()=>Te,options:()=>We,parse:()=>ct,parseSync:()=>bt});var je={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeCasing:{default:"preserve",description:"Controls the casing of attribute values and keys.",type:"select",lexer:"markup",values:[{rule:"preserve",description:"All tag attribute keys/values are preserved and left intact."},{rule:"lowercase",description:"All tag attribute keys/values are converted to lowercase"},{rule:"lowercase-name",description:"Only attribute keys are converted to lowercase"},{rule:"lowercase-value",description:"Only attribute values are converted to lowercase"}]},delimiterTrims:{default:"preserve",description:"How delimiter whitespace trim dashes should handled on Liquid tokens. You should avoid setting this to force in order to avoid stripping whitespace between text content.",lexer:"markup",type:"select",values:[{rule:"preserve",description:"All trim dash occurances of trims intact"},{rule:"strip",description:"Removes all trim dash occurances for tags and output tokens"},{rule:"force",description:"Applies trime dashes to all tags and output tokens"},{rule:"tags",description:"Applies trim dashes to tags tokens only"},{rule:"output",description:"Applies trim dashes to output object tokens only"}]},delimiterSpacing:{default:true,description:"Whether or not delimiter characters should apply a single space at the start and end point",lexer:"markup",type:"boolean"},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},preserveCaptures:{default:false,description:"Whether or not to apply formatting on the inner contents of Liquid capture tags.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},lineBreakOperator:{default:"default",description:"Controls the placement of Liquid tag operator type characters in newline structures.",lexer:"markup",type:"select",values:[{rule:"default",description:"Leave line break character intace"},{rule:"before",description:"Place line break character at the start of expressions"},{rule:"after",description:"Place line break character at the end of expressions"}]},ignoreScripts:{default:false,description:"Whether to ignore embedded regions of tags identified to contain JavaScript",lexer:"markup",type:"boolean"},ignoreStyles:{default:false,description:"Whether to ignore embedded regions of tags identified to contain CSS",lexer:"markup",type:"boolean"},ignoreJson:{default:false,description:"Whether to ignore embedded regions of tags identified to contain JSON",lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};function at(o){const u=o.source.search(st);const h=o.source.search(it);const f=$e(je);const i=f.length;let x=0;if(h>-1&&o.source.slice(0,h).trimStart()===S)return false;if(u>-1&&(u===0||`"':`.indexOf(o.source.charAt(u-1))<0)){let r=function(){if(y.charAt(t-1)!=="\\")return false;let A=t;do{A=A-1;}while(A>0&&y.charAt(A)==="\\");return (t-A)%2===0};const l=[];const k=u;const y=o.source;const d=y.length;let t=k;let w=0;let F=S;let a=S;let B=S;let R=S;let b=[];let E=[];let U;let D;if(c(y[t],60)){D="<!--";}else if(c(y[t+1],47)){D="//";}else if(c(y[t+1],37)){U=y.indexOf("}",t+1);if(c(y[U-1],37))D=y.slice(t,U+1);}else {D="/*";}do{if(y.slice(t-9,t)==="@prettify")break;t=t+1;}while(t<d);do{if(r()===false){if(F===S){if(c(y[t],34)||c(y[t],39)||c(y[t],96)){F=y.charAt(t);if(l.length>0&&l[l.length-1].charAt(l[l.length-1].length-1)===":")w=t;}else if(/\s/.test(y.charAt(t))===false&&w===0){w=t;}else if(c(y[t],44)||he(y.charAt(t))===true&&w>0){a=y.slice(w,t);if(l.length>0){if(l.length>0&&c(a,58)&&l[l.length-1].indexOf(":")<0){l[l.length-1]=l[l.length-1]+a;w=t;}else if(l.length>0&&l[l.length-1].charAt(l[l.length-1].length-1)===":"){l[l.length-1]=l[l.length-1]+a;w=0;}else {l.push(a);w=0;}}else {l.push(a);w=0;}}if(D==="<!--"&&y.slice(t-2,t+1)==="-->")break;if(D==="//"&&y.charAt(t)==="\n")break;if(D==="/*"&&y.slice(t-1,t+1)==="*/")break;if(D.charCodeAt(1)===37&&y.slice(t-1,t+1)==="%"&&y.indexOf("endcomment",y.indexOf("{%",U))>0)break}else if(y.charAt(t)===F&&F!=="${"){F=S;}else if(F==="`"&&y.slice(t,t+2)==="${"){F="${";}else if(F==="${"&&y.charAt(t)==="}"){F="`";}}t=t+1;}while(t<d);if(w>0){F=y.slice(w,t+1);if(D==="<!--")F=F.replace(/\s*-+>$/,S);else if(D==="//")F=F.replace(/\s+$/,S);else F=F.replace(/\s*\u002a\/$/,S);l.push(F);}t=l.length;if(t>0){do{t=t-1;if(l[t].indexOf(":")>0){E=[l[t].slice(0,l[t].indexOf(":")),l[t].slice(l[t].indexOf(":")+1)];}else if(je[l[t]]!==void 0&&je[l[t]].type==="boolean"){o.options[l[t]]=true;}if(E.length===2&&je[E[0]]!==void 0){if(E[1].charAt(E[1].length-1)===E[1].charAt(0)&&(E[1].charAt(0)==='"'||E[1].charAt(0)==="'"||E[1].charAt(0)==="`")){E[1]=E[1].slice(1,E[1].length-1);}if(je[E[0]].type==="number"&&isNaN(Number(E[1]))===false){o.options[E[0]]=Number(E[1]);}else if(je[E[0]].type==="boolean"){o.options[E[0]]=E[1]==="true";}else {if(je[E[0]].values!==void 0){b=$e(je[E[0]].values);w=b.length;do{w=w-1;if(b[w]===E[1]){o.options[E[0]]=E[1];break}}while(w>0)}else {if(E[0]==="language"){B=E[1];}else if(E[0]==="lexer"){R=E[1];}o.options[E[0]]=E[1];}}}}while(t>0);if(R===S&&B!==S)R=Ye(B);}}if(o.options.lexer==="script"){if(o.options.script.styleGuide!==void 0){switch(o.options.script.styleGuide){case"airbnb":o.options.wrap=80;o.options.indentChar=" ";o.options.indentSize=2;o.options.preserveLine=1;o.options.script.correct=true;o.options.script.quoteConvert="single";o.options.script.variableList="each";o.options.script.endComma="always";o.options.script.bracePadding=true;break;case"crockford":o.options.indentChar=" ";o.options.indentSize=4;o.options.script.correct=true;o.options.script.bracePadding=false;o.options.script.elseNewline=false;o.options.script.endComma="never";o.options.script.noCaseIndent=true;o.options.script.functionSpace=true;o.options.script.variableList="each";o.options.script.vertical=false;break;case"google":o.options.wrap=-1;o.options.indentChar=" ";o.options.indentSize=4;o.options.preserveLine=1;o.options.script.correct=true;o.options.script.quoteConvert="single";o.options.script.vertical=false;break;case"jquery":o.options.wrap=80;o.options.indentChar="	";o.options.indentSize=1;o.options.script.correct=true;o.options.script.bracePadding=true;o.options.script.quoteConvert="double";o.options.script.variableList="each";break;case"jslint":o.options.indentChar=" ";o.options.indentSize=4;o.options.script.correct=true;o.options.script.bracePadding=false;o.options.script.elseNewline=false;o.options.script.endComma="never";o.options.script.noCaseIndent=true;o.options.script.functionSpace=true;o.options.script.variableList="each";o.options.script.vertical=false;break;case"standard":o.options.wrap=0;o.options.indentChar=" ";o.options.indentSize=2;o.options.endNewline=false;o.options.preserveLine=1;o.options.script.correct=true;o.options.script.noSemicolon=true;o.options.script.endComma="never";o.options.script.braceNewline=false;o.options.script.bracePadding=false;o.options.script.braceAllman=false;o.options.script.quoteConvert="single";o.options.script.functionSpace=true;o.options.script.ternaryLine=false;o.options.script.variableList="each";o.options.script.vertical=false;break;case"yandex":o.options.script.correct=true;o.options.script.bracePadding=false;o.options.script.quoteConvert="single";o.options.script.variableList="each";o.options.script.vertical=false;break}}if(o.options.script.braceStyle!==void 0){switch(o.options.script.braceStyle){case"collapse":o.options.script.braceNewline=false;o.options.script.bracePadding=false;o.options.script.braceAllman=false;o.options.script.objectIndent="indent";o.options.script.neverFlatten=true;break;case"collapse-preserve-inline":o.options.script.braceNewline=false;o.options.script.bracePadding=true;o.options.script.braceAllman=false;o.options.script.objectIndent="indent";o.options.script.neverFlatten=false;break;case"expand":o.options.script.braceNewline=false;o.options.script.bracePadding=false;o.options.script.braceAllman=true;o.options.script.objectIndent="indent";o.options.script.neverFlatten=true;break}}if(o.options.language==="json")o.options.wrap=0;}do{if(o.options[$e[x]]!==void 0){je[$e[x]].lexer.length;}x=x+1;}while(x<i)}function gt(o){const{source:u,options:h}=o;const{lexer:f,language:i}=h;if(typeof o.lexers[f]==="function"){o.lexers[f](`${u} `);}else {n.error=`Specified lexer, ${f}, is not a function.`;}let x=0;let e=0;const _=$e(n.data);const l=_.length;do{e=x+1;do{if(n.data[_[x]].length!==n.data[_[e]].length){n.error=`"${_[x]}" array is of different length than "${_[e]}"`;break}e=e+1;}while(e<l);x=x+1;}while(x<l-1);if(n.data.begin.length>0){if(f==="script"&&(i==="json"&&h.json.objectSort===true||h.language!=="json"&&h.script.objectSort===true)){n.sortCorrection(0,n.count+1);}else if(f==="style"&&h.style.sortProperties){n.sortCorrection(0,n.count+1);}}return n.data}function ut(o){const u=Date.now();const h={language:o,chars:-1};return f=>{h.chars=f;h.size=et(f);h.time=(Date.now()-u).toFixed(1);return h}}function kt(o){const{languageName:u}=be(o.options.language);const h=o.options.crlf===true?"\r\n":"\n";const f=o.source.match(/\n/g);const i=ut(u);let x=S;if(f===null){if(o.options.endNewline)x=h;o.stats=i(x.length);}else {x=f[0].length>o.options.preserveLine?ve(o.options.preserveLine,h):ve(f[0].length,h);if(o.options.endNewline)x+=h;o.stats=i(x.length);}return x}function Me(o){o.data=n.init();if(!/\S/.test(o.source))return kt(o);if(o.options.language==="text"){o.options.language="text";o.options.languageName="Plain Text";o.options.lexer="markup";}else if(o.options.language==="auto"||o.options.language===void 0){const{lexer:x,language:e,languageName:_}=Te(o.source);if(e==="unknown"){console.warn("Prettify: unknown and/or unsupport language");console.info("Prettify: define a support language (fallback is HTML)");}o.options.lexer=x;o.options.language=e;o.options.languageName=_;}else {const{lexer:x,language:e,languageName:_}=be(o.options.language);if(e==="unknown"){console.warn(`Prettify: unsupport ${o.options.language}`);console.info("Prettify: language is not supported (fallback is HTML)");}o.options.lexer=x;o.options.language=e;o.options.languageName=_;}const u=ut(o.options.languageName);const h=o.mode;const f=o.options.crlf===true?"\r\n":"\n";let i=o.source;if(at(o)===false){o.stats=u(i.length);return i}o.data=gt(o);if(h==="parse"){o.stats=u(i.length);return n.data}i=o.beautify[o.options.lexer](o.options);i=o.options.endNewline===true?i.replace(/\s*$/,f):i.replace(/\s+$/,S);o.stats=u(i.length);o.end=0;o.start=0;return i}Je.before=o=>M.hooks.before.push(o);Je.after=o=>M.hooks.after.push(o);We.listen=o=>M.hooks.rules.push(o);Fe(Je,"stats",{get(){return M.stats}});Fe(ct,"stats",{get(){return M.stats}});Fe(We,"rules",{get(){return M.options}});function mt(o,u){M.source=o;if(typeof u==="object")M.options=We(u);if(M.hooks.before.length>0){for(const f of M.hooks.before){if(f(M.options,o)===false)return o}}const h=Me(M);if(M.hooks.after.length>0){for(const f of M.hooks.after){if(f.call(n.data,h,M.options)===false)return o}}if(n.error.length)throw new Error(n.error);return h}function Je(o,u){M.source=o;if(typeof u==="object")M.options=We(u);if(M.hooks.before.length>0){for(const f of M.hooks.before){if(f(M.options,o)===false)return o}}const h=Me(M);if(M.hooks.after.length>0){for(const f of M.hooks.after){if(f.call(n.data,h,M.options)===false)return o}}return new Promise((f,i)=>{if(n.error.length)return i(n.error);return f(h)})}function We(o){for(const u of $e(o)){if(u in je&&je[u].lexer==="auto"){M.options[u]=o[u];}else if(u==="markup"){Oe(M.options.markup,o.markup);}else if(u==="script"){Oe(M.options.script,o.script);}else if(u==="style"){Oe(M.options.style,o.style);}else if(u==="json"){Oe(M.options.json,o.json);}else if(u==="grammar"){ae.extend(o.grammar);}else if(u in M.options){M.options[u]=o[u];}}if(M.hooks.rules.length>0){for(const u of M.hooks.rules)u(M.options);}return M.options}function ct(o,u){M.source=o;M.mode="parse";if(typeof u==="object")M.options=We(u);const h=Me(M);return new Promise((f,i)=>{if(n.error.length)return i(n.error);return f(h)})}function bt(o,u){M.source=o;M.mode="parse";if(typeof u==="object")M.options=We(u);const h=Me(M);if(n.error.length)throw new Error(n.error);return h}

module.exports = Ke;
