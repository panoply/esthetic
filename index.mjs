var Ot=Object.defineProperty;var vt=(s,f)=>{for(var a in f)Ot(s,a,{get:f[a],enumerable:true});};var q=function(){const s=typeof process!=="undefined"&&process.versions!=null?"node":"browser";let f="";return {env:s,mode:"beautify",end:0,iterator:0,start:0,scopes:[],beautify:{},lexers:{},get source(){return s==="node"&&Buffer.isBuffer(f)?f.toString():f},set source(a){f=s==="node"?Buffer.isBuffer(a)?a:Buffer.from(a):a;},data:{begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]},hooks:{before:[],language:[],rules:[],after:[]},stats:{chars:-1,time:-1,size:"",language:""},options:{lexer:"auto",language:"text",languageName:"Plain Text",mode:"beautify",indentLevel:0,crlf:false,commentIndent:true,endNewline:false,indentChar:" ",indentSize:2,preserveComment:false,preserveLine:2,wrap:0,grammar:{},markup:{correct:false,commentNewline:false,delimiterTrims:"preserve",delimiterSpacing:false,attributeCasing:"preserve",attributeSort:false,attributeSortList:[],forceAttribute:3,forceLeadAttribute:true,forceIndent:false,ignoreJson:false,ignoreStyles:false,ignoreScripts:false,lineBreakSeparator:"default",preserveText:false,preserveAttributes:false,selfCloseSpace:true,quoteConvert:"none",normalizeSpacing:true,valueForce:"intent"},style:{correct:false,compressCSS:false,classPadding:false,noLeadZero:false,sortSelectors:false,sortProperties:false,quoteConvert:"none",forceValue:"preserve"},script:{correct:false,braceNewline:false,bracePadding:false,braceStyle:"none",braceAllman:false,commentNewline:false,caseSpace:false,elseNewline:false,endComma:"never",arrayFormat:"default",objectSort:false,objectIndent:"default",functionNameSpace:false,functionSpace:false,styleGuide:"none",ternaryLine:false,methodChain:4,neverFlatten:false,noCaseIndent:false,noSemicolon:false,quoteConvert:"none",variableList:"none",vertical:false},json:{useStringify:false,arrayFormat:"default",braceAllman:false,bracePadding:false,objectIndent:"default",objectSort:false}}}}();var je=Object.assign;var Ue=Object.create;var Fe=Object.keys;var Ke=Object.defineProperty;var Ae=Array.isArray;var g="";var se=" ";var ce="\n";function Be(s){return new Set(s)}function $e(s,f=se){if(s===0)return f;let a=g;let u=1;do{a+=f;}while(u++<s);return a}var c=(s,f)=>s?s.charCodeAt(0)===f:false;c.last=(s,f)=>c(s[s.length-1],f);var Y=(s,f)=>c(s,f)===false;Y.last=(s,f)=>c.last(s,f)===false;function me(s){return /\s/.test(s)}function pt(s){const f=1024;const a=1048576;const u=1073741824;if(s<f)return s+" B";else if(s<a)return (s/f).toFixed(1)+" KB";else if(s<u)return (s/a).toFixed(1)+" MB";else return (s/u).toFixed(1)+" GB"}function nt(s){return `\\${s}`}function Ne(s,f=NaN){if(typeof s!=="string")return g;if(Y(s,60)&&Y(s,123))return s;if(c(s,60)){const u=s.slice(1,s.search(/[\s>]/));return c(u,63)&&c.last(u,63)?"xml":isNaN(f)?u.toLowerCase():u.slice(f).toLowerCase()}let a=c(s[2],45)?s.slice(3).trimStart():s.slice(2).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/)).toLowerCase();return isNaN(f)?a:a.slice(f)}function ht(s){const f=s.indexOf("{");if(c(s[f+1],37)){let a;a=s.slice(f+(c(s[f+2],45)?3:2)).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:ke.liquid.control.has(a)}return false}function dt(s){const f=s.indexOf("{");console.log(f);if(c(s[f+1],37)){let a;a=s.slice(f+(c(s[f+2],45)?3:2)).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:ke.liquid.else.has(a)}return false}function gt(s){const f=s.indexOf("=");if(f>-1){if(c(s[f+1],34)||c(s[f+1],39)){return /{%-?\s*end\w+/.test(s.slice(f,s.lastIndexOf(s[f+1])))}}return false}function st(s){if(Xe(s))return /{%-?\s*end\w+/.test(s);return false}function Xe(s,f=false){let a;if(f){if(Ie(s,6)&&Ie(s,8)){a=s.slice(c(s[2],45)?3:2).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:ke.liquid.tags.has(a)}return false}const u=s.indexOf("{");if(c(s[u+1],37)){a=s.slice(u+(c(s[u+2],45)?3:2)).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:ke.liquid.tags.has(a)}return false}function Ve(s){let f=s;if(Array.isArray(s))f=s.join("");const a=f.indexOf("{");if(c(f[a+1],37)){if(c(f[a+2],45))return f.slice(a+3).trimStart().startsWith("end");return f.slice(a+2).trimStart().startsWith("end")}return false}function Ie(s,f){if(f===1){return c(s[0],123)&&(c(s[1],37)||c(s[1],123))}else if(f===6){return c(s[0],123)&&c(s[1],37)}else if(f===7){return c(s[0],123)&&c(s[1],123)}else if(f===8){return c(s[s.length-2],37)&&c(s[s.length-1],125)}else if(f===9){return c(s[s.length-2],125)&&c(s[s.length-1],125)}else if(f===4){return /{[{%]/.test(s)}else if(f===5){return /{[{%]/.test(s)&&/[%}]}/.test(s)}else if(f===2){const a=s.length;return c(s[a-1],125)&&(c(s[a-2],37)||c(s[a-2],125))}else if(f===3){const a=s.length;return c(s[0],123)&&(c(s[1],37)||c(s[1],123))&&(c(s[a-1],125)&&(c(s[a-2],37)||c(s[a-2],125)))}}function it(s){let f=0;const a=s.length;const u=s;const r=()=>{let S=0;const $=u.length;if(S<$){do{if(Ae(u[S])===true)u[S]=it.apply(this,u[S]);S=S+1;}while(S<$)}};const t=S=>{let $=f;let B=0;let o=0;let R=0;let e=[];let k=u[f];let W="";const X=typeof k;if($<a){do{W=typeof u[$];if(u[$]<k||W<X){k=u[$];e=[$];}else if(u[$]===k){e.push($);}$=$+1;}while($<a)}o=e.length;$=f;B=o+f;if($<B){do{u[e[R]]=u[$];u[$]=k;R=R+1;$=$+1;}while($<B)}f=f+o;if(f<a){t("");}else {if(this.recursive===true)r();s=u;}return S};t("");return s}function rt(s){let f=0;const a=s.length;const u=s;const r=()=>{let S=0;const $=u.length;if(S<$){do{if(Ae(u[S]))u[S]=rt.apply(this,u[S]);S=S+1;}while(S<$)}};const t=S=>{let $=f;let B=0;let o=0;let R=0;let e=u[f];let k=[];let W="";const X=typeof e;if($<a){do{W=typeof u[$];if(u[$]>e||W>X){e=u[$];k=[$];}else if(u[$]===e){k.push($);}$=$+1;}while($<a)}o=k.length;$=f;B=o+f;if($<B){do{u[k[R]]=u[$];u[$]=e;R=R+1;$=$+1;}while($<B)}f=f+o;if(f<a){t("");}else {if(this.recursive===true)r();s=u;}return S};t("");return s}function ot(s){let f=s;const a=[s[0]];const u=()=>{let t=0;const S=f.length;if(t<S){do{if(Ae(f[t]))f[t]=ot.apply(this,f[t]);t=t+1;}while(t<S)}};const r=t=>{let S=0;const $=[];const B=f.length;if(S<B){do{if(f[S]!==t)$.push(f[S]);S=S+1;}while(S<B)}f=$;if($.length>0){a.push($[0]);r($[0]);}else {if(this.recursive===true)u();s=f;}};r(this.array[0]);return s}var we;var ke=new(we=class{constructor(){this.script={};this.style={};this.html={embed:{}};this.liquid={embed:{}};this.script.keywords=Be(we.script.keywords);this.style.units=Be(we.style.units);this.style.atrules=Be(we.style.atrules);this.style.pseudoFunctions=Be(we.style.pseudo.functions);this.style.pseudoClasses=Be(we.style.pseudo.classes);this.style.pseudoElements=Be(we.style.pseudo.elements);this.html.tags=Be(we.html.tags);this.html.voids=Be(we.html.voids);this.liquid.tags=Be(we.liquid.tags);this.liquid.control=Be(we.liquid.control);this.liquid.else=Be(we.liquid.else);this.liquid.singletons=Be(we.liquid.singletons);this.defaults();}defaults(){for(const f in we.html.embedded){this.html.embed[f]={};for(const{language:a,attribute:u=null}of we.html.embedded[f]){this.html.embed[f].language=a;if(typeof u==="object"){for(const r in u){this.html.embed[f].attribute=r;if(Ae(u[r])){this.html.embed[f].value=t=>new Set(u[r]).has(t);}else {this.html.embed[f].value=t=>new RegExp(u[r]).test(t);}}}else {this.html.embed[f].attribute=null;}}}for(const f in we.liquid.embedded){this.liquid.embed[f]={end:a=>new RegExp(`^{%-?\\s*end${f}`).test(a)};for(const{language:a,argument:u}of we.liquid.embedded[f]){this.liquid.embed[f].language=a;if(u){if(Ae(u)){this.liquid.embed[f].attribute=r=>new Set(u).has(r);}else {this.liquid.embed[f].attribute=r=>new RegExp(u).test(r);}}else {this.liquid.embed[f].attribute=null;}}}}embed(f,a){if(a in this[f].embed)return this[f].embed[a];return false}extend(f){for(const a in f){if(a==="html"){if("tags"in f[a]&&Ae(f[a].tags)){for(const u of f[a].tags){if(!this.html.tags.has(u)){we.html.tags.push(u);this.html.tags.add(u);}}}if("voids"in f[a]&&Ae(f[a].voids)){for(const u of f[a].voids){if(!this.html.voids.has(u)){we.html.voids.push(u);this.html.voids.add(u);}}}if("embedded"in f[a]);}if(a==="liquid"){if("tags"in f[a]&&Ae(f[a].tags)){for(const u of f[a].tags){if(!this.liquid.tags.has(u)){we.liquid.tags.push(u);this.liquid.tags.add(u);}}}if("else"in f[a]&&Ae(f[a].else)){for(const u of f[a].else){if(!this.liquid.else.has(u)){we.liquid.else.push(u);this.liquid.else.add(u);}}}if("singletons"in f[a]&&Ae(f[a].singletons)){for(const u of f[a].singletons){if(!this.liquid.singletons.has(u)){we.liquid.singletons.push(u);this.liquid.singletons.add(u);}}}if("embedded"in f[a]&&typeof f[a].embedded==="object"){for(const u in f[a].embedded){if(!(u in this.liquid.embed)){this.liquid.embed[u]={end:r=>new RegExp(`{%-?\\s*end${u}`).test(r)};}for(const{language:r,argument:t}of f[a].embedded[u]){if(this.liquid.embed[u].language!==r){this.liquid.embed[u].language=r;}if(t){if(this.liquid.embed[u].attribute===null){if(Ae(t)){this.liquid.embed[u].attribute=S=>Be(t).has(S);}else {this.liquid.embed[u].attribute=S=>new RegExp(t).test(S);}}else {const S=[];for(const $ of we.liquid.embedded[u]){if(Ae($.argument)){for(const B of $.argument){if(t!==B)S.push(t);else S.push(B);}this.liquid.embed[u].attribute=B=>Be(S).has(B);}else {if($.argument!==t){this.liquid.embed[u].attribute=B=>new RegExp(t).test(B);}}}}}}}}}if(a==="style"){if("units"in f[a]&&Ae(f[a].units)){for(const u of f[a].units){if(!this.style.units.has(u)){we.style.units.push(u);this.style.units.add(u);}}}if("atrules"in f[a]&&Ae(f[a].atrules)){for(const u of f[a].atrules){if(!this.style.atrules.has(u)){we.style.atrules.push(u);this.style.atrules.add(u);}}}if("pseudo"in f[a]){if("classes"in f[a].pseudo&&Ae(f[a].pseudo.classes)){for(const u of f[a].pseudo.classes){if(!this.style.pseudoClasses.has(u)){we.style.pseudo.classes.push(u);this.style.pseudoClasses.add(u);}}}if("elements"in f[a].pseudo&&Ae(f[a].pseudo.elements)){for(const u of f[a].pseudo.elements){if(!this.style.pseudoElements.has(u)){we.style.pseudo.elements.push(u);this.style.pseudoElements.add(u);}}}}}if(a==="script"){if("keywords"in f[a]&&Ae(f[a].keywords)){for(const u of f[a].keywords){if(!this.script.keywords.has(u)){we.script.keywords.push(u);this.script.keywords.add(u);}}}}}}},we.script={keywords:["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]},we.html={embedded:{script:[{language:"javascript"},{language:"json",attribute:{type:["application/json","application/ld+json"]}},{language:"jsx",attribute:{type:["text/jsx","application/jsx"]}}],style:[{language:"css"}]},voids:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","path","circle","source","track","wbr"],tags:["body","colgroup","dd","dt","head","html","li","option","tbody","td","tfoot","th","thead","tr"]},we.liquid={embedded:{schema:[{language:"json"}],style:[{language:"css"}],stylesheet:[{language:"css"},{language:"scss",argument:/\s*['"]scss['"]/}],javascript:[{language:"javascript"}]},tags:["form","paginate","capture","case","comment","for","if","raw","tablerow","unless","schema","style","script","stylesheet","javascript"],control:["if","unless","case"],else:["else","elsif"],singletons:["include","layout","section","assign","liquid","break","continue","cycle","decrement","echo","increment","render","when"]},we.style={units:["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"],atrules:["charset","color-profile","counter-style","font-face","font-feature-values","import","keyframes","layer","media","namespace","page","supports"],pseudo:{classes:["active","any-link","checked","default","defined","disabled","empty","enabled","first","first-child","first-of-type","fullscreen","focus","focus-visible","focus-within","host","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","modal","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","picture-in-picture","placeholder-shown","paused","playing","read-only","read-write","required","right","root","scope","target","valid","visited","where"],elements:["after","backdrop","before","cue","cue-region","first-letter","first-line","file-selector-button","marker","part","placeholder","selection","slotted"],functions:["after","before","first-letter","first-line","host","host-context","part","slotted","lang","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","where"]}},we);var He=/^\s+/;var De=/\s+$/;var Qe=/^[\t\v\f\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/;var Ee=/[\t\v\f \u00a0\u2000-\u200b\u2028-\u2029\u3000]+$/;var lt=/[\t\v\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/g;var bt=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify\s+/;var kt=/(\/[*/]|{%-?\s*(?:comment\s*-?%})|<!-{2})\s*@prettify-ignore\b/;var mt=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify-ignore-next\b/;var yt=/{%-?\s*|\s*-?%}/g;var at=/(\/|\\|\||\*|\[|\]|\{|\})/g;var et={markup:"markup",html:"markup",liquid:"markup",xml:"markup",javascript:"script",typescript:"script",jsx:"script",tsx:"script",json:"script",less:"style",scss:"style",sass:"style",css:"style",text:"text"};var xt={html:"HTML",xhtml:"XHTML",liquid:"Liquid",xml:"XML",jsx:"JSX",tsx:"TSX",json:"JSON",yaml:"YAML",css:"CSS",scss:"SCSS",sass:"SASS",less:"LESS",text:"Plain Text",javascript:"JavaScript",typescript:"TypeScript"};function ct(s){return typeof s!=="string"||s.indexOf("html")>-1||et[s]===void 0?"markup":et[s]}function Lt(s){if(typeof s!=="string"||xt[s]===void 0)return s.toUpperCase();return xt[s]}function Ce(s){const f={};if(s==="unknown"){f.language=s;f.languageName="Unknown";f.lexer="markup";}else if(s==="xhtml"||s==="markup"){f.language="xml";f.languageName="XHTML";f.lexer="markup";}else {f.language=s;f.languageName=Lt(s);f.lexer=ct(s);}if(q.hooks.language.length>0){for(const a of q.hooks.language){const u=a(f);if(typeof u==="object")je(f,u);}}return f}Ze.reference=Ce;Ze.listen=function(s){q.hooks.language.push(s);};function Ze(s){let f=[];let a=0;const u=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(s)&&/@import/.test(s)===false;const r=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(s);function t(){if(/\n\s*#+\s+/.test(s)||/^#+\s+/.test(s))return Ce("markdown");if(/\$[a-zA-Z]/.test(s)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(s)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(s)&&/:\s*@[a-zA-Z];/.test(s)===false)return Ce("scss");if(/@[a-zA-Z]:/.test(s)||/\.[a-zA-Z]\(\);/.test(s))return Ce("less");return Ce("css")}function S(){let B=1;let o=g;let R=false;let e=false;const k=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(s);function W(){if(s.indexOf("(")>-1||s.indexOf("=")>-1||s.indexOf(";")>-1&&s.indexOf("{")>-1){if(r===true||/\w<\w+(,\s+\w+)*>/.test(s))return Ce("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(s)||/=\s*<\w+/.test(s))return Ce("typescript");return Ce("javascript")}return Ce("unknown")}function X(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(s)||/(?:public|private)\s+/.test(s)||/(?:export|declare)\s+type\s+\w+\s*=/.test(s)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(s)||/(?:typeof|keyof|as)\s+\w+/.test(s)||/\w+\s+as\s+\w+/.test(s)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(s)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(s)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(s))return Ce("typescript");if(/\s(class|var|const|let)\s+\w/.test(s)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(s)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(s)&&(/\s?\{%/.test(s)||/{{/.test(s)))return Ce("liquid");if(/^(\s*[$@])/.test(s)===false&&/([}\]];?\s*)$/.test(s)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(s)||/module\.export\s+=\s+/.test(s)||/export\s+default\s+\{/.test(s)||/[?:]\s*[{[]/.test(s)||/^(?:\s*return;?(?:\s+[{[])?)/.test(s)){return Ce("javascript")}}if(/{%/.test(s)&&/{{/.test(s)&&/<\w/.test(s))return Ce("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(s))return Ce("less");if(/\$(\w|-)/.test(s))return Ce("scss");if(/[;{:]\s*@\w/.test(s)===true)return Ce("less");return Ce("css")}if(B<a){do{if(R===false){if(c(f[B],42)&&c(f[B-1],47)){f[B-1]=g;R=true;}else if(e===false&&B<a-6&&f[B].charCodeAt(0)===102&&f[B+1].charCodeAt(0)===105&&f[B+2].charCodeAt(0)===108&&f[B+3].charCodeAt(0)===116&&f[B+4].charCodeAt(0)===101&&f[B+5].charCodeAt(0)===114&&c(f[B+6],58)){e=true;}}else if(R===true&&c(f[B],42)&&B!==a-1&&c(f[B+1],47)){R=false;f[B]=g;f[B+1]=g;}else if(e===true&&c(f[B],59)){e=false;f[B]=g;}if(R===true||e===true)f[B]=g;B=B+1;}while(B<a)}o=f.join(g);if(/\s\/\//.test(s)===false&&/\/\/\s/.test(s)===false&&/^(\s*(\{|\[)(?!%))/.test(s)===true&&/((\]|\})\s*)$/.test(s)&&s.indexOf(",")!==-1)return Ce("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(s)===true&&(u===true||k===true||/console\.log\(/.test(s)===true||/export\s+default\s+class\s+/.test(s)===true||/export\s+(const|var|let|class)s+/.test(s)===true||/document\.get/.test(s)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(s)===true||s.indexOf("{")===-1||/^(\s*if\s+\()/.test(s)===true))return W();if(s.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(s)||/^(\s*\/(\*|\/))/.test(s)||/^(\s*\*\s*\{)/.test(s))&&/^(\s*if\s*\()/.test(s)===false&&/=\s*(\{|\[|\()/.test(o)===false&&(/(\+|-|=|\?)=/.test(o)===false||/\/\/\s*=+/.test(o)||/=+('|")?\)/.test(s)&&/;\s*base64/.test(s))&&/function(\s+\w+)*\s*\(/.test(o)===false)return X();return s.indexOf("{%")>-1?Ce("liquid"):Ce("unknown")}function $(){function B(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(s)||/{%-?\s*end\w+/.test(s)||/{{-?\s*content_for/.test(s)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(s)||/{%/.test(s)&&/%}/.test(s)&&/{{/.test(s)&&/}}/.test(s)?Ce("liquid"):Ce("html")}return /^(\s*<!doctype\s+html>)/i.test(s)||/^(\s*<html)/i.test(s)||/<form\s/i.test(s)&&/<label\s/i.test(s)&&/<input\s/i.test(s)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(s)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(s))||/<ul\s/i.test(s)&&/<li\s/i.test(s)&&/<\/li>/i.test(s)&&/<\/ul>/i.test(s)||/<head\s*>/.test(s)&&/<\/head>/.test(s)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(s)&&/XHTML\s+1\.1/.test(s)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(s)===false?B():/\s?{[{%]-?/.test(s)?Ce("liquid"):Ce("xml")}if(s===null||s.replace(/\s+/g,g)===g)return Ce("unknown");if((/\n\s*#{1,6}\s+/.test(s)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(s))&&(/\[( |x|X)\]/.test(s)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(s)||/\n\s*```[a-zA-Z]*?\s+/.test(s)||/-+\|(-+\|)+/.test(s)))return Ce("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(s))return $();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(s))return t();if(r===false&&/=(>|=|-|\+|\*)/.test(s)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(s)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(s)===false&&u===false&&/return\s*\w*\s*(;|\})/.test(s)===false&&(s===void 0||/^(?:\s*#(?!(!\/)))/.test(s)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(s)&&/>\s*<\w/.test(s)===false||(/^\s*:root\s*\{/.test(s)||/-{2}\w+\s*\{/.test(s)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(s))))return t();f=s.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,g).split(g);a=f.length;if(/^(\s*({{|{%|<))/.test(s))return $();if(r===true||/^(?:[\s\w-]*<)/.test(s)===false&&/(?:>[\s\w-]*)$/.test(s)===false)return S();return (/^(?:\s*<\?xml)/.test(s)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(s)||/^\s*</.test(s)&&/<\/\w+(\w|\d)+>\s*$/.test(s))&&(/^(?:[\s\w]*<)/.test(s)||/(?:>[\s\w]*)$/.test(s))||/^(?:\s*<s((cript)|(tyle)))/i.test(s)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(s)?/^(?:[\s\w]*<)/.test(s)===false||/(?:>[\s\w]*)$/.test(s)===false?S():$():Ce("unknown")}var i=new class on{constructor(){this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.data={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};this.structure=[["global",-1]];this.attributes=new Set;this.references=[[]];this.count=-1;this.lineStart=0;this.lineNumber=0;this.linesSpace=0;this.error=g;}get scope(){const[f,a]=this.structure[this.structure.length-1];return {token:f,index:a}}get current(){const{begin:f,ender:a,lexer:u,lines:r,stack:t,token:S,types:$}=this.data;return {begin:f[f.length-1],ender:a[a.length-1],lexer:u[u.length-1],lines:r[r.length-1],stack:t[t.length-1],token:S[f.length-1],types:$[f.length-1]}}full(){this.error=g;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const f=this.structure.length-1;const a=this.structure[f];if(f>0)this.structure.splice(f,1);return a};return this.data}increment(){this.error=g;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const f=this.structure.length-1;const a=this.structure[f];if(f>0)this.structure.splice(f,1);return a};return this.data}pushEnder(f){let a=this.count;const u=f.begin[a];if(f.lexer[a]==="style"&&q.options.style.sortProperties===true||f.lexer[a]==="script"&&(q.options.script.objectSort===true||q.options.json.objectSort===true)){return}do{if(f.begin[a]===u||f.begin[f.begin[a]]===u&&f.types[a].indexOf("attribute")>-1&&f.types[a].indexOf("attribute_end")<0){f.ender[a]=this.count;}else {a=f.begin[a];}a=a-1;}while(a>u);if(a>-1)f.ender[a]=this.count;}lexer(f,a){const u=et[a];const r=q.options.language;q.options.language=a;if(a==="json"){const t=je({},q.options.json);const S=je({},q.options.script);q.options.script=je(q.options.script,q.options.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});q.lexers[u](f);if(a==="json"&&q.options.json.objectSort===true){this.sortCorrect(0,this.count+1);}q.options.language=r;q.options.json=t;q.options.script=S;}else {q.lexers[u](f);if(a==="javascript"&&q.options.script.objectSort===true||(a==="css"||a==="scss")&&q.options.style.sortProperties===true){this.sortCorrect(0,this.count+1);}q.options.language=r;}}beautify(f){const a=c(this.data.token[q.start],123)?"liquid":"html";const u=Ne(this.data.stack[q.start]);const r=ke.embed(a,u);const t=q.options.language;if(r!==false){const S=this.data.lexer[q.start];q.options.indentLevel=f;q.options.language=r.language;if(r.language==="json"){const $=je({},q.options.json);const B=je({},q.options.script);q.options.script=je(q.options.script,q.options.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});return {reset(){q.options.language=t;q.options.indentLevel=0;q.options.json=$;q.options.script=B;},get beautify(){return q.beautify[S](q.options)}}}return {reset(){q.options.language=t;q.options.indentLevel=0;},get beautify(){return q.beautify[S](q.options)}}}return null}push(f,a,u=g){f.begin.push(a.begin);f.ender.push(a.ender);f.lexer.push(a.lexer);f.stack.push(a.stack);f.token.push(a.token);f.types.push(a.types);f.lines.push(a.lines);if(f===this.data){this.count=this.count+1;this.linesSpace=0;if(a.lexer!=="style"&&u.replace(/[{}@<>%#]/g,g)===g){u=a.types==="else"?"else":Ne(a.token);}if(a.types==="start"||a.types.indexOf("_start")>0){this.structure.push([u,this.count]);}else if(a.types==="end"||a.types.indexOf("_end")>0){let r=0;const t=this.structure.length;if(this.structure.length>2&&(f.types[this.structure[t-1][1]]==="else"||f.types[this.structure[t-1][1]].indexOf("_else")>0)&&(f.types[this.structure[t-2][1]]==="start"||f.types[this.structure[t-2][1]].indexOf("_start")>0)&&(f.types[this.structure[t-2][1]+1]==="else"||f.types[this.structure[t-2][1]+1].indexOf("_else")>0)){this.structure.pop();f.begin[this.count]=this.structure[this.structure.length-1][1];f.stack[this.count]=this.structure[this.structure.length-1][0];f.ender[this.count-1]=this.count;r=f.ender[f.begin[this.count]+1];}this.pushEnder(f);if(r>0)f.ender[f.begin[this.count]+1]=r;this.structure.pop();}else if(a.types==="else"||a.types.indexOf("_else")>0){if(u===g)u="else";if(this.count>0&&(f.types[this.count-1]==="start"||f.types[this.count-1].indexOf("_start")>0)){this.structure.push([u,this.count]);}else {this.pushEnder(f);this.structure[this.structure.length-1]=u===g?["else",this.count]:[u,this.count];}}}}pop(f){const a={begin:f.begin.pop(),ender:f.ender.pop(),lexer:f.lexer.pop(),lines:f.lines.pop(),stack:f.stack.pop(),token:f.token.pop(),types:f.types.pop()};if(f===this.data)this.count=this.count-1;return a}concat(f,a){f.begin=f.begin.concat(a.begin);f.ender=f.ender.concat(a.ender);f.lexer=f.lexer.concat(a.lexer);f.stack=f.stack.concat(a.stack);f.token=f.token.concat(a.token);f.types=f.types.concat(a.types);f.lines=f.lines.concat(a.lines);if(f===this.data)this.count=f.token.length-1;}sortObject(f){let a=this.count;let u=this.structure[this.structure.length-1][1];let r=0;let t=0;let S=0;let $=0;let B=0;let o=0;let R=0;let e=true;const k=[];const W=u;const X=this.structure[this.structure.length-1][0];const n=this.linesSpace;const L=this.count;const w=q.options.language==="json";const p=f.lexer[a]==="style"&&X==="global";const Z=f.lexer[a]==="style";const ee=Z===true?[";","separator"]:[",","separator"];const h=p===true?"global":X;const F={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};const m=(z,b)=>{let y=z[0];let d=b[0];if(f.types[y]==="comment"){do{y=y+1;}while(y<L&&f.types[y]==="comment");if(f.token[y]===void 0)return 1}if(f.types[d]==="comment"){do{d=d+1;}while(d<L&&f.types[d]==="comment");if(f.token[d]===void 0)return 1}if(Z===true){if(f.token[y].indexOf("@import")===0||f.token[d].indexOf("@import")===0){return y<d?-1:1}if(f.types[y]!==f.types[d]){if(f.types[y]==="function")return 1;if(f.types[y]==="variable")return -1;if(f.types[y]==="selector")return 1;if(f.types[y]==="property"&&f.types[d]!=="variable")return -1;if(f.types[y]==="mixin"&&f.types[d]!=="property"&&f.types[d]!=="variable")return -1}}if(f.token[y].toLowerCase()>f.token[d].toLowerCase())return 1;return -1};$=a;do{if(f.begin[a]===u||p===true&&a<$&&c(f.token[a],125)&&f.begin[f.begin[a]]===-1){if(f.types[a].indexOf("template")>-1)return;if(f.token[a]===ee[0]||Z===true&&c(f.token[a],125)&&Y(f.token[a+1],59)){e=true;B=a+1;}else if(Z===true&&c(f.token[a-1],125)){e=true;B=a;}if(B===0&&f.types[0]==="comment"){do{B=B+1;}while(f.types[B]==="comment")}else if(f.types[B]==="comment"&&f.lines[B]<2){B=B+1;}if(e===true&&(f.token[a]===ee[0]||Z===true&&c(f.token[a-1],125))&&B<=$){if(Z===true&&"};".indexOf(f.token[$])<0){$=$+1;}else if(Z===false&&Y(f.token[$],44)){$=$+1;}k.push([B,$]);if(Z===true&&c(f.token[B],125)){$=B;}else {$=B-1;}}}a=a-1;}while(a>u);if(k.length>0&&k[k.length-1][0]>a+1){r=k[k.length-1][0]-1;if(f.types[r]==="comment"&&f.lines[r]>1){do{r=r-1;}while(r>0&&f.types[r]==="comment");k[k.length-1][0]=r+1;}if(f.types[a+1]==="comment"&&a===-1){do{a=a+1;}while(f.types[a+1]==="comment")}k.push([a+1,r]);}if(k.length>1){if(w===true||Z===true||c(f.token[a-1],61)||c(f.token[a-1],58)||c(f.token[a-1],40)||c(f.token[a-1],91)||c(f.token[a-1],44)||f.types[a-1]==="word"||a===0){k.sort(m);R=k.length;e=false;u=0;do{o=k[u][1];if(Z===true){S=o;if(f.types[S]==="comment")S=S-1;if(c(f.token[S],125)){o=o+1;ee[0]="}";ee[1]="end";}else {ee[0]=";";ee[1]="separator";}}r=k[u][0];if(Z===true&&f.types[o-1]!=="end"&&f.types[o]==="comment"&&f.types[o+1]!=="comment"&&u<R-1){o=o+1;}if(r<o){do{if(Z===false&&u===R-1&&r===o-2&&c(f.token[r],44)&&f.lexer[r]==="script"&&f.types[r+1]==="comment"){t=t+1;}else {this.push(F,{begin:f.begin[r],ender:f.ender[r],lexer:f.lexer[r],lines:f.lines[r],stack:f.stack[r],token:f.token[r],types:f.types[r]});t=t+1;}if(f.token[r]===ee[0]&&(Z===true||f.begin[r]===f.begin[k[u][0]])){e=true;}else if(f.token[r]!==ee[0]&&f.types[r]!=="comment"){e=false;}r=r+1;}while(r<o)}if(e===false&&F.token[F.token.length-1]!=="x;"&&(Z===true||u<R-1)){r=F.types.length-1;if(F.types[r]==="comment"){do{r=r-1;}while(r>0&&F.types[r]==="comment")}r=r+1;this.splice({data:F,howmany:0,index:r,record:{begin:W,stack:h,ender:this.count,lexer:F.lexer[r-1],lines:0,token:ee[0],types:ee[1]}});t=t+1;}u=u+1;}while(u<R);this.splice({data:f,howmany:t,index:a+1});this.linesSpace=n;this.concat(f,F);}}}sortSafe(f,a,u){if(Ae(f)===false)return f;if(a==="normal")return ot.call({array:f,recursive:u},f);if(a==="descend")return rt.call({recursive:u},f);return it.call({recursive:u},f)}sortCorrect(f,a){let u=f;let r=-1;const t=this.data;const S=[];const $=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(u>0&&t.types[u].indexOf("attribute")>-1&&t.types[u].indexOf("end")<0&&t.types[u-1].indexOf("start")<0&&t.types[u-1].indexOf("attribute")<0&&t.lexer[u]==="markup"){$.push(u-1);}if(u>0&&t.types[u-1].indexOf("attribute")>-1&&t.types[u].indexOf("attribute")<0&&t.lexer[$[$.length-1]]==="markup"&&t.types[$[$.length-1]].indexOf("start")<0){$.pop();}if(t.begin[u]!==$[$.length-1]){t.begin[u]=$.length>0?$[$.length-1]:-1;}if(t.types[u].indexOf("else")>-1){if($.length>0){$[$.length-1]=u;}else {$.push(u);}}if(t.types[u].indexOf("end")>-1)$.pop();if(t.types[u].indexOf("start")>-1)$.push(u);u=u+1;}while(u<a);u=a;do{u=u-1;if(t.types[u].indexOf("end")>-1){S.push(u);r=r+1;}t.ender[u]=r>-1?S[r]:-1;if(t.types[u].indexOf("start")>-1){S.pop();r=r-1;}}while(u>f)}space(f,a){this.linesSpace=1;return u=>{do{if(c(f[u],10))this.lineNumber=this.lineNumber+1;if(me(f[u])===false)break;this.linesSpace=this.linesSpace+1;u=u+1;}while(u<a);return u}}spacer(f){this.linesSpace=1;do{if(f.array[f.index]===ce){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(me(f.array[f.index+1])===false)break;f.index=f.index+1;}while(f.index<f.end);return f.index}splice(f){const{data:a}=this;const u=[a.begin[this.count],a.token[this.count]];if(f.record!==void 0&&f.record.token!==g){for(const r of this.datanames){f.data[r].splice(f.index,f.howmany,f.record[r]);}if(f.data===a){this.count=this.count-f.howmany+1;if(u[0]!==a.begin[this.count]||u[1]!==a.token[this.count]){this.linesSpace=0;}}return}for(const r of this.datanames){f.data[r].splice(f.index,f.howmany);}if(f.data===a){this.count=this.count-f.howmany;this.linesSpace=0;}}wrapCommentLine(f){let a=f.start;let u=0;let r=g;let t=[];const{wrap:S,preserveComment:$}=q.options;function B(){let R=g;do{u=u+1;if(c(f.chars[u+1],10))return}while(u<f.end&&me(f.chars[u])===true);if(f.chars[u]+f.chars[u+1]==="//"){t=[];do{t.push(f.chars[u]);u=u+1;}while(u<f.end&&f.chars[u]!==ce);R=t.join(g);if(/^\/\/ (\*|-|(\d+\.))/.test(R)===false&&R.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(R)===false){r=`${r} ${R.replace(/(^\/\/\s*)/,g).replace(Ee,g)}`;a=u-1;B();}}}const o=()=>{const R=[];const e={ender:-1,types:"comment",lexer:f.lexer,lines:this.linesSpace};if(this.count>-1){e.begin=this.structure[this.structure.length-1][1];e.stack=this.structure[this.structure.length-1][0];e.token=this.data.token[this.count];}else {e.begin=-1;e.stack="global";e.token=g;}let k=0;let W=0;r=r.replace(/\s+/g,se).replace(Ee,g);W=r.length;if(S>W)return;do{k=S;if(r.charAt(k)!==se){do{k=k-1;}while(k>0&&r.charAt(k)!==se);if(k<3){k=S;do{k=k+1;}while(k<W-1&&r.charAt(k)!==se)}}R.push(r.slice(0,k));r=`// ${r.slice(k).replace(Qe,g)}`;W=r.length;}while(S<W);k=0;W=R.length;do{e.token=R[k];this.push(this.data,e,g);e.lines=2;this.linesSpace=2;k=k+1;}while(k<W)};do{t.push(f.chars[a]);a=a+1;}while(a<f.end&&f.chars[a]!==ce);if(a===f.end){f.chars.push(ce);}else {a=a-1;}r=t.join(g).replace(Ee,g);if(/^(\/\/\s*@prettify-ignore-start\b)/.test(r)===true){let R=ce;a=a+1;do{t.push(f.chars[a]);a=a+1;}while(a<f.end&&(f.chars[a-1]!=="d"||f.chars[a-1]==="d"&&t.slice(t.length-20).join(g)!=="@prettify-ignore-end"));u=a;do{}while(u>f.start&&f.chars[u-1]==="/"&&(f.chars[u]==="*"||f.chars[u]==="/"));if(f.chars[u]==="*")R="*/";if(R!==ce||f.chars[a]!==ce){do{t.push(f.chars[a]);if(R===ce&&f.chars[a+1]===ce)break;a=a+1;}while(a<f.end&&(R===ce||R==="*/"&&(f.chars[a-1]!=="*"||f.chars[a]!=="/")))}if(f.chars[a]===ce)a=a-1;r=t.join(g).replace(Ee,g);return [r,a]}if(r==="//"||r.slice(0,6)==="//    "||$===true){return [r,a]}r=r.replace(/(\/\/\s*)/,"// ");if(S<1||a===f.end-1&&this.data.begin[this.count]<1)return [r,a];u=a+1;B();o();return [r,a]}};function Ge(s){const{options:f}=q;const a=[];const u=[];const r=f.crlf===true?"\r\n":ce;const t=s.begin.replace(at,nt);const S=c(s.begin[0],123)&&c(s.begin[1],37);const $=new RegExp(`^(${t}\\s*@prettify-ignore-start)`);const B=new RegExp(`(${t}\\s*)`);const o=S?new RegExp(`\\s*${s.ender.replace(yt,O=>c(O,123)?"{%-?\\s*":"\\s*-?%}")}$`):new RegExp(s.ender.replace(at,nt));let R=s.start;let e=0;let k=0;let W=0;let X=0;let n=[];let L=g;let w=g;let p=false;let Z=false;let ee=false;let h=g;let F=s.ender.length-1;let m=s.ender.charAt(F);let z=0;function b(){if(/^\s+$/.test(n[e+1])||n[e+1]===g){do e=e+1;while(e<X&&(/^\s+$/.test(n[e+1])||n[e+1]===g))}if(e<X-1)u.push(g);}function y(){let O=ce;R=R+1;do{a.push(s.chars[R]);if(a.slice(a.length-20).join(g)==="@prettify-ignore-end"){if(S){const v=s.chars.indexOf("{",R);if(c(s.chars[v+1],37)){const j=s.chars.slice(v,s.chars.indexOf("}",v+1)+1).join(g);if(o.test(j))s.ender=j;}}R=R+1;break}R=R+1;}while(R<s.end);e=R;F=s.begin.length-1;m=s.begin.charAt(F);do{if(s.begin==="/*"&&c(s.chars[e-1],47)&&(c(s.chars[e],42)||c(s.chars[e],47))){break}if(s.begin!=="/*"&&s.chars[e]===m&&s.chars.slice(e-F,e+1).join(g)===s.begin){break}e=e-1;}while(e>s.start);if(s.begin==="/*"&&c(s.chars[e],42)){O="*/";}else if(s.begin!=="/*"){O=s.ender;}F=O.length-1;m=O.charAt(F);if(O!==ce||s.chars[R]!==ce){do{a.push(s.chars[R]);if(O===ce&&s.chars[R+1]===ce){break}if(s.chars[R]===m&&s.chars.slice(R-F,R+1).join(g)===O){break}R=R+1;}while(R<s.end)}if(s.chars[R]===ce)R=R-1;h=a.join(g).replace(Ee,g);return [h,R]}do{a.push(s.chars[R]);if(s.chars[R]===ce)i.lineNumber=i.lineNumber+1;if(s.chars[R]===m&&s.chars.slice(R-F,R+1).join(g)===s.ender)break;R=R+1;}while(R<s.end);h=a.join(g);if($.test(h)===true)return y();if(f.preserveComment===true||f.wrap<1||R===s.end||h.length<=f.wrap&&h.indexOf(ce)<0||s.begin==="/*"&&h.indexOf(ce)>0&&h.replace(ce,g).indexOf(ce)>0&&/\n(?!(\s*\*))/.test(h)===false){return [h,R]}e=s.start;if(e>0&&Y(s.chars[e-1],10)&&me(s.chars[e-1])){do e=e-1;while(e>0&&Y(s.chars[e-1],10)&&me(s.chars[e-1]))}L=s.chars.slice(e,s.start).join(g);const d=new RegExp(ce+L,"g");n=h.replace(/\r\n/g,ce).replace(d,ce).split(ce);X=n.length;n[0]=n[0].replace(B,g);n[X-1]=n[X-1].replace(o,g);if(X<2)n=n[0].split(se);if(n[0]===g){n[0]=s.begin;}else {n.splice(0,0,s.begin);}X=n.length;e=0;do{w=e<X-1?n[e+1].replace(Qe,g):g;if(/^\s+$/.test(n[e])===true||n[e]===g){b();}else if(n[e].replace(Qe,g).length>f.wrap&&n[e].replace(Qe,g).indexOf(se)>f.wrap){n[e]=n[e].replace(Qe,g);k=n[e].indexOf(se);u.push(n[e].slice(0,k));n[e]=n[e].slice(k+1);e=e-1;}else {n[e]=s.begin==="/*"&&n[e].indexOf("/*")!==0?`   ${n[e].replace(Qe,g).replace(Ee,g).replace(/\s+/g,se)}`:`${n[e].replace(Qe,g).replace(Ee,g).replace(/\s+/g,se)}`;z=e<1?f.wrap-(s.begin.length+1):f.wrap;k=n[e].length;W=n[e].replace(Qe,g).indexOf(se);if(k>z&&W>0&&W<z){k=z;do{k=k-1;if(me(n[e].charAt(k))&&k<=f.wrap)break}while(k>0);if(/^\s*\d+\.\s/.test(n[e])===true&&/^\s*\d+\.\s/.test(n[e+1])===false){n.splice(e+1,0,"1. ");}if(/^\s+$/.test(n[e+1])===true||n[e+1]===g){u.push(n[e].slice(0,k));n[e]=n[e].slice(k+1);p=true;e=e-1;}else if(/^\s*[*-]\s/.test(n[e+1])){u.push(n[e].slice(0,k));n[e]=n[e].slice(k+1);Z=true;e=e-1;}else if(/^\s*\d+\.\s/.test(n[e+1])){u.push(n[e].slice(0,k));n[e]=n[e].slice(k+1);ee=true;e=e-1;}else if(n[e].replace(Qe,g).indexOf(se)<f.wrap){n[e+1]=n[e].length>f.wrap?n[e].slice(k+1)+r+n[e+1]:`${n[e].slice(k+1)} ${n[e+1]}`;}if(p===false&&Z===false&&ee===false){n[e]=n[e].slice(0,k);}}else if(n[e+1]!==void 0&&(n[e].length+w.indexOf(se)>f.wrap&&w.indexOf(se)>0||n[e].length+w.length>f.wrap&&w.indexOf(se)<0)){u.push(n[e]);e=e+1;}else if(n[e+1]!==void 0&&/^\s+$/.test(n[e+1])===false&&n[e+1]!==g&&/^\s*(?:[*-]|\d+\.)\s/.test(n[e+1])===false){u.push(n[e]);p=true;}else {u.push(n[e]);p=true;}Z=false;ee=false;}e=e+1;}while(e<X);if(u.length>0){if(u[u.length-1].length>f.wrap-(s.ender.length+1)){u.push(s.ender);}else {u.push(s.ender);}h=u.join(r);}else {n[n.length-1]=n[n.length-1]+s.ender;h=n.join(r);}return [h,R]}q.lexers.style=function s(f){const{options:a}=q;const u=a.style;const{data:r}=i;const t=f.split(g);const S=f.length;const $=[];const B=[];const o=i.space(t,S);let R=0;let e=g;let k=g;function W(F){i.push(r,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"style",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:k,types:e},F);}function X(F){const m=F;do{F=F-1;}while(t[F]==="\\"&&F>0);return (m-F)%2===1}function n(F){const m=F.replace(/\s*!important/," !important").split(g);const z=/-?transition$/.test(r.token[i.count-2]);const b=[];const y=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const d=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let O=0;let v=0;let j=g;let I=m.length;let le=[];const V=re=>{return re};function ue(re){re=re.replace(/\s*/g,g);return /\/\d/.test(re)&&F.indexOf("url(")===0?re:` ${re.charAt(0)} ${re.charAt(1)}`}function xe(re){if(u.noLeadZero===true){return re.replace(/^-?\D0+(\.|\d)/,K=>K.replace(/0+/,g))}else if(/0*\./.test(re)){return re.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(re)[0])){return /^\D*0+\D*$/.test(re)?re.replace(/0+/,"0"):re.replace(/\d+/.exec(re)[0],/\d+/.exec(re)[0].replace(/^0+/,g))}return re}function Q(re){return re.replace(",",", ")}function pe(re){return `${re} `}function Oe(){const re=O-1;let K=re;if(re<1)return true;do{K=K-1;}while(K>0&&m[K]==="\\");return (re-K)%2===1}if(O<I){do{le.push(m[O]);if(m[O-1]!=="\\"||Oe()===false){if(j===g){if(c(m[O],34)){j='"';v=v+1;}else if(c(m[O],39)){j="'";v=v+1;}else if(c(m[O],40)){j=")";v=v+1;}else if(c(m[O],91)){j="]";v=v+1;}}else if(c(m[O],40)&&c(j,41)||c(m[O],91)&&c(j,93)){v=v+1;}else if(m[O]===j){v=v-1;if(v===0)j=g;}}if(j===g&&c(m[O],32)){le.pop();b.push(V(le.join(g)));le=[];}O=O+1;}while(O<I)}b.push(V(le.join(g)));I=b.length;O=0;if(O<I){do{if(u.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(b[O])===true){b[O]=b[O].replace(/0+\./,".");}else if(u.noLeadZero===false&&/^-?\.\d+[a-z]/.test(b[O])){b[O]=b[O].replace(".","0.");}else if(y.test(b[O])||d.test(b[O])){b[O]=b[O].replace(y,xe).replace(d,xe);}else if(/^(0+([a-z]{2,3}|%))$/.test(b[O])&&z===false){b[O]="0";}else if(/^(0+)/.test(b[O])){b[O]=b[O].replace(/0+/,"0");if(/\d/.test(b[O].charAt(1)))b[O]=b[O].substr(1);}else if(/^url\((?!('|"))/.test(b[O])&&b[O].charCodeAt(b[O].length-1)===41){j=b[O].charAt(b[O].indexOf("url(")+4);if(j!=="@"&&Y(j,40)&&Y(j,60)){if(u.quoteConvert==="double"){b[O]=b[O].replace(/url\(/,'url("').replace(/\)$/,'")');}else {b[O]=b[O].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(b[O])){if(!ke.style.units.has(b[O].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,g))){b[O]=b[O].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,pe);}}if(/^\w+\(/.test(b[O])&&b[O].charAt(b[O].length-1)===")"&&(b[O].indexOf("url(")!==0||b[O].indexOf("url(")===0&&b[O].indexOf(se)>0)){b[O]=b[O].replace(/,\S/g,Q);}O=O+1;}while(O<I)}j=b.join(se);return j.charAt(0)+j.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,ue)}function L(){const F=[];const m=[];const z=u.quoteConvert;let b=R;let y=0;let d=g;let O=null;function v(){m.push(t[b]);if(me(t[b+1]))do{b=b+1;}while(b<S&&me(t[b+1]))}if(b<S){do{if(c(t[b],34)||c(t[b],39)){if(O===null)O=false;if(F[F.length-1]===t[b]&&(t[b-1]!=="\\"||X(b-1)===false)){F.pop();if(z==="double"){t[b]='"';}else if(z==="single"){t[b]="'";}}else if(Y(F[F.length-1],34)&&Y(F[F.length-1],39)&&(t[b-1]!=="\\"||X(b-1)===false)){F.push(t[b]);if(z==="double"){t[b]='"';}else if(z==="single"){t[b]="'";}}else if(t[b-1]==="\\"&&z!=="none"){if(X(b-1)===true){if(z==="double"&&c(t[b],39)){m.pop();}else if(z==="single"&&c(t[b],34)){m.pop();}}}else if(z==="double"&&c(t[b],34)){t[b]='\\"';}else if(z==="single"&&c(t[b],39)){t[b]="\\'";}m.push(t[b]);}else if(t[b-1]!=="\\"||X(b-1)===false){if(c(t[b],40)){if(O===null)O=true;F.push(")");v();}else if(c(t[b],91)){O=false;F.push("]");v();}else if((c(t[b],35)||c(t[b],64))&&c(t[b+1],123)){O=false;m.push(t[b]);b=b+1;F.push("}");v();}else if(t[b]===F[F.length-1]){m.push(t[b]);F.pop();}else {m.push(t[b]);}}else {m.push(t[b]);}if(i.structure[i.structure.length-1][0]==="map"&&F.length===0&&(c(t[b+1],44)||c(t[b+1],41))){if(c(t[b+1],41)&&c(r.token[i.count],40)){i.pop(r);i.structure.pop();m.splice(0,0,"(");}else {break}}if(c(t[b+1],58)){y=b;if(/\s/.test(t[y]))do{y=y-1;}while(/\s/.test(t[y]));d=t.slice(y-6,y+1).join(g);if(d.indexOf("filter")===d.length-6||d.indexOf("progid")===d.length-6){d="filter";}}if(F.length===0){if(c(t[b+1],59)&&X(b+1)===true||c(t[b+1],58)&&Y(t[b],58)&&Y(t[b+2],58)&&d!=="filter"&&d!=="progid"||(c(t[b+1],125)||c(t[b+1],123))||c(t[b+1],47)&&(c(t[b+2],42)||c(t[b+2],47))){y=m.length-1;if(/\s/.test(m[y])){do{y=y-1;b=b-1;m.pop();}while(/\s/.test(m[y]))}break}if(c(t[b+1],44))break}b=b+1;}while(b<S)}R=b;if(i.structure[i.structure.length-1][0]==="map"&&c(m[0],40)){$[$.length-1]=$[$.length-1]-1;}k=m.join(g).replace(/\s+/g,se).replace(/^\s/,g).replace(/\s$/,g);if(O===true){k=k.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(i.count>-1&&r.token[i.count].indexOf("extend(")===0){e="pseudo";}else if(O===true&&/\d/.test(k.charAt(0))===false&&/^rgba?\(/.test(k)===false&&k.indexOf("url(")!==0&&(k.indexOf(se)<0||k.indexOf(se)>k.indexOf("("))&&k.charAt(k.length-1)===")"){if(c(r.token[i.count],58)){e="value";}else {k=k.replace(/,\u0020?/g,", ");e="function";}k=n(k);}else if(i.count>-1&&`"'`.indexOf(r.token[i.count].charAt(0))>-1&&r.types[i.count]==="variable"){e="item";}else if(c(m[0],64)||m[0]==="$"){if(r.types[i.count]==="colon"&&a.language==="css"&&(r.types[i.count-1]==="property"||r.types[i.count-1]==="variable")){e="value";}else if(i.count>-1){e="item";d=r.token[i.count];b=d.indexOf("(");if(c(d[d.length-1],41)&&b>0){d=d.slice(b+1,d.length-1);r.token[i.count]=r.token[i.count].slice(0,b+1)+n(d)+")";}}k=n(k);}else {e="item";}W(g);}function w(F){let m=i.count;let z=0;let b=g;const y=[];function d(){if(i.count<0)return;if(m>0&&(r.types[m]==="comment"||r.types[m]==="ignore")){do{m=m-1;y.push(r.token[m]);}while(m>0&&r.lexer[m]==="style"&&(r.types[m]==="comment"||r.types[m]==="ignore"))}z=m-1;if(z>0&&(r.types[z]==="comment"||r.types[z]==="ignore")){do{z=z-1;}while(z>0&&r.lexer[m]==="style"&&(r.types[z]==="comment"||r.types[z]==="ignore"))}if(z<0)z=0;if(m<0)m=0;b=r.token[m].charAt(0);}function O(v){let j=v;const I=r.begin[j];r.token[v]=r.token[v].replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ").replace(/:\s+/g,": ").replace(/^\s+/,g).replace(/\s+$/,g).replace(/\s+::\s+/,"::");if(Y(r.token[j],44)&&r.types[j]!=="comment"){r.types[j]="selector";}if(c(r.token[j-1],44)||c(r.token[j-1],58)||r.types[j-1]==="comment"||r.types[j-1]==="pseudo"){if(r.types[j-1]==="colon"&&r.types[j]==="selector"&&(r.types[j-2]==="template"||r.types[j-2]==="template_start"||r.types[j-2]==="template_else"||r.types[j-2]==="template_end")){r.token[j-1]=":"+r.token[j]+se;r.types[j-1]="selector";i.splice({data:r,howmany:1,index:j});}else if(r.types[j-1]==="pseudo"){r.token[j-1]=`${r.token[j-1]}${r.token[j]}`;r.types[j-1]="selector";i.splice({data:r,howmany:1,index:j});}else {do{j=j-1;if(r.begin[j]===I){if(c(r.token[j],59))break;if(Y(r.token[j],44)&&r.types[j]!=="comment")r.types[j]="selector";if(r.token[j]===":"&&Y(r.token[j-1],59)){r.token[j-1]=`${r.token[j-1]}:${r.token[j+1]}`.replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ");i.splice({data:r,howmany:2,index:j});}}else {break}}while(j>0)}}j=i.count;if(u.sortSelectors===true&&c(r.token[j-1],44)){const le=[r.token[j]];do{j=j-1;if(r.types[j]==="comment"||r.types[j]==="ignore"){do{j=j-1;}while(j>0&&(r.types[j]==="comment"||r.types[j]==="ignore"))}if(c(r.token[j],44))j=j-1;le.push(r.token[j]);}while(j>0&&(c(r.token[j-1],44)||r.types[j-1]==="selector"||r.types[j-1]==="comment"||r.types[j-1]==="ignore"));le.sort();j=i.count;r.token[j]=le.pop();do{j=j-1;if(r.types[j]==="comment"||r.types[j]==="ignore"){do{j=j-1;}while(j>0&&(r.types[j]==="comment"||r.types[j]==="ignore"))}if(c(r.token[j],44))j=j-1;r.token[j]=le.pop();}while(j>0&&(c(r.token[j-1],44)||r.token[j-1]==="selector"||r.types[j-1]==="comment"||r.types[j-1]==="ignore"))}m=i.count;d();}d();if(F==="start"&&(r.types[m]==="value"||r.types[m]==="variable")){r.types[m]="item";}if(r.lexer[i.count-1]!=="style"||z<0){if(F==="colon"){if(b==="$"||c(b,64)){r.types[m]="variable";}else if(r.stack[m]!=="global"&&(r.types[m]!=="comment"||r.types[m]!=="ignore")){r.types[m]="property";}}else if(r.lexer[m]==="style"){r.types[m]="selector";O(m);}}else if(F==="start"&&r.types[m]==="function"&&r.lexer[m]==="style"){r.types[m]="selector";O(m);}else if(r.types[m]==="item"&&r.lexer[m]==="style"){if(F==="start"){O(m);r.types[m]="selector";if(r.token[m]===":")r.types[z]="selector";if(r.token[m].indexOf("=\u201C")>0){i.error=`Invalid Quote (\u201C, \\201c) used on line number ${i.lineNumber}`;}else if(r.token[m].indexOf("=\u201D")>0){i.error=`Invalid Quote (\u201D, \\201d) used on line number ${i.lineNumber}`;}}else if(F==="end"){if(b==="$"||c(b,64)){r.types[m]="variable";}else {r.types[m]="value";}r.token[m]=n(r.token[m]);}else if(F==="separator"){if(r.types[z]==="colon"||c(r.token[z],44)||c(r.token[z],123)){if(Y(t[R],59)&&(r.types[z]==="selector"||c(r.token[z],123))){r.types[m]="selector";O(m);}else if(r.token[m].charAt(0)==="$"||c(r.token[m],64)){r.types[m]="variable";}else {r.types[m]="value";}r.token[m]=n(r.token[m]);if(r.token[m].charAt(0)==="\u201C"){i.error=`Invalid Quote (\u201C, \\201c) used on line number ${i.lineNumber}`;}else if(r.token[m].charAt(0)==="\u201D"){i.error=`Invalid (\u201D, \\201d) used on line number ${i.lineNumber}`;}}else {if(b==="$"||c(b,64)){console.log(r.token[m]);r.types[m]="variable";}else if(r.types[z]==="value"||r.types[z]==="variable"){r.token[z]=r.token[z]+r.token[m];i.pop(r);}else {r.types[m]="value";}}}else if(F==="colon"){if(b==="$"||c(b,64)){r.types[m]="variable";}else {r.types[m]="property";}}else if(c(r.token[z],64)&&(r.types[z-2]!=="variable"&&r.types[z-2]!=="property"||r.types[z-1]==="separator")){r.types[z]="variable";e="variable";r.token[z]=n(r.token[z]);}}}function p(){let F=i.count;do{F=F-1;}while(F>0&&r.types[F]==="comment");if(r.token[F]===";")return;i.splice({data:r,howmany:0,index:F+1,record:{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"style",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:";",types:"separator"}});}function Z(F,m){const z=[];let b=g;let y=g;let d=0;let O=F.length;function v(j){const I=r.types[i.count-1];if(e==="item"){if(I==="colon"){r.types[i.count]="value";}else {w(I);}}e=j;if(e.indexOf("start")>-1||e.indexOf("else")>-1){W(k);}else {W(g);}}B[B.length-1]=true;if(R<S){do{z.push(t[R]);if(b===g){if(c(t[R],34)){b='"';}else if(c(t[R],39)){b="'";}else if(c(t[R],47)){if(c(t[R+1],47)){b="/";}else if(c(t[R+1],42)){b="*";}}else if(t[R+1]===m.charAt(0)){do{d=d+1;R=R+1;z.push(t[R]);}while(R<S&&d<m.length&&t[R+1]===m.charAt(d));if(d===m.length){b=z.join(g);if(me(b.charAt(O))){do{O=O+1;}while(me(b.charAt(O)))}d=O;do{d=d+1;}while(d<m.length&&!me(b.charAt(d)));if(d===b.length)d=d-m.length;if(F==="{%"){if(c(b[2],45)){b=b.replace(/^{%-\s*/,"{%- ");b=b.endsWith("-%}")?b.replace(/\s*-%}$/," -%}"):b.replace(/\s*%}$/," %}");y=b.slice(4);}else {b=b.replace(/^{%\s*/,"{% ");b=b.endsWith("-%}")?b.replace(/\s*-%}$/," -%}"):b.replace(/\s*%}$/," %}");y=b.slice(3);}}if(F==="{{"){if(c(b[2],45)){b=b.replace(/^{{-\s*/,"{{- ");b=b.endsWith("-}}")?b.replace(/\s*-}}$/," -}}"):b.replace(/\s*}}$/," }}");}else {b=b.replace(/^{{\s*/,"{{ ");b=b.endsWith("-}}")?b.replace(/\s*-}}$/," -}}"):b.replace(/\s*%}}$/," }}");}}if(e==="item"&&r.types[i.count-1]==="colon"&&(r.types[i.count-2]==="property"||r.types[i.count-2]==="variable")){e="value";r.types[i.count]="value";if(Number.isNaN(Number(r.token[i.count]))===true&&r.token[i.count].charAt(r.token[i.count].length-1)!==")"){r.token[i.count]=r.token[i.count]+b;}else {r.token[i.count]=r.token[i.count]+se+b;}return}k=b;if(F==="{%"){const j=Array.from(ke.liquid.tags);let I=j.length-1;y=y.slice(0,y.indexOf(se));if(y.indexOf("(")>0){y=y.slice(0,y.indexOf("("));}if(ke.liquid.else.has(y)){v("template_else");return}I=j.length-1;if(I>-1){do{if(y===j[I]){v("template_start");return}if(y==="end"+j[I]){v("template_end");return}I=I-1;}while(I>-1)}}else if(F==="{{"){let j=b.slice(2);const I=j.length;let le=0;do{le=le+1;}while(le<I&&me(j.charAt(le))===false&&j.charCodeAt(O)!==40);j=j.slice(0,le);if(c(j[j.length-2],125))j=j.slice(0,j.length-2);if(j==="end"){v("template_end");return}}v("template");return}d=0;}}else if(b===t[R]){if(c(b,34)||c(b,39)){b=g;}else if(c(b,47)&&(t[R]==="\r"||c(t[R],10))){b=g;}else if(c(b,42)&&c(t[R+1],47)){b=g;}}R=R+1;}while(R<S)}}function ee(F){let m;if(F){m=i.wrapCommentLine({chars:t,start:R,end:S,lexer:"style",begin:"//",ender:"\n"});k=m[0];e=/^(\/\/\s*@prettify-ignore-start)/.test(k)?"ignore":"comment";}else {m=Ge({chars:t,start:R,end:S,lexer:"style",begin:"/*",ender:"*/"});k=m[0];e=/^(\/\*\s*@prettify-ignore-start)/.test(k)?"ignore":"comment";}W(g);R=m[1];}function h(){const F=i.linesSpace;const m={data:{margin:[g,g,g,g,false],padding:[g,g,g,g,false]},last:{margin:0,padding:0},removes:[]};const z=i.structure[i.structure.length-1][1];function b(v){if(r.token[d-2]===v){const j=r.token[d].replace(/\s*!important\s*/g,g).split(se);const I=j.length;if(r.token[d].indexOf("!important")>-1)m.data[v[4]]=true;if(I>3){if(m.data[v][0]===g)m.data[v][0]=j[0];if(m.data[v][1]===g)m.data[v][1]=j[1];if(m.data[v][2]===g)m.data[v][2]=j[2];if(m.data[v][3]===g)m.data[v][3]=j[3];}else if(I>2){if(m.data[v][0]===g)m.data[v][0]=j[0];if(m.data[v][1]===g)m.data[v][1]=j[1];if(m.data[v][2]===g)m.data[v][2]=j[2];if(m.data[v][3]===g)m.data[v][3]=j[1];}else if(I>1){if(m.data[v][0]===g)m.data[v][0]=j[0];if(m.data[v][1]===g)m.data[v][1]=j[1];if(m.data[v][2]===g)m.data[v][2]=j[0];if(m.data[v][3]===g)m.data[v][3]=j[1];}else {if(m.data[v][0]===g)m.data[v][0]=j[0];if(m.data[v][1]===g)m.data[v][1]=j[0];if(m.data[v][2]===g)m.data[v][2]=j[0];if(m.data[v][3]===g)m.data[v][3]=j[0];}}else if(r.token[d-2]===`${v}-bottom`){if(m.data[v][2]===g)m.data[v][2]=r.token[d];}else if(r.token[d-2]===`${v}-left`){if(m.data[v][3]===g)m.data[v][3]=r.token[d];}else if(r.token[d-2]===`${v}-right`){if(m.data[v][1]===g)m.data[v][1]=r.token[d];}else if(r.token[d-2]===`${v}-top`){if(m.data[v][0]===g)m.data[v][0]=r.token[d];}else {return}m.removes.push([d,v]);m.last[v]=d;}function y(){let v=0;let j=g;const I=/^(0+([a-z]+|%))/;const le=m.removes.length;const V=m.data.margin[0]!==g&&m.data.margin[1]!==g&&m.data.margin[2]!==g&&m.data.margin[3]!==g;const ue=m.data.padding[0]!==g&&m.data.padding[1]!==g&&m.data.padding[2]!==g&&m.data.padding[3]!==g;function xe(Q){if(I.test(m.data[Q][0])===true)m.data[Q][0]="0";if(I.test(m.data[Q][1])===true)m.data[Q][1]="0";if(I.test(m.data[Q][2])===true)m.data[Q][2]="0";if(I.test(m.data[Q][3])===true)m.data[Q][3]="0";if(m.data[Q][0]===m.data[Q][1]&&m.data[Q][0]===m.data[Q][2]&&m.data[Q][0]===m.data[Q][3]){j=m.data[Q][0];}else if(m.data[Q][0]===m.data[Q][2]&&m.data[Q][1]===m.data[Q][3]&&m.data[Q][0]!==m.data[Q][1]){j=`${m.data[Q][0]} ${m.data[Q][1]}`;}else if(m.data[Q][1]===m.data[Q][3]&&m.data[Q][0]!==m.data[Q][2]){j=`${m.data[Q][0]} ${m.data[Q][1]} ${m.data[Q][2]}`;}else {j=`${m.data[Q][0]} ${m.data[Q][1]} ${m.data[Q][2]} ${m.data[Q][3]}`;}if(m.data[Q[4]]===true)j=`${j.replace(" !important",g)} !important`;if(m.last[Q]>i.count){v=z<1?1:z+1;do{if(r.begin[v]===z&&r.types[v]==="value"&&r.token[v-2].indexOf(Q)===0){m.last[Q]=v;break}v=v+1;}while(v<i.count)}r.token[m.last[Q]]=j;r.token[m.last[Q]-2]=Q;}if(le>1&&(V===true||ue===true)){do{if(m.removes[v][0]!==m.last.margin&&m.removes[v][0]!==m.last.padding&&(V===true&&m.removes[v][1]==="margin"||ue===true&&m.removes[v][1]==="padding")){i.splice({data:r,howmany:r.types[m.removes[v][0]+1]==="separator"?4:3,index:m.removes[v][0]-2});}v=v+1;}while(v<le-1)}if(V===true)xe("margin");if(ue===true)xe("padding");if(O===true){if(z<0){i.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {i.sortCorrect(z,i.count+1);}}}let d=i.count;let O=false;do{d=d-1;if(r.begin[d]===z){if(r.types[d]==="value"&&r.types[d-2]==="property"){if(r.token[d-2].indexOf("margin")===0){b("margin");}else if(r.token[d-2].indexOf("padding")===0){b("padding");}}}else {O=true;d=r.begin[d];}}while(d>z);y();i.linesSpace=F;}do{if(me(t[R])){o(R);}else if(c(t[R],47)&&c(t[R+1],42)){ee(false);}else if(c(t[R],47)&&c(t[R+1],47)){ee(true);}else if(c(t[R],123)&&c(t[R+1],37)){Z("{%","%}");}else if(c(t[R],123)&&c(t[R+1],123)){Z("{{","}}");}else if(c(t[R],123)||c(t[R],40)&&c(r.token[i.count],58)&&r.types[i.count-1]==="variable"){w("start");e="start";k=t[R];if(c(t[R],40)){W("map");$.push(0);}else if(r.types[i.count]==="selector"||r.types[i.count]==="variable"){W(r.token[i.count]);}else if(r.types[i.count]==="colon"){W(r.token[i.count-1]);}else {W("block");}B.push(false);}else if(c(t[R],125)||t[R]===")"&&i.structure[i.structure.length-1][0]==="map"&&$[$.length-1]===0){if(c(t[R],125)&&c(r.token[i.count-1],123)&&r.types[i.count]==="item"&&r.token[i.count-2]!==void 0&&r.token[i.count-2].charAt(r.token[i.count-2].length-1)==="@"){r.token[i.count-2]=r.token[i.count-2]+"{"+r.token[i.count]+"}";i.pop(r);i.pop(r);i.structure.pop();}else {if(c(t[R],41))$.pop();w("end");if(c(t[R],125)&&Y(r.token[i.count],59)){if(r.types[i.count]==="value"||r.types[i.count]==="function"||r.types[i.count]==="variable"&&(c(r.token[i.count-1],58)||c(r.token[i.count-1],59))){if(u.correct===true){k=";";}else {k="x;";}e="separator";W(g);}else if(r.types[i.count]==="comment"){p();}}B.pop();k=t[R];e="end";if(c(t[R],125))h();if(u.sortProperties===true&&c(t[R],125))i.sortObject(r);W(g);}}else if(c(t[R],59)||c(t[R],44)){if(r.types[i.count-1]==="selector"||r.types[i.count]!=="function"&&c(r.token[i.count-1],125)){w("start");}else {w("separator");}if(r.types[i.count]!=="separator"&&X(R)===true){k=t[R];e="separator";W(g);}}else if(i.count>-1&&c(t[R],58)&&r.types[i.count]!=="end"){w("colon");k=":";e="colon";W(g);}else {if(i.structure[i.structure.length-1][0]==="map"&&c(t[R],40)){$[$.length-1]=$[$.length-1]+1;}L();}R=R+1;}while(R<S);if(u.sortProperties===true)i.sortObject(r);return r};q.lexers.script=function s(f){const{options:a}=q;const u=je({},a.script);if(a.language==="json"){a.script=je(a.script,a.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}let r=0;let t=g;let S=g;let $=[];let B=0;let o=-1;let R=-1;let e=[];let k;let W;let X;const{data:n}=i;const{references:L}=i;const w=f.length;const p=f.split(g);const Z=[];const ee=[];const h=[];const F=[0,g];const m=[false];const z=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const b={};b.count=[];b.index=[];b.len=-1;b.word=[];function y(l){let x=0;const C=Q(1,false);const A=i.structure.length===0?"":i.structure[i.structure.length-1][0];const N=Ue(null);N.begin=n.begin[i.count];N.ender=n.begin[i.count];N.lexer=n.lexer[i.count];N.lines=n.lines[i.count];N.stack=n.stack[i.count];N.token=n.token[i.count];N.types=n.types[i.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(t))return;if(S==="start"||S==="type_start")return;if(a.language==="json")return;if(c(N.token,59)||c(N.token,44)||N.stack==="class"||N.stack==="map"||N.stack==="attribute"||n.types[N.begin-1]==="generic"||C==="{"||A==="initializer"){return}if(c(N.token,125)&&n.stack[N.begin-1]==="global"&&n.types[N.begin-1]!=="operator"&&N.stack===n.stack[i.count-1]){return}if(N.stack==="array"&&N.token!=="]")return;if(n.token[n.begin[i.count]]==="{"&&N.stack==="data_type")return;if(N.types!==void 0&&N.types.indexOf("template")>-1&&N.types.indexOf("template_string")<0){return}if(c(C,59)&&l===false)return;if(n.lexer[i.count-1]!=="script"&&(r<w&&w===q.source.length-1||w<q.source.length-1)){return}if(c(N.token,125)&&(N.stack==="function"||N.stack==="if"||N.stack==="else"||N.stack==="for"||N.stack==="do"||N.stack==="while"||N.stack==="switch"||N.stack==="class"||N.stack==="try"||N.stack==="catch"||N.stack==="finally"||N.stack==="block")){if(N.stack==="function"&&(n.stack[N.begin-1]==="data_type"||n.types[N.begin-1]==="type")){x=N.begin;do{x=x-1;}while(x>0&&n.token[x]!==")"&&n.stack[x]!=="arguments");x=n.begin[x];}else {x=n.begin[N.begin-1];}if(c(n.token[x],40)){x=x-1;if(n.token[x-1]==="function")x=x-1;if(n.stack[x-1]==="object"||n.stack[x-1]==="switch")return;if(n.token[x-1]!=="="&&n.token[x-1]!=="return"&&n.token[x-1]!==":"){return}}else {return}}if(N.types==="comment"||A==="method"||A==="paren"||A==="expression"||A==="array"||A==="object"||A==="switch"&&N.stack!=="method"&&n.token[n.begin[i.count]]==="("&&n.token[n.begin[i.count]-1]!=="return"&&n.types[n.begin[i.count]-1]!=="operator"){return}if(n.stack[i.count]==="expression"&&(n.token[n.begin[i.count]-1]!=="while"||n.token[n.begin[i.count]-1]==="while"&&n.stack[n.begin[i.count]-2]!=="do")){return}if(C!==""&&"=<>+*?|^:&%~,.()]".indexOf(C)>-1&&l===false)return;if(N.types==="comment"){x=i.count;do{x=x-1;}while(x>0&&n.types[x]==="comment");if(x<1)return;N.token=n.token[x];N.types=n.types[x];N.stack=n.stack[x];}if(N.token===void 0||N.types==="start"||N.types==="separator"||N.types==="operator"&&N.token!=="++"&&N.token!=="--"||N.token==="x}"||N.token==="var"||N.token==="let"||N.token==="const"||N.token==="else"||N.token.indexOf("#!/")===0||N.token==="instanceof"){return}if(N.stack==="method"&&(n.token[N.begin-1]==="function"||n.token[N.begin-2]==="function")){return}if(a.script.variableList==="list")b.index[b.len]=i.count;t=a.script.correct===true?";":"x;";S="separator";x=i.linesSpace;i.linesSpace=0;K("");i.linesSpace=x;j();}function d(){let l=i.count;do{l=l-1;}while(l>-1&&n.token[l]==="x}");if(n.stack[l]==="else")return K("");l=l+1;i.splice({data:n,howmany:0,index:l,record:{begin:n.begin[l],ender:-1,lexer:"script",lines:i.linesSpace,stack:n.stack[l],token:t,types:S}});K("");}function O(){let l=i.count;if(n.types[l]==="comment"){do{l=l-1;}while(l>0&&n.types[l]==="comment")}if(n.token[l]==="from")l=l-2;if(n.token[l]==="x;"){i.splice({data:n,howmany:1,index:l});}}function v(){y(false);if(o>-1)D();X=Ge({chars:p,end:w,lexer:"script",begin:"/*",start:r,ender:"*/"});r=X[1];if(n.token[i.count]==="var"||n.token[i.count]==="let"||n.token[i.count]==="const"){k=i.pop(n);K("");i.push(n,k,"");if(n.lines[i.count-2]===0)n.lines[i.count-2]=n.lines[i.count];n.lines[i.count]=0;}else if(X[0]!==""){t=X[0];S=/^\/\*\s*@prettify-ignore-start/.test(t)?"ignore":"comment";if(t.indexOf("# sourceMappingURL=")===2){F[0]=i.count+1;F[1]=t;}i.push(n,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:t,types:S},"");}if(/\/\*\s*global\s+/.test(n.token[i.count])===true&&n.types.indexOf("word")<0){L[0]=n.token[i.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function j(){let l="";const x=Q(5,false);const C=i.count;const A=i.linesSpace;if(a.language==="json"||ee.length<1||ee[ee.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(t)===false){return}if(n.stack[i.count]==="do"&&x==="while"&&n.token[i.count]==="}"){return}if(t===";"&&n.token[C-1]==="x{"){l=n.token[n.begin[C-2]-1];if(n.token[C-2]==="do"||n.token[C-2]===")"&&"ifforwhilecatch".indexOf(l)>-1){k=i.pop(n);t=a.script.correct===true?"}":"x}";S="end";W=i.structure[i.structure.length-1];K("");ee.pop();i.linesSpace=A;return}k=i.pop(n);t=a.script.correct===true?"}":"x}";S="end";W=i.structure[i.structure.length-1];K("");ee.pop();t=";";S="end";i.push(n,k,"");i.linesSpace=A;return}t=a.script.correct===true?"}":"x}";S="end";if(n.token[i.count]==="x}")return;if(n.stack[i.count]==="if"&&(n.token[i.count]===";"||n.token[i.count]==="x;")&&x==="else"){W=i.structure[i.structure.length-1];K("");ee.pop();i.linesSpace=A;return}do{W=i.structure[i.structure.length-1];K("");ee.pop();if(n.stack[i.count]==="do")break}while(ee[ee.length-1]==="x{");i.linesSpace=A;}function I(){let l=i.count;if(n.stack[l]==="object"&&a.script.objectSort===true){t=",";S="separator";O();K("");}else {do{l=l-1;}while(l>0&&n.types[l-1]==="comment");i.splice({data:n,howmany:0,index:l,record:{begin:n.begin[l],ender:-1,lexer:"script",lines:i.linesSpace,stack:n.stack[l],token:",",types:"separator"}});K("");}}function le(l){let x=false;let C=false;const A=Q(1,false);const N=n.token[i.count]==="("?i.count:n.begin[i.count];function M(){let E=0;const ne=n.token[N-1]==="Array";const _=ne===true?"[":"{";const P=ne===true?"]":"}";const J=ne===true?"array":"object";if(ne===true&&n.types[i.count]==="number"){E=Number(n.token[i.count]);k=i.pop(n);}k=i.pop(n);k=i.pop(n);k=i.pop(n);i.structure.pop();t=_;S="start";K(J);if(E>0){t=",";S="separator";do{K("");E=E-1;}while(E>0)}t=P;S="end";K("");}if(o>-1)D();if(h.length>0){if(h[h.length-1]===0){h.pop();}else {h[h.length-1]=h[h.length-1]-1;}}if(c(l,41)||l==="x)"||c(l,93)){if(a.script.correct===true)re();O();}if(c(l,41)||l==="x)")y(false);if(b.len>-1){if(c(l,125)&&(a.script.variableList==="list"&&b.count[b.len]===0||n.token[i.count]==="x;"&&a.script.variableList==="each")){T();}b.count[b.len]=b.count[b.len]-1;if(b.count[b.len]<0)T();}if(c(t,44)&&n.stack[i.count]!=="initializer"&&(c(l,93)&&c(n.token[i.count-1],91)||c(l,125))){k=i.pop(n);}if(c(l,41)||l==="x)"){t=l;if(Z.length>0){$=Z[Z.length-1];if($.length>1&&Y(A,123)&&($[0]==="if"||$[0]==="for"||$[0]==="with"||$[0]==="while"&&n.stack[$[1]-2]!==void 0&&n.stack[$[1]-2]!=="do")){x=true;}}}else if(c(l,93)){t="]";}else if(c(l,125)){if(Y(t,44)&&a.script.correct===true)re();if(i.structure.length>0&&i.structure[i.structure.length-1][0]!=="object")y(true);if((a.script.objectSort===true||a.language==="json"&&a.json.objectSort===true)&&i.structure[i.structure.length-1][0]==="object"){i.sortObject(n);}if(S==="comment"){t=n.token[i.count];S=n.types[i.count];}t="}";}if(i.structure[i.structure.length-1][0]==="data_type"){S="type_end";}else {S="end";}Z.pop();W=i.structure[i.structure.length-1];if(c(l,41)&&a.script.correct===true&&N-i.count<2&&(c(n.token[i.count],40)||n.types[i.count]==="number")&&(n.token[N-1]==="Array"||n.token[N-1]==="Object")&&n.token[N-2]==="new"){M();C=true;}if(ee[ee.length-1]==="x{"&&c(l,125)){j();ee.pop();if(n.stack[i.count]!=="try"){if(Y(A,58)&&Y(A,59)&&n.token[n.begin[r]-1]!=="?")j();}t="}";}else {ee.pop();}if(a.script.endComma!==void 0&&a.script.endComma!=="none"&&i.structure[i.structure.length-1][0]==="array"||i.structure[i.structure.length-1][0]==="object"||i.structure[i.structure.length-1][0]==="data_type"){if(a.script.endComma==="always"&&n.token[i.count]!==","){const E=i.structure[i.structure.length-1][1];let ne=i.count;do{if(n.begin[ne]===E){if(c(n.token[ne],44))break}else {ne=n.begin[ne];}ne=ne-1;}while(ne>E);if(ne>E){const _=S;const P=t;t=",";S="separator";K("");t=P;S=_;}}else if(a.script.endComma==="never"&&c(n.token[i.count],44)){i.pop(n);}}if(C===false){K("");if(t==="}"&&n.stack[i.count]!=="object"&&n.stack[i.count]!=="class"&&n.stack[i.count]!=="data_type"){L.pop();j();}}if(x===true){t=a.script.correct===true?"{":"x{";S="start";K($[0]);ee.push("x{");$[1]=i.count;}m.pop();if(i.structure[i.structure.length-1][0]!=="data_type")m[m.length-1]=false;}function V(l,x,C){let A=0;let N=false;let M=false;let E=[l];let ne;const _=x.split(g);const P=_.length;const J=r;const G=r+l.length;const ie=a.script.quoteConvert===void 0?"none":a.script.quoteConvert;function fe(){let H=0;E=[];S=C;A=r;if(C==="string"&&/\s/.test(p[A+1])===true){H=1;do{A=A+1;if(p[A]==="\n")H=H+1;}while(A<w&&/\s/.test(p[A+1])===true);i.linesSpace=H;}}function te(){let H=g;function ge(ae){if(a.language!=="javascript"&&a.language!=="typescript"&&a.language!=="jsx"&&a.language!=="tsx"){const be=ye=>ye.replace(/\s*$/," ");const Re=ye=>ye.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(ae)||/\}%(>|\])/.test(ae))return ae;ae=ae.replace(/\{((\{+)|%-?)\s*/g,be);ae=ae.replace(/\s*((\}\}+)|(-?%\}))/g,Re);return ae}return ae}if(c(l,34)&&ie==="single"){E[0]="'";E[E.length-1]="'";}else if(c(l,39)&&ie==="double"){E[0]='"';E[E.length-1]='"';}else if(N===true){H=E[E.length-1];E.pop();E.pop();E.push(H);}r=A;if(x==="\n"){r=r-1;E.pop();}t=E.join(g);if(c(l,34)||c(l,39)||l==="{{"||l==="{%"){t=ge(t);}if(l==="{%"||l==="{{"){ne=We(t);S=ne[0];K(ne[1]);return}if(C==="string"){S="string";if(a.language==="json"){t=t.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(l.indexOf("#!")===0){t=t.slice(0,t.length-1);i.linesSpace=2;}else if(i.structure[i.structure.length-1][0]!=="object"||i.structure[i.structure.length-1][0]==="object"&&Q(1,false)!==":"&&Y(n.token[i.count],44)&&Y(n.token[i.count],123)){if(t.length>a.wrap&&a.wrap>0||a.wrap!==0&&n.token[i.count]==="+"&&(n.token[i.count-1].charAt(0)==='"'||n.token[i.count-1].charAt(0)==="'")){let ae=t;let be="";let Re=ie==="double"?'"':ie==="single"?"'":ae.charAt(0);const ye=a.wrap;const Te=/u[0-9a-fA-F]{4}/;const oe=/x[0-9a-fA-F]{2}/;ae=ae.slice(1,ae.length-1);if(n.token[i.count]==="+"&&(n.token[i.count-1].charAt(0)==='"'||n.token[i.count-1].charAt(0)==="'")){i.pop(n);Re=n.token[i.count].charAt(0);ae=n.token[i.count].slice(1,n.token[i.count].length-1)+ae;i.pop(n);}if(ae.length>ye&&ye>0){do{be=ae.slice(0,ye);if(be.charAt(ye-5)==="\\"&&Te.test(ae.slice(ye-4,ye+1))){be=be.slice(0,ye-5);}else if(be.charAt(ye-4)==="\\"&&Te.test(ae.slice(ye-3,ye+2))){be=be.slice(0,ye-4);}else if(be.charAt(ye-3)==="\\"&&(Te.test(ae.slice(ye-2,ye+3))||oe.test(ae.slice(ye-2,ye+1)))){be=be.slice(0,ye-3);}else if(be.charAt(ye-2)==="\\"&&(Te.test(ae.slice(ye-1,ye+4))||oe.test(ae.slice(ye-1,ye+2)))){be=be.slice(0,ye-2);}else if(be.charAt(ye-1)==="\\"){be=be.slice(0,ye-1);}be=Re+be+Re;ae=ae.slice(be.length-2);t=be;S="string";K(g);i.linesSpace=0;t="+";S="operator";K(g);}while(ae.length>ye)}if(ae===g){t=Re+Re;}else {t=Re+ae+Re;}S="string";}}}else if(/\{\s*\?>$/.test(t)){S="template_start";}else {S=C;}if(t.length>0)K(g);}if(o>-1)D();if(p[r-1]==="\\"&&de(r-1)===true&&(c(p[r],34)||c(p[r],39))){i.pop(n);if(c(n.token[0],123)){if(c(p[r],34)){l='"';x='\\"';E=['"'];}else {l="'";x="\\'";E=["'"];}N=true;}else {if(c(p[r],34)){E=['\\"'];te();return}E=["\\'"];te();return}}A=G;if(A<w){do{if(Y(n.token[0],123)&&Y(n.token[0],91)&&ie!=="none"&&(c(p[A],34)||c(p[A],39))){if(p[A-1]==="\\"){if(de(A-1)===true){if(ie==="double"&&c(p[A],39)){E.pop();}else if(ie==="single"&&c(p[A],34)){E.pop();}}}else if(ie==="double"&&c(p[A],34)&&c(p[r],39)){p[A]='\\"';}else if(ie==="single"&&c(p[A],39)&&c(p[r],34)){p[A]="\\'";}E.push(p[A]);}else if(A>J){M=true;if(c(p[A],123)&&c(p[A+1],37)&&p[A+2]!==l){te();V("{%","%}","template");fe();}else if(c(p[A],123)&&c(p[A+1],123)&&p[A+2]!==l){te();V("{{","}}","template");fe();}else {M=false;E.push(p[A]);}}else {E.push(p[A]);}if(a.language!=="json"&&a.language!=="javascript"&&(c(l,34)||c(l,39))&&(M===true||A>J)&&p[A-1]!=="\\"&&Y(p[A],34)&&Y(p[A],39)&&(c(p[A],10)||A===w-1===true)){i.error="Unterminated string in script on line number "+i.lineNumber;break}if(p[A]===_[P-1]&&(p[A-1]!=="\\"||de(A-1)===false)){if(P===1)break;if(E[A-G]===_[0]&&E.slice(A-G-P+2).join("")===x)break}A=A+1;}while(A<w)}te();}function ue(){y(false);j();if(o>-1)D();X=i.wrapCommentLine({chars:p,end:w,lexer:"script",begin:"//",start:r,ender:"\n"});r=X[1];if(X[0]!==""){t=X[0];S=/^(\/\/\s*@prettify-ignore-start)/.test(t)?"ignore":"comment";if(t.indexOf("# sourceMappingURL=")===2){F[0]=i.count+1;F[1]=t;}i.push(n,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:t,types:S},"");}}function xe(){let l=0;let x=false;let C=false;let A=0;let N=0;let M=0;let E="";let ne="";let _="";const P=[];const J=m[m.length-1];const G="0123456789=<>+-*?|^:&.,;%(){}[]~";function ie(){if(t==="(")i.structure[i.structure.length-1]=["paren",i.count];q.lexers.markup(P.join(""));}if(o>-1)D();ne=i.count>0?n.token[i.count-1]:"";_=i.count>0?n.types[i.count-1]:"";E=Q(1,false);if(a.language!=="jsx"&&a.language!=="tsx"&&/\d/.test(E)===false&&(t==="function"||ne==="=>"||ne==="void"||ne==="."||n.stack[i.count]==="arguments"||S==="type"&&ne==="type"||S==="reference"&&(_==="operator"||ne==="function"||ne==="class"||ne==="new")||S==="type"&&_==="operator"||t==="return"||S==="operator")){const fe=[];let te=0;let H=0;l=r;do{fe.push(p[l]);if(p[l]==="<"){te=te+1;}else if(p[l]===">"){te=te-1;if(te<1)break}l=l+1;}while(l<w);H=r;r=l;E=Q(1,false);if(p[l]===">"&&(J===true||ne==="=>"||ne==="."||_!=="operator"||_==="operator"&&(E==="("||E==="="))){S="generic";t=fe.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");K("");return}r=H;}l=i.count;if(n.types[l]==="comment"){do{l=l-1;}while(l>0&&n.types[l]==="comment")}if(J===false&&Q(1,false)!==">"&&(p[r]!=="<"&&G.indexOf(p[r+1])>-1||n.token[l]==="++"||n.token[l]==="--"||/\s/.test(p[r+1])===true||/\d/.test(p[r+1])===true&&(S==="operator"||S==="string"||S==="number"||S==="reference"||S==="word"&&t!=="return"))){S="operator";t=Oe();return K("")}if(a.language!=="typescript"&&(n.token[l]==="return"||n.types[l]==="operator"||n.types[l]==="start"||n.types[l]==="separator"||n.types[l]==="jsx_attribute_start"||n.token[l]==="}"&&i.structure[i.structure.length-1][0]==="global")){S="markup";a.language="jsx";do{P.push(p[r]);if(p[r]==="{"){N=N+1;x=true;}else if(p[r]==="}"){N=N-1;if(N===0)x=false;}else if(p[r]==="<"&&x===false){if(p[r+1]==="<"){do{P.push(p[r]);r=r+1;}while(r<w&&p[r+1]==="<")}A=A+1;if(Q(1,false)==="/")C=true;}else if(p[r]===">"&&x===false){if(p[r+1]===">"){do{P.push(p[r]);r=r+1;}while(p[r+1]===">")}A=A-1;if(C===true){M=M-1;}else if(p[r-1]!=="/"){M=M+1;}if(A===0&&N===0&&M<1){E=Q(2,false);if(E.charAt(0)!=="<")return ie();if(E.charAt(0)==="<"&&G.indexOf(E.charAt(1))<0&&/\s/.test(E.charAt(1))===false){l=r+1;do{l=l+1;if(p[l]===">"||/\s/.test(p[l-1])&&G.indexOf(p[l])<0)break;if(G.indexOf(p[l])>-1)return ie()}while(l<w)}else {return ie()}}C=false;}r=r+1;}while(r<w);return ie()}S="operator";t=Oe();K("");}function Q(l,x){let C=x===true?r:r+1;let A="";if(typeof l!=="number"||l<1)l=1;if(p[r]==="/"){if(p[r+1]==="/"){A="\n";}else if(p[r+1]==="*"){A="/";}}if(C<w){do{if(/\s/.test(p[C])===false){if(p[C]==="/"){if(A===""){if(p[C+1]==="/"){A="\n";}else if(p[C+1]==="*"){A="/";}}else if(A==="/"&&p[C-1]==="*"){A="";}}if(A===""&&p[C-1]+p[C]!=="*/")return p.slice(C,C+l).join("")}else if(A==="\n"&&p[C]==="\n"){A="";}C=C+1;}while(C<w)}return ""}function pe(){const l=w;const x=[p[r]];let C=0;let A=/zz/;let N=x[0]===".";if(r<w-2&&p[r]==="0"){if(p[r+1]==="x"){A=/[0-9a-fA-F]/;}else if(p[r+1]==="o"){A=/[0-9]/;}else if(p[r+1]==="b"){A=/0|1/;}if(A.test(p[r+2])===true){x.push(p[r+1]);C=r+1;do{C=C+1;x.push(p[C]);}while(A.test(p[C+1])===true);r=C;return x.join("")}}C=r+1;if(C<l){do{if(/[0-9]/.test(p[C])||p[C]==="."&&N===false){x.push(p[C]);if(p[C]===".")N=true;}else {break}C=C+1;}while(C<l)}if(C<l-1&&(/\d/.test(p[C-1])===true||/\d/.test(p[C-2])===true&&(p[C-1]==="-"||p[C-1]==="+"))&&(p[C]==="e"||p[C]==="E")){x.push(p[C]);if(p[C+1]==="-"||p[C+1]==="+"){x.push(p[C+1]);C=C+1;}N=false;C=C+1;if(C<l){do{if(/[0-9]/.test(p[C])||p[C]==="."&&N===false){x.push(p[C]);if(p[C]===".")N=true;}else {break}C=C+1;}while(C<l)}}r=C-1;return x.join("")}function Oe(){let l=0;let x=0;let C=w;let A="";const N=["=","<",">","+","*","?","|","^",":","&","%","~"];const M=N.length;if(o>-1)D();if(p[r]==="/"&&(i.count>-1&&(S!=="word"&&S!=="reference"||t==="typeof"||t==="return"||t==="else")&&S!=="number"&&S!=="string"&&S!=="end")){if(t==="return"||t==="typeof"||t==="else"||S!=="word"){t=U();S="regex";}else {t="/";S="operator";}K("");return "regex"}if(p[r]==="?"&&("+-*/.?".indexOf(p[r+1])>-1||p[r+1]===":"&&N.join("").indexOf(p[r+2])<0)){if(p[r+1]==="."&&/\d/.test(p[r+2])===false){A="?.";}else if(p[r+1]==="?"){A="??";}if(A==="")return "?"}if(p[r]===":"&&"+-*/".indexOf(p[r+1])>-1)return ":";if(r<w-1){if(p[r]!=="<"&&p[r+1]==="<")return p[r];if(p[r]==="!"&&p[r+1]==="/")return "!";if(p[r]==="-"){m[m.length-1]=false;if(p[r+1]==="-"){A="--";}else if(p[r+1]==="="){A="-=";}else if(p[r+1]===">"){A="->";}if(A==="")return "-"}if(p[r]==="+"){m[m.length-1]=false;if(p[r+1]==="+"){A="++";}else if(p[r+1]==="="){A="+=";}if(A==="")return "+"}if(p[r]==="="&&p[r+1]!=="="&&p[r+1]!=="!"&&p[r+1]!==">"){m[m.length-1]=false;return "="}}if(p[r]===":"){if(a.language==="typescript"){if(n.stack[i.count]==="arguments"){if(n.token[i.count]==="?"){i.pop(n);A="?:";r=r-1;}m[m.length-1]=true;}else if(t===")"&&(n.token[n.begin[i.count]-1]==="function"||n.token[n.begin[i.count]-2]==="function")){m[m.length-1]=true;}else if(S==="reference"){l=i.count;let E=false;do{if(n.begin[l]===n.begin[i.count]){if(l<i.count&&n.token[l]===":"&&n.types[l+1]!=="type")E=true;if(n.token[l]==="?"&&E===false)break;if(n.token[l]===";"||n.token[l]==="x;")break;if(n.token[l]==="var"||n.token[l]==="let"||n.token[l]==="const"||n.types[l]==="type"){m[m.length-1]=true;break}}else {if(n.types[l]==="type_end"){m[m.length-1]=true;break}l=n.begin[l];}l=l-1;}while(l>n.begin[i.count])}}else if(n.token[i.count-1]==="["&&(n.types[i.count]==="word"||n.types[i.count]==="reference")){i.structure[i.structure.length-1][0]="attribute";n.stack[i.count]="attribute";}}if(A===""){if(p[r+1]==="+"&&p[r+2]==="+"||p[r+1]==="-"&&p[r+2]==="-"){A=p[r];}else {const E=[p[r]];l=r+1;if(l<C){do{if(p[l]==="+"&&p[l+1]==="+"||p[l]==="-"&&p[l+1]==="-")break;x=0;if(x<M){do{if(p[l]===N[x]){E.push(N[x]);break}x=x+1;}while(x<M)}if(x===M)break;l=l+1;}while(l<C)}A=E.join("");}}r=r+(A.length-1);if(A==="=>"&&t===")"){l=i.count;C=n.begin[l];do{if(n.begin[l]===C)n.stack[l]="method";l=l-1;}while(l>C-1)}return A}function re(){let l=true;let x="+";let C="";let A="";let N="";let M=0;let E=0;let ne=0;let _="";const P=[];function J(){ne=n.begin[ne]-1;if(n.types[ne]==="end"){J();}else if(n.token[ne-1]==="."){G();}}function G(){ne=ne-2;if(n.types[ne]==="end"){J();}else if(n.token[ne-1]==="."){G();}}function ie(){let te=0;const H=P.length;if(te<H){do{i.push(n,P[te],"");te=te+1;}while(te<H)}}function fe(te){const H=Ue(null);H.begin=n.begin[te];H.ender=n.ender[te];H.lexer=n.lexer[te];H.lines=n.lines[te];H.stack=n.stack[te];H.token=n.token[te];H.types=n.types[te];return H}C=n.token[i.count];A=n.token[i.count-1];N=n.token[i.count-2];if(C!=="++"&&C!=="--"&&A!=="++"&&A!=="--"){ne=i.count;if(n.types[ne]==="end"){J();}else if(n.token[ne-1]==="."){G();}}if(n.token[ne-1]==="++"||n.token[ne-1]==="--"){if("startendoperator".indexOf(n.types[ne-2])>-1)return;M=ne;if(M<i.count+1){do{P.push(fe(M));M=M+1;}while(M<i.count+1);i.splice({data:n,howmany:i.count-ne,index:ne});}}else {if(a.script.correct===false||C!=="++"&&C!=="--"&&A!=="++"&&A!=="--"){return}_=Q(1,false);if((C==="++"||C==="--")&&(p[r]===";"||_===";"||p[r]==="}"||_==="}"||p[r]===")"||_===")")){x=n.stack[i.count];if(x==="array"||x==="method"||x==="object"||x==="paren"||x==="notation"||n.token[n.begin[i.count]-1]==="while"&&x!=="while"){return}M=i.count;do{M=M-1;if(n.token[M]==="return")return;if(n.types[M]==="end"){do{M=n.begin[M]-1;}while(n.types[M]==="end"&&M>0)}}while(M>0&&(n.token[M]==="."||n.types[M]==="word"||n.types[M]==="reference"||n.types[M]==="end"));if(n.token[M]===","&&p[r]!==";"&&_!==";"&&p[r]!=="}"&&_!=="}"&&p[r]!==")"&&_!==")"){return}if(n.types[M]==="operator"){if(n.stack[M]==="switch"&&n.token[M]===":"){do{M=M-1;if(n.types[M]==="start"){E=E-1;if(E<0)break}else if(n.types[M]==="end"){E=E+1;}if(n.token[M]==="?"&&E===0)return}while(M>0)}else {return}}l=false;x=C==="--"?"-":"+";}else if(N==="["||N===";"||N==="x;"||N==="}"||N==="{"||N==="("||N===")"||N===","||N==="return"){if(C==="++"||C==="--"){if(N==="["||N==="("||N===","||N==="return")return;if(C==="--")x="-";l=false;}else if(A==="--"||C==="--"){x="-";}}else {return}if(l===false)k=i.pop(n);ne=i.count;if(n.types[ne]==="end"){J();}else if(n.token[ne-1]==="."){G();}M=ne;if(M<i.count+1){do{P.push(fe(M));M=M+1;}while(M<i.count+1)}}if(l===true){i.splice({data:n,howmany:1,index:ne-1});t="=";S="operator";K("");ie();t=x;S="operator";K("");t="1";S="number";K("");}else {t="=";S="operator";K("");ie();t=x;S="operator";K("");t="1";S="number";K("");}t=n.token[i.count];S=n.types[i.count];if(_==="}"&&p[r]!==";")y(false);}function K(l){i.push(n,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:t,types:S},l);}function U(){let l=r+1;let x=0;let C=0;let A="";let N=false;const M=w;const E=["/"];if(l<M){do{E.push(p[l]);if(p[l-1]!=="\\"||p[l-2]==="\\"){if(p[l]==="["){N=true;}if(p[l]==="]"){N=false;}}if(p[l]==="/"&&N===false){if(p[l-1]==="\\"){C=0;x=l-1;if(x>0){do{if(p[x]==="\\"){C=C+1;}else {break}x=x-1;}while(x>0)}if(C%2===0){break}}else {break}}l=l+1;}while(l<M)}if(p[l+1]==="g"||p[l+1]==="i"||p[l+1]==="m"||p[l+1]==="y"||p[l+1]==="u"){E.push(p[l+1]);if(p[l+2]!==p[l+1]&&(p[l+2]==="g"||p[l+2]==="i"||p[l+2]==="m"||p[l+2]==="y"||p[l+2]==="u")){E.push(p[l+2]);if(p[l+3]!==p[l+1]&&p[l+3]!==p[l+2]&&(p[l+3]==="g"||p[l+3]==="i"||p[l+3]==="m"||p[l+3]==="y"||p[l+3]==="u")){E.push(p[l+3]);if(p[l+4]!==p[l+1]&&p[l+4]!==p[l+2]&&p[l+4]!==p[l+3]&&(p[l+4]==="g"||p[l+4]==="i"||p[l+4]==="m"||p[l+4]==="y"||p[l+4]==="u")){E.push(p[l+4]);if(p[l+5]!==p[l+1]&&p[l+5]!==p[l+2]&&p[l+5]!==p[l+3]&&p[l+5]!==p[l+4]&&(p[l+5]==="g"||p[l+5]==="i"||p[l+5]==="m"||p[l+5]==="y"||p[l+5]==="u")){E.push(p[l+4]);r=l+5;}else {r=l+4;}}else {r=l+3;}}else {r=l+2;}}else {r=l+1;}}else {r=l;}A=E.join("");return A}function de(l){const x=l;do{l=l-1;}while(p[l]==="\\"&&l>0);return (x-l)%2===1}function Pe(l){let x=i.count;let C="";let A="";let N="";let M=false;ee.push(l);if(l==="{"&&(n.types[i.count]==="type"||n.types[i.count]==="type_end"||n.types[i.count]==="generic")){let E=0;if(n.types[i.count]==="type_end")x=n.begin[i.count];E=x;do{x=x-1;if(n.begin[x]!==E&&n.begin[x]!==-1)break;if(n.token[x]===":")break}while(x>n.begin[x]);if(n.token[x]===":"&&n.stack[x-1]==="arguments"){m.push(false);M=true;}else {m.push(m[m.length-1]);}x=i.count;}else if(l==="["&&n.types[i.count]==="type_end"){m.push(true);}else {m.push(m[m.length-1]);}if(o>-1){D();x=i.count;}if(b.len>-1)b.count[b.len]=b.count[b.len]+1;if(n.token[x-1]==="function"){Z.push(["function",x+1]);}else {Z.push([t,x+1]);}t=l;if(m[m.length-1]===true){S="type_start";}else {S="start";}if(l==="("||l==="x("){O();}else if(l==="{"){if(R>-1){if(n.begin[R-1]===n.begin[n.begin[x]-1]||n.token[n.begin[x]]==="x("){R=-1;if(a.script.correct===true){le(")");}else {le("x)");}O();t="{";S="start";}}else if(t===")"){O();}if(S==="comment"&&n.token[x-1]===")"){t=n.token[x];n.token[x]="{";S=n.types[x];n.types[x]="start";}}C=(()=>{let E=i.count;if(n.types[E]==="comment"){do{E=E-1;}while(E>0&&n.types[E]==="comment")}return n.token[E]})();A=n.stack[x]===void 0?"":(()=>{let E=i.count;if(n.types[E]==="comment"){do{E=E-1;}while(E>0&&n.types[E]==="comment")}return n.token[n.begin[E]-1]})();if(c(t,123)&&(n.types[x]==="word"||n.token[x]==="]")){let E=x;if(n.token[E]==="]"){do{E=n.begin[E]-1;}while(n.token[E]==="]")}do{if(n.types[E]==="start"||n.types[E]==="end"||n.types[E]==="operator")break;E=E-1;}while(E>0);if(n.token[E]===":"&&n.stack[E-1]==="arguments"){N="function";L.push(e);e=[];}}if(S==="type_start"){N="data_type";}else if(N===""&&(c(t,123)||t==="x{")){if(C==="else"||C==="do"||C==="try"||C==="finally"||C==="switch"){N=C;}else if(h[h.length-1]===0&&C!=="return"){h.pop();N="class";}else if(n.token[x-1]==="class"){N="class";}else if(n.token[x]==="]"&&n.token[x-1]==="["){N="array";}else if((n.types[x]==="word"||n.types[x]==="reference")&&(n.types[x-1]==="word"||n.types[x-1]==="reference"||n.token[x-1]==="?"&&(n.types[x-2]==="word"||n.types[x-2]==="reference"))&&n.token[x]!=="in"&&n.token[x-1]!=="export"&&n.token[x-1]!=="import"){N="map";}else if(n.stack[x]==="method"&&n.types[x]==="end"&&(n.types[n.begin[x]-1]==="word"||n.types[n.begin[x]-1]==="reference")&&n.token[n.begin[x]-2]==="new"){N="initializer";}else if(c(t,123)&&(c(C,41)||C==="x)")&&(n.types[n.begin[x]-1]==="word"||n.types[n.begin[x]-1]==="reference"||n.token[n.begin[x]-1]==="]")){if(A==="if"){N="if";}else if(A==="for"){N="for";}else if(A==="while"){N="while";}else if(A==="class"){N="class";}else if(A==="switch"||n.token[n.begin[x]-1]==="switch"){N="switch";}else if(A==="catch"){N="catch";}else {N="function";}}else if(c(t,123)&&(C===";"||C==="x;")){N="block";}else if(c(t,123)&&n.token[x]===":"&&n.stack[x]==="switch"){N="block";}else if(n.token[x-1]==="import"||n.token[x-2]==="import"||n.token[x-1]==="export"||n.token[x-2]==="export"){N="object";}else if(c(C,41)&&($[0]==="function"||$[0]==="if"||$[0]==="for"||$[0]==="class"||$[0]==="while"||$[0]==="switch"||$[0]==="catch")){N=$[0];}else if(n.stack[x]==="notation"){N="function";}else if((n.types[x]==="number"||n.types[x]==="string"||n.types[x]==="word"||n.types[x]==="reference")&&(n.types[x-1]==="word"||n.types[x-1]==="reference")&&n.token[n.begin[x]-1]!=="for"){N="function";}else if(i.structure.length>0&&n.token[x]!==":"&&i.structure[i.structure.length-1][0]==="object"&&(n.token[n.begin[x]-2]==="{"||n.token[n.begin[x]-2]===",")){N="function";}else if(n.types[$[1]-1]==="markup"&&n.token[$[1]-3]==="function"){N="function";}else if(C==="=>"){N="function";}else if(M===true||n.types[i.count]==="type_end"&&n.stack[n.begin[i.count]-2]==="arguments"){N="function";}else if(c(C,41)&&n.stack[x]==="method"&&(n.types[n.begin[x]-1]==="word"||n.types[n.begin[x]-1]==="property"||n.types[n.begin[x]-1]==="reference")){N="function";}else if(n.types[x]==="word"&&c(t,123)&&n.token[x]!=="return"&&n.token[x]!=="in"&&n.token[x]!=="import"&&n.token[x]!=="const"&&n.token[x]!=="let"&&n.token[x]!==""){N="block";}else if(c(t,123)&&"if|else|for|while|function|class|switch|catch|finally".indexOf(n.stack[x])>-1&&(n.token[x]==="x}"||n.token[x]==="}")){N="block";}else if(n.stack[x]==="arguments"){N="function";}else if(n.types[x]==="generic"){do{x=x-1;if(n.token[x]==="function"||n.stack[x]==="arguments"){N="function";break}if(n.token[x]==="interface"){N="map";break}if(n.token[x]===";"){N="object";break}}while(x>n.begin[i.count])}else {N="object";}if(N!=="object"&&N!=="class"){if(N==="function"){L.push(e);e=[];}else {L.push([]);}}}else if(t==="["){N="array";}else if(t==="("||t==="x("){if(C==="function"||n.token[x-1]==="function"||n.token[x-1]==="function*"||n.token[x-2]==="function"){N="arguments";}else if(n.token[x-1]==="."||n.token[n.begin[x]-2]==="."){N="method";}else if(n.types[x]==="generic"){N="method";}else if(n.token[x]==="}"&&n.stack[x]==="function"){N="method";}else if(C==="if"||C==="for"||C==="class"||C==="while"||C==="catch"||C==="finally"||C==="switch"||C==="with"){N="expression";}else if(n.types[x]==="word"||n.types[x]==="property"||n.types[x]==="reference"){N="method";}else {N="paren";}}K(N);if(h.length>0)h[h.length-1]=h[h.length-1]+1;}function _e(){const l=[p[r]];r=r+1;if(r<w){do{l.push(p[r]);if(p[r]==="`"&&(p[r-1]!=="\\"||de(r-1)===false))break;if(p[r-1]==="$"&&p[r]==="{"&&(p[r-2]!=="\\"||de(r-2)===false))break;r=r+1;}while(r<w)}return l.join("")}function We(l){let x=2;let C=0;let A="";const N=l.slice(0,2);const M=l.length;if(l.charAt(2)==="-")x=x+1;if(/\s/.test(l.charAt(x))===true){do{x=x+1;}while(/\s/.test(l.charAt(x))===true&&x<M)}C=x;do{C=C+1;}while(/\s/.test(l.charAt(C))===false&&l.charAt(C)!=="("&&C<M);if(C===M)C=l.length-2;A=l.slice(x,C);if(A==="else"||N==="{%"&&(A==="elseif"||A==="when"||A==="elif"||A==="elsif")){return ["template_else",`template_${A}`]}if(N==="{{"){if(A==="end")return ["template_end",""];if(A==="block"&&/\{%\s*\w/.test(f)===false||A==="define"||A==="form"||A==="if"||A==="unless"||A==="range"||A==="with"){return ["template_start",`template_${A}`]}return ["template",""]}C=z.length-1;if(C>-1){do{if(A===z[C]&&(A!=="block"||/\{%\s*\w/.test(f)===false)){return ["template_start",`template_${A}`]}if(A==="end"+z[C]){return ["template_end",""]}C=C-1;}while(C>-1)}return ["template",""]}function T(){b.count.pop();b.index.pop();b.word.pop();b.len=b.len-1;}function D(){let l=o;let x=1;let C="";let A="";let N=t;let M=S;const E=[];function ne(){ee.push("x{");i.splice({data:n,howmany:1,index:i.count-3});}function _(P,J,G){const ie=n.begin[P];let fe=0;do{if(n.token[P]===J&&n.types[P]==="word"){if(G===true){n.types[P]="reference";}else if(n.begin[P]>ie&&n.token[n.begin[P]]==="{"&&n.stack[P]!=="object"&&n.stack[P]!=="class"&&n.stack[P]!=="data_type"){if(n.stack[P]==="function"){n.types[P]="reference";}else {fe=n.begin[P];do{if(n.stack[fe]==="function"){n.types[P]="reference";break}fe=n.begin[fe];}while(fe>ie)}}}P=P-1;}while(P>ie)}do{E.push(p[l]);if(p[l]==="\\"){i.error=`Illegal escape in JavaScript on line number ${i.lineNumber}`;}l=l+1;}while(l<r);if(t.charAt(0)==="\u201C"){i.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${i.lineNumber}`;}else if(t.charAt(0)==="\u201D"){i.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${i.lineNumber}`;}C=E.join("");o=-1;if(i.count>0&&C==="function"&&n.token[i.count]==="("&&(n.token[i.count-1]==="{"||n.token[i.count-1]==="x{")){n.types[i.count]="start";}if(i.count>1&&C==="function"&&t==="("&&(n.token[i.count-1]==="}"||n.token[i.count-1]==="x}")){if(n.token[i.count-1]==="}"){l=i.count-2;if(l>-1){do{if(n.types[l]==="end"){x=x+1;}else if(n.types[l]==="start"||n.types[l]==="end"){x=x-1;}if(x===0)break;l=l-1;}while(l>-1)}if(n.token[l]==="{"&&n.token[l-1]===")"){x=1;l=l-2;if(l>-1){do{if(n.types[l]==="end"){x=x+1;}else if(n.types[l]==="start"||n.types[l]==="end"){x=x-1;}if(x===0)break;l=l-1;}while(l>-1)}if(n.token[l-1]!=="function"&&n.token[l-2]!=="function"){n.types[i.count]="start";}}}else {n.types[i.count]="start";}}if(a.script.correct===true&&(C==="Object"||C==="Array")&&p[r+1]==="("&&p[r+2]===")"&&n.token[i.count-1]==="="&&n.token[i.count]==="new"){if(C==="Object"){n.token[i.count]="{";t="}";n.stack[i.count]="object";i.structure[i.structure.length-1][0]="object";}else {n.token[i.count]="[";t="]";n.stack[i.count]="array";i.structure[i.structure.length-1][0]="array";}n.types[i.count]="start";S="end";p[r+1]="";p[r+2]="";r=r+2;}else {x=i.count;l=x;if(a.script.variableList!=="none"&&(C==="var"||C==="let"||C==="const")){if(n.types[x]==="comment"){do{x=x-1;}while(x>0&&n.types[x]==="comment")}if(a.script.variableList==="list"&&b.len>-1&&b.index[b.len]===x&&C===b.word[b.len]){t=",";S="separator";n.token[x]=t;n.types[x]=S;b.count[b.len]=0;b.index[b.len]=x;b.word[b.len]=C;return}b.len=b.len+1;b.count.push(0);b.index.push(x);b.word.push(C);x=l;}else if(b.len>-1&&C!==b.word[b.len]&&i.count===b.index[b.len]&&n.token[b.index[b.len]]===";"&&t!==b.word[b.len]&&a.script.variableList==="list"){T();}if(C==="from"&&n.token[i.count]==="x;"&&n.token[i.count-1]==="}"){O();}if(C==="while"&&n.token[i.count]==="x;"&&n.token[i.count-1]==="}"){let P=0;let J=i.count-2;if(J>-1){do{if(n.types[J]==="end"){P=P+1;}else if(n.types[J]==="start"){P=P-1;}if(P<0){if(n.token[J]==="{"&&n.token[J-1]==="do")O();return}J=J-1;}while(J>-1)}}if(M==="comment"){let P=i.count;do{P=P-1;}while(P>0&&n.types[P]==="comment");M=n.types[P];N=n.token[P];}A=Q(2,false);if(C==="void"){if(N===":"&&n.stack[i.count-1]==="arguments"){S="type";}else {S="word";}}else if((i.structure[i.structure.length-1][0]==="object"||i.structure[i.structure.length-1][0]==="class"||i.structure[i.structure.length-1][0]==="data_type")&&(n.token[i.count]==="{"||n.token[n.begin[i.count]]==="{"&&n.token[i.count]===","||n.types[i.count]==="template_end"&&(n.token[n.begin[i.count]-1]==="{"||n.token[n.begin[i.count]-1]===","))){if(C==="return"||C==="break"){S="word";}else {S="property";}}else if(m[m.length-1]===true||(a.language==="typescript"||a.language==="flow")&&N==="type"){S="type";}else if(L.length>0&&(N==="function"||N==="class"||N==="const"||N==="let"||N==="var"||N==="new"||N==="void")){S="reference";L[L.length-1].push(C);if(a.language==="javascript"||a.language==="jsx"||a.language==="typescript"||a.language==="tsx"){if(N==="var"||N==="function"&&n.types[i.count-1]!=="operator"&&n.types[i.count-1]!=="start"&&n.types[i.count-1]!=="end"){_(i.count,C,true);}else {_(i.count,C,false);}}else {_(i.count,C,false);}}else if(i.structure[i.structure.length-1][0]==="arguments"&&S!=="operator"){S="reference";e.push(C);}else if(N===","&&n.stack[i.count]!=="method"&&(n.stack[i.count]!=="expression"||n.token[n.begin[i.count]-1]==="for")){let P=i.count;const J=i.structure[i.structure.length-1][1];do{if(n.begin[P]===J){if(n.token[P]===";")break;if(n.token[P]==="var"||n.token[P]==="let"||n.token[P]==="const"||n.token[P]==="type"){break}}else if(n.types[P]==="end"){P=n.begin[P];}P=P-1;}while(P>J);if(L.length>0&&n.token[P]==="var"){S="reference";L[L.length-1].push(C);if(a.language==="javascript"||a.language==="jsx"||a.language==="typescript"||a.language==="tsx"){_(P,C,true);}else {_(P,C,false);}}else if(L.length>0&&(n.token[P]==="let"||n.token[P]==="const"||n.token[P]==="type"&&(a.language==="typescript"||a.language==="tsx"))){S="reference";L[L.length-1].push(C);_(P,C,false);}else {S="word";}}else if(i.structure[i.structure.length-1][0]!=="object"||i.structure[i.structure.length-1][0]==="object"&&t!==","&&t!=="{"){let P=L.length;let J=0;if(P>0){do{P=P-1;J=L[P].length;if(J>0){do{J=J-1;if(C===L[P][J])break}while(J>0);if(C===L[P][J])break}}while(P>0);if(L[P][J]===C&&N!=="."){S="reference";}else {S="word";}}else {S="word";}}else {S="word";}t=C;if(C==="from"&&n.token[i.count]==="}")O();}K("");if(C==="class")h.push(0);if(C==="do"){A=Q(1,true);if(A!=="{"){t=a.script.correct===true?"{":"x{";S="start";ee.push("x{");K("do");}}if(C==="else"){A=Q(2,true);let P=i.count-1;if(n.types[P]==="comment"){do{P=P-1;}while(P>0&&n.types[P]==="comment")}if(n.token[P]==="x}"){if(n.token[i.count]==="else"){if(n.stack[i.count-1]!=="if"&&n.types[i.count-1]!=="comment"&&n.stack[i.count-1]!=="else"){ee.pop();i.splice({data:n,howmany:0,index:i.count-1,record:{begin:n.begin[n.begin[n.begin[i.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:a.script.correct===true?"}":"x}",types:"end"}});if(i.structure.length>1){i.structure.splice(i.structure.length-2,1);i.structure[i.structure.length-1][1]=i.count;}}else if(n.token[i.count-2]==="x}"&&W[0]!=="if"&&n.stack[i.count]==="else"){ne();}else if(n.token[i.count-2]==="}"&&n.stack[i.count-2]==="if"&&W[0]==="if"&&n.token[W[1]-1]!=="if"&&n.token[n.begin[i.count-1]]==="x{"){ne();}}else if(n.token[i.count]==="x}"&&n.stack[i.count]==="if"){ne();}}if(A!=="if"&&A.charAt(0)!=="{"){t=a.script.correct===true?"{":"x{";S="start";ee.push("x{");K("else");}}if((C==="for"||C==="if"||C==="switch"||C==="catch")&&n.token[i.count-1]!=="."){A=Q(1,true);if(A!=="("){R=i.count;if(a.script.correct===true){Pe("(");}else {Pe("x(");}}}}do{if(/\s/.test(p[r])){if(o>-1)D();r=i.spacer({array:p,end:w,index:r});if(i.linesSpace>1&&t!==";"&&B<i.count&&p[r+1]!=="}"){y(false);B=i.count;}}else if(p[r]==="{"&&p[r+1]==="%"){V("{%","%}","template");}else if(p[r]==="{"&&p[r+1]==="{"){V("{{","}}","template");}else if(p[r]==="<"&&p[r+1]==="!"&&p[r+2]==="-"&&p[r+3]==="-"){V("<!--","-->","comment");}else if(p[r]==="<"){xe();}else if(p[r]==="/"&&(r===w-1||p[r+1]==="*")){v();}else if((i.count<0||n.lines[i.count]>0)&&p[r]==="#"&&p[r+1]==="!"&&(p[r+2]==="/"||p[r+2]==="[")){V("#!"+p[r+2],"\n","string");}else if(p[r]==="/"&&(r===w-1||p[r+1]==="/")){ue();}else if(c(p[r],96)||c(p[r],125)&&i.structure[i.structure.length-1][0]==="template_string"){if(o>-1)D();t=_e();if(c(t,125)&&t.slice(t.length-2)==="${"){S="template_string_else";K("template_string");}else if(t.slice(t.length-2)==="${"){S="template_string_start";K("template_string");}else if(c(t[0],125)){S="template_string_end";K("");}else {S="string";K("");}}else if(p[r]==='"'||p[r]==="'"){V(p[r],p[r],"string");}else if(p[r]==="-"&&(r<w-1&&p[r+1]!=="="&&p[r+1]!=="-")&&(S==="number"||S==="word"||S==="reference")&&t!=="return"&&(t===")"||t==="]"||S==="word"||S==="reference"||S==="number")){if(o>-1)D();t="-";S="operator";K("");}else if(o===-1&&(p[r]!=="0"||p[r]==="0"&&p[r+1]!=="b")&&(/\d/.test(p[r])||r!==w-2&&p[r]==="-"&&p[r+1]==="."&&/\d/.test(p[r+2])||r!==w-1&&(p[r]==="-"||p[r]===".")&&/\d/.test(p[r+1]))){if(o>-1)D();if(S==="end"&&p[r]==="-"){t="-";S="operator";}else {t=pe();S="number";}K("");}else if(p[r]===":"&&p[r+1]===":"){if(o>-1)D();if(a.script.correct===true)re();O();r=r+1;t="::";S="separator";K("");}else if(p[r]===","){if(o>-1)D();if(a.script.correct===true)re();if(m[m.length-1]===true&&n.stack[i.count].indexOf("type")<0){m[m.length-1]=false;}if(S==="comment"){I();}else if(b.len>-1&&b.count[b.len]===0&&a.script.variableList==="each"){O();t=";";S="separator";K("");t=b.word[b.len];S="word";K("");b.index[b.len]=i.count;}else {t=",";S="separator";O();K("");}}else if(p[r]==="."){if(o>-1)D();m[m.length-1]=false;if(p[r+1]==="."&&p[r+2]==="."){t="...";S="operator";r=r+2;}else {O();t=".";S="separator";}if(/\s/.test(p[r-1])===true)i.linesSpace=1;K("");}else if(p[r]===";"){if(o>-1)D();if(m[m.length-1]===true&&n.stack[i.count].indexOf("type")<0){m[m.length-1]=false;}if(h[h.length-1]===0)h.pop();if(b.len>-1&&b.count[b.len]===0){if(a.script.variableList==="each"){T();}else {b.index[b.len]=i.count+1;}}if(a.script.correct===true)re();t=";";S="separator";if(n.token[i.count]==="x}"){d();}else {K("");}j();}else if(p[r]==="("||p[r]==="["||p[r]==="{"){Pe(p[r]);}else if(p[r]===")"||p[r]==="]"||p[r]==="}"){le(p[r]);}else if(p[r]==="*"&&n.stack[i.count]==="object"&&o<0&&/\s/.test(p[r+1])===false&&p[r+1]!=="="&&/\d/.test(p[r+1])===false){o=r;}else if(p[r]==="="||p[r]==="&"||p[r]==="<"||p[r]===">"||p[r]==="+"||p[r]==="-"||p[r]==="*"||p[r]==="/"||p[r]==="!"||p[r]==="?"||p[r]==="|"||p[r]==="^"||p[r]===":"||p[r]==="%"||p[r]==="~"){t=Oe();if(t==="regex"){t=n.token[i.count];}else if(t==="*"&&n.token[i.count]==="function"){n.token[i.count]="function*";}else {S="operator";if(t!=="!"&&t!=="++"&&t!=="--")O();K("");}}else if(o<0&&p[r]!==""){o=r;}if(b.len>-1&&i.count===b.index[b.len]+1&&n.token[b.index[b.len]]===";"&&t!==b.word[b.len]&&S!=="comment"&&a.script.variableList==="list"){T();}r=r+1;}while(r<w);if(o>-1)D();if((n.token[i.count]!=="}"&&n.token[0]==="{"||n.token[0]!=="{")&&(n.token[i.count]!=="]"&&n.token[0]==="["||n.token[0]!=="[")){y(false);}if(F[0]===i.count){t="\n"+F[1];S="string";K("");}if(n.token[i.count]==="x;"&&(n.token[i.count-1]==="}"||n.token[i.count-1]==="]")&&n.begin[i.count-1]===0){i.pop(n);}a.script=u;return n};q.lexers.markup=function s(f){const{options:a}=q;const{data:u}=i;const r=a.language==="jsx"||a.language==="tsx";const t=a.language==="html"||a.language==="liquid";const S=a.markup;const $=S.attributeSortList.length;const B={end:0,start:0,line:1,index:-1};const o=f.split(g);const R=o.length;let e=0;let k=false;let W;t?a.language:"html";let n=0;function L(y){if(!(t===true&&r===false))return y;if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(y))return y;if(!Ie(y,3))return y;const d=y.length-3;if(S.delimiterTrims==="force"){if(c(y[1],37)){if(Y(y[2],45))y=y.replace(/^{%/,"{%-");if(Y(y[d],45))y=y.replace(/%}$/,"-%}");}else {if(Y(y[2],45))y=y.replace(/^{{/,"{{-");if(Y(y[d],45))y=y.replace(/}}$/,"-}}");}}else if(S.delimiterTrims==="strip"){y=y.replace(/^{%-/,"{%").replace(/-%}$/,"%}").replace(/^{{-/,"{{").replace(/-}}$/,"}}");}else if(S.delimiterTrims==="tags"&&c(y[1],37)){if(Y(y[2],45))y=y.replace(/^{%/,"{%-");if(Y(y[d],45))y=y.replace(/%}$/,"-%}");}else if(S.delimiterTrims==="outputs"&&c(y[1],123)){if(Y(y[2],45))y=y.replace(/^{{/,"{{-");if(Y(y[d],45))y=y.replace(/}}$/,"-}}");}if(/^{%-?\s*#/.test(y))return y;if(S.normalizeSpacing===false)return y;let O;let v=0;return y.split(/(["']{1})/).map((j,I,le)=>{const V=c(j[0],34)||c(j[0],39);if(v>0||V&&v===0&&Y(le[I-1],92)||V){if(v===0)O=j.charCodeAt(0);if(v===1&&Y(le[I-1],92)){if(O===j.charCodeAt(0))v=2;return j}if(v!==2){v=v===0?1:v===1?c(le[I-1],92)?1:2:0;return j}v=0;}return j.replace(lt,se).replace(/^({[{%]-?)/,"$1 ").replace(/([!=]=|[<>]=?)/g," $1 ").replace(new RegExp(" +(?=[|[\\],:.])|(?<=[[.]) +","g"),g).replace(new RegExp("(\\||(?<=[^=!<>])(?:(?<=assign[^=]+)=(?=[^=!<>])|=$))","g")," $1 ").replace(/([:,]$|[:,](?=\S))/g,"$1 ").replace(/(-?[%}]})$/," $1").replace(lt,se)}).join(g)}function w(y){let d=y;do d=d-1;while(c(o[d],92));d=y-d;return d%2===1}function p(y,d,O){if(y===u){if(d.types.indexOf("end")>-1){B.end=B.end+1;}else if(d.types.indexOf("start")>-1){B.start=B.start+1;}}B.index=i.count;B.line=i.lineNumber;i.push(y,d,O);}function Z(y,d){if(!ke.html.tags.has(y))return false;if(y===d)return true;if(y==="dd"&&d==="dt")return true;if(y==="dt"&&d==="dd")return true;if(y==="td"&&d==="th")return true;if(y==="th"&&d==="td")return true;if(y==="colgroup"&&(d==="tbody"||d==="tfoot"||d==="thead"||d==="tr"))return true;if(y==="tbody"&&(d==="colgroup"||d==="tfoot"||d==="thead"))return true;if(y==="tfoot"&&(d==="colgroup"||d==="tbody"||d==="thead"))return true;if(y==="thead"&&(d==="colgroup"||d==="tbody"||d==="tfoot"))return true;if(y==="tr"&&d==="colgroup")return true;return false}function ee(y){return `Parse Error (line ${i.lineNumber}):
${Array.isArray(y)?y.join(g):y}`}function h(y,d){const O=Ne(y);const v={begin:i.scope.index,ender:-1,lexer:"markup",lines:u.lines[i.count]>0?1:0,stack:Ne(i.scope.token),token:`</${i.scope.token}>`,types:"end"};p(u,v,g);if(ke.html.tags.has(i.scope.token)&&(d===true&&i.structure.length>1||d===false&&`/${i.scope.token}`!==O)){do{v.begin=i.scope.index;v.stack=Ne(i.scope.token);v.token=`</${i.scope.token}>`;p(u,v,g);}while(ke.html.tags.has(i.scope.token)&&(d===true&&i.structure.length>1||d===false&&`/${i.scope.token}`!==O))}}function F(){i.error="Prettify Error:\n\n"+i.error;}function m(y){const d={lexer:"markup",lines:i.linesSpace,stack:i.scope.token!=="global"?Ne(i.scope.token):"global",begin:i.scope.index,token:g,types:g,ender:-1};let O=g;let v=g;let j=g;let I=g;let le=g;let V=false;let ue=false;let xe=false;let Q=0;let pe=false;let Oe=false;let re=false;let K=false;let U=[];let de=[g,0];function Pe(_){const P=_.indexOf("=");if(P>0){const J=_.indexOf('"');if(P<J&&J>0)return [_.slice(0,P),_.slice(P+1)];const G=_.indexOf("'");if(P<G&&G>0)return [_.slice(0,P),_.slice(P+1)]}return [_,g]}function _e(_){d.lines=u.lines[i.count]>0?1:0;d.token=`</${i.scope.token}>`;d.types="end";p(u,d,g);if(_>0){do{d.begin=i.scope.index;d.stack=Ne(i.scope.token);d.token=`</${i.scope.token}>`;p(u,d,g);_=_-1;}while(_>0)}d.begin=i.scope.index;d.lines=i.linesSpace;d.stack=Ne(i.scope.token);d.token=O;d.types="end";u.lines[i.count-1]=0;}function We(){if(j==="end"){const _=u.token[i.count];if(u.types[i.count-1]==="singleton"&&_.charCodeAt(_.length-2)!==47&&`/${Ne(_)}`===I){u.types[i.count-1]="start";}}if(t){if(c(O[0],60)&&Y(O[1],33)&&Y(O[1],63)&&(i.count<0||u.types[i.count].indexOf("template")<0)){O=O.toLowerCase();}if(ke.html.tags.has(i.scope.token)&&Z(I.slice(1),i.structure[i.structure.length-2][0])){_e(0);}else if(i.structure.length>3&&ke.html.tags.has(i.scope.token)&&ke.html.tags.has(i.structure[i.structure.length-2][0])&&ke.html.tags.has(i.structure[i.structure.length-3][0])&&Z(I,i.structure[i.structure.length-4][0])){_e(3);}else if(i.structure.length>2&&ke.html.tags.has(i.scope.token)&&ke.html.tags.has(i.structure[i.structure.length-2][0])&&Z(I,i.structure[i.structure.length-3][0])){_e(2);}else if(i.structure.length>1&&ke.html.tags.has(i.scope.token)&&Z(I,i.structure[i.structure.length-2][0])){_e(1);}else if(Z(I,i.scope.token)){_e(0);}else if(c(I[0],47)&&ke.html.tags.has(i.scope.token)&&i.scope.token!==I.slice(1)){h(O,false);d.begin=i.scope.index;d.lines=i.linesSpace;d.stack=Ne(i.scope.token);d.token=O;d.types="end";u.lines[i.count-1]=0;}if(r===false&&ke.html.voids.has(I)){if(S.correct===true&&/\/>$/.test(O)===false){O=O.slice(0,O.length-1)+" />";}return true}}return false}function T(){if(j!=="cdata")return A();if(d.stack==="script"||d.stack==="style"){const _=d.stack;let P=i.count;let J=i.count;if(u.types[J]==="attribute"){do{P=P-1;J=J-1;}while(u.types[J]==="attribute"&&J>-1)}d.begin=P;d.token="<![CDATA[";d.types="cdata_start";O=O.replace(/^(\s*<!\[cdata\[)/i,g).replace(/(\]{2}>\s*)$/,g);p(u,d,g);i.structure.push(["cdata",i.count]);if(_==="script"){q.lexers.script(O);}else {q.lexers.style(O);}d.begin=i.scope.index;d.token="]]>";d.types="cdata_end";p(u,d,g);i.structure.pop();}return A()}function D(){if(d.types.indexOf("template")===-1)return T();if(c(O[0],123)&&c(O[1],37)){if(ke.liquid.else.has(I)){d.types="template_else";}else if(ke.liquid.tags.has(I)){d.types="template_start";}else if(I.startsWith("end")){const _=I.slice(3);if(ke.liquid.tags.has(_)){d.types="template_end";}else {d.stack=_;d.types="template_end";let P=0;do{if(u.types[P]==="template"&&u.stack[P]===_){u.types[P]="template_start";B.start=B.start+1;break}P=u.stack.indexOf(_,P+1);}while(P>-1)}}else {d.stack=I;}}if(S.quoteConvert==="double"){d.token=d.token.replace(/'/g,'"');}else if(S.quoteConvert==="single"){d.token=d.token.replace(/"/g,"'");}return T()}function l(){if(K&&xe===false&&j!=="xml"){if(V===true||ke.html.voids.has(I)||c(O[O.length-2],47)&&c(O[O.length-1],62)){j="singleton";}else {j="start";}d.types=j;}return x()}function x(){let _=g;if(mt.test(u.token[i.count])){xe=true;re=false;if(j.indexOf("template")>0&&ke.liquid.tags.has(I)){_=`end${I}`;}else if(ke.html.voids.has(I)){_=null;}}else if(ke.html.voids.has(I)){_=null;}if(_!==null&&re===false&&xe===true&&(y===">"||y==="%}"||y==="}}")){const P=[];if(V===true){j="singleton";}else {re=true;j="ignore";e=e+1;if(e<R){let J=g;let G=0;let ie=0;let fe=false;do{if(c(o[e],10))i.lineNumber=i.lineNumber+1;P.push(o[e]);if(J===g){J=c(o[e],34)?'"':c(o[e],39)?"'":g;if(Y(P[0],123)&&c(o[e],123)&&(c(o[e+1],123)||c(o[e+1],37))){J=o[e+1]+"}";}else if(c(o[e],60)&&K===true){fe=c(o[e+1],47);}else if(o[e]===v&&Y(o[e-1],47)){if(fe===true){Q=Q-1;if(Q<0)break}else {Q=Q+1;}}}else if(c(o[e],J.charCodeAt(J.length-1))){ie=0;G=J.length-1;if(c(J[G],125)){if(o.slice(e+(c(o[e+2],45)?3:2),o.indexOf("%",e+2)).join(g).trim().startsWith(_))break}else if(G>-1){do{if(Y(o[e-ie],J.charCodeAt(G)))break;ie=ie+1;G=G-1;}while(G>-1)}if(G<0)J=g;}e=e+1;}while(e<R)}}O=O+P.join(g);O=O.replace(">",` ${U.map(([J])=>J).join(se)}>`);U=[];d.token=O;d.types="content-ignore";}return D()}function C(){V=We();if(!ke.embed("html",I)&&!ke.embed("liquid",I))return l();let _=U.length-1;let P=g;let J;if(_>-1){do{J=Pe(U[_][0]);if(J[0]==="type"){P=J[1];if(c(P,34)||c(P,39))P=P.slice(1,-1);break}_=_-1;}while(_>-1)}const G=Ie(O,3);if(G===false&&ke.embed("html",I)){k=true;if(P===g){W=ke.html.embed[I].language;}else if(ke.html.embed[I].value(P)){W=ke.html.embed[I].language;}}else if(G===true&&ke.embed("liquid",I)){k=true;if(P===g){W=ke.liquid.embed[I].language;}else {W=ke.liquid.embed[I].language;}}if(k===true){_=e+1;if(_<R){do{if(me(o[_])===false){if(c(o[_],60)){if(o.slice(_+1,_+4).join(g)==="!--"){_=_+4;if(_<R){do{if(me(o[_])===false){k=false;break}if(c(o[_],10)||c(o[_],13))break;_=_+1;}while(_<R)}}else {k=false;}}break}_=_+1;}while(_<R)}}return l()}function A(){p(u,d,g);const _=i.count;const P=I.replace(/\/$/,g);const J=S.quoteConvert;let G=0;let ie=0;let fe=0;let te=0;let H=g;let ge=g;let ae=U.length;function be(){if(i.attributes.has(_)){if(G+1===ae&&Y(d.token[d.token.length-1],62)){d.token=d.token+">";}}let oe=Ie(d.token,5);if(xe===true||J==="none"||d.types.indexOf("attribute")<0||oe===false&&J==="single"&&d.token.indexOf('"')<0||oe===false&&J==="double"&&d.token.indexOf("'")<0){p(u,d,g);}else {let ve=0;let Me=false;const Se=d.token.split(g);const he=d.token.indexOf("=");const Le=Se.length-1;if(Y(Se[he+1],34)&&Y(Se[Se.length-1],34)&&J==="single"&&oe===false){p(u,d,g);}else if(Y(Se[he+1],39)&&Y(Se[Se.length-1],39)&&J==="double"&&oe===false){p(u,d,g);}else {ve=he+2;if(oe===false){if(J==="double"){if(d.token.slice(he+2,Le).indexOf('"')>-1)Me=true;Se[he+1]='"';Se[Se.length-1]='"';}else if(J==="single"){if(d.token.slice(he+2,Le).indexOf("'")>-1)Me=true;Se[he+1]="'";Se[Se.length-1]="'";}}if(Me===true||oe===true){oe=false;do{if(c(Se[ve-1],123)&&(c(Se[ve],37)||c(Se[ve],123))){oe=true;}else if(c(Se[ve],125)&&(c(Se[ve-1],37)||c(Se[ve-1],125))){oe=false;}if(oe===true){if(c(Se[ve],34)&&J==="double"){Se[ve]="'";}else if(c(Se[ve],39)&&J==="single"){Se[ve]='"';}}else {if(c(Se[ve],39)&&J==="double"){Se[ve]='"';}else if(c(Se[ve],34)&&J==="single"){Se[ve]="'";}}ve=ve+1;}while(ve<Le)}d.token=Se.join(g);p(u,d,g);}}}function Re(){if(!(!r&&!pe&&!Oe))return;if($===0){U=i.sortSafe(U,g,false);return}const oe=[];fe=0;ie=0;ae=U.length;do{ie=0;do{H=U[ie][0].split("=")[0];if(S.attributeSortList[fe]===H){oe.push(U[ie]);U.splice(ie,1);ae=ae-1;break}ie=ie+1;}while(ie<ae);fe=fe+1;}while(fe<$);U=i.sortSafe(U,g,false);U=oe.concat(U);ae=U.length;}function ye(){d.token=H+"={";d.types="jsx_attribute_start";p(u,d,"jsx_attribute");q.lexers.script(ge.slice(1,ge.length-1));d.begin=i.count;if(/\s\}$/.test(ge)){ge=ge.slice(0,ge.length-1);ge=De.exec(ge)[0];d.lines=ge.indexOf("\n")<0?1:ge.split("\n").length;}else {d.lines=0;}d.begin=i.scope.index;d.stack=i.scope.token;d.token="}";d.types="jsx_attribute_end";be();}function Te(){if(st(U[G][0])){d.types="attribute";d.token=U[G][0];}else if(Ve(U[G][0])){d.token=U[G][0];d.types="template_attribute_end";d.ender=d.begin;}else {if(Xe(U[G][0])){d.types="template_attribute_start";d.begin=i.count;d.token=U[G][0];}else if(dt(U[G][0])){d.types="template_attribute_else";d.token=U[G][0];}else {d.types="attribute";d.token=U[G][0];}}be();}if(U.length<1)return ne();if(c(U[U.length-1][0],47)){U.pop();O=O.replace(/>$/,"/>");}ie=U.length;fe=1;if(fe<ie){do{H=U[fe-1][0];if(c(H[H.length-1],61)&&U[fe][0].indexOf("=")<0){U[fe-1][0]=H+U[fe][0];U.splice(fe,1);ie=ie-1;fe=fe-1;}fe=fe+1;}while(fe<ie)}if(S.attributeSort)Re();d.begin=_;d.stack=P;d.types="attribute";if(G<ae){do{if(U[G]===void 0)break;d.lines=U[G][1];U[G][0]=U[G][0].replace(De,g);if(r===true&&/^\/[/*]/.test(U[G][0])){d.types="comment_attribute";d.token=U[G][0];be();G=G+1;continue}if(U[G][1]<=1&&st(U[G][0])){if(!gt(U[G][0])){d.types="attribute";d.token=U[G][0];be();G=G+1;continue}}ie=U[G][0].indexOf("=");fe=U[G][0].indexOf('"');te=U[G][0].indexOf("'");if(ie<0){d.types="attribute";if(c(U[G][0],35)||c(U[G][0],91)||c(U[G][0],123)||c(U[G][0],40)||r===true){d.token=U[G][0];}else {d.token=S.attributeCasing==="preserve"?U[G][0]:U[G][0].toLowerCase();}be();}else {H=U[G][0].slice(0,ie);ge=U[G][0].slice(ie+1);if(S.attributeCasing==="lowercase-name"){H=H.toLowerCase();U[G][0]=H+"="+ge;}else if(S.attributeCasing==="lowercase-value"){ge=ge.toLowerCase();U[G][0]=H+"="+ge;}else if(S.attributeCasing==="lowercase"){H=H.toLowerCase();ge=ge.toLowerCase();U[G][0]=H+"="+ge;}if(S.correct&&(Y(ge,60)||Y(ge,123)||Y(ge,61)||Y(ge,34)||Y(ge,39))){ge='"'+ge+'"';}if(r===true&&/^\s*{/.test(ge)){ye();d.types="attribute";d.begin=_;d.stack=P;}else if(Xe(ge)&&(S.valueForce==="always"||(S.valueForce==="intent"||S.valueForce==="wrap")&&a.wrap>0&&Math.abs(e-i.lineStart)>=a.wrap||ge.indexOf(ce)>0&&(S.valueForce==="newline"||S.valueForce==="intent"))&&(c(ge[0],34)||c(ge[0],39))){d.token=`${H}=${te>-1?"'":'"'}`;d.types="attribute";i.attributes.add(_);p(u,d,g);if(G+1===ae){s(ge.slice(1,-1));u.token[i.count]=`${u.token[i.count]}${te>-1?"'":'"'}>`;break}if(S.forceIndent===true){const oe=ge.lastIndexOf(ge[0]);if(c(ge[oe],34)||c(ge[oe],39)){s(ge.slice(1,oe));u.token[i.count]=`${u.token[i.count]}${te>-1?"'":'"'}`;}else {s(ge.slice(1));}}else {s(ge.slice(1));}d.types="attribute";d.stack=P;d.begin=_;}else {if(Ie(H,5)){Te();}else {d.types="attribute";d.token=U[G][0];be();}}}G=G+1;}while(G<ae)}k=false;return ne()}function N(){if(y==="---"){le="---";j="ignore";re=true;}else if(c(o[e],60)){if(c(o[e+1],47)){j="end";y=">";}else if(c(o[e+1],33)){if((c(o[e+2],100)||c(o[e+2],68))&&(c(o[e+3],111)||c(o[e+3],79))&&(c(o[e+4],99)||c(o[e+4],67))&&(c(o[e+5],116)||c(o[e+5],84))&&(c(o[e+6],121)||c(o[e+6],89))&&(c(o[e+7],112)||c(o[e+7],80))&&(c(o[e+8],101)||c(o[e+8],69))){y=">";j="doctype";re=true;}else if(c(o[e+2],45)&&c(o[e+3],45)){y="-->";j="comment";le="<!--";}else if(c(o[e+2],91)&&o[e+3].charCodeAt(0)===67&&o[e+4].charCodeAt(0)===68&&o[e+5].charCodeAt(0)===65&&o[e+6].charCodeAt(0)===84&&o[e+7].charCodeAt(0)===65&&c(o[e+8],91)){y="]]>";j="cdata";re=true;}}else if(o[e+1]==="?"){y="?>";if(o[e+2].charCodeAt(0)===120&&o[e+3].charCodeAt(0)===109&&o[e+4].charCodeAt(0)===109){j="xml";K=true;}else {re=true;j="template";}}else if((c(o[e+1],112)||c(o[e+1],80))&&(c(o[e+2],114)||c(o[e+2],82))&&(c(o[e+3],101)||c(o[e+3],69))&&(c(o[e+4],62)||me(o[e+4]))){y="</pre>";j="ignore";re=true;}else if(S.ignoreScripts===true&&o.slice(e+1,e+7).join(g).toLowerCase()==="script"){y="<\/script>";j="ignore";re=true;xe=true;}else if(S.ignoreStyles===true&&o.slice(e+1,e+6).join(g).toLowerCase()==="style"){y="</style>";j="ignore";re=true;xe=true;}else {K=true;y=">";}}else if(c(o[e],123)){if(r){k=true;ue=true;d.token="{";d.types="script_start";i.structure.push(["script",i.count]);p(u,d,g);return}if(c(o[e+1],123)){re=true;y="}}";j="template";}else if(c(o[e+1],37)){re=true;y="%}";j="template";const _=o.indexOf("}",e+2);if(c(o[_-1],37)){let P=o.slice(e+2,_-1).join(g);if(c(P,45)){le="{%-";P=P.slice(1).trimStart();}else {le="{%";P=P.trimStart();}if(c(P[P.length-1],45)){y="-%}";P=P.slice(0,P.length-1).trimEnd();}else {y="%}";P=P.trimEnd();}if(P==="comment"){const J=f.indexOf("{%",_);let G=J;if(o[J+1].charCodeAt(0)===45)G=J+1;G=f.indexOf("endcomment",G);if(G>0){G=o.indexOf("}",G);if(G>0&&o[G-1].charCodeAt(0)===37){j="comment";le=o.slice(e,_+1).join(g);y=o.slice(J,G+1).join(g);}}}else if(c(P,35)){j="template";y="%}";}}else {re=true;y="%}";j="template";}}else {re=true;y=o[e+1]+"}";j="template";}}if(S.preserveAttributes===true)re=true;if(ue)return C();v=y.charAt(y.length-1);if(j==="comment"&&(c(o[e],60)||c(o[e],123)&&c(o[e+1],37))){return M()}else if(e<R){return E()}else {return C()}}function M(){de=Ge({chars:o,end:R,lexer:"markup",begin:le,start:e,ender:y});O=de[0];e=de[1];if(O.replace(le,g).trimStart().startsWith("@prettify-ignore-start")){d.token=O;d.types="ignore";p(u,d,g);}else {if(c(O[0],123)&&c(O[1],37)){const _=O.indexOf("%}",2)+2;const P=O.lastIndexOf("{%");O=L(O.slice(0,_))+O.slice(_,P)+L(O.slice(P));}d.token=O;d.types="comment";}return C()}function E(){const _=[];let P=0;let J=0;let G=0;let ie=0;let fe=0;let te=0;let H=g;let ge=g;let ae=0;let be=false;let Re=false;let ye=false;let Te=false;let oe=[];function ve(Me){let Se;let he=g;if(Me===true){he=oe.join(g);Se=Pe(he);H=g;if(Se[0]==="data-prettify-ignore")xe=true;}else {he=oe.join(g);if(r===false||r&&Y.last(he,125))he=he.replace(/\s+/g,se);Se=Pe(he);if(Se[0]==="data-prettify-ignore")xe=true;if(r&&c(oe[0],123)&&c.last(oe,125))ae=0;}if(c(he[0],123)&&c(he[1],37))Oe=true;if(Me===false){if(Xe(he))n=n+1;if(Ve(he))n=n-1;}he=he.replace(/^\u0020/,g).replace(/\u0020$/,g);oe=he.replace(/\r\n/g,ce).split(ce);if(!oe.length)oe[0]=oe[0].replace(/\s+$/,g);he=a.crlf===true?L(oe.join("\r\n")):L(oe.join(ce));if(n>0||Ie(he,1)){if(Ie(he,5)===false){te=0;if(c(o[e+1],10)||c(o[e],10))te=2;if(c(o[e],32)&&Y(o[e+1],32))te=1;}else {if(c(o[e+1],10)){te=2;}else if(c(o[e+1],32)){te=1;}else if(te>=1){te=0;}}}else {if(c(o[e+1],10)){te=2;}else if(c(o[e+1],32)){te=1;}}if(U.length>0){const Le=U.length-1;if(c(he,61)||c(he,45)){U[Le][0]=U[Le][0]+he;U[Le][1]=te;he=g;}else if(te===0&&U[Le][1]===0){U[Le][0]=U[Le][0]+he;U[Le][1]=te;he=g;}else if(te>0&&U[Le][1]===0&&Ve(he)===true){U[Le][0]=U[Le][0]+he;U[Le][1]=te;he=g;}else if(te>0&&U[Le][1]===0&&Ie(U[Le][0],4)){U[Le][0]=U[Le][0]+he;he=g;}else if(U[Le][1]>0&&te===0&&ht(he)===false){te=U[Le][1];}else if(U[Le][1]>0&&te>0&&Ve(he)&&!Ie(he,6)){const ut=he.indexOf("{%");U.push([he.slice(0,ut),te]);he=he.slice(ut);}}if(he!==g&&he!==se)U.push([he,te]);if(U.length>0){const[Le]=U[U.length-1];if(Le.indexOf("=\u201C")>0){i.error=ee("Invalid quote character (\u201C, &#x201c) used.");}else if(Le.indexOf("=\u201D")>0){i.error=ee("Invalid quote character (\u201D, &#x201d) used.");}}oe=[];te=c(o[e],10)?2:1;}do{if(c(o[e],10)){te=te+1;i.lineNumber=i.lineNumber+1;}if(le==="---"&&y==="---"&&j==="ignore"){_.push(o[e]);if(e>3&&c(o[e],45)&&c(o[e-1],45)&&c(o[e-2],45))break;e=e+1;continue}if(re===true||(me(o[e])===false&&Y(H,125)||c(H,125))){if(be===false&&c(o[e-1],123)&&(c(o[e],123)||c(o[e],37))){be=true;}else if(be===true&&c(o[e],125)&&(c(o[e-1],125)||c(o[e-1],37))){be=false;}_.push(o[e]);if(c(_[0],60)&&c(_[1],62)&&c(y,62)){d.token="<>";d.types="start";p(u,d,"(empty)");return}if(c(_[0],60)&&c(_[1],47)&&c(_[2],62)&&c(y,62)){d.token="</>";d.types="end";p(u,d,g);return}}if(j==="cdata"&&c(o[e],62)&&c(o[e-1],93)&&Y(o[e-2],93)){i.error=ee(`CDATA tag (${_.join(g)}) not properly terminated with "]]>`);break}if(j==="comment"){H=g;if(o[e]===v&&_.length>y.length+1){J=_.length;P=y.length-1;if(P>-1){do{J=J-1;if(Y(_[J],y.charCodeAt(P)))break;P=P-1;}while(P>-1)}if(P<0)break}}else {if(H===g){if(c(_[0],60)&&c(_[1],33)&&j!=="cdata"){if(j==="doctype"&&c(o[e],62))break;if(c(o[e],91)){if(c(o[e+1],60)){j="start";break}if(me(o[e+1])){do{e=e+1;if(c(o[e],10))te=te+1;}while(e<R-1&&me(o[e+1]))}if(c(o[e+1],60)){j="start";break}}}if(r){if(c(o[e],123)){ae=ae+1;}else if(c(o[e],125)){ae=ae-1;}}if(c(o[e],60)&&K===true&&re===false&&_.length>1&&/>{2,3}/.test(y)===false){i.error=ee(`Invalid structure detected ${o.slice(e,e+8).join(g)}`);break}if(me(o[e])===false&&Re===true&&o[e]!==v){Re=false;Q=0;H=ge;_.pop();if(e<R){do{if(c(o[e],10))i.lineNumber=i.lineNumber+1;if(S.preserveAttributes===true){_.push(o[e]);}else {oe.push(o[e]);}if(Y(H,34)||Y(H,39)){if(c(o[e-1],123)&&(c(o[e],37)||c(o[e],123))){be=true;}else if((c(o[e-1],125)||c(o[e-1],37))&&c(o[e],125)){be=false;}}if(r===false&&ye===false&&be===true&&S.preserveAttributes===false){const Me=c(oe[0],61);do{e=e+1;if(c(o[e],10)){if(Me){be=false;H=g;ve(false);break}}oe.push(o[e]);if(Me&&c(o[e+1],62)){be=false;H=g;U[U.length-1][0]+=oe.join(g);oe=[];break}if(Me===false&&c(o[e],125)&&(c(o[e-1],125)||c(o[e-1],37))){be=false;H=g;ve(false);break}}while(e<R)}if(r===false&&(c(o[e],60)||c(o[e],62))&&(H===g||c(H,62))){if(H===g&&c(o[e],60)){H=">";G=1;}else if(c(H,62)){if(c(o[e],60)){G=G+1;}else if(c(o[e],62)){G=G-1;if(G===0){H=g;Q=0;ve(false);break}}}}else if(H===g){if(o[e+1]===v){if(c.last(oe,47)||c.last(oe,63)&&j==="xml"){oe.pop();if(re===true)_.pop();e=e-1;}if(oe.length>0)ve(false);break}if(r===false&&c(o[e],123)&&c(o[e-1],61)){H="}";}else if(c(o[e],34)||c(o[e],39)){H=o[e];if(ye===false&&be===false)ye=true;if(c(o[e-1],61)&&(c(o[e+1],60)||c(o[e+1],123)&&c(o[e+2],37)||me(o[e+1])&&Y(o[e-1],61))){Q=e;}}else if(c(o[e],40)){H=")";fe=1;}else if(r){if((c(o[e-1],61)||me(o[e-1]))&&c(o[e],123)){H="}";ie=1;}else if(c(o[e],47)){if(c(o[e+1],42)){H="*/";}else if(o[e+1]==="/"){H="\n";}}}else if(c(_[0],123)&&c(o[e],123)&&(c(o[e+1],123)||c(o[e+1],37))){H=c(o[e+1],123)?"}}":o[e+1]+"}";}if(me(o[e])&&H===g){if(c(oe[oe.length-2],61)){P=e+1;if(P<R){do{if(me(o[P])===false){if(c(o[P],34)||c(o[P],39)){e=P-1;Te=true;oe.pop();}break}P=P+1;}while(P<R)}}if(Te===true){Te=false;}else if(ae===0||ae===1&&c(oe[0],123)){oe.pop();if(oe.length>0)ve(false);Re=true;break}}}else if(c(o[e],40)&&c(H,41)){fe=fe+1;}else if(c(o[e],41)&&c(H,41)){fe=fe-1;if(fe===0){H=g;if(c(o[e+1],y.charCodeAt(0))){ve(false);break}}}else if(r&&(c(H,125)||c(H,10)&&c(o[e],10)||H==="*/"&&c(o[e-1],42)&&c(o[e],47))){if(c(o[e],96)){e=e+1;do{oe.push(o[e]);if(c(o[e],96))break;e=e+1;}while(e<o.length)}if(c(H,125)){if(c(o[e],125)&&o[e]!==H){ie=ie+1;}else if(o[e]===H){ie=ie-1;if(ie===0){ae=0;H=g;O=oe.join(g);if(S.preserveAttributes===false){if(r){if(!/^\s*$/.test(O))U.push([O,te]);}else {O=O.replace(/\s+/g,se);if(O!==se)U.push([O,te]);}}oe=[];te=1;break}}}else {ge=g;pe=true;O=oe.join(g);if(O!==se)U.push([O,te]);oe=[];te=c(H,10)?2:1;H=g;break}}else if(c(o[e],123)&&c(o[e+1],37)&&c(o[Q-1],61)&&(c(H,34)||c(H,39))){H=H+"{%";Q=0;}else if(c(o[e-1],37)&&c(o[e],125)&&(H==='"{%'||H==="'{%")){H=H[0];Q=0;}else if(c(o[e],60)&&c(y,62)&&c(o[Q-1],61)&&(c(H,34)||c(H,39))){H=H+"<";Q=0;}else if(c(o[e],62)&&(H==='"<'||H==="'<")){H=H.charAt(0);Q=0;}else if(Q===0&&Y(H,62)&&(H.length<2||Y(H,34)&&Y(H,39))){J=0;P=H.length-1;if(P>-1){do{if(Y(o[e-J],H.charCodeAt(P)))break;J=J+1;P=P-1;}while(P>-1)}if(P<0&&be===false&&ye===true){ye=false;ve(true);if(o[e+1]===v)break}}else if(Q>0&&me(o[e])===false){Q=0;}e=e+1;}while(e<R)}}else if(c(y,10)===false&&(c(o[e],34)||c(o[e],39))){H=o[e];}else if(j!=="comment"&&Y(y,10)&&c(o[e],60)&&c(o[e+1],33)&&c(o[e+2],45)&&c(o[e+3],45)&&u.types[i.count]!=="conditional"){H="-->";}else if(c(o[e],123)&&Y(_[0],123)&&Y(y,10)&&(c(o[e+1],123)||c(o[e+1],37))){if(c(o[e+1],123)){H="}}";}else {H=o[e+1]+"}";if(oe.length<1&&(U.length<1||me(o[e-1]))){_.pop();do{if(c(o[e],10))te=te+1;oe.push(o[e]);e=e+1;}while(e<R&&o[e-1]+o[e]!==H);oe.push("}");U.push([oe.join(g),te]);oe=[];te=1;H=g;}}if(H===y)H=g;}else if(K&&Y(y,10)&&me(o[e])&&Y(o[e-1],60)){Re=true;}else if(K&&r&&c(o[e],47)&&(c(o[e+1],42)||c(o[e+1],47))){Re=true;_[_.length-1]=se;ge=c(o[e+1],42)?"*/":ce;oe.push(o[e]);}else if(be===false&&(o[e]===v||c(y,10)&&c(o[e+1],60))&&(_.length>y.length+1||c(_[0],93))&&(r===false||ae===0)){if(c(y,10)){if(me(_[_.length-1])){do{_.pop();e=e-1;}while(me(_[_.length-1]))}break}J=_.length;P=y.length-1;if(P>-1){do{J=J-1;if(_[J]!==y.charAt(P))break;P=P-1;}while(P>-1)}if(P<0){if(c(_[J],62)&&c(o[e],62)&&U.length>0){if(U[U.length-1][1]===0&&c(o[e-1],125)&&me(o[e+1])){U[U.length-1][1]=c(o[e+1],32)?1:2;}}break}}}else if(c(o[e],H.charCodeAt(H.length-1))&&(r&&c(y,125)&&(Y(o[e-1],92)||w(e)===false)||(r===false||Y(y,125)))){J=0;P=H.length-1;if(P>-1){do{if(o[e-J]!==H.charAt(P))break;J=J+1;P=P-1;}while(P>-1)}if(P<0)H=g;}}e=e+1;}while(e<R);Q=0;O=_.join(g);I=Ne(O);O=L(O);d.token=O;d.types=j;if(re===false&&r===false)O=O.replace(/\s+/g,se);return C()}function ne(){if(a.wrap>0&&r===true){let _=0;let P=i.count;let J=0;if(u.types[P].indexOf("attribute")>-1){do{_=_+u.token[P].length+1;P=P-1;}while(u.lexer[P]!=="markup"||u.types[P].indexOf("attribute")>-1);if(u.lines[P]===1)_=_+u.token[P].length+1;}else if(u.lines[P]===1){_=u.token[P].length+1;}J=P-1;if(_>0&&u.types[J]!=="script_end"){if(u.types[J].indexOf("attribute")>-1){do{_=_+u.token[J].length+1;J=J-1;}while(u.lexer[J]!=="markup"||u.types[J].indexOf("attribute")>-1);if(u.lines[J]===1)_=_+u.token[J].length+1;}else if(u.lines[J]===1){_=u.token[J].length+1;}}}i.linesSpace=0;}return N()}function z(){const y=e;const d=r===true&&c(u.token[i.count],123);let O=[];let v=g;let j=i.linesSpace;let I=g;if(k===true){if(d===true){I="script";}else if(i.scope.index>-1){I=Ne(u.token[i.scope.index]);}else if(u.begin[i.count]>1){I=Ne(u.token[u.begin[i.count]]);}else {I=Ne(u.token[u.begin[i.count]]);}}const le=u.types[i.count]==="template_start"&&u.token[i.count].indexOf("<!")===0&&u.token[i.count].indexOf("<![")<0&&u.token[i.count].charCodeAt(u.token[i.count].length-1)===91;const V={begin:i.scope.index,ender:-1,lexer:"markup",lines:j,stack:Ne(i.scope.token),token:g,types:"content"};function ue(){let Q=e-1;let pe=0;if(Y(o[e-1],92))return false;if(Q>-1){do{if(Y(o[Q],92))break;pe=pe+1;Q=Q-1;}while(Q>-1)}return pe%2===1}if(e<R){let Q=g;let pe=g;let Oe=g;let re=0;do{if(c(o[e],10))i.lineNumber=i.lineNumber+1;if(k===true){if(pe===g){if(c(o[e],47)){if(c(o[e+1],42)){pe="*";}else if(c(o[e+1],47)){pe="/";}else if(I==="script"&&"([{!=,;.?:&<>".indexOf(o[e-1])>-1){if(r===false||Y(o[e-1],60))pe="reg";}}else if((c(o[e],34)||c(o[e],39)||c(o[e],96))&&ue()===false){pe=o[e];}else if(c(o[e],123)&&d===true){re=re+1;}else if(c(o[e],125)&&d===true){if(re===0){Oe=O.join(g).replace(He,g).replace(De,g);q.lexers.script(Oe);i.scope.index+=1;if(u.types[i.count]==="end"&&u.lexer[u.begin[i.count]-1]==="script"){V.lexer="script";V.token=S.correct===true?";":"x;";V.types="separator";p(u,V,g);V.lexer="markup";}V.token="}";V.types="script_end";p(u,V,g);i.structure.pop();break}re=re-1;}if(Ie(u.token[i.count],3)===false){Q=o.slice(e,e+10).join(g).toLowerCase();if(I==="script"){Q=e===R-9?Q.slice(0,Q.length-1):Q.slice(0,Q.length-2);if(Q==="<\/script"){Oe=O.join(g).replace(He,g).replace(De,g);e=e-1;if(O.length<1)break;if(/^<!--+/.test(Oe)&&/--+>$/.test(Oe)){V.token="<!--";V.types="comment";p(u,V,g);Oe=Oe.replace(/^<!--+/,g).replace(/--+>$/,g);q.lexers.script(Oe);V.token="-->";p(u,V,g);}else {a.language=W;q.lexers.script(Oe);if(W==="json"&&a.json.objectSort||W!=="json"&&a.script.objectSort){i.sortCorrect(0,i.count+1);}a.language="html";}break}}if(I==="style"){if(e===R-8){Q=Q.slice(0,Q.length-1);}else if(e===R-9){Q=Q.slice(0,Q.length-2);}else {Q=Q.slice(0,Q.length-3);}if(Q==="</style"){let K=O.join(g).replace(He,g).replace(De,g);e=e-1;if(O.length<1)break;if(/^<!--+/.test(K)&&/--+>$/.test(K)){V.token="<!--";V.types="comment";p(u,V,g);K=K.replace(/^<!--+/,g).replace(/--+>$/,g);q.lexers.style(K);V.token="-->";p(u,V,g);}else {a.language=W;q.lexers.style(K);if(a.style.sortProperties===true)i.sortCorrect(0,i.count+1);a.language="html";}break}}}else {const K=ke.embed("liquid",I);if(K!==false){const U=o.slice(e).join(g);const de=U.search(new RegExp(`{%-?\\s*end${I}`));O=O.length>0?O.concat(O,o.slice(e,e+de)):o.slice(e,e+de);e=e+de;Q=o.slice(e).join(g).toLowerCase();if(K.end(Q)){Q=Q.slice(0,Q.indexOf("%}")+2);Oe=O.join(g).replace(He,g).replace(De,g);e=e+(Q.length-1);if(O.length<1)break;i.lexer(Oe,K.language);V.token=Q;V.types="template_end";p(u,V,g);}break}}}else if(pe===o[e]&&ue()===false&&(c(pe,34)||c(pe,39)||c(pe,96)||c(pe,42)&&c(o[e+1],47))){pe=g;}else if(c(pe,96)&&c(o[e],36)&&c(o[e+1],123)&&ue()===false){pe="}";}else if(c(pe,125)&&c(o[e],125)&&ue()===false){pe="`";}else if(c(pe,47)&&(c(o[e],10)||c(o[e],13))){pe=g;}else if(pe==="reg"&&c(o[e],47)&&ue()===false){pe=g;}else if(c(pe,47)&&c(o[e],60)&&c(o[e-1],45)&&c(o[e-2],45)){Q=o.slice(e+1,e+11).join(g).toLowerCase();Q=Q.slice(0,Q.length-2);if(I==="script"&&Q==="<\/script")pe=g;Q=Q.slice(0,Q.length-1);if(I==="style"&&Q==="</style")pe=g;}}if(le===true&&c(o[e],93)){e=e-1;j=0;v=O.join(g);v=v.replace(De,g);V.token=v;p(u,V,g);break}if(k===false&&O.length>0&&(c(o[e],60)&&Y(o[e+1],61)&&!/[\s\d]/.test(o[e+1])||c(o[e],91)&&c(o[e+1],37)||c(o[e],123)&&(r===true||c(o[e+1],123)||c(o[e+1],37)))){e=e-1;if(i.scope.token==="comment"){v=O.join(g);}else {v=O.join(g).replace(De,g);}j=0;V.token=v;if(a.wrap>0&&S.preserveText===false){let _e=function(){if(c(v[de],32)){U.push(v.slice(0,de));v=v.slice(de+1);Pe=v.length;de=K;return}do de=de-1;while(de>0&&Y(v[de],32));if(de>0){U.push(v.slice(0,de));v=v.slice(de+1);Pe=v.length;de=K;}else {de=K;do de=de+1;while(de<Pe&&Y(v[de],32));U.push(v.slice(0,de));v=v.slice(de+1);Pe=v.length;de=K;}};const{wrap:K}=a;const U=[];let de=K;let Pe=v.length;if(u.token[u.begin[i.count]]==="<a>"&&u.token[u.begin[u.begin[i.count]]]==="<li>"&&u.lines[u.begin[i.count]]===0&&i.linesSpace===0&&v.length<a.wrap){p(u,V,g);break}if(Pe<K){p(u,V,g);break}if(i.linesSpace<1&&i.count>-1){let We=i.count;do{de=de-u.token[We].length;if(u.types[We].indexOf("attribute")>-1)de=de-1;if(u.lines[We]>0&&u.types[We].indexOf("attribute")<0)break;We=We-1;}while(We>0&&de>0);if(de<1)de=v.indexOf(se);}v=O.join(g).replace(He,g).replace(De,g).replace(/\s+/g,se);do _e();while(de<Pe);if(v!==g&&Y(v,32))U.push(v);v=a.crlf===true?U.join("\r\n"):U.join("\n");v=g+v+g;}else {const K=v.indexOf(ce);if(K>-1){V.token=v.slice(0,K);p(u,V,g);v=v.slice(K);const U=v.match(/^\n+/);if(U===null){V.lines=1;}else {V.lines=2;v=v.replace(He,g);}}}j=0;V.token=v;p(u,V,g);break}O.push(o[e]);e=e+1;}while(e<R)}if(e>y&&e<R){if(me(o[e])){let Q=e;i.linesSpace=1;do{if(c(o[Q],10))i.linesSpace=i.linesSpace+1;Q=Q-1;}while(Q>y&&me(o[Q]))}else {i.linesSpace=0;}}else if(e!==y||e===y&&k===false){v=O.join(g).replace(De,g);j=0;if(V.token!==v){V.token=v;p(u,V,g);i.linesSpace=0;}}k=false;}function b(){i.linesSpace=1;do{if(c(o[e],10)){i.lineStart=e;i.linesSpace=i.linesSpace+1;i.lineNumber=i.lineNumber+1;}if(me(o[e+1])===false)break;e=e+1;}while(e<R)}if(a.language==="html"||a.language==="liquid");do{if(me(o[e])){b();}else if(k){z();}else if(c(o[e],60)){m(g);}else if(c(o[e],123)&&(r||c(o[e+1],123)||c(o[e+1],37))){m(g);}else if(c(o[e],45)&&c(o[e+1],45)&&c(o[e+2],45)){m("---");}else if(i.error){F();return u}else {z();}e=e+1;}while(e<R);if(B.end!==B.start&&i.error===g){if(B.end>B.start){const y=B.end-B.start;const d=y===1?g:"s";i.error=`Prettify Error (line ${B.line}):
${y} more end type${d} than start type${d}`;}else {const y=B.start-B.end;const d=y===1?g:"s";i.error=`Prettify Error (line ${B.line}):
${y} more start type${d} than end type${d}`;}}return u};q.beautify.markup=function(s){const f={};const a="markup";const u=i.data;const r=s.language==="jsx"||s.language==="tsx";const t=s.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const S=s.markup;const $=S.forceAttribute;const B=q.end<1||q.end>u.token.length?u.token.length:q.end+1;const o={is:(w,p)=>u.types[w]===p,not:(w,p)=>u.types[w]!==p,idx:(w,p)=>w>-1&&(u.types[w]||g).indexOf(p)};const R={is:(w,p)=>u.token[w]===p,not:(w,p)=>u.token[w]!==p};let e=q.start;let k=-1;let W=0;let X=0;let n=isNaN(s.indentLevel)?0:Number(s.indentLevel);const L=function(){const w=q.start>0?Array(q.start).fill(0,0,q.start):[];function p(){let y=e+1;let d=0;if(o.is(y,void 0))return y-1;if(o.is(y,"comment")||e<B-1&&o.idx(y,"attribute")>-1){do{if(o.is(y,"jsx_attribute_start")){d=y;do{if(o.is(y,"jsx_attribute_end")&&u.begin[y]===d)break;y=y+1;}while(y<B)}else if(o.not(y,"comment")&&o.idx(y,"attribute")<0)return y;y=y+1;}while(y<B)}return y}function Z(){const y=u.begin[e];let d=e;do{d=d-1;if(R.is(d,"</li>")&&R.is(d-1,"</a>")&&u.begin[u.begin[d]]===y&&u.begin[d-1]===u.begin[d]+1){d=u.begin[d];}else {return}}while(d>y+1);d=e;do{d=d-1;if(o.is(d+1,"attribute")){w[d]=-10;}else if(R.not(d,"</li>")){w[d]=-20;}}while(d>y+1)}function ee(){let y=e;let d=false;if(u.lines[e+1]===0&&S.forceIndent===false){do{if(u.lines[y]>0){d=true;break}y=y-1;}while(y>k);y=e;}else {d=true;}if(d===true){if(o.is(u.begin[y]-1,"template")){w[u.begin[y]-1]=n;}const O=o.is(W,"end")||o.is(W,"template_end")?n+1:n;do{w.push(O);y=y-1;}while(y>k);if(O===n+1)w[e]=n;if(o.is(y,"attribute")||o.is(y,"template_attribute")||o.is(y,"jsx_attribute_start")){w[u.begin[y]]=O;}else {w[y]=O;}}else {do{w.push(-20);y=y-1;}while(y>k);w[y]=-20;}k=-1;}function h(){let y=n;if(S.forceIndent===true||S.forceAttribute===true){w.push(n);return}if(W<B&&(o.idx(W,"end")>-1||o.idx(W,"start")>-1)&&u.lines[W]>0){w.push(n);y=y+1;if(e>0&&o.is(e,"singleton")&&o.idx(e-1,"attribute")>-1&&o.is(u.begin[e-1],"singleton")){if(u.begin[e]<0||o.is(u.begin[e-1],"singleton")&&u.begin[u.ender[e]-1]!==e){w[e-1]=n;}else {w[e-1]=n+1;}}}else if(e>0&&o.is(e,"singleton")&&o.idx(e-1,"attribute")>-1){w[e-1]=n;X=u.token[e].length;w.push(-10);}else if(u.lines[W]===0){w.push(-20);}else if((s.wrap===0||e<B-2&&u.token[e]!==void 0&&u.token[e+1]!==void 0&&u.token[e+2]!==void 0&&u.token[e].length+u.token[e+1].length+u.token[e+2].length+1>s.wrap&&o.idx(e+2,"attribute")>-1||u.token[e]!==void 0&&u.token[e+1]!==void 0&&u.token[e].length+u.token[e+1].length>s.wrap)&&(o.is(e+1,"singleton")||o.is(e+1,"template"))){w.push(n);}else {X=X+1;w.push(-10);}if(e>0&&o.idx(e-1,"attribute")>-1&&u.lines[e]<1){w[e-1]=-20;}if(X>s.wrap){let d=e;let O=Math.max(u.begin[e],0);if(o.is(e,"content")&&S.preserveText===false){let v=0;const j=u.token[e].replace(/\s+/g,se).split(se);do{d=d-1;if(w[d]<0){v=v+u.token[d].length;if(w[d]===-10)v=v+1;}else {break}}while(d>0);d=0;O=j.length;do{if(j[d].length+v>s.wrap){j[d]=t+j[d];v=j[d].length;}else {j[d]=` ${j[d]}`;v=v+j[d].length;}d=d+1;}while(d<O);if(c(j[0],32)){u.token[e]=j.join(g).slice(1);}else {w[e-1]=y;u.token[e]=j.join(g).replace(t,g);}if(u.token[e].indexOf(t)>0){X=u.token[e].length-u.token[e].lastIndexOf(t);}}else {do{d=d-1;if(w[d]>-1){X=u.token[e].length;if(u.lines[e+1]>0)X=X+1;return}if(o.idx(d,"start")>-1){X=0;return}if(u.lines[d+1]>0&&(o.not(d,"attribute")||o.is(d,"attribute")&&o.is(d+1,"attribute"))){if(o.not(d,"singleton")||o.is(d,"attribute")&&o.is(d+1,"attribute")){X=u.token[e].length;if(u.lines[e+1]>0)X=X+1;break}}}while(d>O);w[d]=y;}}}function F(){const y=e;if(u.types[y-1]==="script_start"&&c(u.token[y-1],123)){w[y-1]=-20;}do{if(u.lexer[e+1]===a&&u.begin[e+1]<y&&o.not(e+1,"start")&&o.not(e+1,"singleton"))break;w.push(0);e=e+1;}while(e<B);f[y]=e;if(u.types[e+1]==="script_end"&&u.token[e+1]==="}"){w.push(-20);}else {w.push(n-1);}W=p();if(u.lexer[W]===a&&u.stack[e].indexOf("attribute")<0&&(u.types[W]==="end"||u.types[W]==="template_end")){n=n-1;}}function m(){function y(ue){const xe=u.token[ue].replace(/\s+/g,se).split(se);const Q=xe.length;let pe=1;let Oe=xe[0].length;do{if(Oe+xe[pe].length>s.wrap){Oe=xe[pe].length;xe[pe]=t+xe[pe];}else {xe[pe]=` ${xe[pe]}`;Oe=Oe+xe[pe].length;}pe=pe+1;}while(pe<Q);u.token[ue]=xe.join(g);}let d=e;const O=e-1;let v=false;let j=false;let I=u.types.indexOf("end",O+1);let le=u.token[O].length+1;let V=(()=>{if(o.idx(e,"start")>0){let ue=e;do{if(o.is(ue,"end")&&u.begin[ue]===e){if(ue<B-1&&o.idx(ue+1,"attribute")>-1){v=true;break}}ue=ue+1;}while(ue<B)}else if(e<B-1&&o.idx(e+1,"attribute")>-1){v=true;}if(o.is(W,"end")||o.is(W,"template_end")){return n+(o.is(O,"singleton")?2:1)}if(o.is(O,"singleton"))return n+1;return n})();if(v===false&&o.is(e,"comment_attribute")){w.push(n);w[O]=u.types[O]==="singleton"?n+1:n;return}if(V<1)V=1;I=0;do I=I+1;while(o.idx(e+I,"attribute")>-1&&(o.not(e+I,"end")||o.not(e+I,"singleton")||o.not(e+I,"start")||o.not(e+I,"comment")));do{X=X+u.token[e].length+1;if(u.types[e].indexOf("attribute")>0){if(o.is(e,"comment_attribute")){w.push(V);}else if(o.idx(e,"start")>0&&o.idx(e,"template")<0){j=true;if(e<B-2&&u.types[e+2].indexOf("attribute")>0){w.push(-20);e=e+1;f[e]=e;}else {if(O===e-1&&v===false){if(r){w.push(-20);}else {w.push(V);}}else {if(r){w.push(-20);}else {w.push(V+1);}}if(u.lexer[e+1]!==a){e=e+1;F();}}}else if(o.idx(e,"end")>0){if(w[e-1]!==-20)w[e-1]=w[u.begin[e]]-1;if(u.lexer[e+1]!==a){w.push(-20);}else {w.push(V);}}else {w.push(V);}}else if(o.is(e,"attribute")){le=le+u.token[e].length+1;if(S.preserveAttributes===true){w.push(-10);}else if(S.forceAttribute===true||S.forceAttribute>=1||j===true||e<B-1&&o.idx(e+1,"attribute")>0){if(S.forceAttribute===false&&u.lines[e]===1){w.push(-10);}else {if(S.forceAttribute===true){w.push(V);}else {w.push(-10);}}}else {w.push(-10);}}else if(u.begin[e]<O+1){break}e=e+1;}while(e<B);e=e-1;if(o.idx(e,"template")<0&&o.idx(e,"end")>0&&o.idx(e,"attribute")>0&&o.not(O,"singleton")&&w[e-1]>0&&v===true){w[e-1]=w[e-1]-1;}if(w[e]!==-20){if(r===true&&o.idx(O,"start")>-1&&o.is(e+1,"script_start")){w[e]=V;}else {if(R.is(e,"/")&&w[e-1]!==10){w[e-1]=-10;}else {w[e]=w[O];}}}if(S.forceAttribute===true){X=0;w[O]=V;}else if(S.forceAttribute>=1){if(I>=S.forceAttribute){w[O]=V;let ue=e-1;do{if(o.is(ue,"template")&&w[ue]===-10){w[ue]=V;}else if(o.is(ue,"attribute")&&w[ue]===-10){w[ue]=V;}ue=ue-1;}while(ue>O)}else {w[O]=-10;}}else {w[O]=-10;}if(S.preserveAttributes===true||R.is(O,"<%xml%>")||R.is(O,"<?xml?>")){X=0;return}d=e;if(d>O+1){if(S.selfCloseSpace===false)le=le-1;if(le>s.wrap&&s.wrap>0&&S.forceAttribute===false){if(S.forceLeadAttribute===true){w[O]=V;d=d-1;}X=u.token[e].length;do{if(u.token[d].length>s.wrap&&me(u.token[d]))y(d);if(o.idx(d,"template")>-1&&w[d]===-10){w[d]=V;}else if(o.is(d,"attribute")&&w[d]===-10){w[d]=V;}d=d-1;}while(d>O)}}else if(s.wrap>0&&o.is(e,"attribute")&&u.token[e].length>s.wrap&&me(u.token[e])){y(e);}}function z(){const y=u.token[e].split(ce);const d=c(u.token[e][2],45);let O=0;let v=0;let j=0;let I=g;let le=g;if(w.length>=2){O=w[w.length-2]+1;}else if(w.length===1){O=w[w.length-1]+1;}let V=d?$e(O*s.indentSize):$e(O*s.indentSize-1);do{if(v===0){I=y[v].trimEnd();if(I.endsWith(",")){le=","+se;y[v]=I.slice(0,-1);}else if(I.endsWith("|")){le="|"+se;y[v]=I.slice(0,-1);}else if(/^{[{%]-?$/.test(I)){y[v]=I;v=v+1;do{I=y[v].trim();if(I.length>0)break;y.splice(v,1);if(v>y.length)break}while(v<y.length);const ue=y[y.length-1].trim();if(/^-?[%}]}$/.test(ue)){j=1;if(d){y[v]=V+I;y[y.length-1]=V.slice(2)+ue;V=V.slice(2)+$e(s.indentSize);}else {y[v]=V+$e(s.indentSize)+I;y[y.length-1]=V.slice(1)+ue;V=V+$e(s.indentSize);}}else {y[v]=V+$e(s.indentSize)+I;}}else if(I.endsWith(",")===false&&c(y[v+1].trimStart(),44)&&S.lineBreakSeparator==="after"){y[v]=I+",";}v=v+1;continue}I=y[v].trim();if(c(I,44)&&S.lineBreakSeparator==="after"){if(I.endsWith("%}")){I=se+I.slice(1);}else {I=se+I.slice(1)+",";}}if(I.length===0){y.splice(v,1);continue}if(v===y.length-1&&j===1)break;if(I.endsWith(",")&&S.lineBreakSeparator==="before"){y[v]=V+le+I.slice(0,-1);le=","+se;}else if(I.endsWith("|")){y[v]=V+le+I.slice(0,-1);le=V+"|"+se;}else {y[v]=V+le+I;le=g;}v=v+1;}while(v<y.length);if(S.normalizeSpacing===true){u.token[e]=y.join(ce).replace(/\s*-?[%}]}$/,ue=>ue.replace(/\s*/,se));}else {const ue=$e(u.lines[e]-1===-1?s.indentSize:u.lines[e]-1);u.token[e]=y.join(ce).replace(/\s*-?[%}]}$/,xe=>xe.replace(Ee,ue));}}function b(y){return o.is(y,"template")&&u.token[y].indexOf(t)>0&&/{%-?\s*\bliquid/.test(u.token[y])===false}do{if(u.lexer[e]===a){if(o.is(e,"doctype"))w[e-1]=n;if(o.idx(e,"attribute")>-1){if(i.attributes.has(u.begin[e])&&$!==true){S.forceAttribute=true;}else if($!==S.forceAttribute){S.forceAttribute=$;}m();}else if(o.is(e,"comment")){if(k<0)k=e;if(o.not(e+1,"comment")||e>0&&o.idx(e-1,"end")>-1){ee();}}else if(o.not(e,"comment")){W=p();if(o.is(W,"end")||o.is(W,"template_end")){if(i.attributes.has(u.begin[e])||u.types[u.begin[e-1]]==="singleton"&&u.types[e-1]==="attribute");n=n-1;if(o.is(W,"template_end")&&o.is(u.begin[W]+1,"template_else")){n=n-1;}if(R.is(e,"</ol>")||R.is(e,"</ul>")||R.is(e,"</dl>"))Z();}if(o.is(e,"script_end")&&o.is(W,"end")){if(u.lines[W]<1){w.push(-20);}else if(u.lines[W]>1){w.push(n);}else {w.push(-10);}}else if((S.forceIndent===false||S.forceIndent===true&&o.is(W,"script_start"))&&(o.is(e,"content")||o.is(e,"singleton")||o.is(e,"template"))){X=X+u.token[e].length;if(u.lines[W]>0&&o.is(W,"script_start")){w.push(-10);}else if(s.wrap>0&&(o.idx(e,"template")<0||W<B&&o.idx(e,"template")>-1&&o.idx(W,"template")<0)){h();}else if(W<B&&(o.idx(W,"end")>-1||o.idx(W,"start")>-1)&&(u.lines[W]>0||o.idx(e,"template_")>-1)){w.push(n);if(b(e))z();}else if(u.lines[W]===0){w.push(-20);if(b(e))z();}else if(u.lines[W]===1){w.push(-10);}else {w.push(n);if(b(e))z();}}else if(o.is(e,"start")||o.is(e,"template_start")){n=n+1;if(o.is(e,"template_start")&&o.is(W,"template_else")){n=n+1;}if(r===true&&R.is(e+1,"{")){if(u.lines[W]===0){w.push(-20);}else if(u.lines[W]>1){w.push(n);}else {w.push(-10);}}else if(o.is(e,"start")&&o.is(W,"end")||o.is(e,"template_start")&&o.is(W,"template_end")){w.push(-20);}else if(o.is(e,"start")&&o.is(W,"script_start")){w.push(-10);}else if(S.forceIndent===true){w.push(n);}else if(u.lines[W]===0&&(o.is(W,"content")||o.is(W,"singleton")||o.is(e,"start")&&o.is(W,"template"))){w.push(-20);}else {w.push(n);}}else if(S.forceIndent===false&&u.lines[W]===0&&(o.is(W,"content")||o.is(W,"singleton"))){w.push(-20);}else if(o.is(e+2,"script_end")){w.push(-20);}else if(o.is(e,"template_else")){w[e-1]=n-1;if(o.is(W,"template_end")){w[e-1]=n-1;}w.push(n);}else if(S.forceIndent===true&&(o.is(e,"content")&&(o.is(W,"template")||o.is(W,"content"))||o.is(e,"template")&&(o.is(W,"content")||o.is(W,"template")))){if(u.lines[W]<1){w.push(-20);}else if(u.lines[W]>1){w.push(n);}else {w.push(-10);}}else {w.push(n);}}if(o.not(e,"content")&&o.not(e,"singleton")&&o.not(e,"template")&&o.not(e,"attribute")){X=0;}}else {X=0;F();}e=e+1;}while(e<B);return w}();return function(){const w=[];const p=function(){const m=[s.indentChar];const z=s.indentSize-1;let b=0;if(b<z){do{m.push(s.indentChar);b=b+1;}while(b<z)}return m.join(g)}();function Z(m){const z=[];const b=s.preserveLine+1;const y=Math.min(u.lines[e+1]-1,b);let d=0;if(m<0)m=0;do{z.push(t);d=d+1;}while(d<y);if(m>0){d=0;do{z.push(p);d=d+1;}while(d<m)}return z.join(g)}function ee(){let m=u.token[e].split(t);const z=u.lines[e+1];if(o.is(e,"comment")&&s.preserveComment===false){m=m.map(O=>O.trimStart());}const b=L[e-1]>-1?o.is(e,"attribute")?L[e-1]+1:L[e-1]:(()=>{let O=e-1;let v=O>-1&&o.idx(O,"start")>-1;if(L[e]>-1&&o.is(e,"attribute"))return L[e]+1;do{O=O-1;if(L[O]>-1)return o.is(e,"content")&&v===false?L[O]:L[O]+1;if(o.idx(O,"start")>-1)v=true;}while(O>0);return O===-2?0:1})();let y=0;u.lines[e+1]=0;const d=m.length-1;do{if(o.is(e,"comment")){if(y===0&&S.commentNewline){if(s.preserveLine===0){w.push(Z(b));}else {if(w.length>0&&w[w.length-1].lastIndexOf(ce)+1<2){w.push(Z(b));}}}if(m[y]!==g){if(y>0&&s.commentIndent)w.push(p);if(m[y+1].trimStart()!==g){w.push(m[y],Z(b));}else {w.push(m[y],ce);}}else {if(m[y+1].trimStart()===g){w.push(ce);}else {w.push(Z(b));}}}else {w.push(m[y]);w.push(Z(b));}y=y+1;}while(y<d);u.lines[e+1]=z;w.push(m[d]);if(o.is(e,"comment")&&(o.is(e+1,"template_end")||o.is(e-1,"template_end"))){w.push(Z(L[e]));}else if(L[e]===-10){w.push(se);}else if(L[e]>1){w.push(Z(L[e]));}else if(L[e]===0&&e===0&&o.is(e,"comment")){w.push(Z(L[e]));}}function h(){const m=/(?!=)\/?>$/;const z=u.token[e];const b=m.exec(z);if(b===null)return;let y=e+1;let d=false;let O=S.selfCloseSpace===true&&b!==null&&b[0]==="/>"?se:g;u.token[e]=z.replace(m,g);do{if(o.is(y,"jsx_attribute_end")&&u.begin[u.begin[y]]===e){d=false;}else if(u.begin[y]===e){if(o.is(y,"jsx_attribute_start")){d=true;}else if(o.idx(y,"attribute")<0&&d===false){break}}else if(d===false&&(u.begin[y]<e||o.idx(y,"attribute")<0)){break}y=y+1;}while(y<B);if(o.is(y-1,"comment_attribute"))O=Z(L[y-2]-1);if(!i.attributes.has(e)){u.token[y-1]=`${u.token[y-1]}${O}${b[0]}`;}if(o.is(y,"comment")&&u.lines[e+1]<2)L[e]=-10;}e=q.start;let F=s.indentLevel;do{if(u.lexer[e]===a){if((o.is(e,"start")||o.is(e,"singleton")||o.is(e,"xml"))&&o.idx(e,"attribute")<0&&e<B-1&&u.types[e+1]!==void 0&&o.idx(e+1,"attribute")>-1){h();}if(R.not(e,void 0)&&u.token[e].indexOf(t)>0&&(o.is(e,"content")&&S.preserveText===false||o.is(e,"comment")||o.is(e,"attribute"))){ee();}else if(s.preserveComment===false&&o.is(e,"comment")&&S.commentNewline&&(s.preserveLine===0||w[w.length-1].lastIndexOf(ce)+1<2)){w.push(Z(L[e]),u.token[e],Z(L[e]));}else {w.push(u.token[e]);if(L[e]===-10&&e<B-1){w.push(se);}else if(L[e]>-1){F=L[e];w.push(Z(L[e]));}}}else {q.start=e;q.end=f[e];const m=i.beautify(F);const z=m.beautify.replace(Ee,g);w.push(z);if(z.endsWith(ce)){if(F-1>0)w.push($e(F-1,p));}else {if(S.forceIndent===true||L[q.iterator]>-1&&f[e]>e){w.push(Z(L[q.iterator]));}}e=q.iterator;m.reset();}e=e+1;}while(e<B);q.iterator=B-1;if(w[0]===t||c(w[0],32))w[0]=g;return w.join(g)}()};q.beautify.style=s=>{console.log(s);const f=[];const a=q.data;const u=s.crlf===true?"\r\n":"\n";const r=q.end>0?q.end+1:a.token.length;const t=s.preserveLine+1;const S=(()=>{let W=0;const X=[];do{X.push(s.indentChar);W=W+1;}while(W<s.indentSize);return X.join(g)})();let $=s.indentLevel;let B=s.wrap>0?s.wrap:0;let o=q.start;let R=[g,g];function e(W){const X=[];const n=(()=>{if(o===r-1)return 1;if(a.lines[o+1]-1>t)return t;if(a.lines[o+1]>1)return a.lines[o+1]-1;return 1})();let L=0;if(W<0)W=0;do{X.push(u);L=L+1;B=$;}while(L<n);if(W>0){L=0;do{X.push(S);L=L+1;}while(L<W)}f.push(X.join(g));}function k(){const W=a.begin[o];const X=a.token[W];const n=a.token[o];const L=[];let w=o;let p=0;let Z;let ee=0;if(W<0||w<=W)return;do{w=w-1;if(a.begin[w]===W){if(c(a.token[w],58)){Z=[w-1,0];do{w=w-1;if((c(a.token[w],59)&&X==="{"||c(a.token[w],44)&&X==="(")&&a.begin[w]===W||a.token[w]===n&&a.begin[a.begin[w]]===W){break}if(a.types[w]!=="comment"&&a.types[w]!=="selector"&&a.token[w]!==X&&a.begin[w]===W){Z[1]=a.token[w].length+Z[1];}}while(w>W+1);if(Z[1]>ee)ee=Z[1];L.push(Z);}}else if(a.types[w]==="end"){if(w<a.begin[w])break;w=a.begin[w];}}while(w>W);w=L.length;if(w<2)return;do{w=w-1;if(L[w][1]<ee){p=L[w][1];do{a.token[L[w][0]]=a.token[L[w][0]]+" ";p=p+1;}while(p<ee)}}while(w>0)}if(s.script.vertical===true&&s.style.compressCSS===false){o=r;do{o=o-1;if(c(a.token[o],125)||c(a.token[o],41))k();}while(o>0);o=q.start;}do{if(a.types[o]==="property")B=$+a.token[o].length;if(a.types[o+1]==="end"||a.types[o+1]==="template_end"||a.types[o+1]==="template_else"){$=$-1;}if(a.types[o]==="template"&&a.lines[o]===0){f.push(a.token[o]);if(a.types[o+1]==="template"&&a.lines[o+1]>0)e($);}else if(a.types[o]==="template"&&a.lines[o]>0){if(a.types[o-2]!=="property"&&a.types[o-1]!=="colon"){B=$;f.push(a.token[o]);if(a.types[o+1]!=="separator"&&Y(a.token[o+1],59)){e($);}}else if(a.types[o-2]==="property"&&a.types[o-1]==="colon"&&a.types[o+1]==="separator"&&c(a.token[o+1],44)){B=B+a.token[o].length;if(B>s.wrap)e($);f.push(a.token[o]);do{o=o+1;f.push(a.token[o]);if(a.lines[o+1]>0)e($);}while(a.types[o]!=="separator"&&Y(a.token[o],59));if(c(a.token[o],59)&&a.types[o]==="separator"){f.push(a.token[o]);if(a.lines[o+1]>0)e($);o=o+1;continue}}else {B=B+a.token[o].length;if(s.wrap>0&&B>s.wrap){e($);f.push(a.token[o]);}else {f.push(a.token[o]);}}}else if(a.types[o]==="template_else"){f.push(a.token[o]);$=$+1;e($);}else if(a.types[o]==="start"||a.types[o]==="template_start"){$=$+1;f.push(a.token[o]);if(a.types[o+1]!=="end"&&a.types[o+1]!=="template_end"&&(s.style.compressCSS===false||s.style.compressCSS===true&&a.types[o+1]==="selector")){e($);}}else if(c(a.token[o],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&a.types[o+1]==="selector")||(a.types[o]==="end"||a.types[o]==="template_end"||a.types[o]==="comment")){f.push(a.token[o]);if(a.types[o+1]==="value"){if(a.lines[o+1]===1){f.push(" ");}else if(a.lines[o+1]>1){e($);}}else if(a.types[o+1]!=="separator"){if(a.types[o+1]!=="comment"||a.types[o+1]==="comment"&&a.lines[o+1]>1){e($);}else {f.push(se);}}}else if(c(a.token[o],58)){f.push(a.token[o]);if(s.style.compressCSS===false){if(a.types[o]!=="selector"&&Y(a.token[o+1],44))f.push(se);}}else if(a.types[o]==="selector"){if(s.style.classPadding===true&&a.types[o-1]==="end"&&a.lines[o]<3){f.push(u);}if(a.token[o].indexOf("and(")>0){a.token[o]=a.token[o].replace(/and\(/,"and (");f.push(a.token[o]);}else if(a.token[o].indexOf("when(")>0){R=a.token[o].split("when(");f.push(R[0].replace(/\s+$/,g));e($+1);f.push(`when (${R[1]}`);}else {f.push(a.token[o]);}if(a.types[o+1]==="start"){if(s.style.compressCSS===false){f.push(" ");}}}else if(c(a.token[o],44)){f.push(a.token[o]);if(a.types[o+1]==="selector"||a.types[o+1]==="property"){e($);}else if(s.style.compressCSS===false){f.push(" ");}}else if(a.stack[o]==="map"&&c(a.token[o+1],41)&&o-a.begin[o]>5){f.push(a.token[o]);e($);}else if(a.token[o]==="x;"){e($);}else if((a.types[o]==="variable"||a.types[o]==="function")&&s.style.classPadding===true&&a.types[o-1]==="end"&&a.lines[o]<3){f.push(u);f.push(a.token[o]);}else if(Y(a.token[o],59)||c(a.token[o],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&Y(a.token[o+1],125))){f.push(a.token[o]);}o=o+1;}while(o<r);q.iterator=r-1;return f.join(g)};q.beautify.script=s=>{console.log(s);const f=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const r=Ue(null);const t=q.data;const S="script";const $=q.scopes;const B=q.end<1||q.end>t.token.length?t.token.length:q.end+1;const o=(()=>{let e=q.start;let k=isNaN(s.indentLevel)?0:Number(s.indentLevel);let W=false;let X=false;let n="";let L="";let w=t.types[0];let p=t.token[0];const Z=[-1];const ee=[];const h=q.start>0?Array(q.start).fill(0,0,q.start):[];const F=[];const m=[[]];const z=[];const b=[];const y=[];const d=[false];const O=[];const v=[];function j(){I(false,false);const T=s.commentIndent===true?k:0;if(W===false&&/\/\u002a\s*global\s/.test(t.token[e])){const D=t.token[e].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let l=D.length;do{l=l-1;D[l]=D[l].replace(/\s+/g,"");if(D[l]!=="")$.push([D[l],-1]);}while(l>0)}if(t.types[e-1]==="comment"||t.types[e+1]==="comment"){h[e-1]=T;}else if(t.lines[e]<2){let D=e+1;if(t.types[D]==="comment"){do{D=D+1;}while(D<B&&t.types[D]==="comment")}if(e<B-1&&t.stack[D]!=="block"&&(t.token[D]==="{"||t.token[D]==="x{")){let l=$.length;t.begin.splice(e,0,t.begin[D]);t.ender.splice(e,0,t.ender[D]);t.lexer.splice(e,0,t.lexer[D]);t.lines.splice(e,0,t.lines[D]);t.stack.splice(e,0,t.stack[D]);t.token.splice(e,0,t.token[D]);t.types.splice(e,0,t.types[D]);if(l>0){do{l=l-1;if($[l][1]===D){$[l][1]=e;}else if($[l][1]<e){break}}while(l>0)}D=D+1;t.begin.splice(D,1);t.ender.splice(D,1);t.lexer.splice(D,1);t.lines.splice(D,1);t.stack.splice(D,1);t.token.splice(D,1);t.types.splice(D,1);l=e+1;do{t.begin[l]=e;t.stack[l]=t.stack[D];l=l+1;}while(l<D);l=l+1;do{if(t.begin[l]===t.begin[D]){t.begin[l]=e;if(t.types[l]==="end"){break}}l=l+1;}while(l<B-1);t.begin[D]=e;e=e-1;}else {h[e-1]=-10;if(t.stack[e]==="paren"||t.stack[e]==="method"){h.push(k+2);}else {h.push(k);}if(s.commentIndent===true&&h[e]>-1&&t.lines[e]<3){t.lines[e]=3;}}if(t.types[e+1]!=="comment")W=true;return}else if(t.token[e-1]===","){h[e-1]=T;}else if(p==="="&&t.types[e-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(L)===true){h[e-1]=-10;}else if(p==="{"&&t.types[e-1]!=="comment"&&t.lines[0]<2){if(t.stack[e]==="function"){h[e-1]=T;}else {h[e-1]=/\n/.test(L)?T:-10;}}else {h[e-1]=T;}if(t.types[e+1]!=="comment")W=true;if(t.token[t.begin[e]]==="("){h.push(k+1);}else {h.push(k);}if(h[e]>-1&&t.lines[e]<3){if(t.types[e-1]==="comment"&&L.startsWith("//")){t.lines[e]=2;}else {t.lines[e]=3;}}if(s.script.commentNewline===true&&L.startsWith("//")===false&&t.lines[e]>=3){t.lines[e]=2;}}function I(T,D){let l=e-1;let x=T===true?0:1;const C=m[m.length-1]===void 0?[]:m[m.length-1];const A=D===false&&t.stack[e]==="array"&&T===true&&L!=="[";if(b[b.length-1]===false||t.stack[e]==="array"&&s.script.arrayFormat==="inline"||t.stack[e]==="object"&&s.script.objectIndent==="inline"){return}b[b.length-1]=false;do{if(t.types[l]==="end"){x=x+1;}else if(t.types[l]==="start"){x=x-1;}if(t.stack[l]==="global")break;if(x===0){if(t.stack[e]==="class"||t.stack[e]==="map"||A===false&&(T===false&&t.token[l]!=="("&&t.token[l]!=="x("||T===true&&t.token[l]===",")){if(t.types[l+1]==="template_start"){if(t.lines[l]<1){h[l]=-20;}else {h[l]=k-1;}}else if(C.length>0&&C[C.length-1]>-1){h[l]=k-1;}else {h[l]=k;}}else if(t.stack[e]==="array"&&t.types[e]==="operator"){if(t.token[l]===",")h[l]=k;if(l===t.begin[e])break}if(T===false)break}if(x<0){if(t.types[l+1]==="template_start"||t.types[l+1]==="template_string_start"){if(t.lines[l]<1){h[l]=-20;}else {h[l]=k-1;}}else if(C.length>0&&C[C.length-1]>-1){h[l]=k-1;}else {h[l]=k;}break}l=l-1;}while(l>-1)}function le(){const T=m[m.length-1]===void 0?[]:m[m.length-1];const D=()=>{let l=e;let x=false;const C=t.begin[l];do{l=l-1;if(t.lexer[l]==="markup"){x=true;break}if(t.begin[l]!==C)l=t.begin[l];}while(l>C);if(x===true){l=e;do{l=l-1;if(t.begin[l]!==C){l=t.begin[l];}else if(t.token[l]===","){h[l]=k+1;}}while(l>C);h[C]=k+1;h[e-1]=k;}else {h[e-1]=-20;}};if(L===")"&&t.token[e+1]==="."&&T[T.length-1]>-1&&t.token[T[0]]!==":"){let l=t.begin[e];let x=false;let C=false;do{l=l-1;}while(l>0&&h[l]<-9);x=h[l]===k;l=e+1;do{l=l+1;if(t.token[l]==="{"){C=true;break}if(t.begin[l]===t.begin[e+1]&&(t.types[l]==="separator"||t.types[l]==="end")){break}}while(l<B);if(x===false&&C===true&&m.length>1){m[m.length-2].push(t.begin[e]);k=k+1;}}if(w!=="separator")xe();if(t.token[e+1]===","&&(t.stack[e]==="object"||t.stack[e]==="array")){I(true,false);}if(t.token[t.begin[e]-1]===","&&(t.token[e+1]==="}"||t.token[e+1]==="]")&&(t.stack[e]==="object"||t.stack[e]==="array")){I(true,false);}if(t.stack[e]!=="attribute"){if(L!==")"&&L!=="x)"&&(t.lexer[e-1]!=="markup"||t.lexer[e-1]==="markup"&&t.token[e-2]!=="return")){k=k-1;}if(L==="}"&&t.stack[e]==="switch"&&s.script.noCaseIndent===false){k=k-1;}}if(L==="}"||L==="x}"){if(t.types[e-1]!=="comment"&&p!=="{"&&p!=="x{"&&w!=="end"&&w!=="string"&&w!=="number"&&w!=="separator"&&p!=="++"&&p!=="--"&&(e<2||t.token[e-2]!==";"||t.token[e-2]!=="x;"||p==="break"||p==="return")){let l=e-1;let x=false;const C=t.begin[e];const A=ee.length;do{if(t.begin[l]===C){if(t.token[l]==="="||t.token[l]===";"||t.token[l]==="x;"){x=true;}if(t.token[l]==="."&&h[l-1]>-1){b[b.length-1]=false;h[C]=k+1;h[e-1]=k;break}if(l>0&&t.token[l]==="return"&&(t.token[l-1]===")"||t.token[l-1]==="x)"||t.token[l-1]==="{"||t.token[l-1]==="x{"||t.token[l-1]==="}"||t.token[l-1]==="x}"||t.token[l-1]===";"||t.token[l-1]==="x;")){k=k-1;h[e-1]=k;break}if(t.token[l]===":"&&F.length===0||t.token[l]===","&&x===false){break}if(l===0||t.token[l-1]==="{"||t.token[l-1]==="x{"||t.token[l]==="for"||t.token[l]==="if"||t.token[l]==="do"||t.token[l]==="function"||t.token[l]==="while"||t.token[l]==="var"||t.token[l]==="let"||t.token[l]==="const"||t.token[l]==="with"){if(ee[A-1]===false&&A>1&&(e===B-1||t.token[e+1]!==")"&&t.token[e+1]!=="x)")&&t.stack[e]!=="object"){k=k-1;}break}}else {l=t.begin[l];}l=l-1;}while(l>C)}Z.pop();}if(s.script.bracePadding===false&&L!=="}"&&w!=="markup"){h[e-1]=-20;}if(s.script.bracePadding===true&&w!=="start"&&p!==";"&&(h[t.begin[e]]<-9||b[b.length-1]===true)){h[t.begin[e]]=-10;h[e-1]=-10;h.push(-20);}else if(t.stack[e]==="attribute"){h[e-1]=-20;h.push(k);}else if(t.stack[e]==="array"&&(T.length>0||z[z.length-1]===true)){V();b[b.length-1]=false;h[t.begin[e]]=k+1;h[e-1]=k;h.push(-20);}else if((t.stack[e]==="object"||t.begin[e]===0&&L==="}")&&T.length>0){V();b[b.length-1]=false;h[t.begin[e]]=k+1;h[e-1]=k;h.push(-20);}else if(L===")"||L==="x)"){const l=L===")"&&p!=="("&&v.length>0?v.pop()+1:0;const x=t.token[t.begin[e]-1]==="if"?(()=>{let C=e;do{C=C-1;if(t.token[C]===")"&&h[C-1]>-1)return l}while(C>t.begin[e]);return l+5})():l;if(l>0&&(s.language!=="jsx"||s.language==="jsx"&&t.token[t.begin[e]-1]!=="render")){const C=s.wrap;const A=t.begin[e];const N=v.length;let M=e-2;if(x>C){h[t.begin[e]]=k+1;h[e-1]=k;do{if(t.begin[M]===A){if(t.token[M]==="&&"||t.token[M]==="||"){h[M]=k+1;}else if(h[M]>-1&&t.types[M]!=="comment"&&t.token[M+1]!=="."){h[M]=h[M]+1;}}else if(h[M]>-1&&t.token[M+1]!=="."){h[M]=h[M]+1;}M=M-1;}while(M>A)}else if(N>0){v[N-1]=v[N-1]+l;}}else if(L===")"&&e>t.begin[e]+2&&t.lexer[t.begin[e]+1]===S&&t.token[t.begin[e]+1]!=="function"){const C=t.begin[e]<0?0:t.begin[e];const A=s.wrap;const N=T.length;let M=0;let E=0;let ne=0;let _=0;let P=0;let J=false;let G=false;let ie=k+1;let fe=false;let te=false;let H=false;if(h[C]<-9){E=C;do{E=E+1;}while(E<e&&h[E]<-9);_=E;do{M=M+t.token[E].length;if(h[E]===-10)M=M+1;if(t.token[E]==="("&&ne>0&&ne<A-1&&_===e){ne=-1;}if(t.token[E]===")"){P=P-1;}else if(t.token[E]==="("){P=P+1;}if(E===C&&P>0)ne=M;E=E-1;}while(E>C&&h[E]<-9);if(t.token[E+1]===".")ie=h[E]+1;if(M>A-1&&A>0&&p!=="("&&ne!==-1&&b[b.length-2]===false){if(t.token[C-1]==="if"&&ee[ee.length-1]===true||t.token[C-1]!=="if"){h[C]=ie;if(t.token[C-1]==="for"){E=C;do{E=E+1;if(t.token[E]===";"&&t.begin[E]===C){h[E]=ie;}}while(E<e)}}}}E=e;M=0;do{E=E-1;if(t.stack[E]==="function"){E=t.begin[E];}else if(t.begin[E]===C){if(t.token[E]==="?"){H=true;}else if(t.token[E]===","&&J===false){J=true;if(M>=A&&A>0)fe=true;}else if(t.types[E]==="markup"&&te===false){te=true;}if(h[E]>-9&&t.token[E]!==","&&t.types[E]!=="markup"){M=0;}else {if(h[E]===-10)M=M+1;M=M+t.token[E].length;if(M>=A&&A>0&&(J===true||te===true)){fe=true;}}}else {if(h[E]>-9){M=0;}else {M=M+t.token[E].length;if(M>=A&&A>0&&(J===true||te===true)){fe=true;}}}}while(E>C&&fe===false);if(J===false&&t.token[t.begin[e]+1].charAt(0)==="`"){h[t.begin[e]]=-20;h[e-1]=-20;}else if((J===true||te===true)&&M>=A&&A>0||h[C]>-9){if(H===true){ie=h[C];if(t.token[C-1]==="["){E=e;do{E=E+1;if(t.types[E]==="end"||t.token[E]===","||t.token[E]===";"){break}}while(E<B);if(t.token[E]==="]"){ie=ie-1;G=true;}}}else if(N>0&&T[N-1]>E){ie=ie-N;}b[b.length-1]=false;E=e;do{E=E-1;if(t.begin[E]===C){if(t.token[E].indexOf("=")>-1&&t.types[E]==="operator"&&t.token[E].indexOf("!")<0&&t.token[E].indexOf("==")<0&&t.token[E]!=="<="&&t.token[E].indexOf(">")<0){M=E;do{M=M-1;if(t.begin[M]===C&&(t.token[M]===";"||t.token[M]===","||M===C)){break}}while(M>C)}else if(t.token[E]===","){h[E]=ie;}else if(h[E]>-9&&G===false&&(t.token[C-1]!=="for"||t.token[E+1]==="?"||t.token[E+1]===":")&&(t.token[t.begin[e]]!=="("||t.token[E]!=="+")){h[E]=h[E]+1;}}else if(h[E]>-9&&G===false){h[E]=h[E]+1;}}while(E>C);h[C]=ie;h[e-1]=ie-1;}else {h[e-1]=-20;}if(t.token[t.begin[e]-1]==="+"&&h[t.begin[e]]>-9){h[t.begin[e]-1]=-10;}}else if(s.language==="jsx"){D();}else {h[e-1]=-20;}h.push(-20);}else if(b[b.length-1]===true){if(L==="]"&&t.begin[e]-1>0&&t.token[t.begin[t.begin[e]-1]]==="["){b[b.length-2]=false;}if(t.begin[e]<h.length)h[t.begin[e]]=-20;if(s.language==="jsx"){D();}else if(L==="]"&&h[t.begin[e]]>-1){h[e-1]=h[t.begin[e]]-1;}else {h[e-1]=-20;}h.push(-20);}else if(t.types[e-1]==="comment"&&t.token[e-1].substring(0,2)==="//"){if(t.token[e-2]==="x}")h[e-3]=k+1;h[e-1]=k;h.push(-20);}else if(t.types[e-1]!=="comment"&&(p==="{"&&L==="}"||p==="["&&L==="]")){h[e-1]=-20;h.push(-20);}else if(L==="]"){if(ee[ee.length-1]===true&&b[b.length-1]===false&&s.script.arrayFormat!=="inline"||p==="]"&&h[e-2]===k+1){h[e-1]=k;h[t.begin[e]]=k+1;}else if(h[e-1]===-10){h[e-1]=-20;}if(t.token[t.begin[e]+1]==="function"){h[e-1]=k;}else if(ee[ee.length-1]===false){if(p==="}"||p==="x}")h[e-1]=k;let l=e-1;let x=1;do{if(t.token[l]==="]")x=x+1;if(t.token[l]==="["){x=x-1;if(x===0){if(l>0&&(t.token[l+1]==="{"||t.token[l+1]==="x{"||t.token[l+1]==="[")){h[l]=k+1;break}if(t.token[l+1]!=="["||X===false){h[l]=-20;break}break}}if(x===1&&t.token[l]==="+"&&h[l]>1){h[l]=h[l]-1;}l=l-1;}while(l>-1)}else if(s.language==="jsx"){D();}if(s.script.arrayFormat==="inline"){let l=e;const x=t.begin[e];do{l=l-1;if(t.types[l]==="end")break}while(l>x);if(l>x){h[t.begin[e]]=k+1;h[e-1]=k;}else {h[t.begin[e]]=-20;h[e-1]=-20;}}else if(h[t.begin[e]]>-1){h[e-1]=h[t.begin[e]]-1;}h.push(-20);}else if(L==="}"||L==="x}"||ee[ee.length-1]===true){if(L==="}"&&p==="x}"&&t.token[e+1]==="else"){h[e-2]=k+2;h.push(-20);}else {h.push(k);}h[e-1]=k;}else {h.push(-20);}if(t.types[e-1]==="comment")h[e-1]=k;V();X=ee[ee.length-1];ee.pop();m.pop();z.pop();y.pop();O.pop();b.pop();d.pop();}function V(){let T=0;const D=m[m.length-1];if(D===void 0)return;T=D.length-1;if(T<1&&D[T]<0&&(L===";"||L==="x;"||L===")"||L==="x)"||L==="}"||L==="x}")){D.pop();return}if(T<0||D[T]<0)return;if(L===":"){if(t.token[D[T]]!=="?"){do{D.pop();T=T-1;k=k-1;}while(T>-1&&D[T]>-1&&t.token[D[T]]!=="?")}D[T]=e;h[e-1]=k;}else {do{D.pop();T=T-1;k=k-1;}while(T>-1&&D[T]>-1)}if((t.stack[e]==="array"||L===",")&&D.length<1)D.push(-1);}function ue(){const T=e;do{if(t.lexer[e+1]===S&&t.begin[e+1]<T)break;if(t.token[T-1]==="return"&&t.types[e]==="end"&&t.begin[e]===T)break;h.push(0);e=e+1;}while(e<B);r[T]=e;h.push(k-1);}function xe(){let T=e-1;const D=t.begin[e];if(k<1)return;do{if(D!==t.begin[T]){T=t.begin[T];}else {if(t.types[T]==="separator"||t.types[T]==="operator"){if(t.token[T]==="."&&h[T-1]>0){if(t.token[D-1]==="if"){k=k-2;}else {k=k-1;}}break}}T=T-1;}while(T>0&&T>D)}function Q(){if(t.token[e+1]!==","&&L.indexOf("/>")!==L.length-2||t.token[e+1]===","&&t.token[t.begin[e]-3]!=="React"){I(false,false);}if(p==="return"||p==="?"||p===":"){h[e-1]=-10;h.push(-20);}else if(w==="start"||t.token[e-2]==="return"&&t.stack[e-1]==="method"){h.push(k);}else {h.push(-20);}}function pe(){const T=m[m.length-1]===void 0?[]:m[m.length-1];function D(){const l=t.token[e+1];let x=0;let C=0;let A=e;let N=L==="+"?k+2:k;let M=0;if(s.wrap<1){h.push(-10);return}do{A=A-1;if(t.token[t.begin[e]]==="("){if(A===t.begin[e]){M=x;}if(t.token[A]===","&&t.begin[A]===t.begin[e]&&ee[ee.length-1]===true){break}}if(x>s.wrap-1)break;if(h[A]>-9)break;if(t.types[A]==="operator"&&t.token[A]!=="="&&t.token[A]!=="+"&&t.begin[A]===t.begin[e]){break}x=x+t.token[A].length;if(A===t.begin[e]&&t.token[A]==="["&&x<s.wrap-1){break}if(t.token[A]==="."&&h[A]>-9)break;if(h[A]===-10)x=x+1;}while(A>0);if(M>0)M=M+l.length;x=x+l.length;C=A;if(x>s.wrap-1&&h[A]<-9){do{C=C-1;}while(C>0&&h[C]<-9)}if(t.token[C+1]==="."&&t.begin[e]<=t.begin[C]){N=N+1;}else if(t.types[C]==="operator"){N=h[C];}C=l.length;if(x+C<s.wrap){h.push(-10);return}if(t.token[t.begin[e]]==="("&&(t.token[T[0]]===":"||t.token[T[0]]==="?")){N=k+3;}else if(t.stack[e]==="method"){h[t.begin[e]]=k;if(ee[ee.length-1]===true){N=k+3;}else {N=k+1;}}else if(t.stack[e]==="object"||t.stack[e]==="array"){I(true,false);}if(t.token[A]==="var"||t.token[A]==="let"||t.token[A]==="const"){x=x-s.indentSize*s.indentChar.length*2;}if(M>0){A=s.wrap-M;}else {A=s.wrap-x;}if(A>0&&A<5){h.push(N);if(t.token[e].charAt(0)==='"'||t.token[e].charAt(0)==="'"){e=e+1;h.push(-10);}return}if(t.token[t.begin[e]]!=="("||M>s.wrap-1||M===0){if(M>0)x=M;if(x-l.length<s.wrap-1&&(l.charAt(0)==='"'||l.charAt(0)==="'")){e=e+1;x=x+3;if(x-l.length>s.wrap-4){h.push(N);return}h.push(-10);return}h.push(N);return}h.push(-10);}xe();if(T.length>0&&T[T.length-1]>-1&&t.stack[e]==="array"){z[z.length-1]=true;}if(L!==":"){if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&b.length>0){I(true,false);}if(L!=="?"&&t.token[T[T.length-1]]==="."){let l=0;let x=e;const C=t.begin[x];do{if(t.begin[x]===C){if(t.token[x+1]==="{"||t.token[x+1]==="["||t.token[x]==="function"){break}if(t.token[x]===","||t.token[x]===";"||t.types[x]==="end"||t.token[x]===":"){T.pop();k=k-1;break}if(t.token[x]==="?"||t.token[x]===":"){if(t.token[T[T.length-1]]==="."&&l<2)T[T.length-1]=C+1;break}if(t.token[x]===".")l=l+1;}x=x+1;}while(x<B)}}if(L==="!"||L==="..."){if(p==="}"||p==="x}")h[e-1]=k;h.push(-20);return}if(p===";"||p==="x;"){if(t.token[t.begin[e]-1]!=="for")h[e-1]=k;h.push(-20);return}if(L==="*"){if(p==="function"||p==="yield"){h[e-1]=-20;}else {h[e-1]=-10;}h.push(-10);return}if(L==="?"){if(t.lines[e]===0&&t.types[e-2]==="word"&&t.token[e-2]!=="return"&&t.token[e-2]!=="in"&&t.token[e-2]!=="instanceof"&&t.token[e-2]!=="typeof"&&(w==="reference"||w==="word")){if(t.types[e+1]==="word"||t.types[e+1]==="reference"||(t.token[e+1]==="("||t.token[e+1]==="x(")&&t.token[e-2]==="new"){h[e-1]=-20;if(t.types[e+1]==="word"||t.types[e+1]==="reference"){h.push(-10);return}h.push(-20);return}}if(t.token[e+1]===":"){h[e-1]=-20;h.push(-20);return}F.push(e);if(s.script.ternaryLine===true){h[e-1]=-10;}else {let l=e-1;do{l=l-1;}while(l>-1&&h[l]<-9);T.push(e);k=k+1;if(h[l]===k&&t.token[l+1]!==":"){k=k+1;T.push(e);}h[e-1]=k;if(t.token[t.begin[e]]==="("&&(T.length<2||T[0]===T[1])){b[b.length-1]=false;if(e-2===t.begin[e]){h[t.begin[e]]=k-1;}else {h[t.begin[e]]=k;}l=e-2;do{if(t.types[l]==="end"&&h[l-1]>-1)break;if(h[l]>-1)h[l]=h[l]+1;l=l-1;}while(l>t.begin[e])}}h.push(-10);return}if(L===":"){if(t.stack[e]==="map"||t.types[e+1]==="type"||t.types[e+1]==="type_start"){h[e-1]=-20;h.push(-10);return}if(F.length>0&&t.begin[F[F.length-1]]===t.begin[e]){let l=e;const x=t.begin[e];do{l=l-1;if(t.begin[l]===x){if(t.token[l]===","||t.token[l]===";"){h[e-1]=-20;break}if(t.token[l]==="?"){F.pop();V();if(s.script.ternaryLine===true)h[e-1]=-10;h.push(-10);return}}else if(t.types[l]==="end"){l=t.begin[l];}}while(l>x)}if(t.token[e-2]==="where"&&t.stack[e-2]===t.stack[e]){h[e-1]=-10;h.push(-10);return}if(w==="reference"&&t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("){h[e-1]=-20;h.push(-10);return}if((p===")"||p==="x)")&&t.token[t.begin[e-1]-2]==="function"){h[e-1]=-20;h.push(-10);return}if(t.stack[e]==="attribute"){h[e-1]=-20;h.push(-10);return}if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&(w==="reference"||p===")"||p==="]"||p==="?")&&(t.stack[e]==="map"||t.stack[e]==="class"||t.types[e+1]==="reference")&&(F.length===0||F[F.length-1]<t.begin[e])&&("mapclassexpressionmethodglobalparen".indexOf(t.stack[e])>-1||t.types[e-2]==="word"&&t.stack[e]!=="switch")){h[e-1]=-20;h.push(-10);return}if(t.stack[e]==="switch"&&(F.length<1||F[F.length-1]<t.begin[e])){h[e-1]=-20;if(s.script.caseSpace===true){h.push(-10);}else {h.push(k);}return}if(t.stack[e]==="object"){h[e-1]=-20;}else if(F.length>0){h[e-1]=k;}else {h[e-1]=-10;}h.push(-10);return}if(L==="++"||L==="--"){if(w==="number"||w==="reference"){h[e-1]=-20;h.push(-10);}else if(e<B-1&&(t.types[e+1]==="number"||t.types[e+1]==="reference")){h.push(-20);}else {h.push(-10);}return}if(L==="+"){if(w==="start"){h[e-1]=-20;}else {h[e-1]=-10;}if(s.wrap<1||t.token[t.begin[e]]==="x("){h.push(-10);return}const l=t.token[e+1];if(l===void 0){h.push(-10);return}if(t.types[e-1]==="operator"||t.types[e-1]==="start"){if(t.types[e+1]==="reference"||l==="("||l==="["){h.push(-20);return}if(Number(l.slice(1,-1))>-1&&(/\d/.test(l.charAt(1))===true||l.charAt(1)==="."||l.charAt(1)==="-"||l.charAt(1)==="+")){h.push(-20);return}}return D()}if(t.types[e-1]!=="comment"){if(p==="("){h[e-1]=-20;}else if(L==="*"&&t.stack[e]==="object"&&t.types[e+1]==="reference"&&(p==="{"||p===",")){h[e-1]=k;}else if(L!=="?"||F.length===0){h[e-1]=-10;}}if(L.indexOf("=")>-1&&L!=="=="&&L!=="==="&&L!=="!="&&L!=="!=="&&L!==">="&&L!=="<="&&L!=="=>"&&t.stack[e]!=="method"&&t.stack[e]!=="object"){let l=e+1;let x=0;let C=false;let A="";if((t.token[t.begin[e]]==="("||t.token[t.begin[e]]==="x(")&&t.token[e+1]!=="function"){return}do{if(t.types[l]==="start"){if(C===true&&t.token[l]!=="["){if(d[d.length-1]===true){d[d.length-1]=false;}break}x=x+1;}if(t.types[l]==="end")x=x-1;if(x<0){if(d[d.length-1]===true){d[d.length-1]=false;}break}if(x===0){A=t.token[l];if(C===true){if(t.types[l]==="operator"||t.token[l]===";"||t.token[l]==="x;"||t.token[l]==="?"||t.token[l]==="var"||t.token[l]==="let"||t.token[l]==="const"){if(A!==void 0&&(A==="?"||A.indexOf("=")>-1&&A!=="=="&&A!=="==="&&A!=="!="&&A!=="!=="&&A!==">="&&A!=="<=")){if(d[d.length-1]===false){d[d.length-1]=true;}}if((A===";"||A==="x;"||A==="var"||A==="let"||A==="const")&&d[d.length-1]===true){d[d.length-1]=false;}break}if(d[d.length-1]===true&&(A==="return"||A==="break"||A==="continue"||A==="throw")){d[d.length-1]=false;}}if(A===";"||A==="x;"||A===",")C=true;}l=l+1;}while(l<B);h.push(-10);return}if(L==="-"&&p==="return"||p==="="){h.push(-20);return}if(w==="operator"&&t.types[e+1]==="reference"&&p!=="--"&&p!=="++"&&L!=="&&"&&L!=="||"){h.push(-20);return}return D()}function Oe(){const T=()=>{let D=t.begin[e];if(D<0){$.push([t.token[e],-1]);}else {if(t.stack[D+1]!=="function"){do{D=t.begin[D];}while(D>-1&&t.stack[D+1]!=="function")}$.push([t.token[e],D]);}};if(t.types[e-1]==="comment"){h[e-1]=k;}else if(w==="end"&&p!==")"&&t.token[t.begin[e-1]-1]!==")"){h[e-1]=-10;}else if(w!=="separator"&&w!=="start"&&w!=="end"&&w.indexOf("template_string")<0){if(w==="word"||w==="operator"||w==="property"||w==="type"||w==="reference"){h[e-1]=-10;}else {h[e-1]=-20;}}if(p==="var"&&t.lexer[e-1]===S){T();}else if(p==="function"){$.push([t.token[e],e]);}else if(p==="let"||p==="const"){$.push([t.token[e],e]);}else if(t.stack[e]==="arguments"){$.push([t.token[e],e]);}else if(p===","){let D=e;do{D=D-1;}while(D>t.begin[e]&&t.token[D]!=="var"&&t.token[D]!=="let"&&t.token[D]!=="const");if(t.token[D]==="var"){T();}else if(t.token[D]==="let"||t.token[D]==="const"){$.push([t.token[e],e]);}}h.push(-10);}function re(){const T=m[m.length-1]===void 0?[]:m[m.length-1];const D=()=>{if(s.script.methodChain>0){let l=e;let x=t.begin[e];const C=[e];const A=t.token[x-1]==="if";do{l=l-1;if(t.types[l]==="end")l=t.begin[l];if(t.begin[l]===x){if(t.types[l]==="string"&&t.token[l].indexOf("${")===t.token[l].length-2){break}if(t.token[l]==="."){if(h[l-1]>0){h[e-1]=A===true?k+1:k;return}C.push(l);}else if(t.token[l]===";"||t.token[l]===","||t.types[l]==="operator"||(t.types[l]==="word"||t.types[l]==="reference")&&(t.types[l-1]==="word"||t.types[l-1]==="reference")){break}}}while(l>x);if(C.length<s.script.methodChain){h[e-1]=-20;return}l=0;x=C.length;do{h[C[l]-1]=A===true?k+1:k;l=l+1;}while(l<x);l=C[C.length-1]-1;do{if(h[l]>-1)h[l]=h[l]+1;l=l+1;}while(l<e);k=A===true?k+2:k+1;}h[e-1]=k;};if(L==="::"){h[e-1]=-20;h.push(-20);return}if(L==="."){if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&T.length>0){if(t.stack[e]==="object"||t.stack[e]==="array"){I(true,false);}else {I(false,false);}}if(s.script.methodChain===0){h[e-1]=-20;}else if(s.script.methodChain<0){if(t.lines[e]>0){D();}else {h[e-1]=-20;}}else {D();}h.push(-20);return}if(L===","){xe();if(ee[ee.length-1]===false&&(t.stack[e]==="object"||t.stack[e]==="array"||t.stack[e]==="paren"||t.stack[e]==="expression"||t.stack[e]==="method")){ee[ee.length-1]=true;if(t.token[t.begin[e]]==="("){let l=e;do{l=l-1;if(t.begin[l]===t.begin[e]&&t.token[l]==="+"&&h[l]>-9){h[l]=h[l]+2;}}while(l>t.begin[e])}}if(t.stack[e]==="array"&&s.script.arrayFormat==="indent"){h[e-1]=-20;h.push(k);return}if(t.stack[e]==="array"&&s.script.arrayFormat==="inline"){h[e-1]=-20;h.push(-10);return}if(t.stack[e]==="object"&&s.script.objectIndent==="indent"){h[e-1]=-20;h.push(k);return}if(t.stack[e]==="object"&&s.script.objectIndent==="inline"){h[e-1]=-20;h.push(-10);return}if(T.length>0){if(T[T.length-1]>-1)V();h[e-1]=-20;h.push(k);return}if(t.token[e-2]===":"&&t.token[e-4]==="where"){h[e-1]=-20;h.push(-10);return}h[e-1]=-20;if(t.types[e+1]!=="end"){y[y.length-1]=y[y.length-1]+1;}if((t.token[t.begin[e]]==="("||t.token[t.begin[e]]==="x(")&&s.language!=="jsx"&&t.stack[e]!=="global"&&(t.types[e-1]!=="string"&&t.types[e-1]!=="number"||t.token[e-2]!=="+"||t.types[e-1]==="string"&&t.types[e-1]!=="number"&&t.token[e-2]==="+"&&t.types[e-3]!=="string"&&t.types[e-3]!=="number")){h.push(-10);return}if(w==="reference"&&t.types[e-2]==="word"&&"var-let-const-from".indexOf(t.token[e-2])<0&&(t.types[e-3]==="end"||t.token[e-3]===";")){O[O.length-1]=true;h.push(-10);return}if(O[O.length-1]===true||t.stack[e]==="notation"){h.push(-10);return}if(y[y.length-1]>3&&(t.stack[e]==="array"||t.stack[e]==="object")){if(b[b.length-1]===true)I(true,true);h[e-1]=-20;if(z[z.length-1]===true){h.push(k);return}const l=t.begin[e];let x=e;do{if(t.types[x]==="end"){x=t.begin[x];}else {if(t.token[x]===","&&t.types[x+1]!=="comment"){h[x]=k;}}x=x-1;}while(x>l);h[l]=k;z[z.length-1]=true;return}if(t.stack[e]==="object"){if(b[b.length-1]===true&&t.types[t.begin[e]-1]!=="word"&&t.types[t.begin[e]-1]!=="reference"&&t.token[t.begin[e]-1]!=="("&&t.token[t.begin[e]-1]!=="x("){const l=t.begin[e];let x=e-1;do{if(t.begin[x]===l){if(t.token[x]===",")break;if(t.token[x]===":"){I(true,false);break}}x=x-1;}while(x>l)}}if(b[b.length-1]===false||t.token[e-2]==="+"&&(w==="string"||w==="number")&&h[e-2]>0&&(p.charAt(0)==='"'||p.charAt(0)==="'")){if(t.stack[e]==="method"){if(t.token[e-2]==="+"&&(p.charAt(0)==='"'||p.charAt(0)==="'")&&(t.token[e-3].charAt(0)==='"'||t.token[e-3].charAt(0)==="'")){h.push(k+2);return}if(t.token[e-2]!=="+"){h.push(-10);return}}h.push(k);return}if(b[b.length-1]===true&&t.stack[e]!=="object"){h.push(-10);return}if(y[y.length-1]<4&&(t.stack[e]==="array"||t.stack[e]==="object")){h.push(-10);return}h.push(k);return}if(L===";"||L==="x;"){xe();if(t.token[e+1]!==void 0&&t.types[e+1].indexOf("attribute")>0&&t.types[e+1].indexOf("end")>0){h[e-1]=-20;h.push(k-1);return}if(Z[Z.length-1]>-1&&t.stack[Z[Z.length-1]]!=="expression"){let l=e;do{l=l-1;if(t.token[l]===";")break;if(t.token[l]===","){k=k-1;break}if(t.types[l]==="end")l=t.begin[l];}while(l>0&&l>t.begin[e])}Z[Z.length-1]=-1;V();if(t.token[t.begin[e]-1]!=="for")I(false,false);O[O.length-1]=false;h[e-1]=-20;if(t.begin[e]>0&&t.token[t.begin[e]-1]==="for"&&t.stack[e]!=="for"){h.push(-10);return}h.push(k);return}h.push(-20);}function K(){const T=t.stack[e+1];const D=e===0?t.stack[e]:t.stack[e-1];if(p===")"||(D==="object"||D==="array")&&p!=="]"){if(T!=="method"||T==="method"&&t.token[e+1]!==")"&&t.token[e+2]!==")"){if(p===")"&&(T!=="function"||t.token[t.begin[t.begin[e-1]-1]]==="("||t.token[t.begin[t.begin[e-1]-1]]==="x(")){I(false,false);}else if(t.types[e+1]!=="end"&&t.types[e+2]!=="end"){I(true,false);}}}ee.push(false);m.push([]);d.push(false);z.push(false);O.push(false);y.push(0);if(s.script.neverFlatten===true||T==="array"&&s.script.arrayFormat==="indent"||T==="attribute"||w==="generic"||T==="class"&&p!=="("&&p!=="x("||L==="["&&t.token[e+1]==="function"){b.push(false);}else {if(T==="expression"||T==="method"){b.push(true);}else if((T==="object"||T==="class")&&(p==="("||p==="x("||w==="word"||w==="reference")){b.push(true);}else if(T==="array"||L==="("||L==="x("){b.push(true);}else if(L==="{"&&T==="object"&&w!=="operator"&&w!=="start"&&w!=="string"&&w!=="number"&&D!=="object"&&D!=="array"&&e>0){b.push(true);}else {b.push(false);}}if(L!=="("&&L!=="x("&&t.stack[e+1]!=="attribute"){k=k+1;}if(L==="{"||L==="x{"){Z.push(-1);if(t.types[e-1]!=="comment"){if(w==="markup"){h[e-1]=k;}else if(s.script.braceAllman===true&&w!=="operator"&&p!=="return"){h[e-1]=k-1;}else if(t.stack[e+1]!=="block"&&(T==="function"||p===")"||p==="x)"||p===","||p==="}"||w==="markup")){h[e-1]=-10;}else if(p==="{"||p==="x{"||p==="["||p==="}"||p==="x}"){h[e-1]=k-1;}}if(T==="object"){if(s.script.objectIndent==="indent"){b[b.length-1]=false;h.push(k);return}if(s.script.objectIndent==="inline"){b[b.length-1]=true;h.push(-20);return}}if(T==="switch"){if(s.script.noCaseIndent===true){h.push(k-1);return}k=k+1;h.push(k);return}if(b[b.length-1]===true){if(w!=="word"&&w!=="reference"){h.push(-20);return}}h.push(k);return}if(L==="("||L==="x("){if(s.wrap>0&&L==="("&&t.token[e+1]!==")"){v.push(1);}if(p==="-"&&(t.token[e-2]==="("||t.token[e-2]==="x(")){h[e-2]=-20;}if(w==="end"&&D!=="if"&&D!=="for"&&D!=="catch"&&D!=="else"&&D!=="do"&&D!=="try"&&D!=="finally"&&D!=="catch"){if(t.types[e-1]==="comment"){h[e-1]=k;}else {h[e-1]=-20;}}if(p==="async"){h[e-1]=-10;}else if(T==="method"||t.token[e-2]==="function"&&w==="reference"){if(p==="import"||p==="in"||s.script.functionNameSpace===true){h[e-1]=-10;}else if(p==="}"&&t.stack[e-1]==="function"||w==="word"||w==="reference"||w==="property"){h[e-1]=-20;}else if(D!=="method"&&T!=="method"){h[e-1]=k;}}if(p==="+"&&(t.token[e-2].charAt(0)==='"'||t.token[e-2].charAt(0)==="'")){h.push(k);return}if(p==="}"||p==="x}"){h.push(-20);return}if(p==="-"&&(e<2||t.token[e-2]!==")"&&t.token[e-2]!=="x)"&&t.token[e-2]!=="]"&&t.types[e-2]!=="reference"&&t.types[e-2]!=="string"&&t.types[e-2]!=="number")||s.script.functionSpace===false&&p==="function"){h[e-1]=-20;}h.push(-20);return}if(L==="["){if(p==="[")ee[ee.length-2]=true;if(p==="return"||p==="var"||p==="let"||p==="const"){h[e-1]=-10;}else if(t.types[e-1]!=="comment"&&t.stack[e-1]!=="attribute"&&(w==="end"||w==="word"||w==="reference")){h[e-1]=-20;}else if(p==="["||p==="{"||p==="x{"){h[e-1]=k-1;}if(t.stack[e]==="attribute"){h.push(-20);return}if(s.script.arrayFormat==="indent"){b[b.length-1]=false;h.push(k);return}if(s.script.arrayFormat==="inline"){b[b.length-1]=true;h.push(-20);return}if(T==="method"||b[b.length-1]===true){h.push(-20);return}let l=e+1;do{if(t.token[l]==="]"){h.push(-20);return}if(t.token[l]===","){h.push(k);return}l=l+1;}while(l<B);h.push(-20);}}function U(){if(L.length===1){h.push(-20);if(t.lines[e]===0)h[e-1]=-20;}else if(L.indexOf("#!/")===0){h.push(k);}else {h.push(-10);}if((p===","||w==="start")&&(t.stack[e]==="object"||t.stack[e]==="array")&&b[b.length-1]===false&&e>0){h[e-1]=k;}}function de(){if(s.language!=="json"&&t.types[e-1]!=="string"){if(n==="template_else"){h[e-1]=k-1;h.push(k);}else if(n==="template_start"){k=k+1;if(t.lines[e-1]<1)h[e-1]=-20;if(t.lines[e]>0||p.length===1&&w==="string"){h.push(k);}else {h.push(-20);}}else if(n==="template_end"){k=k-1;if(w==="template_start"||t.lines[e-1]<1){h[e-1]=-20;}else {h[e-1]=k;}if(t.lines[e]>0){h.push(k);}else {h.push(-20);}}else if(n==="template"){if(t.lines[e]>0){h.push(k);}else {h.push(-20);}}}}function Pe(){if(n==="template_string_start"){k=k+1;h.push(k);}else if(n==="template_string_else"){xe();h[e-1]=k-1;h.push(k);}else {xe();k=k-1;h[e-1]=k;h.push(-10);}if(e>2&&(t.types[e-2]==="template_string_else"||t.types[e-2]==="template_string_start")){if(s.script.bracePadding===true){h[e-2]=-10;h[e-1]=-10;}else {h[e-2]=-20;h[e-1]=-20;}}}function _e(){if(t.token[e-1]===","||t.token[e-1]===":"&&t.stack[e-1]!=="data_type"){h[e-1]=-10;}else {h[e-1]=-20;}if(t.types[e]==="type"||t.types[e]==="type_end"){h.push(-10);}if(t.types[e]==="type_start"){h.push(-20);}}function We(){if((p===")"||p==="x)")&&t.stack[e]==="class"&&(t.token[t.begin[e-1]-1]==="static"||t.token[t.begin[e-1]-1]==="final"||t.token[t.begin[e-1]-1]==="void")){h[e-1]=-10;h[t.begin[e-1]-1]=-10;}if(p==="]")h[e-1]=-10;if(L==="else"&&p==="}"){if(t.token[e-2]==="x}")h[e-3]=h[e-3]-1;if(s.script.braceAllman===true||s.script.elseNewline===true){h[e-1]=k;}}if(L==="new"&&f.has(t.token[e+1]));if(L==="from"&&w==="end"&&e>0&&(t.token[t.begin[e-1]-1]==="import"||t.token[t.begin[e-1]-1]===",")){h[e-1]=-10;}if(L==="function"){if(s.script.functionSpace===false&&e<B-1&&(t.token[e+1]==="("||t.token[e+1]==="x(")){h.push(-20);return}h.push(-10);return}if(p==="-"&&e>1){if(t.types[e-2]==="operator"||t.token[e-2]===","){h[e-1]=-20;}else if(t.types[e-2]==="start"){h[e-2]=-20;h[e-1]=-20;}}else if(L==="while"&&(p==="}"||p==="x}")){let T=e-1;let D=0;do{if(t.token[T]==="}"||t.token[T]==="x}")D=D+1;if(t.token[T]==="{"||t.token[T]==="x{")D=D-1;if(D===0){if(t.token[T-1]==="do"){h[e-1]=-10;break}h[e-1]=k;break}T=T-1;}while(T>-1)}else if(L==="in"||(L==="else"&&s.script.elseNewline===false&&s.script.braceAllman===false||L==="catch")&&(p==="}"||p==="x}")){h[e-1]=-10;}else if(L==="var"||L==="let"||L==="const"){Z[Z.length-1]=e;if(w==="end")h[e-1]=k;if(t.token[t.begin[e]-1]!=="for"){let T=e+1;let D=0;do{if(t.types[T]==="end")D=D-1;if(t.types[T]==="start")D=D+1;if(D<0||D===0&&(t.token[T]===";"||t.token[T]===",")){break}T=T+1;}while(T<B);if(t.token[T]===",")k=k+1;}h.push(-10);return}if((L==="default"||L==="case")&&w!=="word"&&t.stack[e]==="switch"){h[e-1]=k-1;h.push(-10);return}if(L==="catch"&&p==="."){h[e-1]=-20;h.push(-20);return}if(L==="catch"||L==="finally"){h[e-1]=-10;h.push(-10);return}if(s.script.bracePadding===false&&e<B-1&&t.token[e+1].charAt(0)==="}"){h.push(-20);return}if(t.stack[e]==="object"&&(p==="{"||p===",")&&(t.token[e+1]==="("||t.token[e+1]==="x(")){h.push(-20);return}if(t.types[e-1]==="comment"&&t.token[t.begin[e]]==="("){h[e-1]=k+1;}h.push(-10);}do{if(t.lexer[e]===S){n=t.types[e];L=t.token[e];if(n==="comment"){j();}else if(n==="regex"){h.push(-20);}else if(n==="string"){U();}else if(n.indexOf("template_string")===0){Pe();}else if(n==="separator"){re();}else if(n==="start"){K();}else if(n==="end"){le();}else if(n==="type"||n==="type_start"||n==="type_end"){_e();}else if(n==="operator"){pe();}else if(n==="word"){We();}else if(n==="reference"){Oe();}else if(n==="markup"){Q();}else if(n.indexOf("template")===0){de();}else if(n==="generic"){if(p!=="return"&&p.charAt(0)!=="#"&&w!=="operator"&&p!=="public"&&p!=="private"&&p!=="static"&&p!=="final"&&p!=="implements"&&p!=="class"&&p!=="void"){h[e-1]=-20;}if(t.token[e+1]==="("||t.token[e+1]==="x("){h.push(-20);}else {h.push(-10);}}else {h.push(-10);}if(n!=="comment"){w=n;p=L;}if(v.length>0&&t.token[e]!==")"){if(t.types[e]==="comment"&&v[v.length-1]>-1){v[v.length-1]=s.wrap+1;}else if(h[e]>-1||t.token[e].charAt(0)==="`"&&t.token[e].indexOf(ce)>0){v[v.length-1]=-1;}else if(v[v.length-1]>-1){v[v.length-1]=v[v.length-1]+t.token[e].length;if(h[e]===-10)v[v.length-1]=v[v.length-1]+1;}}}else {ue();}e=e+1;}while(e<B);return h})();const R=(()=>{const e=[];const k=(()=>{const h=[];const F=s.indentChar;let m=s.indentSize;if(typeof m!=="number"||m<1)return "";do{h.push(F);m=m-1;}while(m>0);return h.join("")})();const W=s.crlf===true?"\r\n":ce;const X=s.preserveLine+1;const n=["x;","x}","x{","x(","x)"];let L=q.start;let w="";let p=s.indentLevel;function Z(h){const F=[];const m=(()=>{if(L===B-1)return 1;if(t.lines[L+1]-1>X)return X;if(t.lines[L+1]>1)return t.lines[L+1]-1;return 1})();let z=0;if(h<0)h=0;do{F.push(W);z=z+1;}while(z<m);if(h>0){z=0;do{F.push(k);z=z+1;}while(z<h)}return F.join(g)}if(s.script.vertical===true){let h=function(F){let m=0;let z=0;let b=F-1;let y=0;let d=0;const O=t.begin[L];const v=[];do{if((t.begin[b]===O||t.token[b]==="]"||t.token[b]===")")&&(t.token[b+1]===":"&&t.stack[b]==="object"||t.token[b+1]==="=")){y=b;z=0;do{if(t.begin[y]===O){if(t.token[y]===","||t.token[y]===";"||t.token[y]==="x;"||o[y]>-1&&t.types[y]!=="comment"){if(t.token[y+1]==="."){z=z+s.indentSize*s.indentChar.length;}break}}else if(o[y]>-1){break}if(t.types[y]!=="comment"){if(o[y-1]===-10)z=z+1;z=t.token[y].length+z;}y=y-1;}while(y>O);d=y;if(t.token[d]===","&&t.token[b+1]==="="){do{if(t.types[d]==="end")d=t.begin[d];if(t.begin[d]===O){if(t.token[d]===";"||t.token[d]==="x;")break;if(t.token[d]==="var"||t.token[d]==="const"||t.token[d]==="let"){z=z+s.indentSize*s.indentChar.length;break}}d=d-1;}while(d>O)}if(z>m)m=z;v.push([b,z]);b=y;}else if(t.types[b]==="end"){b=t.begin[b];}b=b-1;}while(b>O);b=v.length;if(b>0){do{b=b-1;y=v[b][1];if(y<m){do{t.token[v[b][0]]=t.token[v[b][0]]+se;y=y+1;}while(y<m)}}while(b>0)}};L=B;do{L=L-1;if(t.lexer[L]==="script"){if(t.token[L]==="}"&&t.token[L-1]!=="{"&&o[t.begin[L]]>0){h(L);}}else {L=t.begin[L];}}while(L>0)}L=q.start;do{if(t.lexer[L]===S||q.beautify[t.lexer[L]]===void 0){if(t.types[L]==="comment"&&s.commentIndent===true){if(/\n/.test(t.token[L])){const h=t.begin[L]>-1?t.token[L].charAt(2)==="*"?$e(o[L],k)+s.indentChar:$e(o[L],k):s.indentChar;const F=t.token[L].split(/\n/);let m=1;do{F[m]=h+F[m].trimStart();m=m+1;}while(m<F.length);t.token.splice(L,1,F.join(ce));}}if(n.indexOf(t.token[L])<0){if(t.token[L]!==";"||s.script.noSemicolon===false){e.push(t.token[L]);}else if(o[L]<0&&t.types[L+1]!=="comment"){e.push(";");}}if(L<B-1&&t.lexer[L+1]!==S&&t.begin[L]===t.begin[L+1]&&t.types[L+1].indexOf("end")<0&&t.token[L]!==","){e.push(se);}else if(o[L]>-1){if((o[L]>-1&&t.token[L]==="{"||o[L]>-1&&t.token[L+1]==="}")&&t.lines[L]<3&&s.script.braceNewline===true){if(t.lines[L+1]<3)e.push(Z(0));}e.push(Z(o[L]));p=o[L];}else if(o[L]===-10){e.push(se);if(t.lexer[L+1]!==S)p=p+1;}}else {if(r[L]===L){e.push(t.token[L]);}else {q.end=r[L];q.start=L;const h=i.beautify(p);w=h.beautify.replace(Ee,g);e.push(w);L=q.iterator;if(o[L]===-10){e.push(se);}else if(o[L]>-1){e.push(Z(o[L]));}h.reset();}}L=L+1;}while(L<B);q.iterator=B-1;return e.join(g)})();return R};var ft={};vt(ft,{definitions:()=>qe,format:()=>tt,formatSync:()=>Nt,language:()=>Ze,options:()=>Je,parse:()=>Ct,parseSync:()=>Pt});var qe={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeCasing:{default:"preserve",description:"Controls the casing of attribute values and keys.",type:"select",lexer:"markup",values:[{rule:"preserve",description:"All tag attribute keys/values are preserved and left intact."},{rule:"lowercase",description:"All tag attribute keys/values are converted to lowercase"},{rule:"lowercase-name",description:"Only attribute keys are converted to lowercase"},{rule:"lowercase-value",description:"Only attribute values are converted to lowercase"}]},delimiterTrims:{default:"preserve",description:"How delimiter whitespace trim dashes should handled on Liquid tokens. You should avoid setting this to force in order to avoid stripping whitespace between text content.",lexer:"markup",type:"select",values:[{rule:"preserve",description:"All trim dash occurances of trims intact"},{rule:"strip",description:"Removes all trim dash occurances for tags and output tokens"},{rule:"force",description:"Applies trime dashes to all tags and output tokens"},{rule:"tags",description:"Applies trim dashes to tags tokens only"},{rule:"output",description:"Applies trim dashes to output object tokens only"}]},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},normalizeSpacing:{default:true,description:"Whether or not to normalize the distributed spacing contained in Liquid tokens.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},lineBreakSeparator:{default:"default",description:"Controls the placement of Liquid tag separator type characters in newline structures.",lexer:"markup",type:"select",values:[{rule:"default",description:"Leave line break character intace"},{rule:"before",description:"Place line break character at the start of expressions"},{rule:"after",description:"Place line break character at the end of expressions"}]},ignoreScripts:{default:false,description:"Whether to ignore embedded regions of tags identified to contain JavaScript",lexer:"markup",type:"boolean"},ignoreStyles:{default:false,description:"Whether to ignore embedded regions of tags identified to contain CSS",lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};function wt(s){const f=s.source.search(bt);const a=s.source.search(kt);const u=Fe(qe);const r=u.length;let t=0;if(a>-1&&s.source.slice(0,a).trimStart()===g)return false;if(f>-1&&(f===0||`"':`.indexOf(s.source.charAt(f-1))<0)){let F=function(){if(R.charAt(k-1)!=="\\")return false;let m=k;do{m=m-1;}while(m>0&&R.charAt(m)==="\\");return (k-m)%2===0};const B=[];const o=f;const R=s.source;const e=R.length;let k=o;let W=0;let X=g;let n=g;let L=g;let w=g;let p=[];let Z=[];let ee;let h;if(c(R[k],60)){h="<!--";}else if(c(R[k+1],47)){h="//";}else if(c(R[k+1],37)){ee=R.indexOf("}",k+1);if(c(R[ee-1],37))h=R.slice(k,ee+1);}else {h="/*";}do{if(R.slice(k-9,k)==="@prettify")break;k=k+1;}while(k<e);do{if(F()===false){if(X===g){if(c(R[k],34)||c(R[k],39)||c(R[k],96)){X=R.charAt(k);if(B.length>0&&B[B.length-1].charAt(B[B.length-1].length-1)===":")W=k;}else if(/\s/.test(R.charAt(k))===false&&W===0){W=k;}else if(c(R[k],44)||me(R.charAt(k))===true&&W>0){n=R.slice(W,k);if(B.length>0){if(B.length>0&&c(n,58)&&B[B.length-1].indexOf(":")<0){B[B.length-1]=B[B.length-1]+n;W=k;}else if(B.length>0&&B[B.length-1].charAt(B[B.length-1].length-1)===":"){B[B.length-1]=B[B.length-1]+n;W=0;}else {B.push(n);W=0;}}else {B.push(n);W=0;}}if(h==="<!--"&&R.slice(k-2,k+1)==="-->")break;if(h==="//"&&R.charAt(k)==="\n")break;if(h==="/*"&&R.slice(k-1,k+1)==="*/")break;if(h.charCodeAt(1)===37&&R.slice(k-1,k+1)==="%"&&R.indexOf("endcomment",R.indexOf("{%",ee))>0)break}else if(R.charAt(k)===X&&X!=="${"){X=g;}else if(X==="`"&&R.slice(k,k+2)==="${"){X="${";}else if(X==="${"&&R.charAt(k)==="}"){X="`";}}k=k+1;}while(k<e);if(W>0){X=R.slice(W,k+1);if(h==="<!--")X=X.replace(/\s*-+>$/,g);else if(h==="//")X=X.replace(/\s+$/,g);else X=X.replace(/\s*\u002a\/$/,g);B.push(X);}k=B.length;if(k>0){do{k=k-1;if(B[k].indexOf(":")>0){Z=[B[k].slice(0,B[k].indexOf(":")),B[k].slice(B[k].indexOf(":")+1)];}else if(qe[B[k]]!==void 0&&qe[B[k]].type==="boolean"){s.options[B[k]]=true;}if(Z.length===2&&qe[Z[0]]!==void 0){if(Z[1].charAt(Z[1].length-1)===Z[1].charAt(0)&&(Z[1].charAt(0)==='"'||Z[1].charAt(0)==="'"||Z[1].charAt(0)==="`")){Z[1]=Z[1].slice(1,Z[1].length-1);}if(qe[Z[0]].type==="number"&&isNaN(Number(Z[1]))===false){s.options[Z[0]]=Number(Z[1]);}else if(qe[Z[0]].type==="boolean"){s.options[Z[0]]=Z[1]==="true";}else {if(qe[Z[0]].values!==void 0){p=Fe(qe[Z[0]].values);W=p.length;do{W=W-1;if(p[W]===Z[1]){s.options[Z[0]]=Z[1];break}}while(W>0)}else {if(Z[0]==="language"){L=Z[1];}else if(Z[0]==="lexer"){w=Z[1];}s.options[Z[0]]=Z[1];}}}}while(k>0);if(w===g&&L!==g)w=ct(L);}}if(s.options.lexer==="script"){if(s.options.script.styleGuide!==void 0){switch(s.options.script.styleGuide){case"airbnb":s.options.wrap=80;s.options.indentChar=" ";s.options.indentSize=2;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.endComma="always";s.options.script.bracePadding=true;break;case"crockford":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"google":s.options.wrap=-1;s.options.indentChar=" ";s.options.indentSize=4;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.vertical=false;break;case"jquery":s.options.wrap=80;s.options.indentChar="	";s.options.indentSize=1;s.options.script.correct=true;s.options.script.bracePadding=true;s.options.script.quoteConvert="double";s.options.script.variableList="each";break;case"jslint":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"standard":s.options.wrap=0;s.options.indentChar=" ";s.options.indentSize=2;s.options.endNewline=false;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.noSemicolon=true;s.options.script.endComma="never";s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.quoteConvert="single";s.options.script.functionSpace=true;s.options.script.ternaryLine=false;s.options.script.variableList="each";s.options.script.vertical=false;break;case"yandex":s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.vertical=false;break}}if(s.options.script.braceStyle!==void 0){switch(s.options.script.braceStyle){case"collapse":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break;case"collapse-preserve-inline":s.options.script.braceNewline=false;s.options.script.bracePadding=true;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=false;break;case"expand":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=true;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break}}if(s.options.language==="json")s.options.wrap=0;}do{if(s.options[Fe[t]]!==void 0){qe[Fe[t]].lexer.length;}t=t+1;}while(t<r)}function jt(s){const{source:f,options:a}=s;const{lexer:u,language:r}=a;if(typeof s.lexers[u]==="function"){s.lexers[u](`${f} `);}else {i.error=`Specified lexer, ${u}, is not a function.`;}let t=0;let S=0;const $=Fe(i.data);const B=$.length;do{S=t+1;do{if(i.data[$[t]].length!==i.data[$[S]].length){i.error=`"${$[t]}" array is of different length than "${$[S]}"`;break}S=S+1;}while(S<B);t=t+1;}while(t<B-1);if(i.data.begin.length>0){if(u==="script"&&(r==="json"&&a.json.objectSort===true||a.language!=="json"&&a.script.objectSort===true)){i.sortCorrect(0,i.count+1);}else if(u==="style"&&a.style.sortProperties===true){i.sortCorrect(0,i.count+1);}}return i.data}function St(s){const f=Date.now();const a={language:s,chars:-1};return u=>{a.chars=u;a.size=pt(u);a.time=(Date.now()-f).toFixed(1);return a}}function Rt(s){const{languageName:f}=Ce(s.options.language);const a=s.options.crlf===true?"\r\n":"\n";const u=s.source.match(/\n/g);const r=St(f);let t=g;if(u===null){if(s.options.endNewline)t=a;s.stats=r(t.length);}else {t=u[0].length>s.options.preserveLine?$e(s.options.preserveLine,a):$e(u[0].length,a);if(s.options.endNewline)t+=a;s.stats=r(t.length);}return t}function Ye(s){s.data=i.full();if(!/\S/.test(s.source))return Rt(s);if(s.options.language==="text"){s.options.language="text";s.options.languageName="Plain Text";s.options.lexer="markup";}else if(s.options.language==="auto"||s.options.language===void 0){const{lexer:t,language:S,languageName:$}=Ze(s.source);if(S==="unknown"){console.warn("Prettify: unknown and/or unsupport language");console.info("Prettify: define a support language (fallback is HTML)");}s.options.lexer=t;s.options.language=S;s.options.languageName=$;}else {const{lexer:t,language:S,languageName:$}=Ce(s.options.language);if(S==="unknown"){console.warn(`Prettify: unsupport ${s.options.language}`);console.info("Prettify: language is not supported (fallback is HTML)");}s.options.lexer=t;s.options.language=S;s.options.languageName=$;}const f=St(s.options.languageName);const a=s.mode;const u=s.options.crlf===true?"\r\n":"\n";let r=s.source;if(wt(s)===false){s.stats=f(r.length);return r}s.data=jt(s);if(a==="parse"){s.stats=f(r.length);return i.data}r=s.beautify[s.options.lexer](s.options);r=s.options.endNewline===true?r.replace(/\s*$/,u):r.replace(/\s+$/,g);s.stats=f(r.length);s.end=0;s.start=0;return r}tt.before=s=>q.hooks.before.push(s);tt.after=s=>q.hooks.after.push(s);Je.listen=s=>q.hooks.rules.push(s);Ke(tt,"stats",{get(){return q.stats}});Ke(Ct,"stats",{get(){return q.stats}});Ke(Je,"rules",{get(){return q.options}});function Nt(s,f){q.source=s;if(typeof f==="object")q.options=Je(f);if(q.hooks.before.length>0){for(const u of q.hooks.before){if(u(q.options,s)===false)return s}}const a=Ye(q);if(q.hooks.after.length>0){for(const u of q.hooks.after){if(u.call(i.data,a,q.options)===false)return s}}if(i.error.length)throw new Error(i.error);return a}function tt(s,f){q.source=s;if(typeof f==="object")q.options=Je(f);if(q.hooks.before.length>0){for(const u of q.hooks.before){if(u(q.options,s)===false)return s}}const a=Ye(q);if(q.hooks.after.length>0){for(const u of q.hooks.after){if(u.call(i.data,a,q.options)===false)return s}}return new Promise((u,r)=>{if(i.error.length)return r(i.error);return u(a)})}function Je(s){for(const f of Fe(s)){if(f in qe&&qe[f].lexer==="auto"){q.options[f]=s[f];}else if(f==="markup"){je(q.options.markup,s.markup);}else if(f==="script"){je(q.options.script,s.script);}else if(f==="style"){je(q.options.style,s.style);}else if(f==="json"){je(q.options.json,s.json);}else if(f==="grammar"){ke.extend(s.grammar);}else if(f in q.options){q.options[f]=s[f];}}if(q.hooks.rules.length>0){for(const f of q.hooks.rules)f(q.options);}return q.options}function Ct(s,f){q.source=s;q.mode="parse";if(typeof f==="object")q.options=Je(f);const a=Ye(q);return new Promise((u,r)=>{if(i.error.length)return r(i.error);return u(a)})}function Pt(s,f){q.source=s;q.mode="parse";if(typeof f==="object")q.options=Je(f);const a=Ye(q);if(i.error.length)throw new Error(i.error);return a}

export { ft as default };
