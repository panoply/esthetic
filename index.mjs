var Ge=Object.defineProperty;var Ye=(i,a)=>{for(var c in a)Ge(i,c,{get:a[c],enumerable:true});};var Ce=Object.assign;var re=Object.create;var Ae=Object.keys;var Te=Object.defineProperty;var Re=Array.isArray;var we={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeChain:{default:"inline",description:"Controls how Liquid tags contained within HTML attributed should be formatted.",type:"select",lexer:"markup",values:[{rule:"inline",description:"Liquid tag block contents are chained together"},{rule:"collapse",description:"Liquid tag block contents are split onto newlines"},{rule:"preserve",description:"Liquid tag block contents are preserved"}]},attributeValues:{default:false,description:"Controls how attribute values should be formatter",type:"select",lexer:"markup",values:[{rule:"preserve",description:"Preserves attribute values, leaving them intact."},{rule:"collapse",description:"Collapsed all space separated attributes values onto newlines"},{rule:"wrap",description:"Collapase attribute values when then exceed wrap limit"},{rule:"strip",description:"Strips newlines and extraneous whitespaces from attribute values"}]},delimiterSpacing:{default:true,description:"Whether or not delimiter characters should apply a single space at the start and end point",lexer:"markup",type:"boolean"},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line.",lexer:"markup",type:["boolean"]},forceLeadingAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:["boolean","number"]},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},forceValue:{lexer:"style",description:"If CSS selector property values should be indented onto newlines",default:"preserve",type:"select",values:[{rule:"preserve",description:"Preserves property values, output does not augment provided structures"},{rule:"collapse",description:"Collapsed all selector property values onto newlines"},{rule:"wrap",description:"Collapase only selector property values which exceed wrap limit"}]},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},inlineReturn:{lexer:"script",default:true,type:"boolean",description:"Inlines return statements contained within `if` and `else` conditions. This rules also augments code and will reason about your structure to output the best and most readable results."},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};var ge=function(){const i=re(null);i.html=re(null);i.script=re(null);i.liquid=re(null);i.style=re(null);i.html.tags=new Set(["body","colgroup","dd","dt","head","html","li","option","p","tbody","td","tfoot","th","thead","tr"]);i.html.voids=new Set(["area","base","basefont","br","col","embed","eventsource","frame","hr","image","img","input","isindex","keygen","link","meta","path","param","progress","source","wbr","use"]);i.liquid.tags=new Set(["case","capture","comment","embed","filter","for","form","if","macro","paginate","raw","switch","tablerow","unless","verbatim","schema","style","javascript","highlight","stylesheet"]);i.liquid.else=new Set(["case","default","else","when","elsif"]);i.liquid.singletons=new Set(["assign","increment","decrement","render","include"]);i.script.keywords=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);i.style.units=new Set(["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"]);return i}();var I=function(){const i=re(null);i.parsed=re(null);i.options=re(null);i.beautify=re(null);i.lexers=re(null);i.stats=re(null);i.hooks=re(null);let a="";Te(i,"source",{get(){return i.env==="node"&&Buffer.isBuffer(a)?a.toString():a},set(c){a=i.env==="node"?Buffer.isBuffer(c)?c:Buffer.from(c):c;}});i.mode="beautify";i.end=0;i.iterator=0;i.start=0;i.scopes=[];i.env=typeof process!=="undefined"&&process.versions!=null&&process.versions.node!=null?"node":"browser";i.parsed.begin=[];i.parsed.ender=[];i.parsed.lexer=[];i.parsed.lines=[];i.parsed.stack=[];i.parsed.token=[];i.parsed.types=[];i.stats.chars=-1;i.stats.time=-1;i.stats.size="";i.stats.language="";i.hooks.before=[];i.hooks.language=[];i.hooks.rules=[];i.hooks.after=[];i.options.mode="beautify";i.options.indentLevel=0;i.options.grammar=re(null);i.options.grammar.html=re(null);i.options.grammar.liquid=re(null);i.options.lexer="auto";i.options.language="text";i.options.languageName="Plain Text";i.options.crlf=false;i.options.commentIndent=true;i.options.endNewline=false;i.options.indentChar=" ";i.options.indentSize=2;i.options.preserveComment=false;i.options.preserveLine=2;i.options.wrap=0;i.options.markup=re(null);i.options.markup.correct=false;i.options.markup.commentNewline=false;i.options.markup.attributeChain="inline";i.options.markup.attributeValues="preserve";i.options.markup.attributeSort=false;i.options.markup.attributeSortList=[];i.options.markup.forceAttribute=false;i.options.markup.forceLeadingAttribute=false;i.options.markup.preserveText=false;i.options.markup.preserveAttributes=false;i.options.markup.selfCloseSpace=false;i.options.markup.forceIndent=false;i.options.markup.quoteConvert="none";i.options.style=re(null);i.options.style.correct=false;i.options.style.compressCSS=false;i.options.style.classPadding=false;i.options.style.noLeadZero=false;i.options.style.sortSelectors=false;i.options.style.sortProperties=false;i.options.style.quoteConvert="none";i.options.style.forceValue="preserve";i.options.script=re(null);i.options.script.correct=false;i.options.script.braceNewline=false;i.options.script.bracePadding=false;i.options.script.braceStyle="none";i.options.script.braceAllman=false;i.options.script.commentNewline=false;i.options.script.caseSpace=false;i.options.script.inlineReturn=true;i.options.script.elseNewline=false;i.options.script.endComma="never";i.options.script.arrayFormat="default";i.options.script.objectSort=false;i.options.script.objectIndent="default";i.options.script.functionNameSpace=false;i.options.script.functionSpace=false;i.options.script.styleGuide="none";i.options.script.ternaryLine=false;i.options.script.methodChain=4;i.options.script.neverFlatten=false;i.options.script.noCaseIndent=false;i.options.script.noSemicolon=false;i.options.script.quoteConvert="none";i.options.script.variableList="none";i.options.script.vertical=false;i.options.json=re(null);i.options.json.arrayFormat="default";i.options.json.braceAllman=false;i.options.json.bracePadding=false;i.options.json.objectIndent="default";i.options.json.objectSort=false;return i}();function _e(i,a=" "){if(i===0)return a;let c="";let s=1;do{c+=a;}while(s++<i);return c}function A(i,a){if(!i)return false;return i.charCodeAt(0)===a}function ie(i,a){return A(i,a)===false}function ue(i){return /\s/.test(i)}function Ne(i){const a=1024;const c=1048576;const s=1073741824;if(i<a)return i+" B";else if(i<c)return (i/a).toFixed(1)+" KB";else if(i<s)return (i/c).toFixed(1)+" MB";else return (i/s).toFixed(1)+" GB"}function He(i){return `\\${i}`}function De(i){let a=0;const c=i.length;const s=i;const d=()=>{let f=0;const E=s.length;if(f<E){do{if(Re(s[f])===true)s[f]=De.apply(this,s[f]);f=f+1;}while(f<E)}};const e=f=>{let E=a;let n=0;let F=0;let y=0;let t=[];let k=s[a];let V="";const o=typeof k;if(E<c){do{V=typeof s[E];if(s[E]<k||V<o){k=s[E];t=[E];}else if(s[E]===k){t.push(E);}E=E+1;}while(E<c)}F=t.length;E=a;n=F+a;if(E<n){do{s[t[y]]=s[E];s[E]=k;y=y+1;E=E+1;}while(E<n)}a=a+F;if(a<c){e("");}else {if(this.recursive===true)d();i=s;}return f};e("");return i}function ze(i){let a=0;const c=i.length;const s=i;const d=()=>{let f=0;const E=s.length;if(f<E){do{if(Re(s[f]))s[f]=ze.apply(this,s[f]);f=f+1;}while(f<E)}};const e=f=>{let E=a;let n=0;let F=0;let y=0;let t=s[a];let k=[];let V="";const o=typeof t;if(E<c){do{V=typeof s[E];if(s[E]>t||V>o){t=s[E];k=[E];}else if(s[E]===t){k.push(E);}E=E+1;}while(E<c)}F=k.length;E=a;n=F+a;if(E<n){do{s[k[y]]=s[E];s[E]=t;y=y+1;E=E+1;}while(E<n)}a=a+F;if(a<c){e("");}else {if(this.recursive===true)d();i=s;}return f};e("");return i}function Me(i){let a=i;const c=[i[0]];const s=()=>{let e=0;const f=a.length;if(e<f){do{if(Re(a[e]))a[e]=Me.apply(this,a[e]);e=e+1;}while(e<f)}};const d=e=>{let f=0;const E=[];const n=a.length;if(f<n){do{if(a[f]!==e)E.push(a[f]);f=f+1;}while(f<n)}a=E;if(E.length>0){c.push(E[0]);d(E[0]);}else {if(this.recursive===true)s();i=a;}};d(this.array[0]);return i}var l=new class bt{constructor(){this.data=re(null);this.references=[[]];this.structure=[["global",-1]];this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.count=-1;this.lineNumber=1;this.linesSpace=0;this.error="";this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];}get current(){const{begin:a,ender:c,lexer:s,lines:d,stack:e,token:f,types:E}=this.data;return {begin:a[a.length-1],ender:c[c.length-1],lexer:s[s.length-1],lines:d[d.length-1],stack:e[e.length-1],token:f[a.length-1],types:E[a.length-1]}}concat(a,c){for(const s of this.datanames)a[s]=a[s].concat(c[s]);if(a===this.data)this.count=a.token.length-1;}objectSort(a){let c=this.count;let s=this.structure[this.structure.length-1][1];let d=0;let e=0;let f=0;let E=0;let n=true;let F=0;let y=0;let t=0;const k=[];const V=s;const o=I.options.language==="json";const $=a.lexer[c]==="style"&&this.structure[this.structure.length-1][0]==="global";const j=a.lexer[c]==="style";const p=j===true?[";","separator"]:[",","separator"];const R=this.linesSpace;const Z=this.count;const N=$===true?"global":this.structure[this.structure.length-1][0];function r(x,P){let m=x[0];let b=P[0];if(a.types[m]==="comment"){do{m=m+1;}while(m<Z&&a.types[m]==="comment");if(a.token[m]===void 0){return 1}}if(a.types[b]==="comment"){do{b=b+1;}while(b<Z&&a.types[b]==="comment");if(a.token[b]===void 0)return 1}if(j===true){if(a.token[m].indexOf("@import")===0||a.token[b].indexOf("@import")===0){return m<b?-1:1}if(a.types[m]!==a.types[b]){if(a.types[m]==="function")return 1;if(a.types[m]==="variable")return -1;if(a.types[m]==="selector")return 1;if(a.types[m]==="property"&&a.types[b]!=="variable")return -1;if(a.types[m]==="mixin"&&a.types[b]!=="property"&&a.types[b]!=="variable")return -1}}if(a.token[m].toLowerCase()>a.token[b].toLowerCase())return 1;return -1}const C=re(null);C.begin=[];C.ender=[];C.lexer=[];C.lines=[];C.stack=[];C.token=[];C.types=[];E=c;do{if(a.begin[c]===s||$===true&&c<E&&a.token[c]==="}"&&a.begin[a.begin[c]]===-1){if(a.types[c].indexOf("template")>-1)return;if(a.token[c]===p[0]||j===true&&a.token[c]==="}"&&a.token[c+1]!==";"){n=true;F=c+1;}else if(j===true&&a.token[c-1]==="}"){n=true;F=c;}if(F===0&&a.types[0]==="comment"){do{F=F+1;}while(a.types[F]==="comment")}else if(a.types[F]==="comment"&&a.lines[F]<2){F=F+1;}if(n===true&&(a.token[c]===p[0]||j===true&&a.token[c-1]==="}")&&F<=E){if(j===true&&"};".indexOf(a.token[E])<0){E=E+1;}else if(j===false&&a.token[E]!==","){E=E+1;}k.push([F,E]);if(j===true&&a.token[F]==="}"){E=F;}else {E=F-1;}}}c=c-1;}while(c>s);if(k.length>0&&k[k.length-1][0]>c+1){d=k[k.length-1][0]-1;if(a.types[d]==="comment"&&a.lines[d]>1){do{d=d-1;}while(d>0&&a.types[d]==="comment");k[k.length-1][0]=d+1;}if(a.types[c+1]==="comment"&&c===-1){do{c=c+1;}while(a.types[c+1]==="comment")}k.push([c+1,d]);}if(k.length>1){if(o===true||j===true||a.token[c-1]==="="||a.token[c-1]===":"||a.token[c-1]==="("||a.token[c-1]==="["||a.token[c-1]===","||a.types[c-1]==="word"||c===0){k.sort(r);t=k.length;n=false;s=0;do{y=k[s][1];if(j===true){f=y;if(a.types[f]==="comment")f=f-1;if(a.token[f]==="}"){y=y+1;p[0]="}";p[1]="end";}else {p[0]=";";p[1]="separator";}}d=k[s][0];if(j===true&&a.types[y-1]!=="end"&&a.types[y]==="comment"&&a.types[y+1]!=="comment"&&s<t-1){y=y+1;}if(d<y){do{if(j===false&&s===t-1&&d===y-2&&a.token[d]===","&&a.lexer[d]==="script"&&a.types[d+1]==="comment"){e=e+1;}else {const x=re(null);x.begin=a.begin[d];x.ender=a.ender[d];x.lexer=a.lexer[d];x.lines=a.lines[d];x.stack=a.stack[d];x.token=a.token[d];x.types=a.types[d];this.push(C,x,"");e=e+1;}if(a.token[d]===p[0]&&(j===true||a.begin[d]===a.begin[k[s][0]])){n=true;}else if(a.token[d]!==p[0]&&a.types[d]!=="comment"){n=false;}d=d+1;}while(d<y)}if(n===false&&C.token[C.token.length-1]!=="x;"&&(j===true||s<t-1)){d=C.types.length-1;if(C.types[d]==="comment"){do{d=d-1;}while(d>0&&C.types[d]==="comment")}d=d+1;this.splice({data:C,howmany:0,index:d,record:{begin:V,ender:this.count,lexer:C.lexer[d-1],lines:0,stack:N,token:p[0],types:p[1]}});e=e+1;}s=s+1;}while(s<t);this.splice({data:a,howmany:e,index:c+1});this.linesSpace=R;this.concat(a,C);}}}pop(a){const c=re(null);c.begin=a.begin.pop();c.ender=a.ender.pop();c.lexer=a.lexer.pop();c.lines=a.lines.pop();c.stack=a.stack.pop();c.token=a.token.pop();c.types=a.types.pop();if(a===this.data)this.count=this.count-1;return c}push(a,c,s){const d=()=>{let e=this.count;const f=a.begin[e];if(a.lexer[e]==="style"&&I.options.style.sortProperties===true||a.lexer[e]==="script"&&(I.options.script.objectSort===true||I.options.json.objectSort===true)){return}do{if(a.begin[e]===f||a.begin[a.begin[e]]===f&&a.types[e].indexOf("attribute")>-1&&a.types[e].indexOf("attribute_end")<0){a.ender[e]=this.count;}else {e=a.begin[e];}e=e-1;}while(e>f);if(e>-1)a.ender[e]=this.count;};this.datanames.forEach(e=>a[e].push(c[e]));if(a===this.data){this.count=this.count+1;this.linesSpace=0;if(c.lexer!=="style"){if(s.replace(/(\{|\}|@|<|>|%|#|)/g,"")===""){s=c.types==="else"?"else":s=c.token;}}if(c.types==="start"||c.types.indexOf("_start")>0){this.structure.push([s,this.count]);}else if(c.types==="end"||c.types.indexOf("_end")>0){let e=0;if(this.structure.length>2&&(a.types[this.structure[this.structure.length-1][1]]==="else"||a.types[this.structure[this.structure.length-1][1]].indexOf("_else")>0)&&(a.types[this.structure[this.structure.length-2][1]]==="start"||a.types[this.structure[this.structure.length-2][1]].indexOf("_start")>0)&&(a.types[this.structure[this.structure.length-2][1]+1]==="else"||a.types[this.structure[this.structure.length-2][1]+1].indexOf("_else")>0)){this.structure.pop();a.begin[this.count]=this.structure[this.structure.length-1][1];a.stack[this.count]=this.structure[this.structure.length-1][0];a.ender[this.count-1]=this.count;e=a.ender[a.begin[this.count]+1];}d();if(e>0)a.ender[a.begin[this.count]+1]=e;this.structure.pop();}else if(c.types==="else"||c.types.indexOf("_else")>0){if(s==="")s="else";if(this.count>0&&(a.types[this.count-1]==="start"||a.types[this.count-1].indexOf("_start")>0)){this.structure.push([s,this.count]);}else {d();if(s===""){this.structure[this.structure.length-1]=["else",this.count];}else {this.structure[this.structure.length-1]=[s,this.count];}}}}}safeSort(a,c,s){if(Re(a)===false)return a;if(c==="normal"){return Me.call({array:a,recursive:s},a)}else if(c==="descend"){return ze.call({recursive:s},a)}return De.call({recursive:s},a)}sortCorrection(a,c){let s=a;let d=-1;const e=this.data;const f=[];const E=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(s>0&&e.types[s].indexOf("attribute")>-1&&e.types[s].indexOf("end")<0&&e.types[s-1].indexOf("start")<0&&e.types[s-1].indexOf("attribute")<0&&e.lexer[s]==="markup"){E.push(s-1);}if(s>0&&e.types[s-1].indexOf("attribute")>-1&&e.types[s].indexOf("attribute")<0&&e.lexer[E[E.length-1]]==="markup"&&e.types[E[E.length-1]].indexOf("start")<0){E.pop();}if(e.begin[s]!==E[E.length-1]){if(E.length>0){e.begin[s]=E[E.length-1];}else {e.begin[s]=-1;}}if(e.types[s].indexOf("else")>-1){if(E.length>0){E[E.length-1]=s;}else {E.push(s);}}if(e.types[s].indexOf("end")>-1)E.pop();if(e.types[s].indexOf("start")>-1)E.push(s);s=s+1;}while(s<c);s=c;do{s=s-1;if(e.types[s].indexOf("end")>-1){f.push(s);d=d+1;}e.ender[s]=d>-1?f[d]:-1;if(e.types[s].indexOf("start")>-1){f.pop();d=d-1;}}while(s>a)}spacer(a){this.linesSpace=1;do{if(a.array[a.index]==="\n"){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(ue(a.array[a.index+1])===false)break;a.index=a.index+1;}while(a.index<a.end);return a.index}splice(a){const c=[this.data.begin[this.count],this.data.token[this.count]];if(a.record!==void 0&&a.record.token!==""){for(const s of this.datanames){a.data[s].splice(a.index,a.howmany,a.record[s]);}if(a.data===this.data){this.count=this.count-a.howmany+1;if(c[0]!==this.data.begin[this.count]||c[1]!==this.data.token[this.count]){this.linesSpace=0;}}return}for(const s of this.datanames){a.data[s].splice(a.index,a.howmany);}if(a.data===this.data){this.count=this.count-a.howmany;this.linesSpace=0;}}wrapCommentBlock(a){const{wrap:c,crlf:s,preserveComment:d}=I.options;const e=[];const f=[];const E=s===true?"\r\n":"\n";const n=/(\/|\\|\||\*|\[|\]|\{|\})/g;const F=/{%-?\s*|\s*-?%}/g;let y=a.start;let t=0;let k=0;let V=0;let o=0;let $=[];let j="";let p="";let R=false;let Z=false;let N=false;let r=false;let C="";let x=a.terminator.length-1;let P=a.terminator.charAt(x);let m=0;let b;const L=a.opening.replace(n,He);const S=new RegExp(`^(${L}\\s*@prettify-ignore-start)`);const X=new RegExp(`(${L}\\s*)`);const Y=A(a.opening[0],123)&&A(a.opening[1],37);if(Y){b=new RegExp(`\\s*${a.terminator.replace(F,te=>{if(te.charCodeAt(0)===123)return "{%-?\\s*";return "\\s*-?%}"})}$`);}const U=()=>{if(/^\s+$/.test($[t+1])||$[t+1]===""){do{t=t+1;}while(t<o&&(/^\s+$/.test($[t+1])||$[t+1]===""))}if(t<o-1)f.push("");};do{e.push(a.chars[y]);if(a.chars[y]==="\n")this.lineNumber=this.lineNumber+1;if(a.chars[y]===P&&a.chars.slice(y-x,y+1).join("")===a.terminator)break;y=y+1;}while(y<a.end);C=e.join("");if(S.test(C)===true){let te="\n";y=y+1;do{e.push(a.chars[y]);if(e.slice(e.length-20).join("")==="@prettify-ignore-end"){if(Y){const ee=a.chars.indexOf("{",y);if(A(a.chars[ee+1],37)){const D=a.chars.slice(ee,a.chars.indexOf("}",ee+1)+1).join("");if(b.test(D))a.terminator=D;}}y=y+1;break}y=y+1;}while(y<a.end);t=y;x=a.opening.length-1;P=a.opening.charAt(x);do{if(a.opening==="/*"&&a.chars[t-1]==="/"&&(a.chars[t]==="*"||a.chars[t]==="/"))break;if(a.opening!=="/*"&&a.chars[t]===P&&a.chars.slice(t-x,t+1).join("")===a.opening)break;t=t-1;}while(t>a.start);if(a.opening==="/*"&&a.chars[t]==="*"){te="*/";}else if(a.opening!=="/*"){te=a.terminator;}x=te.length-1;P=te.charAt(x);if(te!=="\n"||a.chars[y]!=="\n"){do{e.push(a.chars[y]);if(te==="\n"&&a.chars[y+1]==="\n")break;if(a.chars[y]===P&&a.chars.slice(y-x,y+1).join("")===te)break;y=y+1;}while(y<a.end)}if(a.chars[y]==="\n")y=y-1;C=e.join("").replace(/\s+$/,"");return [C,y]}if(d===true||c<1||y===a.end||C.length<=c&&C.indexOf("\n")<0||a.opening==="/*"&&C.indexOf("\n")>0&&C.replace("\n","").indexOf("\n")>0&&/\n(?!(\s*\*))/.test(C)===false){return [C,y]}t=a.start;if(t>0&&a.chars[t-1]!=="\n"&&ue(a.chars[t-1])){do{t=t-1;}while(t>0&&a.chars[t-1]!=="\n"&&ue(a.chars[t-1]))}j=a.chars.slice(t,a.start).join("");const z=new RegExp("\n"+j,"g");$=C.replace(/\r\n/g,"\n").replace(z,"\n").split("\n");o=$.length;$[0]=$[0].replace(X,"");$[o-1]=$[o-1].replace(b,"");if(o<2)$=$[0].split(" ");if($[0]===""){$[0]=a.opening;}else {$.splice(0,0,a.opening);}o=$.length;t=0;do{p=t<o-1?$[t+1].replace(/^\s+/,""):"";if(/^\s+$/.test($[t])===true||$[t]===""){U();}else if($[t].slice(0,4)==="    "){f.push($[t]);}else if($[t].replace(/^\s+/,"").length>c&&$[t].replace(/^\s+/,"").indexOf(" ")>c){$[t]=$[t].replace(/^\s+/,"");k=$[t].indexOf(" ");f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);t=t-1;}else {$[t]=a.opening==="/*"&&$[t].indexOf("/*")!==0?`   ${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`:`${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`;m=t<1?c-(a.opening.length+1):c;k=$[t].length;V=$[t].replace(/^\s+/,"").indexOf(" ");if(k>m&&V>0&&V<m){k=m;do{k=k-1;if(ue($[t].charAt(k))&&k<=c)break}while(k>0);if($[t].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[t])===true&&/^\s*(\*|-)\s/.test($[t+1])===false){$.splice(t+1,0,"* ");}if($[t].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[t])===true&&/^\s*\d+\.\s/.test($[t+1])===false){$.splice(t+1,0,"1. ");}if(k<4){f.push($[t]);r=true;}else if(t===o-1){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);r=true;t=t-1;}else if(/^\s+$/.test($[t+1])===true||$[t+1]===""){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);R=true;t=t-1;}else if($[t+1].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[t+1])){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);Z=true;t=t-1;}else if($[t+1].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[t+1])){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);N=true;t=t-1;}else if($[t+1].slice(0,4)==="    "){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);r=true;t=t-1;}else if(k+p.length>c&&p.indexOf(" ")<0){f.push($[t].slice(0,k));$[t]=$[t].slice(k+1);r=true;t=t-1;}else if($[t].replace(/^\s+/,"").indexOf(" ")<c){$[t+1]=$[t].length>c?$[t].slice(k+1)+E+$[t+1]:`${$[t].slice(k+1)} ${$[t+1]}`;}if(R===false&&Z===false&&N===false&&r===false){$[t]=$[t].slice(0,k);}}else if($[t+1]!==void 0&&($[t].length+p.indexOf(" ")>c&&p.indexOf(" ")>0||$[t].length+p.length>c&&p.indexOf(" ")<0)){f.push($[t]);t=t+1;}else if($[t+1]!==void 0&&/^\s+$/.test($[t+1])===false&&$[t+1]!==""&&$[t+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[t+1])===false){$[t+1]=`${$[t]} ${$[t+1]}`;R=true;}if(r===false&&Z===false&&N===false){if(R===true){R=false;}else if(/^\s*(\*|-|(\d+\.))\s*$/.test($[t])===false){if(t<o-1&&$[t+1]!==""&&/^\s+$/.test($[t])===false&&$[t+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[t+1])===false){$[t]=`${$[t]} ${$[t+1]}`;$.splice(t+1,1);o=o-1;t=t-1;}else {if(a.opening==="/*"&&$[t].indexOf("/*")!==0){f.push(`   ${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}else {f.push(`${$[t].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}}}}r=false;Z=false;N=false;}t=t+1;}while(t<o);if(f.length>0){if(f[f.length-1].length>c-(a.terminator.length+1)){f.push(a.terminator);}else {f[f.length-1]=`${f[f.length-1]} ${a.terminator}`;}C=f.join(E);}else {$[$.length-1]=$[$.length-1]+a.terminator;C=$.join(E);}return [C,y]}wrapCommentLine(a){let c=a.start;let s=0;let d="";let e=[];const{wrap:f,preserveComment:E}=I.options;function n(){let y="";do{s=s+1;if(a.chars[s+1]==="\n")return}while(s<a.end&&ue(a.chars[s])===true);if(a.chars[s]+a.chars[s+1]==="//"){e=[];do{e.push(a.chars[s]);s=s+1;}while(s<a.end&&a.chars[s]!=="\n");y=e.join("");if(/^\/\/ (\*|-|(\d+\.))/.test(y)===false&&y.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(y)===false){d=`${d} ${y.replace(/(^\/\/\s*)/,"").replace(/\s+$/,"")}`;c=s-1;n();}}}const F=()=>{const y=[];const t=re(null);t.ender=-1;t.types="comment";t.lexer=a.lexer;t.lines=this.linesSpace;if(this.count>-1){t.begin=this.structure[this.structure.length-1][1];t.stack=this.structure[this.structure.length-1][0];t.token=this.data.token[this.count];}else {t.begin=-1;t.stack="global";t.token="";}let k=0;let V=0;d=d.replace(/\s+/g," ").replace(/\s+$/,"");V=d.length;if(f>V)return;do{k=f;if(d.charAt(k)!==" "){do{k=k-1;}while(k>0&&d.charAt(k)!==" ");if(k<3){k=f;do{k=k+1;}while(k<V-1&&d.charAt(k)!==" ")}}y.push(d.slice(0,k));d=`// ${d.slice(k).replace(/^\s+/,"")}`;V=d.length;}while(f<V);k=0;V=y.length;do{t.token=y[k];this.push(this.data,t,"");t.lines=2;this.linesSpace=2;k=k+1;}while(k<V)};do{e.push(a.chars[c]);c=c+1;}while(c<a.end&&a.chars[c]!=="\n");if(c===a.end){a.chars.push("\n");}else {c=c-1;}d=e.join("").replace(/\s+$/,"");if(/^(\/\/\s*@prettify-ignore-start\b)/.test(d)===true){let y="\n";c=c+1;do{e.push(a.chars[c]);c=c+1;}while(c<a.end&&(a.chars[c-1]!=="d"||a.chars[c-1]==="d"&&e.slice(e.length-20).join("")!=="@prettify-ignore-end"));s=c;do{}while(s>a.start&&a.chars[s-1]==="/"&&(a.chars[s]==="*"||a.chars[s]==="/"));if(a.chars[s]==="*")y="*/";if(y!=="\n"||a.chars[c]!=="\n"){do{e.push(a.chars[c]);if(y==="\n"&&a.chars[c+1]==="\n")break;c=c+1;}while(c<a.end&&(y==="\n"||y==="*/"&&(a.chars[c-1]!=="*"||a.chars[c]!=="/")))}if(a.chars[c]==="\n")c=c-1;d=e.join("").replace(/\s+$/,"");return [d,c]}if(d==="//"||d.slice(0,6)==="//    "||E===true){return [d,c]}d=d.replace(/(\/\/\s*)/,"// ");if(f<1||c===a.end-1&&this.data.begin[this.count]<1)return [d,c];s=c+1;n();F();return [d,c]}};I.lexers.style=function i(a){const{options:c}=I;const{data:s}=l;const d=a.split("");const e=a.length;const f=[];const E=[];let n=0;let F="";let y="";function t(N){const r=re(null);r.begin=l.structure[l.structure.length-1][1];r.ender=-1;r.lexer="style";r.lines=l.linesSpace;r.stack=l.structure[l.structure.length-1][0];r.token=y;r.types=F;l.push(s,r,N);}function k(N){const r=N;do{N=N-1;}while(d[N]==="\\"&&N>0);return (r-N)%2===1}function V(N){const r=N.replace(/\s*!important/," !important").split("");const C=/-?transition$/.test(s.token[l.count-2]);const x=[];const P=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const m=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let b=0;let L=0;let S="";let X=r.length;let Y=[];const U=se=>{return se};const z=se=>{se=se.replace(/\s*/g,"");return /\/\d/.test(se)&&N.indexOf("url(")===0?se:` ${se.charAt(0)} ${se.charAt(1)}`};const te=se=>{if(c.style.noLeadZero===true){return se.replace(/^-?\D0+(\.|\d)/,W=>W.replace(/0+/,""))}else if(/0*\./.test(se)){return se.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(se)[0])){return /^\D*0+\D*$/.test(se)?se.replace(/0+/,"0"):se.replace(/\d+/.exec(se)[0],/\d+/.exec(se)[0].replace(/^0+/,""))}return se};const ee=se=>se.replace(",",", ");const D=se=>`${se} `;const ce=()=>{const se=b-1;let W=se;if(se<1)return true;do{W=W-1;}while(W>0&&r[W]==="\\");return (se-W)%2===1};if(b<X){do{Y.push(r[b]);if(r[b-1]!=="\\"||ce()===false){if(S===""){if(A(r[b],34)){S='"';L=L+1;}else if(A(r[b],39)){S="'";L=L+1;}else if(A(r[b],40)){S=")";L=L+1;}else if(A(r[b],91)){S="]";L=L+1;}}else if(A(r[b],40)&&A(S,41)||A(r[b],91)&&A(S,93)){L=L+1;}else if(r[b]===S){L=L-1;if(L===0)S="";}}if(S===""&&r[b]===" "){Y.pop();x.push(U(Y.join("")));Y=[];}b=b+1;}while(b<X)}x.push(U(Y.join("")));X=x.length;b=0;if(b<X){do{if(c.style.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(x[b])===true){x[b]=x[b].replace(/0+\./,".");}else if(c.style.noLeadZero===false&&/^-?\.\d+[a-z]/.test(x[b])){x[b]=x[b].replace(".","0.");}else if(P.test(x[b])||m.test(x[b])){x[b]=x[b].replace(P,te).replace(m,te);}else if(/^(0+([a-z]{2,3}|%))$/.test(x[b])&&C===false){x[b]="0";}else if(/^(0+)/.test(x[b])){x[b]=x[b].replace(/0+/,"0");if(/\d/.test(x[b].charAt(1)))x[b]=x[b].substr(1);}else if(/^url\((?!('|"))/.test(x[b])&&x[b].charCodeAt(x[b].length-1)===41){S=x[b].charAt(x[b].indexOf("url(")+4);if(S!=="@"&&ie(S,40)&&ie(S,60)){if(c.style.quoteConvert==="double"){x[b]=x[b].replace(/url\(/,'url("').replace(/\)$/,'")');}else {x[b]=x[b].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(x[b])){if(!ge.style.units.has(x[b].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,""))){x[b]=x[b].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,D);}}if(/^\w+\(/.test(x[b])&&x[b].charAt(x[b].length-1)===")"&&(x[b].indexOf("url(")!==0||x[b].indexOf("url(")===0&&x[b].indexOf(" ")>0)){x[b]=x[b].replace(/,\S/g,ee);}b=b+1;}while(b<X)}S=x.join(" ");return S.charAt(0)+S.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,z)}function o(){const N=[];const r=[];const C=c.style.quoteConvert;let x=n;let P=0;let m="";let b=null;const L=()=>{r.push(d[x]);if(ue(d[x+1])){do{x=x+1;}while(x<e&&ue(d[x+1]))}};if(x<e){do{if(A(d[x],34)||A(d[x],39)){if(b===null)b=false;if(N[N.length-1]===d[x]&&(d[x-1]!=="\\"||k(x-1)===false)){N.pop();if(C==="double"){d[x]='"';}else if(C==="single"){d[x]="'";}}else if(ie(N[N.length-1],34)&&ie(N[N.length-1],39)&&(d[x-1]!=="\\"||k(x-1)===false)){N.push(d[x]);if(C==="double"){d[x]='"';}else if(C==="single"){d[x]="'";}}else if(d[x-1]==="\\"&&C!=="none"){if(k(x-1)===true){if(C==="double"&&A(d[x],39)){r.pop();}else if(C==="single"&&A(d[x],34)){r.pop();}}}else if(C==="double"&&A(d[x],34)){d[x]='\\"';}else if(C==="single"&&A(d[x],39)){d[x]="\\'";}r.push(d[x]);}else if(d[x-1]!=="\\"||k(x-1)===false){if(A(d[x],40)){if(b===null)b=true;N.push(")");L();}else if(A(d[x],91)){b=false;N.push("]");L();}else if((A(d[x],35)||d[x]==="@")&&A(d[x+1],123)){b=false;r.push(d[x]);x=x+1;N.push("}");L();}else if(d[x]===N[N.length-1]){r.push(d[x]);N.pop();}else {r.push(d[x]);}}else {r.push(d[x]);}if(l.structure[l.structure.length-1][0]==="map"&&N.length===0&&(A(d[x+1],44)||A(d[x+1],41))){if(A(d[x+1],41)&&A(s.token[l.count],40)){l.pop(s);l.structure.pop();r.splice(0,0,"(");}else {break}}if(A(d[x+1],58)){P=x;if(ue(d[P]))do{P=P-1;}while(ue(d[P]));m=d.slice(P-6,P+1).join("");if(m.indexOf("filter")===m.length-6||m.indexOf("progid")===m.length-6){m="filter";}}if(N.length===0){if(A(d[x+1],59)&&k(x+1)===true||A(d[x+1],58)&&ie(d[x],58)&&ie(d[x+2],58)&&m!=="filter"&&m!=="progid"||(A(d[x+1],125)||A(d[x+1],123))||A(d[x+1],47)&&(A(d[x+2],42)||A(d[x+2],47))){P=r.length-1;if(ue(r[P])){do{P=P-1;x=x-1;r.pop();}while(ue(r[P]))}break}if(A(d[x+1],44))break}x=x+1;}while(x<e)}n=x;if(l.structure[l.structure.length-1][0]==="map"&&A(r[0],40)){f[f.length-1]=f[f.length-1]-1;}y=r.join("").replace(/\s+/g," ").replace(/^\s/,"").replace(/\s$/,"");if(b===true){y=y.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(l.count>-1&&s.token[l.count].indexOf("extend(")===0){F="pseudo";}else if(b===true&&/\d/.test(y.charAt(0))===false&&/^rgba?\(/.test(y)===false&&y.indexOf("url(")!==0&&(y.indexOf(" ")<0||y.indexOf(" ")>y.indexOf("("))&&y.charAt(y.length-1)===")"){if(s.token[l.count]===":"){F="value";}else {y=y.replace(/,\u0020?/g,", ");F="function";}y=V(y);}else if(l.count>-1&&`"'`.indexOf(s.token[l.count].charAt(0))>-1&&s.types[l.count]==="variable"){F="item";}else if(r[0]==="@"||r[0]==="$"){if(s.types[l.count]==="colon"&&c.language==="css"&&(s.types[l.count-1]==="property"||s.types[l.count-1]==="variable")){F="value";}else if(l.count>-1){F="item";m=s.token[l.count];x=m.indexOf("(");if(m.charAt(m.length-1)===")"&&x>0){m=m.slice(x+1,m.length-1);s.token[l.count]=s.token[l.count].slice(0,x+1)+V(m)+")";}}y=V(y);}else {F="item";}t("");}function $(N){let r=l.count;let C=0;let x="";const P=[];const m=()=>{if(l.count<0)return;if(r>0&&(s.types[r]==="comment"||s.types[r]==="ignore")){do{r=r-1;P.push(s.token[r]);}while(r>0&&s.lexer[r]==="style"&&(s.types[r]==="comment"||s.types[r]==="ignore"))}C=r-1;if(C>0&&(s.types[C]==="comment"||s.types[C]==="ignore")){do{C=C-1;}while(C>0&&s.lexer[r]==="style"&&(s.types[C]==="comment"||s.types[C]==="ignore"))}if(C<0)C=0;if(r<0)r=0;x=s.token[r].charAt(0);};function b(L){let S=L;const X=s.begin[S];s.token[L]=s.token[L].replace(/\s*&/," &").replace(/(\s*>\s*)/g," > ").replace(/(\s*\+\s*)/g," + ").replace(/:\s+/g,": ").replace(/^(\s+)/,"").replace(/(\s+)$/,"").replace(/\s+::\s+/,"::");if(A(s.token[S-1],44)||A(s.token[S-1],58)||s.types[S-1]==="comment"||s.types[S-1]==="pseudo"){if(s.types[S-1]==="pseudo"){s.token[S-1]=`${s.token[S-1]}${s.token[S]}`;s.types[S-1]="selector";l.splice({data:s,howmany:1,index:S});}else {do{S=S-1;if(s.begin[S]===X){if(A(s.token[S],59)||s.types[S].indexOf("template")>-1)break;if(ie(s.token[S],44)&&s.types[S]!=="comment"){s.types[S]="selector";}if(A(s.token[S],58)){if(ie(s.token[S-1],58)&&s.stack[r]==="global"&&(s.types[S-1]==="comment"||s.types[S-1]==="ignore"||s.types[S-1].indexOf("template")>-1)){s.token[S]=`${s.token[S]}${s.token[S+1]}`;l.pop(s);}else if(l.count===1){s.token[S]=`${s.token[S]}${s.token[S+1]}`;l.pop(s);}else if(s.types[S]==="selector"&&s.types[S+1]==="item"){s.token[S]=`${s.token[S]}${s.token[S+1]}`;l.pop(s);}else {s.token[S]=`${s.token[S-1]}:${s.token[S+1]}`;s.lines[S]=s.lines[S-1];l.splice({data:s,howmany:2,index:S});}}}else {break}}while(S>0)}}S=l.count;if(c.style.sortSelectors===true&&A(s.token[S-1],44)){const Y=[s.token[S]];do{S=S-1;if(s.types[S]==="comment"||s.types[S]==="ignore"){do{S=S-1;}while(S>0&&(s.types[S]==="comment"||s.types[S]==="ignore"))}if(A(s.token[S],44))S=S-1;Y.push(s.token[S]);}while(S>0&&(A(s.token[S-1],44)||s.types[S-1]==="selector"||s.types[S-1]==="comment"||s.types[S-1]==="ignore"));Y.sort();S=l.count;s.token[S]=Y.pop();do{S=S-1;if(s.types[S]==="comment"||s.types[S]==="ignore"){do{S=S-1;}while(S>0&&(s.types[S]==="comment"||s.types[S]==="ignore"))}if(A(s.token[S],44))S=S-1;s.token[S]=Y.pop();}while(S>0&&(A(s.token[S-1],44)||s.token[S-1]==="selector"||s.types[S-1]==="comment"||s.types[S-1]==="ignore"))}r=l.count;m();}m();if(N==="start"&&(s.types[r]==="value"||s.types[r]==="variable")){s.types[r]="item";}if(s.lexer[l.count-1]!=="style"||C<0){if(N==="colon"){if(x==="$"||x==="@"){s.types[r]="variable";}else {if(s.stack[r]!=="global"&&(s.types[r]!=="comment"||s.types[r]!=="ignore")){s.types[r]="property";}}}else if(s.lexer[r]==="style"){s.types[r]="selector";b(r);}}else if(N==="start"&&s.types[r]==="function"&&s.lexer[r]==="style"){s.types[r]="selector";b(r);}else if(s.types[r]==="item"&&s.lexer[r]==="style"){if(N==="start"){b(r);s.types[r]="selector";if(s.token[r]===":")s.types[C]="selector";if(s.token[r].indexOf("=\u201C")>0){l.error=`Invalid Quote (\u201C, \\201c) used on line number ${l.lineNumber}`;}else if(s.token[r].indexOf("=\u201D")>0){l.error=`Invalid Quote (\u201D, \\201d) used on line number ${l.lineNumber}`;}}else if(N==="end"){if(x==="$"||x==="@"){s.types[r]="variable";}else {s.types[r]="value";}s.token[r]=V(s.token[r]);}else if(N==="separator"){if(s.types[C]==="colon"||A(s.token[C],44)||A(s.token[C],123)){if(ie(d[n],59)&&(s.types[C]==="selector"||A(s.token[C],123))){s.types[r]="selector";b(r);}else if(s.token[r].charAt(0)==="$"||s.token[r].charAt(0)==="@"){s.types[r]="variable";}else {s.types[r]="value";}s.token[r]=V(s.token[r]);if(s.token[r].charAt(0)==="\u201C"){l.error=`Invalid Quote (\u201C, \\201c) used on line number ${l.lineNumber}`;}else if(s.token[r].charAt(0)==="\u201D"){l.error=`Invalid (\u201D, \\201d) used on line number ${l.lineNumber}`;}}else {if(x==="$"||x==="@"){s.types[r]="variable";}else if(s.types[C]==="value"||s.types[C]==="variable"){s.token[C]=s.token[C]+s.token[r];l.pop(s);}else {s.types[r]="value";}}}else if(N==="colon"){if(x==="$"||x==="@"){s.types[r]="variable";}else {s.types[r]="property";}}else if(s.token[C].charAt(0)==="@"&&(s.types[C-2]!=="variable"&&s.types[C-2]!=="property"||s.types[C-1]==="separator")){s.types[C]="variable";F="variable";s.token[C]=V(s.token[C]);}}}function j(){let N=l.count;do{N=N-1;}while(N>0&&s.types[N]==="comment");if(s.token[N]===";")return;l.splice({data:s,howmany:0,index:N+1,record:{begin:l.structure[l.structure.length-1][1],ender:-1,lexer:"style",lines:l.linesSpace,stack:l.structure[l.structure.length-1][0],token:";",types:"separator"}});}function p(N,r){const C=[];let x="";let P="";let m=0;let b=N.length;const L=S=>{const X=s.types[l.count-1];if(F==="item"){if(X==="colon"){s.types[l.count]="value";}else {$(X);}}F=S;if(F.indexOf("start")>-1||F.indexOf("else")>-1){t(y);}else {t("");}};E[E.length-1]=true;if(n<e){do{C.push(d[n]);if(x===""){if(d[n]==='"'){x='"';}else if(d[n]==="'"){x="'";}else if(d[n]==="/"){if(d[n+1]==="/"){x="/";}else if(d[n+1]==="*"){x="*";}}else if(d[n+1]===r.charAt(0)){do{m=m+1;n=n+1;C.push(d[n]);}while(n<e&&m<r.length&&d[n+1]===r.charAt(m));if(m===r.length){x=C.join("");if(ue(x.charAt(b))){do{b=b+1;}while(ue(x.charAt(b)))}m=b;do{m=m+1;}while(m<r.length&&!ue(x.charAt(m)));if(m===x.length)m=m-r.length;if(N==="{%"){if(x.indexOf("{%-")===0){x=x.replace(/^({%-\s*)/,"{%- ").replace(/(\s*-%})$/," -%}").replace(/(\s*%})$/," %}");P=x.slice(4);}else {x=x.replace(/^({%\s*)/,"{% ").replace(/(\s*%})$/," %}").replace(/(\s*-%})$/," -%}");P=x.slice(3);}}if(N==="{{"){x=x.replace(/^({{\s*)/,"{{ ").replace(/^({{-\s*)/,"{{- ").replace(/(\s*-}})$/," -}}").replace(/(\s*}})$/," }}");}if(F==="item"&&s.types[l.count-1]==="colon"&&(s.types[l.count-2]==="property"||s.types[l.count-2]==="variable")){F="value";s.types[l.count]="value";if(Number.isNaN(Number(s.token[l.count]))===true&&s.token[l.count].charAt(s.token[l.count].length-1)!==")"){s.token[l.count]=s.token[l.count]+x;}else {s.token[l.count]=s.token[l.count]+" "+x;}return}y=x;if(N==="{%"){const S=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];let X=S.length-1;P=P.slice(0,P.indexOf(" "));if(P.indexOf("(")>0){P=P.slice(0,P.indexOf("("));}if(P==="else"||P==="elseif"||P==="when"||P==="elsif"){L("template_else");return}X=S.length-1;if(X>-1){do{if(P===S[X]){L("template_start");return}if(P==="end"+S[X]){L("template_end");return}X=X-1;}while(X>-1)}}else if(N==="{{"){let S=x.slice(2);const X=S.length;let Y=0;do{Y=Y+1;}while(Y<X&&ue(S.charAt(Y))===false&&S.charCodeAt(b)!==40);S=S.slice(0,Y);if(S.charAt(S.length-2)==="}"){S=S.slice(0,S.length-2);}if(S==="end"){L("template_end");return}if(S==="block"||S==="define"||S==="form"||S==="if"||S==="range"||S==="with"){L("template_start");return}}L("template");return}m=0;}}else if(x===d[n]){if(A(x,34)||A(x,39)){x="";}else if(A(x,47)&&(d[n]==="\r"||d[n]==="\n")){x="";}else if(A(x,42)&&A(d[n+1],47)){x="";}}n=n+1;}while(n<e)}}function R(N){let r;if(N){r=l.wrapCommentLine({chars:d,end:e,lexer:"style",opening:"//",start:n,terminator:"\n"});y=r[0];F=/^(\/\/\s*@prettify-ignore-start)/.test(y)?"ignore":"comment";}else {r=l.wrapCommentBlock({chars:d,end:e,lexer:"style",opening:"/*",start:n,terminator:"*/"});y=r[0];F=/^(\/\*\s*@prettify-ignore-start)/.test(y)?"ignore":"comment";}t("");n=r[1];}function Z(){const N=l.linesSpace;const r=re(null);r.data=re(null);r.data.margin=["","","","",false];r.data.padding=["","","","",false];r.last=re(null);r.last.margin=0;r.last.padding=0;r.removes=[];const C=l.structure[l.structure.length-1][1];function x(L){if(s.token[m-2]===L){const S=s.token[m].replace(/\s*!important\s*/g,"").split(" ");const X=S.length;if(s.token[m].indexOf("!important")>-1)r.data[L[4]]=true;if(X>3){if(r.data[L][0]==="")r.data[L][0]=S[0];if(r.data[L][1]==="")r.data[L][1]=S[1];if(r.data[L][2]==="")r.data[L][2]=S[2];if(r.data[L][3]==="")r.data[L][3]=S[3];}else if(X>2){if(r.data[L][0]==="")r.data[L][0]=S[0];if(r.data[L][1]==="")r.data[L][1]=S[1];if(r.data[L][2]==="")r.data[L][2]=S[2];if(r.data[L][3]==="")r.data[L][3]=S[1];}else if(X>1){if(r.data[L][0]==="")r.data[L][0]=S[0];if(r.data[L][1]==="")r.data[L][1]=S[1];if(r.data[L][2]==="")r.data[L][2]=S[0];if(r.data[L][3]==="")r.data[L][3]=S[1];}else {if(r.data[L][0]==="")r.data[L][0]=S[0];if(r.data[L][1]==="")r.data[L][1]=S[0];if(r.data[L][2]==="")r.data[L][2]=S[0];if(r.data[L][3]==="")r.data[L][3]=S[0];}}else if(s.token[m-2]===`${L}-bottom`){if(r.data[L][2]==="")r.data[L][2]=s.token[m];}else if(s.token[m-2]===`${L}-left`){if(r.data[L][3]==="")r.data[L][3]=s.token[m];}else if(s.token[m-2]===`${L}-right`){if(r.data[L][1]==="")r.data[L][1]=s.token[m];}else if(s.token[m-2]===`${L}-top`){if(r.data[L][0]==="")r.data[L][0]=s.token[m];}else {return}r.removes.push([m,L]);r.last[L]=m;}function P(){let L=0;let S="";const X=/^(0+([a-z]+|%))/;const Y=r.removes.length;const U=r.data.margin[0]!==""&&r.data.margin[1]!==""&&r.data.margin[2]!==""&&r.data.margin[3]!=="";const z=r.data.padding[0]!==""&&r.data.padding[1]!==""&&r.data.padding[2]!==""&&r.data.padding[3]!=="";function te(ee){if(X.test(r.data[ee][0])===true)r.data[ee][0]="0";if(X.test(r.data[ee][1])===true)r.data[ee][1]="0";if(X.test(r.data[ee][2])===true)r.data[ee][2]="0";if(X.test(r.data[ee][3])===true)r.data[ee][3]="0";if(r.data[ee][0]===r.data[ee][1]&&r.data[ee][0]===r.data[ee][2]&&r.data[ee][0]===r.data[ee][3]){S=r.data[ee][0];}else if(r.data[ee][0]===r.data[ee][2]&&r.data[ee][1]===r.data[ee][3]&&r.data[ee][0]!==r.data[ee][1]){S=`${r.data[ee][0]} ${r.data[ee][1]}`;}else if(r.data[ee][1]===r.data[ee][3]&&r.data[ee][0]!==r.data[ee][2]){S=`${r.data[ee][0]} ${r.data[ee][1]} ${r.data[ee][2]}`;}else {S=`${r.data[ee][0]} ${r.data[ee][1]} ${r.data[ee][2]} ${r.data[ee][3]}`;}if(r.data[ee[4]]===true)S=`${S.replace(" !important","")} !important`;if(r.last[ee]>l.count){L=C<1?1:C+1;do{if(s.begin[L]===C&&s.types[L]==="value"&&s.token[L-2].indexOf(ee)===0){r.last[ee]=L;break}L=L+1;}while(L<l.count)}s.token[r.last[ee]]=S;s.token[r.last[ee]-2]=ee;}if(Y>1&&(U===true||z===true)){do{if(r.removes[L][0]!==r.last.margin&&r.removes[L][0]!==r.last.padding&&(U===true&&r.removes[L][1]==="margin"||z===true&&r.removes[L][1]==="padding")){l.splice({data:s,howmany:s.types[r.removes[L][0]+1]==="separator"?4:3,index:r.removes[L][0]-2});}L=L+1;}while(L<Y-1)}if(U===true)te("margin");if(z===true)te("padding");if(b===true){if(C<0){l.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {l.sortCorrection(C,l.count+1);}}}let m=l.count;let b=false;do{m=m-1;if(s.begin[m]===C){if(s.types[m]==="value"&&s.types[m-2]==="property"){if(s.token[m-2].indexOf("margin")===0){x("margin");}else if(s.token[m-2].indexOf("padding")===0){x("padding");}}}else {b=true;m=s.begin[m];}}while(m>C);P();l.linesSpace=N;}do{if(ue(d[n])){n=l.spacer({array:d,end:e,index:n});}else if(A(d[n],47)&&A(d[n+1],42)){R(false);}else if(A(d[n],47)&&A(d[n+1],47)){R(true);}else if(A(d[n],123)&&A(d[n+1],37)){p("{%","%}");}else if(A(d[n],123)&&A(d[n+1],123)){p("{{","}}");}else if(A(d[n],123)||A(d[n],40)&&A(s.token[l.count],58)&&s.types[l.count-1]==="variable"){$("start");F="start";y=d[n];if(A(d[n],40)){t("map");f.push(0);}else if(s.types[l.count]==="selector"||s.types[l.count]==="variable"){t(s.token[l.count]);}else if(s.types[l.count]==="colon"){t(s.token[l.count-1]);}else {t("block");}E.push(false);}else if(A(d[n],125)||d[n]===")"&&l.structure[l.structure.length-1][0]==="map"&&f[f.length-1]===0){if(A(d[n],125)&&A(s.token[l.count-1],123)&&s.types[l.count]==="item"&&s.token[l.count-2]!==void 0&&s.token[l.count-2].charAt(s.token[l.count-2].length-1)==="@"){s.token[l.count-2]=s.token[l.count-2]+"{"+s.token[l.count]+"}";l.pop(s);l.pop(s);l.structure.pop();}else {if(A(d[n],41))f.pop();$("end");if(A(d[n],125)&&ie(s.token[l.count],59)){if(s.types[l.count]==="value"||s.types[l.count]==="function"||s.types[l.count]==="variable"&&(A(s.token[l.count-1],58)||A(s.token[l.count-1],59))){if(c.style.correct===true){y=";";}else {y="x;";}F="separator";t("");}else if(s.types[l.count]==="comment"){j();}}E.pop();y=d[n];F="end";if(A(d[n],125))Z();if(c.style.sortProperties===true&&A(d[n],125))l.objectSort(s);t("");}}else if(A(d[n],59)||A(d[n],44)){if(s.types[l.count-1]==="selector"||s.types[l.count]!=="function"&&A(s.token[l.count-1],125)){$("start");}else {$("separator");}if(s.types[l.count]!=="separator"&&k(n)===true){y=d[n];F="separator";t("");}}else if(A(d[n],58)&&s.types[l.count]!=="end"){if(A(d[n+1],58)){n=n+1;$("pseudo");y="::";F="pseudo";t("");}else {$("colon");y=":";F="colon";t("");}}else {if(l.structure[l.structure.length-1][0]==="map"&&A(d[n],40)){f[f.length-1]=f[f.length-1]+1;}o();}n=n+1;}while(n<e);if(c.style.sortProperties===true)l.objectSort(s);return s};I.lexers.script=function i(a){const{options:c}=I;if(c.language==="json")c.script.quoteConvert="double";let s=0;let d="";let e="";let f=[];let E=0;let n=-1;let F=-1;let y=[];let t;let k;let V;const o=l.data;const $=l.references;const j=a.length;const p=a.split("");const R=[];const Z=[];const N=[];const r=[0,""];const C=[false];const x=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const P=re(null);P.count=[];P.index=[];P.len=-1;P.word=[];function m(h){let u=0;const v=D(1,false);const w=l.structure.length===0?"":l.structure[l.structure.length-1][0];const g=re(null);g.begin=o.begin[l.count];g.ender=o.begin[l.count];g.lexer=o.lexer[l.count];g.lines=o.lines[l.count];g.stack=o.stack[l.count];g.token=o.token[l.count];g.types=o.types[l.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(d))return;if(e==="start"||e==="type_start")return;if(c.language==="json")return;if(g.token===";"||g.token===","||g.stack==="class"||g.stack==="map"||g.stack==="attribute"||o.types[g.begin-1]==="generic"||v==="{"||w==="initializer"){return}if(g.token==="}"&&o.stack[g.begin-1]==="global"&&o.types[g.begin-1]!=="operator"&&g.stack===o.stack[l.count-1]){return}if(g.stack==="array"&&g.token!=="]")return;if(o.token[o.begin[l.count]]==="{"&&g.stack==="data_type")return;if(g.types!==void 0&&g.types.indexOf("template")>-1&&g.types.indexOf("template_string")<0){return}if(v===";"&&h===false)return;if(o.lexer[l.count-1]!=="script"&&(s<j&&j===I.source.length-1||j<I.source.length-1)){return}if(g.token==="}"&&(g.stack==="function"||g.stack==="if"||g.stack==="else"||g.stack==="for"||g.stack==="do"||g.stack==="while"||g.stack==="switch"||g.stack==="class"||g.stack==="try"||g.stack==="catch"||g.stack==="finally"||g.stack==="block")){if(g.stack==="function"&&(o.stack[g.begin-1]==="data_type"||o.types[g.begin-1]==="type")){u=g.begin;do{u=u-1;}while(u>0&&o.token[u]!==")"&&o.stack[u]!=="arguments");u=o.begin[u];}else {u=o.begin[g.begin-1];}if(o.token[u]==="("){u=u-1;if(o.token[u-1]==="function")u=u-1;if(o.stack[u-1]==="object"||o.stack[u-1]==="switch")return;if(o.token[u-1]!=="="&&o.token[u-1]!=="return"&&o.token[u-1]!==":"){return}}else {return}}if(g.types==="comment"||w==="method"||w==="paren"||w==="expression"||w==="array"||w==="object"||w==="switch"&&g.stack!=="method"&&o.token[o.begin[l.count]]==="("&&o.token[o.begin[l.count]-1]!=="return"&&o.types[o.begin[l.count]-1]!=="operator"){return}if(o.stack[l.count]==="expression"&&(o.token[o.begin[l.count]-1]!=="while"||o.token[o.begin[l.count]-1]==="while"&&o.stack[o.begin[l.count]-2]!=="do")){return}if(v!==""&&"=<>+*?|^:&%~,.()]".indexOf(v)>-1&&h===false)return;if(g.types==="comment"){u=l.count;do{u=u-1;}while(u>0&&o.types[u]==="comment");if(u<1)return;g.token=o.token[u];g.types=o.types[u];g.stack=o.stack[u];}if(g.token===void 0||g.types==="start"||g.types==="separator"||g.types==="operator"&&g.token!=="++"&&g.token!=="--"||g.token==="x}"||g.token==="var"||g.token==="let"||g.token==="const"||g.token==="else"||g.token.indexOf("#!/")===0||g.token==="instanceof"){return}if(g.stack==="method"&&(o.token[g.begin-1]==="function"||o.token[g.begin-2]==="function")){return}if(c.script.variableList==="list")P.index[P.len]=l.count;d=c.script.correct===true?";":"x;";e="separator";u=l.linesSpace;l.linesSpace=0;G("");l.linesSpace=u;X();}function b(){let h=l.count;do{h=h-1;}while(h>-1&&o.token[h]==="x}");if(o.stack[h]==="else")return G("");h=h+1;l.splice({data:o,howmany:0,index:h,record:{begin:o.begin[h],ender:-1,lexer:"script",lines:l.linesSpace,stack:o.stack[h],token:d,types:e}});G("");}function L(){let h=l.count;if(o.types[h]==="comment"){do{h=h-1;}while(h>0&&o.types[h]==="comment")}if(o.token[h]==="from")h=h-2;if(o.token[h]==="x;"){l.splice({data:o,howmany:1,index:h});}}function S(){m(false);if(n>-1)q();V=l.wrapCommentBlock({chars:p,end:j,lexer:"script",opening:"/*",start:s,terminator:"*/"});s=V[1];if(o.token[l.count]==="var"||o.token[l.count]==="let"||o.token[l.count]==="const"){t=l.pop(o);G("");l.push(o,t,"");if(o.lines[l.count-2]===0)o.lines[l.count-2]=o.lines[l.count];o.lines[l.count]=0;}else if(V[0]!==""){d=V[0];e=/^\/\*\s*@ignore\s*\bstart\b/.test(d)?"ignore":"comment";if(d.indexOf("# sourceMappingURL=")===2){r[0]=l.count+1;r[1]=d;}l.push(o,{begin:l.structure[l.structure.length-1][1],ender:-1,lexer:"script",lines:l.linesSpace,stack:l.structure[l.structure.length-1][0],token:d,types:e},"");}if(/\/\*\s*global\s+/.test(o.token[l.count])===true&&o.types.indexOf("word")<0){$[0]=o.token[l.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function X(){let h="";const u=D(5,false);const v=l.count;const w=l.linesSpace;if(c.language==="json"||Z.length<1||Z[Z.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(d)===false){return}if(o.stack[l.count]==="do"&&u==="while"&&o.token[l.count]==="}"){return}if(d===";"&&o.token[v-1]==="x{"){h=o.token[o.begin[v-2]-1];if(o.token[v-2]==="do"||o.token[v-2]===")"&&"ifforwhilecatch".indexOf(h)>-1){t=l.pop(o);d=c.script.correct===true?"}":"x}";e="end";k=l.structure[l.structure.length-1];G("");Z.pop();l.linesSpace=w;return}t=l.pop(o);d=c.script.correct===true?"}":"x}";e="end";k=l.structure[l.structure.length-1];G("");Z.pop();d=";";e="end";l.push(o,t,"");l.linesSpace=w;return}d=c.script.correct===true?"}":"x}";e="end";if(o.token[l.count]==="x}")return;if(o.stack[l.count]==="if"&&(o.token[l.count]===";"||o.token[l.count]==="x;")&&u==="else"){k=l.structure[l.structure.length-1];G("");Z.pop();l.linesSpace=w;return}do{k=l.structure[l.structure.length-1];G("");Z.pop();if(o.stack[l.count]==="do")break}while(Z[Z.length-1]==="x{");l.linesSpace=w;}function Y(){let h=l.count;if(o.stack[h]==="object"&&c.script.objectSort===true){d=",";e="separator";L();G("");}else {do{h=h-1;}while(h>0&&o.types[h-1]==="comment");l.splice({data:o,howmany:0,index:h,record:{begin:o.begin[h],ender:-1,lexer:"script",lines:l.linesSpace,stack:o.stack[h],token:",",types:"separator"}});G("");}}function U(h){let u=false;let v=false;const w=D(1,false);const g=o.token[l.count]==="("?l.count:o.begin[l.count];function B(){let O=0;const _=o.token[g-1]==="Array";const T=_===true?"[":"{";const Q=_===true?"]":"}";const K=_===true?"array":"object";if(_===true&&o.types[l.count]==="number"){O=Number(o.token[l.count]);t=l.pop(o);}t=l.pop(o);t=l.pop(o);t=l.pop(o);l.structure.pop();d=T;e="start";G(K);if(O>0){d=",";e="separator";do{G("");O=O-1;}while(O>0)}d=Q;e="end";G("");}if(n>-1)q();if(N.length>0){if(N[N.length-1]===0){N.pop();}else {N[N.length-1]=N[N.length-1]-1;}}if(h===")"||h==="x)"||h==="]"){if(c.script.correct===true)W();L();}if(h===")"||h==="x)")m(false);if(P.len>-1){if(h==="}"&&(c.script.variableList==="list"&&P.count[P.len]===0||o.token[l.count]==="x;"&&c.script.variableList==="each")){xe();}P.count[P.len]=P.count[P.len]-1;if(P.count[P.len]<0)xe();}if(d===","&&o.stack[l.count]!=="initializer"&&(h==="]"&&o.token[l.count-1]==="["||h==="}")){t=l.pop(o);}if(h===")"||h==="x)"){d=h;if(R.length>0){f=R[R.length-1];if(f.length>1&&w!=="{"&&(f[0]==="if"||f[0]==="for"||f[0]==="with"||f[0]==="while"&&o.stack[f[1]-2]!==void 0&&o.stack[f[1]-2]!=="do")){u=true;}}}else if(h==="]"){d="]";}else if(h==="}"){if(d!==","&&c.script.correct===true)W();if(l.structure.length>0&&l.structure[l.structure.length-1][0]!=="object")m(true);if((c.script.objectSort===true||c.language==="json"&&c.json.objectSort===true)&&l.structure[l.structure.length-1][0]==="object"){l.objectSort(o);}if(e==="comment"){d=o.token[l.count];e=o.types[l.count];}d="}";}if(l.structure[l.structure.length-1][0]==="data_type"){e="type_end";}else {e="end";}R.pop();k=l.structure[l.structure.length-1];if(h===")"&&c.script.correct===true&&g-l.count<2&&(o.token[l.count]==="("||o.types[l.count]==="number")&&(o.token[g-1]==="Array"||o.token[g-1]==="Object")&&o.token[g-2]==="new"){B();v=true;}if(Z[Z.length-1]==="x{"&&h==="}"){X();Z.pop();if(o.stack[l.count]!=="try"){if(w!==":"&&w!==";"&&o.token[o.begin[s]-1]!=="?")X();}d="}";}else {Z.pop();}if(c.script.endComma!==void 0&&c.script.endComma!=="none"&&l.structure[l.structure.length-1][0]==="array"||l.structure[l.structure.length-1][0]==="object"||l.structure[l.structure.length-1][0]==="data_type"){if(c.script.endComma==="always"&&o.token[l.count]!==","){const O=l.structure[l.structure.length-1][1];let _=l.count;do{if(o.begin[_]===O){if(o.token[_]===",")break}else {_=o.begin[_];}_=_-1;}while(_>O);if(_>O){const T=e;const Q=d;d=",";e="separator";G("");d=Q;e=T;}}else if(c.script.endComma==="never"&&o.token[l.count]===","){l.pop(o);}}if(v===false){G("");if(d==="}"&&o.stack[l.count]!=="object"&&o.stack[l.count]!=="class"&&o.stack[l.count]!=="data_type"){$.pop();X();}}if(u===true){d=c.script.correct===true?"{":"x{";e="start";G(f[0]);Z.push("x{");f[1]=l.count;}C.pop();if(l.structure[l.structure.length-1][0]!=="data_type")C[C.length-1]=false;}function z(h,u,v){let w=0;let g=false;let B=false;let O=[h];let _;const T=u.split("");const Q=T.length;const K=s;const ne=s+h.length;const H=c.script.quoteConvert===void 0?"none":c.script.quoteConvert;function fe(){let pe=0;O=[];e=v;w=s;if(v==="string"&&/\s/.test(p[w+1])===true){pe=1;do{w=w+1;if(p[w]==="\n")pe=pe+1;}while(w<j&&/\s/.test(p[w+1])===true);l.linesSpace=pe;}}function oe(){let pe="";function he(J){if(c.language!=="javascript"&&c.language!=="typescript"&&c.language!=="jsx"&&c.language!=="tsx"){const le=ae=>ae.replace(/\s*$/," ");const be=ae=>ae.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(J)||/\}%(>|\])/.test(J))return J;J=J.replace(/\{((\{+)|%-?)\s*/g,le);J=J.replace(/\s*((\}\}+)|(-?%\}))/g,be);return J}return J}if(h==='"'&&H==="single"){O[0]="'";O[O.length-1]="'";}else if(h==="'"&&H==="double"){O[0]='"';O[O.length-1]='"';}else if(g===true){pe=O[O.length-1];O.pop();O.pop();O.push(pe);}s=w;if(u==="\n"){s=s-1;O.pop();}d=O.join("");if(h==='"'||h==="'"||h==="{{"||h==="{%"){d=he(d);}if(h==="{%"||h==="{{"){_=Oe(d);e=_[0];G(_[1]);return}if(v==="string"){e="string";if(c.language==="json"){d=d.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(h.indexOf("#!")===0){d=d.slice(0,d.length-1);l.linesSpace=2;}else if(l.structure[l.structure.length-1][0]!=="object"||l.structure[l.structure.length-1][0]==="object"&&D(1,false)!==":"&&o.token[l.count]!==","&&o.token[l.count]!=="{"){if(d.length>c.wrap&&c.wrap>0||c.wrap!==0&&o.token[l.count]==="+"&&(o.token[l.count-1].charAt(0)==='"'||o.token[l.count-1].charAt(0)==="'")){let J=d;let le="";let be=H==="double"?'"':H==="single"?"'":J.charAt(0);const ae=c.wrap;const Se=/u[0-9a-fA-F]{4}/;const je=/x[0-9a-fA-F]{2}/;J=J.slice(1,J.length-1);if(o.token[l.count]==="+"&&(o.token[l.count-1].charAt(0)==='"'||o.token[l.count-1].charAt(0)==="'")){l.pop(o);be=o.token[l.count].charAt(0);J=o.token[l.count].slice(1,o.token[l.count].length-1)+J;l.pop(o);}if(J.length>ae&&ae>0){do{le=J.slice(0,ae);if(le.charAt(ae-5)==="\\"&&Se.test(J.slice(ae-4,ae+1))){le=le.slice(0,ae-5);}else if(le.charAt(ae-4)==="\\"&&Se.test(J.slice(ae-3,ae+2))){le=le.slice(0,ae-4);}else if(le.charAt(ae-3)==="\\"&&(Se.test(J.slice(ae-2,ae+3))||je.test(J.slice(ae-2,ae+1)))){le=le.slice(0,ae-3);}else if(le.charAt(ae-2)==="\\"&&(Se.test(J.slice(ae-1,ae+4))||je.test(J.slice(ae-1,ae+2)))){le=le.slice(0,ae-2);}else if(le.charAt(ae-1)==="\\"){le=le.slice(0,ae-1);}le=be+le+be;J=J.slice(le.length-2);d=le;e="string";G("");l.linesSpace=0;d="+";e="operator";G("");}while(J.length>ae)}if(J===""){d=be+be;}else {d=be+J+be;}e="string";}}}else if(/\{\s*\?>$/.test(d)){e="template_start";}else {e=v;}if(d.length>0)G("");}if(n>-1)q();if(p[s-1]==="\\"&&M(s-1)===true&&(p[s]==='"'||p[s]==="'")){l.pop(o);if(o.token[0]==="{"){if(p[s]==='"'){h='"';u='\\"';O=['"'];}else {h="'";u="\\'";O=["'"];}g=true;}else {if(p[s]==='"'){O=['\\"'];oe();return}O=["\\'"];oe();return}}w=ne;if(w<j){do{if(o.token[0]!=="{"&&o.token[0]!=="["&&H!=="none"&&(p[w]==='"'||p[w]==="'")){if(p[w-1]==="\\"){if(M(w-1)===true){if(H==="double"&&p[w]==="'"){O.pop();}else if(H==="single"&&p[w]==='"'){O.pop();}}}else if(H==="double"&&p[w]==='"'&&p[s]==="'"){p[w]='\\"';}else if(H==="single"&&p[w]==="'"&&p[s]==='"'){p[w]="\\'";}O.push(p[w]);}else if(w>K){B=true;if(p[w]==="{"&&p[w+1]==="%"&&p[w+2]!==h){oe();z("{%","%}","template");fe();}else if(p[w]==="{"&&p[w+1]==="{"&&p[w+2]!==h){oe();z("{{","}}","template");fe();}else {B=false;O.push(p[w]);}}else {O.push(p[w]);}if((h==='"'||h==="'")&&(B===true||w>K)&&c.language!=="json"&&p[w-1]!=="\\"&&p[w]!=='"'&&p[w]!=="'"&&(p[w]==="\n"||w===j-1)){l.error="Unterminated string in script on line number "+l.lineNumber;break}if(p[w]===T[Q-1]&&(p[w-1]!=="\\"||M(w-1)===false)){if(Q===1)break;if(O[w-ne]===T[0]&&O.slice(w-ne-Q+2).join("")===u)break}w=w+1;}while(w<j)}oe();}function te(){m(false);X();if(n>-1)q();V=l.wrapCommentLine({chars:p,end:j,lexer:"script",opening:"//",start:s,terminator:"\n"});s=V[1];if(V[0]!==""){d=V[0];e=/^(\/\/\s*@prettify-ignore-start)/.test(d)?"ignore":"comment";if(d.indexOf("# sourceMappingURL=")===2){r[0]=l.count+1;r[1]=d;}l.push(o,{begin:l.structure[l.structure.length-1][1],ender:-1,lexer:"script",lines:l.linesSpace,stack:l.structure[l.structure.length-1][0],token:d,types:e},"");}}function ee(){let h=0;let u=false;let v=false;let w=0;let g=0;let B=0;let O="";let _="";let T="";const Q=[];const K=C[C.length-1];const ne="0123456789=<>+-*?|^:&.,;%(){}[]~";function H(){if(d==="(")l.structure[l.structure.length-1]=["paren",l.count];I.lexers.markup(Q.join(""));}if(n>-1)q();_=l.count>0?o.token[l.count-1]:"";T=l.count>0?o.types[l.count-1]:"";O=D(1,false);if(c.language!=="jsx"&&c.language!=="tsx"&&/\d/.test(O)===false&&(d==="function"||_==="=>"||_==="void"||_==="."||o.stack[l.count]==="arguments"||e==="type"&&_==="type"||e==="reference"&&(T==="operator"||_==="function"||_==="class"||_==="new")||e==="type"&&T==="operator"||d==="return"||e==="operator")){const fe=[];let oe=0;let pe=0;h=s;do{fe.push(p[h]);if(p[h]==="<"){oe=oe+1;}else if(p[h]===">"){oe=oe-1;if(oe<1)break}h=h+1;}while(h<j);pe=s;s=h;O=D(1,false);if(p[h]===">"&&(K===true||_==="=>"||_==="."||T!=="operator"||T==="operator"&&(O==="("||O==="="))){e="generic";d=fe.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");G("");return}s=pe;}h=l.count;if(o.types[h]==="comment"){do{h=h-1;}while(h>0&&o.types[h]==="comment")}if(K===false&&D(1,false)!==">"&&(p[s]!=="<"&&ne.indexOf(p[s+1])>-1||o.token[h]==="++"||o.token[h]==="--"||/\s/.test(p[s+1])===true||/\d/.test(p[s+1])===true&&(e==="operator"||e==="string"||e==="number"||e==="reference"||e==="word"&&d!=="return"))){e="operator";d=se();return G("")}if(c.language!=="typescript"&&(o.token[h]==="return"||o.types[h]==="operator"||o.types[h]==="start"||o.types[h]==="separator"||o.types[h]==="jsx_attribute_start"||o.token[h]==="}"&&l.structure[l.structure.length-1][0]==="global")){e="markup";c.language="jsx";do{Q.push(p[s]);if(p[s]==="{"){g=g+1;u=true;}else if(p[s]==="}"){g=g-1;if(g===0)u=false;}else if(p[s]==="<"&&u===false){if(p[s+1]==="<"){do{Q.push(p[s]);s=s+1;}while(s<j&&p[s+1]==="<")}w=w+1;if(D(1,false)==="/")v=true;}else if(p[s]===">"&&u===false){if(p[s+1]===">"){do{Q.push(p[s]);s=s+1;}while(p[s+1]===">")}w=w-1;if(v===true){B=B-1;}else if(p[s-1]!=="/"){B=B+1;}if(w===0&&g===0&&B<1){O=D(2,false);if(O.charAt(0)!=="<")return H();if(O.charAt(0)==="<"&&ne.indexOf(O.charAt(1))<0&&/\s/.test(O.charAt(1))===false){h=s+1;do{h=h+1;if(p[h]===">"||/\s/.test(p[h-1])&&ne.indexOf(p[h])<0)break;if(ne.indexOf(p[h])>-1)return H()}while(h<j)}else {return H()}}v=false;}s=s+1;}while(s<j);return H()}e="operator";d=se();G("");}function D(h,u){let v=u===true?s:s+1;let w="";if(typeof h!=="number"||h<1)h=1;if(p[s]==="/"){if(p[s+1]==="/"){w="\n";}else if(p[s+1]==="*"){w="/";}}if(v<j){do{if(/\s/.test(p[v])===false){if(p[v]==="/"){if(w===""){if(p[v+1]==="/"){w="\n";}else if(p[v+1]==="*"){w="/";}}else if(w==="/"&&p[v-1]==="*"){w="";}}if(w===""&&p[v-1]+p[v]!=="*/")return p.slice(v,v+h).join("")}else if(w==="\n"&&p[v]==="\n"){w="";}v=v+1;}while(v<j)}return ""}function ce(){const h=j;const u=[p[s]];let v=0;let w=/zz/;let g=u[0]===".";if(s<j-2&&p[s]==="0"){if(p[s+1]==="x"){w=/[0-9a-fA-F]/;}else if(p[s+1]==="o"){w=/[0-9]/;}else if(p[s+1]==="b"){w=/0|1/;}if(w.test(p[s+2])===true){u.push(p[s+1]);v=s+1;do{v=v+1;u.push(p[v]);}while(w.test(p[v+1])===true);s=v;return u.join("")}}v=s+1;if(v<h){do{if(/[0-9]/.test(p[v])||p[v]==="."&&g===false){u.push(p[v]);if(p[v]===".")g=true;}else {break}v=v+1;}while(v<h)}if(v<h-1&&(/\d/.test(p[v-1])===true||/\d/.test(p[v-2])===true&&(p[v-1]==="-"||p[v-1]==="+"))&&(p[v]==="e"||p[v]==="E")){u.push(p[v]);if(p[v+1]==="-"||p[v+1]==="+"){u.push(p[v+1]);v=v+1;}g=false;v=v+1;if(v<h){do{if(/[0-9]/.test(p[v])||p[v]==="."&&g===false){u.push(p[v]);if(p[v]===".")g=true;}else {break}v=v+1;}while(v<h)}}s=v-1;return u.join("")}function se(){let h=0;let u=0;let v=j;let w="";const g=["=","<",">","+","*","?","|","^",":","&","%","~"];const B=g.length;if(n>-1)q();if(p[s]==="/"&&(l.count>-1&&(e!=="word"&&e!=="reference"||d==="typeof"||d==="return"||d==="else")&&e!=="number"&&e!=="string"&&e!=="end")){if(d==="return"||d==="typeof"||d==="else"||e!=="word"){d=ve();e="regex";}else {d="/";e="operator";}G("");return "regex"}if(p[s]==="?"&&("+-*/.?".indexOf(p[s+1])>-1||p[s+1]===":"&&g.join("").indexOf(p[s+2])<0)){if(p[s+1]==="."&&/\d/.test(p[s+2])===false){w="?.";}else if(p[s+1]==="?"){w="??";}if(w==="")return "?"}if(p[s]===":"&&"+-*/".indexOf(p[s+1])>-1)return ":";if(s<j-1){if(p[s]!=="<"&&p[s+1]==="<")return p[s];if(p[s]==="!"&&p[s+1]==="/")return "!";if(p[s]==="-"){C[C.length-1]=false;if(p[s+1]==="-"){w="--";}else if(p[s+1]==="="){w="-=";}else if(p[s+1]===">"){w="->";}if(w==="")return "-"}if(p[s]==="+"){C[C.length-1]=false;if(p[s+1]==="+"){w="++";}else if(p[s+1]==="="){w="+=";}if(w==="")return "+"}if(p[s]==="="&&p[s+1]!=="="&&p[s+1]!=="!"&&p[s+1]!==">"){C[C.length-1]=false;return "="}}if(p[s]===":"){if(c.language==="typescript"){if(o.stack[l.count]==="arguments"){if(o.token[l.count]==="?"){l.pop(o);w="?:";s=s-1;}C[C.length-1]=true;}else if(d===")"&&(o.token[o.begin[l.count]-1]==="function"||o.token[o.begin[l.count]-2]==="function")){C[C.length-1]=true;}else if(e==="reference"){h=l.count;let O=false;do{if(o.begin[h]===o.begin[l.count]){if(h<l.count&&o.token[h]===":"&&o.types[h+1]!=="type")O=true;if(o.token[h]==="?"&&O===false)break;if(o.token[h]===";"||o.token[h]==="x;")break;if(o.token[h]==="var"||o.token[h]==="let"||o.token[h]==="const"||o.types[h]==="type"){C[C.length-1]=true;break}}else {if(o.types[h]==="type_end"){C[C.length-1]=true;break}h=o.begin[h];}h=h-1;}while(h>o.begin[l.count])}}else if(o.token[l.count-1]==="["&&(o.types[l.count]==="word"||o.types[l.count]==="reference")){l.structure[l.structure.length-1][0]="attribute";o.stack[l.count]="attribute";}}if(w===""){if(p[s+1]==="+"&&p[s+2]==="+"||p[s+1]==="-"&&p[s+2]==="-"){w=p[s];}else {const O=[p[s]];h=s+1;if(h<v){do{if(p[h]==="+"&&p[h+1]==="+"||p[h]==="-"&&p[h+1]==="-")break;u=0;if(u<B){do{if(p[h]===g[u]){O.push(g[u]);break}u=u+1;}while(u<B)}if(u===B)break;h=h+1;}while(h<v)}w=O.join("");}}s=s+(w.length-1);if(w==="=>"&&d===")"){h=l.count;v=o.begin[h];do{if(o.begin[h]===v)o.stack[h]="method";h=h-1;}while(h>v-1)}return w}function W(){let h=true;let u="+";let v="";let w="";let g="";let B=0;let O=0;let _=0;let T="";const Q=[];function K(){_=o.begin[_]-1;if(o.types[_]==="end"){K();}else if(o.token[_-1]==="."){ne();}}function ne(){_=_-2;if(o.types[_]==="end"){K();}else if(o.token[_-1]==="."){ne();}}function H(){let oe=0;const pe=Q.length;if(oe<pe){do{l.push(o,Q[oe],"");oe=oe+1;}while(oe<pe)}}function fe(oe){const pe=re(null);pe.begin=o.begin[oe];pe.ender=o.ender[oe];pe.lexer=o.lexer[oe];pe.lines=o.lines[oe];pe.stack=o.stack[oe];pe.token=o.token[oe];pe.types=o.types[oe];return pe}v=o.token[l.count];w=o.token[l.count-1];g=o.token[l.count-2];if(v!=="++"&&v!=="--"&&w!=="++"&&w!=="--"){_=l.count;if(o.types[_]==="end"){K();}else if(o.token[_-1]==="."){ne();}}if(o.token[_-1]==="++"||o.token[_-1]==="--"){if("startendoperator".indexOf(o.types[_-2])>-1)return;B=_;if(B<l.count+1){do{Q.push(fe(B));B=B+1;}while(B<l.count+1);l.splice({data:o,howmany:l.count-_,index:_});}}else {if(c.script.correct===false||v!=="++"&&v!=="--"&&w!=="++"&&w!=="--"){return}T=D(1,false);if((v==="++"||v==="--")&&(p[s]===";"||T===";"||p[s]==="}"||T==="}"||p[s]===")"||T===")")){u=o.stack[l.count];if(u==="array"||u==="method"||u==="object"||u==="paren"||u==="notation"||o.token[o.begin[l.count]-1]==="while"&&u!=="while"){return}B=l.count;do{B=B-1;if(o.token[B]==="return")return;if(o.types[B]==="end"){do{B=o.begin[B]-1;}while(o.types[B]==="end"&&B>0)}}while(B>0&&(o.token[B]==="."||o.types[B]==="word"||o.types[B]==="reference"||o.types[B]==="end"));if(o.token[B]===","&&p[s]!==";"&&T!==";"&&p[s]!=="}"&&T!=="}"&&p[s]!==")"&&T!==")"){return}if(o.types[B]==="operator"){if(o.stack[B]==="switch"&&o.token[B]===":"){do{B=B-1;if(o.types[B]==="start"){O=O-1;if(O<0)break}else if(o.types[B]==="end"){O=O+1;}if(o.token[B]==="?"&&O===0)return}while(B>0)}else {return}}h=false;u=v==="--"?"-":"+";}else if(g==="["||g===";"||g==="x;"||g==="}"||g==="{"||g==="("||g===")"||g===","||g==="return"){if(v==="++"||v==="--"){if(g==="["||g==="("||g===","||g==="return")return;if(v==="--")u="-";h=false;}else if(w==="--"||v==="--"){u="-";}}else {return}if(h===false)t=l.pop(o);_=l.count;if(o.types[_]==="end"){K();}else if(o.token[_-1]==="."){ne();}B=_;if(B<l.count+1){do{Q.push(fe(B));B=B+1;}while(B<l.count+1)}}if(h===true){l.splice({data:o,howmany:1,index:_-1});d="=";e="operator";G("");H();d=u;e="operator";G("");d="1";e="number";G("");}else {d="=";e="operator";G("");H();d=u;e="operator";G("");d="1";e="number";G("");}d=o.token[l.count];e=o.types[l.count];if(T==="}"&&p[s]!==";")m(false);}function G(h){const u=re(null);u.begin=l.structure[l.structure.length-1][1];u.ender=-1;u.lexer="script";u.lines=l.linesSpace;u.stack=l.structure[l.structure.length-1][0];u.token=d;u.types=e;l.push(o,u,h);}function ve(){let h=s+1;let u=0;let v=0;let w="";let g=false;const B=j;const O=["/"];if(h<B){do{O.push(p[h]);if(p[h-1]!=="\\"||p[h-2]==="\\"){if(p[h]==="["){g=true;}if(p[h]==="]"){g=false;}}if(p[h]==="/"&&g===false){if(p[h-1]==="\\"){v=0;u=h-1;if(u>0){do{if(p[u]==="\\"){v=v+1;}else {break}u=u-1;}while(u>0)}if(v%2===0){break}}else {break}}h=h+1;}while(h<B)}if(p[h+1]==="g"||p[h+1]==="i"||p[h+1]==="m"||p[h+1]==="y"||p[h+1]==="u"){O.push(p[h+1]);if(p[h+2]!==p[h+1]&&(p[h+2]==="g"||p[h+2]==="i"||p[h+2]==="m"||p[h+2]==="y"||p[h+2]==="u")){O.push(p[h+2]);if(p[h+3]!==p[h+1]&&p[h+3]!==p[h+2]&&(p[h+3]==="g"||p[h+3]==="i"||p[h+3]==="m"||p[h+3]==="y"||p[h+3]==="u")){O.push(p[h+3]);if(p[h+4]!==p[h+1]&&p[h+4]!==p[h+2]&&p[h+4]!==p[h+3]&&(p[h+4]==="g"||p[h+4]==="i"||p[h+4]==="m"||p[h+4]==="y"||p[h+4]==="u")){O.push(p[h+4]);if(p[h+5]!==p[h+1]&&p[h+5]!==p[h+2]&&p[h+5]!==p[h+3]&&p[h+5]!==p[h+4]&&(p[h+5]==="g"||p[h+5]==="i"||p[h+5]==="m"||p[h+5]==="y"||p[h+5]==="u")){O.push(p[h+4]);s=h+5;}else {s=h+4;}}else {s=h+3;}}else {s=h+2;}}else {s=h+1;}}else {s=h;}w=O.join("");return w}function M(h){const u=h;do{h=h-1;}while(p[h]==="\\"&&h>0);return (u-h)%2===1}function me(h){let u=l.count;let v="";let w="";let g="";let B=false;Z.push(h);if(h==="{"&&(o.types[l.count]==="type"||o.types[l.count]==="type_end"||o.types[l.count]==="generic")){let O=0;if(o.types[l.count]==="type_end")u=o.begin[l.count];O=u;do{u=u-1;if(o.begin[u]!==O&&o.begin[u]!==-1)break;if(o.token[u]===":")break}while(u>o.begin[u]);if(o.token[u]===":"&&o.stack[u-1]==="arguments"){C.push(false);B=true;}else {C.push(C[C.length-1]);}u=l.count;}else if(h==="["&&o.types[l.count]==="type_end"){C.push(true);}else {C.push(C[C.length-1]);}if(n>-1){q();u=l.count;}if(P.len>-1)P.count[P.len]=P.count[P.len]+1;if(o.token[u-1]==="function"){R.push(["function",u+1]);}else {R.push([d,u+1]);}d=h;if(C[C.length-1]===true){e="type_start";}else {e="start";}if(h==="("||h==="x("){L();}else if(h==="{"){if(F>-1){if(o.begin[F-1]===o.begin[o.begin[u]-1]||o.token[o.begin[u]]==="x("){F=-1;if(c.script.correct===true){U(")");}else {U("x)");}L();d="{";e="start";}}else if(d===")"){L();}if(e==="comment"&&o.token[u-1]===")"){d=o.token[u];o.token[u]="{";e=o.types[u];o.types[u]="start";}}v=(()=>{let O=l.count;if(o.types[O]==="comment"){do{O=O-1;}while(O>0&&o.types[O]==="comment")}return o.token[O]})();w=o.stack[u]===void 0?"":(()=>{let O=l.count;if(o.types[O]==="comment"){do{O=O-1;}while(O>0&&o.types[O]==="comment")}return o.token[o.begin[O]-1]})();if(d==="{"&&(o.types[u]==="word"||o.token[u]==="]")){let O=u;if(o.token[O]==="]"){do{O=o.begin[O]-1;}while(o.token[O]==="]")}do{if(o.types[O]==="start"||o.types[O]==="end"||o.types[O]==="operator")break;O=O-1;}while(O>0);if(o.token[O]===":"&&o.stack[O-1]==="arguments"){g="function";$.push(y);y=[];}}if(e==="type_start"){g="data_type";}else if(g===""&&(d==="{"||d==="x{")){if(v==="else"||v==="do"||v==="try"||v==="finally"||v==="switch"){g=v;}else if(N[N.length-1]===0&&v!=="return"){N.pop();g="class";}else if(o.token[u-1]==="class"){g="class";}else if(o.token[u]==="]"&&o.token[u-1]==="["){g="array";}else if((o.types[u]==="word"||o.types[u]==="reference")&&(o.types[u-1]==="word"||o.types[u-1]==="reference"||o.token[u-1]==="?"&&(o.types[u-2]==="word"||o.types[u-2]==="reference"))&&o.token[u]!=="in"&&o.token[u-1]!=="export"&&o.token[u-1]!=="import"){g="map";}else if(o.stack[u]==="method"&&o.types[u]==="end"&&(o.types[o.begin[u]-1]==="word"||o.types[o.begin[u]-1]==="reference")&&o.token[o.begin[u]-2]==="new"){g="initializer";}else if(d==="{"&&(v===")"||v==="x)")&&(o.types[o.begin[u]-1]==="word"||o.types[o.begin[u]-1]==="reference"||o.token[o.begin[u]-1]==="]")){if(w==="if"){g="if";}else if(w==="for"){g="for";}else if(w==="while"){g="while";}else if(w==="class"){g="class";}else if(w==="switch"||o.token[o.begin[u]-1]==="switch"){g="switch";}else if(w==="catch"){g="catch";}else {g="function";}}else if(d==="{"&&(v===";"||v==="x;")){g="block";}else if(d==="{"&&o.token[u]===":"&&o.stack[u]==="switch"){g="block";}else if(o.token[u-1]==="import"||o.token[u-2]==="import"||o.token[u-1]==="export"||o.token[u-2]==="export"){g="object";}else if(v===")"&&(f[0]==="function"||f[0]==="if"||f[0]==="for"||f[0]==="class"||f[0]==="while"||f[0]==="switch"||f[0]==="catch")){g=f[0];}else if(o.stack[u]==="notation"){g="function";}else if((o.types[u]==="number"||o.types[u]==="string"||o.types[u]==="word"||o.types[u]==="reference")&&(o.types[u-1]==="word"||o.types[u-1]==="reference")&&o.token[o.begin[u]-1]!=="for"){g="function";}else if(l.structure.length>0&&o.token[u]!==":"&&l.structure[l.structure.length-1][0]==="object"&&(o.token[o.begin[u]-2]==="{"||o.token[o.begin[u]-2]===",")){g="function";}else if(o.types[f[1]-1]==="markup"&&o.token[f[1]-3]==="function"){g="function";}else if(v==="=>"){g="function";}else if(B===true||o.types[l.count]==="type_end"&&o.stack[o.begin[l.count]-2]==="arguments"){g="function";}else if(v===")"&&o.stack[u]==="method"&&(o.types[o.begin[u]-1]==="word"||o.types[o.begin[u]-1]==="property"||o.types[o.begin[u]-1]==="reference")){g="function";}else if(o.types[u]==="word"&&d==="{"&&o.token[u]!=="return"&&o.token[u]!=="in"&&o.token[u]!=="import"&&o.token[u]!=="const"&&o.token[u]!=="let"&&o.token[u]!==""){g="block";}else if(d==="{"&&"if|else|for|while|function|class|switch|catch|finally".indexOf(o.stack[u])>-1&&(o.token[u]==="x}"||o.token[u]==="}")){g="block";}else if(o.stack[u]==="arguments"){g="function";}else if(o.types[u]==="generic"){do{u=u-1;if(o.token[u]==="function"||o.stack[u]==="arguments"){g="function";break}if(o.token[u]==="interface"){g="map";break}if(o.token[u]===";"){g="object";break}}while(u>o.begin[l.count])}else {g="object";}if(g!=="object"&&g!=="class"){if(g==="function"){$.push(y);y=[];}else {$.push([]);}}}else if(d==="["){g="array";}else if(d==="("||d==="x("){if(v==="function"||o.token[u-1]==="function"||o.token[u-1]==="function*"||o.token[u-2]==="function"){g="arguments";}else if(o.token[u-1]==="."||o.token[o.begin[u]-2]==="."){g="method";}else if(o.types[u]==="generic"){g="method";}else if(o.token[u]==="}"&&o.stack[u]==="function"){g="method";}else if(v==="if"||v==="for"||v==="class"||v==="while"||v==="catch"||v==="finally"||v==="switch"||v==="with"){g="expression";}else if(o.types[u]==="word"||o.types[u]==="property"||o.types[u]==="reference"){g="method";}else {g="paren";}}G(g);if(N.length>0)N[N.length-1]=N[N.length-1]+1;}function ye(){const h=[p[s]];s=s+1;if(s<j){do{h.push(p[s]);if(p[s]==="`"&&(p[s-1]!=="\\"||M(s-1)===false))break;if(p[s-1]==="$"&&p[s]==="{"&&(p[s-2]!=="\\"||M(s-2)===false))break;s=s+1;}while(s<j)}return h.join("")}function Oe(h){let u=2;let v=0;let w="";const g=h.slice(0,2);const B=h.length;if(h.charAt(2)==="-")u=u+1;if(/\s/.test(h.charAt(u))===true){do{u=u+1;}while(/\s/.test(h.charAt(u))===true&&u<B)}v=u;do{v=v+1;}while(/\s/.test(h.charAt(v))===false&&h.charAt(v)!=="("&&v<B);if(v===B)v=h.length-2;w=h.slice(u,v);if(w==="else"||g==="{%"&&(w==="elseif"||w==="when"||w==="elif"||w==="elsif")){return ["template_else",`template_${w}`]}if(g==="{{"){if(w==="end")return ["template_end",""];if(w==="block"&&/\{%\s*\w/.test(a)===false||w==="define"||w==="form"||w==="if"||w==="unless"||w==="range"||w==="with"){return ["template_start",`template_${w}`]}return ["template",""]}v=x.length-1;if(v>-1){do{if(w===x[v]&&(w!=="block"||/\{%\s*\w/.test(a)===false)){return ["template_start",`template_${w}`]}if(w==="end"+x[v]){return ["template_end",""]}v=v-1;}while(v>-1)}return ["template",""]}function xe(){P.count.pop();P.index.pop();P.word.pop();P.len=P.len-1;}function q(){let h=n;let u=1;let v="";let w="";let g=d;let B=e;const O=[];function _(){Z.push("x{");l.splice({data:o,howmany:1,index:l.count-3});}function T(Q,K,ne){const H=o.begin[Q];let fe=0;do{if(o.token[Q]===K&&o.types[Q]==="word"){if(ne===true){o.types[Q]="reference";}else if(o.begin[Q]>H&&o.token[o.begin[Q]]==="{"&&o.stack[Q]!=="object"&&o.stack[Q]!=="class"&&o.stack[Q]!=="data_type"){if(o.stack[Q]==="function"){o.types[Q]="reference";}else {fe=o.begin[Q];do{if(o.stack[fe]==="function"){o.types[Q]="reference";break}fe=o.begin[fe];}while(fe>H)}}}Q=Q-1;}while(Q>H)}do{O.push(p[h]);if(p[h]==="\\"){l.error=`Illegal escape in JavaScript on line number ${l.lineNumber}`;}h=h+1;}while(h<s);if(d.charAt(0)==="\u201C"){l.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${l.lineNumber}`;}else if(d.charAt(0)==="\u201D"){l.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${l.lineNumber}`;}v=O.join("");n=-1;if(l.count>0&&v==="function"&&o.token[l.count]==="("&&(o.token[l.count-1]==="{"||o.token[l.count-1]==="x{")){o.types[l.count]="start";}if(l.count>1&&v==="function"&&d==="("&&(o.token[l.count-1]==="}"||o.token[l.count-1]==="x}")){if(o.token[l.count-1]==="}"){h=l.count-2;if(h>-1){do{if(o.types[h]==="end"){u=u+1;}else if(o.types[h]==="start"||o.types[h]==="end"){u=u-1;}if(u===0)break;h=h-1;}while(h>-1)}if(o.token[h]==="{"&&o.token[h-1]===")"){u=1;h=h-2;if(h>-1){do{if(o.types[h]==="end"){u=u+1;}else if(o.types[h]==="start"||o.types[h]==="end"){u=u-1;}if(u===0)break;h=h-1;}while(h>-1)}if(o.token[h-1]!=="function"&&o.token[h-2]!=="function"){o.types[l.count]="start";}}}else {o.types[l.count]="start";}}if(c.script.correct===true&&(v==="Object"||v==="Array")&&p[s+1]==="("&&p[s+2]===")"&&o.token[l.count-1]==="="&&o.token[l.count]==="new"){if(v==="Object"){o.token[l.count]="{";d="}";o.stack[l.count]="object";l.structure[l.structure.length-1][0]="object";}else {o.token[l.count]="[";d="]";o.stack[l.count]="array";l.structure[l.structure.length-1][0]="array";}o.types[l.count]="start";e="end";p[s+1]="";p[s+2]="";s=s+2;}else {u=l.count;h=u;if(c.script.variableList!=="none"&&(v==="var"||v==="let"||v==="const")){if(o.types[u]==="comment"){do{u=u-1;}while(u>0&&o.types[u]==="comment")}if(c.script.variableList==="list"&&P.len>-1&&P.index[P.len]===u&&v===P.word[P.len]){d=",";e="separator";o.token[u]=d;o.types[u]=e;P.count[P.len]=0;P.index[P.len]=u;P.word[P.len]=v;return}P.len=P.len+1;P.count.push(0);P.index.push(u);P.word.push(v);u=h;}else if(P.len>-1&&v!==P.word[P.len]&&l.count===P.index[P.len]&&o.token[P.index[P.len]]===";"&&d!==P.word[P.len]&&c.script.variableList==="list"){xe();}if(v==="from"&&o.token[l.count]==="x;"&&o.token[l.count-1]==="}"){L();}if(v==="while"&&o.token[l.count]==="x;"&&o.token[l.count-1]==="}"){let Q=0;let K=l.count-2;if(K>-1){do{if(o.types[K]==="end"){Q=Q+1;}else if(o.types[K]==="start"){Q=Q-1;}if(Q<0){if(o.token[K]==="{"&&o.token[K-1]==="do")L();return}K=K-1;}while(K>-1)}}if(B==="comment"){let Q=l.count;do{Q=Q-1;}while(Q>0&&o.types[Q]==="comment");B=o.types[Q];g=o.token[Q];}w=D(2,false);if(v==="void"){if(g===":"&&o.stack[l.count-1]==="arguments"){e="type";}else {e="word";}}else if((l.structure[l.structure.length-1][0]==="object"||l.structure[l.structure.length-1][0]==="class"||l.structure[l.structure.length-1][0]==="data_type")&&(o.token[l.count]==="{"||o.token[o.begin[l.count]]==="{"&&o.token[l.count]===","||o.types[l.count]==="template_end"&&(o.token[o.begin[l.count]-1]==="{"||o.token[o.begin[l.count]-1]===","))){if(v==="return"||v==="break"){e="word";}else {e="property";}}else if(C[C.length-1]===true||(c.language==="typescript"||c.language==="flow")&&g==="type"){e="type";}else if($.length>0&&(g==="function"||g==="class"||g==="const"||g==="let"||g==="var"||g==="new"||g==="void")){e="reference";$[$.length-1].push(v);if(c.language==="javascript"||c.language==="jsx"||c.language==="typescript"||c.language==="tsx"){if(g==="var"||g==="function"&&o.types[l.count-1]!=="operator"&&o.types[l.count-1]!=="start"&&o.types[l.count-1]!=="end"){T(l.count,v,true);}else {T(l.count,v,false);}}else {T(l.count,v,false);}}else if(l.structure[l.structure.length-1][0]==="arguments"&&e!=="operator"){e="reference";y.push(v);}else if(g===","&&o.stack[l.count]!=="method"&&(o.stack[l.count]!=="expression"||o.token[o.begin[l.count]-1]==="for")){let Q=l.count;const K=l.structure[l.structure.length-1][1];do{if(o.begin[Q]===K){if(o.token[Q]===";")break;if(o.token[Q]==="var"||o.token[Q]==="let"||o.token[Q]==="const"||o.token[Q]==="type"){break}}else if(o.types[Q]==="end"){Q=o.begin[Q];}Q=Q-1;}while(Q>K);if($.length>0&&o.token[Q]==="var"){e="reference";$[$.length-1].push(v);if(c.language==="javascript"||c.language==="jsx"||c.language==="typescript"||c.language==="tsx"){T(Q,v,true);}else {T(Q,v,false);}}else if($.length>0&&(o.token[Q]==="let"||o.token[Q]==="const"||o.token[Q]==="type"&&(c.language==="typescript"||c.language==="tsx"))){e="reference";$[$.length-1].push(v);T(Q,v,false);}else {e="word";}}else if(l.structure[l.structure.length-1][0]!=="object"||l.structure[l.structure.length-1][0]==="object"&&d!==","&&d!=="{"){let Q=$.length;let K=0;if(Q>0){do{Q=Q-1;K=$[Q].length;if(K>0){do{K=K-1;if(v===$[Q][K])break}while(K>0);if(v===$[Q][K])break}}while(Q>0);if($[Q][K]===v&&g!=="."){e="reference";}else {e="word";}}else {e="word";}}else {e="word";}d=v;if(v==="from"&&o.token[l.count]==="}")L();}G("");if(v==="class")N.push(0);if(v==="do"){w=D(1,true);if(w!=="{"){d=c.script.correct===true?"{":"x{";e="start";Z.push("x{");G("do");}}if(v==="else"){w=D(2,true);let Q=l.count-1;if(o.types[Q]==="comment"){do{Q=Q-1;}while(Q>0&&o.types[Q]==="comment")}if(o.token[Q]==="x}"){if(o.token[l.count]==="else"){if(o.stack[l.count-1]!=="if"&&o.types[l.count-1]!=="comment"&&o.stack[l.count-1]!=="else"){Z.pop();l.splice({data:o,howmany:0,index:l.count-1,record:{begin:o.begin[o.begin[o.begin[l.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:c.script.correct===true?"}":"x}",types:"end"}});if(l.structure.length>1){l.structure.splice(l.structure.length-2,1);l.structure[l.structure.length-1][1]=l.count;}}else if(o.token[l.count-2]==="x}"&&k[0]!=="if"&&o.stack[l.count]==="else"){_();}else if(o.token[l.count-2]==="}"&&o.stack[l.count-2]==="if"&&k[0]==="if"&&o.token[k[1]-1]!=="if"&&o.token[o.begin[l.count-1]]==="x{"){_();}}else if(o.token[l.count]==="x}"&&o.stack[l.count]==="if"){_();}}if(w!=="if"&&w.charAt(0)!=="{"){d=c.script.correct===true?"{":"x{";e="start";Z.push("x{");G("else");}}if((v==="for"||v==="if"||v==="switch"||v==="catch")&&o.token[l.count-1]!=="."){w=D(1,true);if(w!=="("){F=l.count;if(c.script.correct===true){me("(");}else {me("x(");}}}}do{if(/\s/.test(p[s])){if(n>-1)q();s=l.spacer({array:p,end:j,index:s});if(l.linesSpace>1&&d!==";"&&E<l.count&&p[s+1]!=="}"){m(false);E=l.count;}}else if(p[s]==="{"&&p[s+1]==="%"){z("{%","%}","template");}else if(p[s]==="{"&&p[s+1]==="{"){z("{{","}}","template");}else if(p[s]==="<"&&p[s+1]==="!"&&p[s+2]==="-"&&p[s+3]==="-"){z("<!--","-->","comment");}else if(p[s]==="<"){ee();}else if(p[s]==="/"&&(s===j-1||p[s+1]==="*")){S();}else if((l.count<0||o.lines[l.count]>0)&&p[s]==="#"&&p[s+1]==="!"&&(p[s+2]==="/"||p[s+2]==="[")){z("#!"+p[s+2],"\n","string");}else if(p[s]==="/"&&(s===j-1||p[s+1]==="/")){te();}else if(p[s]==="`"||p[s]==="}"&&l.structure[l.structure.length-1][0]==="template_string"){if(n>-1)q();d=ye();if(d.charAt(0)==="}"&&d.slice(d.length-2)==="${"){e="template_string_else";G("template_string");}else if(d.slice(d.length-2)==="${"){e="template_string_start";G("template_string");}else if(d.charAt(0)==="}"){e="template_string_end";G("");}else {e="string";G("");}}else if(p[s]==='"'||p[s]==="'"){z(p[s],p[s],"string");}else if(p[s]==="-"&&(s<j-1&&p[s+1]!=="="&&p[s+1]!=="-")&&(e==="number"||e==="word"||e==="reference")&&d!=="return"&&(d===")"||d==="]"||e==="word"||e==="reference"||e==="number")){if(n>-1)q();d="-";e="operator";G("");}else if(n===-1&&(p[s]!=="0"||p[s]==="0"&&p[s+1]!=="b")&&(/\d/.test(p[s])||s!==j-2&&p[s]==="-"&&p[s+1]==="."&&/\d/.test(p[s+2])||s!==j-1&&(p[s]==="-"||p[s]===".")&&/\d/.test(p[s+1]))){if(n>-1)q();if(e==="end"&&p[s]==="-"){d="-";e="operator";}else {d=ce();e="number";}G("");}else if(p[s]===":"&&p[s+1]===":"){if(n>-1)q();if(c.script.correct===true)W();L();s=s+1;d="::";e="separator";G("");}else if(p[s]===","){if(n>-1)q();if(c.script.correct===true)W();if(C[C.length-1]===true&&o.stack[l.count].indexOf("type")<0){C[C.length-1]=false;}if(e==="comment"){Y();}else if(P.len>-1&&P.count[P.len]===0&&c.script.variableList==="each"){L();d=";";e="separator";G("");d=P.word[P.len];e="word";G("");P.index[P.len]=l.count;}else {d=",";e="separator";L();G("");}}else if(p[s]==="."){if(n>-1)q();C[C.length-1]=false;if(p[s+1]==="."&&p[s+2]==="."){d="...";e="operator";s=s+2;}else {L();d=".";e="separator";}if(/\s/.test(p[s-1])===true)l.linesSpace=1;G("");}else if(p[s]===";"){if(n>-1)q();if(C[C.length-1]===true&&o.stack[l.count].indexOf("type")<0){C[C.length-1]=false;}if(N[N.length-1]===0)N.pop();if(P.len>-1&&P.count[P.len]===0){if(c.script.variableList==="each"){xe();}else {P.index[P.len]=l.count+1;}}if(c.script.correct===true)W();d=";";e="separator";if(o.token[l.count]==="x}"){b();}else {G("");}X();}else if(p[s]==="("||p[s]==="["||p[s]==="{"){me(p[s]);}else if(p[s]===")"||p[s]==="]"||p[s]==="}"){U(p[s]);}else if(p[s]==="*"&&o.stack[l.count]==="object"&&n<0&&/\s/.test(p[s+1])===false&&p[s+1]!=="="&&/\d/.test(p[s+1])===false){n=s;}else if(p[s]==="="||p[s]==="&"||p[s]==="<"||p[s]===">"||p[s]==="+"||p[s]==="-"||p[s]==="*"||p[s]==="/"||p[s]==="!"||p[s]==="?"||p[s]==="|"||p[s]==="^"||p[s]===":"||p[s]==="%"||p[s]==="~"){d=se();if(d==="regex"){d=o.token[l.count];}else if(d==="*"&&o.token[l.count]==="function"){o.token[l.count]="function*";}else {e="operator";if(d!=="!"&&d!=="++"&&d!=="--")L();G("");}}else if(n<0&&p[s]!==""){n=s;}if(P.len>-1&&l.count===P.index[P.len]+1&&o.token[P.index[P.len]]===";"&&d!==P.word[P.len]&&e!=="comment"&&c.script.variableList==="list"){xe();}s=s+1;}while(s<j);if(n>-1)q();if((o.token[l.count]!=="}"&&o.token[0]==="{"||o.token[0]!=="{")&&(o.token[l.count]!=="]"&&o.token[0]==="["||o.token[0]!=="[")){m(false);}if(r[0]===l.count){d="\n"+r[1];e="string";G("");}if(o.token[l.count]==="x;"&&(o.token[l.count-1]==="}"||o.token[l.count-1]==="]")&&o.begin[l.count-1]===0){l.pop(o);}return o};I.lexers.markup=function i(a){const{options:c}=I;const{data:s}=l;const d=c.markup.attributeSortList.length;const e=re(null);e.end=0;e.index=-1;e.start=0;const f=a.split("");const E=f.length;let n=0;const F=0;let y=false;let t="javascript";let k="html";let V=false;function o(m){const b=m.indexOf("{");const L=A(m[b+2],45)?m.slice(b+3).trimStart():m.slice(b+2).trimStart();return L.slice(0,L.search(/\s/))}function $(m){const b=m.indexOf("{");return A(m[b+1],123)}function j(m){const b=m.indexOf("{");if(A(m[b+1],37)){let L=A(m[b+2],45)?m.slice(b+3).trimStart():m.slice(b+2).trimStart();L=L.slice(0,L.search(/\s/));if(L.startsWith("end"))return false;return ge.liquid.tags.has(L)}return false}function p(m){let b=m;if(Array.isArray(m))b=m.join("");const L=b.indexOf("{");if(A(b[L+1],37)){if(A(b[L+2],45))return b.slice(L+3).trimStart().startsWith("end");return b.slice(L+2).trimStart().startsWith("end")}return false}function R(m,b){if(b===1){return A(m[0],123)&&(A(m[1],37)||A(m[1],123))}else if(b===2){return A(m[m.length-1],125)&&(A(m[m.length-2],37)||A(m[m.length-2],123))}else if(b===3){return A(m[0],123)&&(A(m[1],37)||A(m[1],123))&&(A(m[m.length-1],125)&&(A(m[m.length-2],37)||A(m[m.length-2],123)))}else if(b===4){return /{[{%}]/.test(m)}else if(b===5){return /{[{%]/.test(m)&&/[%}]}/.test(m)}}function Z(m){if(c.language!=="xml"&&c.language!=="jsx"){const b=S=>S.replace(/\s*$/," ");const L=S=>S.replace(/^\s*/," ");if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(m))return m;m=m.replace(/{[{%]-?\s*/g,b);m=m.replace(/\s*-?[%}]}/g,L);return m}return m}function N(m,b,L){if(m===s){if(b.types.indexOf("end")>-1){e.end=e.end+1;}else if(b.types.indexOf("start")>-1){e.start=e.start+1;}}l.push(m,b,L);}function r(m){let b=0;let L="";const S=/^(?:<|{%-?|{{-?)=?\s*/;if(typeof m!=="string")return "";b=m.replace(S,"%").replace(/\s+/," ").indexOf(" ");L=m.replace(S," ");L=b<0?L.slice(1,m.length-1):L.slice(1,b);if(k==="html")L=L.toLowerCase();L=L.replace(/-?[%}]}$/,"");if(L.indexOf("(")>0)L=L.slice(0,L.indexOf("("));if(L==="?xml?")return "xml";return L}function C(m,b){const L=r(m);const S=re(null);S.begin=l.structure[l.structure.length-1][1];S.ender=-1;S.lexer="markup";S.lines=s.lines[l.count]>0?1:0;S.stack=l.structure[l.structure.length-1][0];S.token=`</${l.structure[l.structure.length-1][0]}>`;S.types="end";N(s,S,"");if(ge.html.tags.has(l.structure[l.structure.length-1][0])&&(b===true&&l.structure.length>1||b===false&&`/${l.structure[l.structure.length-1][0]}`!==L)){do{S.begin=l.structure[l.structure.length-1][1];S.stack=l.structure[l.structure.length-1][0];S.token=`</${l.structure[l.structure.length-1][0]}>`;N(s,S,"");}while(ge.html.tags.has(l.structure[l.structure.length-1][0])&&(b===true&&l.structure.length>1||b===false&&`/${l.structure[l.structure.length-1][0]}`!==L))}}function x(m){const b=re(null);b.begin=l.structure[l.structure.length-1][1];b.ender=-1;b.lexer="markup";b.lines=l.linesSpace;b.stack=l.structure[l.structure.length-1][0];b.token="";b.types="";let L=0;let S="";let X="";let Y="";let U="";let z="";let te=false;let ee=false;let D=false;let ce=false;let se=false;let W=false;let G=false;let M=[];let me=["",0];function ye(w){const g=w.indexOf("=");if(g>0&&(g<w.indexOf('"')&&w.indexOf('"')>0||g<w.indexOf("'")&&w.indexOf("'")>0)){return [w.slice(0,g),w.slice(g+1)]}return [w,""]}function Oe(){const w=l.count;const g=U.replace(/(\/)$/,"");const B=c.markup.quoteConvert;let O=0;let _=0;let T=0;let K="";let ne="";let H=[];let fe=M.length;function oe(){if(D===true||B==="none"||b.types!=="attribute"||B==="single"&&b.token.indexOf('"')<0||B==="double"&&b.token.indexOf("'")<0){N(s,b,"");}else {let he=0;let J=false;const le=b.token.split("");const be=b.token.indexOf("=");const ae=le.length-1;if(ie(le[be+1],34)&&ie(le[le.length-1],34)&&B==="single"){N(s,b,"");}else if(ie(le[be+1],39)&&ie(le[le.length-1],39)&&B==="double"){N(s,b,"");}else {he=be+2;if(B==="double"){if(b.token.slice(be+2,ae).indexOf('"')>-1)J=true;le[be+1]='"';le[le.length-1]='"';}else {if(b.token.slice(be+2,ae).indexOf("'")>-1)J=true;le[be+1]="'";le[le.length-1]="'";}if(J===true){do{if(le[he]==="'"&&B==="single"){le[he]='"';}else if(le[he]==='"'&&B==="double"){le[he]="'";}he=he+1;}while(he<ae)}b.token=le.join("");N(s,b,"");}}}function pe(he,J){if(j(J)){const le=o(J);if(ge.liquid.tags.has(le)){b.types="template_attribute_start";b.stack=le;l.structure.push([b.stack,l.count]);}b.token=J;oe();return}else if(p(J)){b.types="template_attribute_end";b.token=J;l.structure.pop();oe();return}else if(R(he,1)){b.types="template_attribute";}else if(A(he[0],60)){b.types="template_attribute";}b.token=J;oe();b.types="attribute";}if(M.length<1)return;if(A(M[M.length-1][0],47)){M.pop();S=S.replace(/>$/,"/>");}_=M.length;T=1;if(T<_){do{K=M[T-1][0];if(K.charAt(K.length-1)==="="&&M[T][0].indexOf("=")<0){M[T-1][0]=K+M[T][0];M.splice(T,1);_=_-1;T=T-1;}T=T+1;}while(T<_)}if(c.markup.attributeSort===true&&c.language!=="jsx"&&c.language!=="tsx"&&ce===false&&se===false){if(d>0){const he=[];T=0;_=0;fe=M.length;do{_=0;do{K=M[_][0].split("=")[0];if(c.markup.attributeSortList[T]===K){he.push(M[_]);M.splice(_,1);fe=fe-1;break}_=_+1;}while(_<fe);T=T+1;}while(T<d);M=l.safeSort(M,"",false);M=he.concat(M);fe=M.length;}else {M=l.safeSort(M,"",false);}}b.begin=w;b.stack=g;b.types="attribute";H=[];if(O<fe){do{if(M[O]===void 0)break;M[O][0]=M[O][0].replace(/\s+$/,"");b.lines=M[O][1];_=M[O][0].indexOf("=");T=M[O][0].indexOf('"');M[O][0].indexOf("'");if(/^\/(\/|\*)/.test(M[O][0])&&c.language==="jsx"){b.types="comment_attribute";b.token=M[O][0];oe();}else if(_<0){if(R(M[O][0],5)){if(A(M[O][0][1],123)||$(M[O][0])){b.types="template_attribute";b.token=M[O][0];}else {if(p(M[O][0])){b.token=M[O][0];b.types="template_attribute_end";b.ender=b.begin;}else {const he=o(M[O][0]);if(ge.liquid.tags.has(he)){b.types="template_attribute_start";b.begin=l.count;b.token=M[O][0];}else if(ge.liquid.else.has(he)){b.types="template_attribute_else";b.token=M[O][0];}}}N(s,b,"");}else {b.types="attribute";if(A(M[O][0],35)||A(M[O][0],91)||A(M[O][0],123)||A(M[O][0],40)||c.language==="jsx"||c.language==="tsx"){b.token=M[O][0];}else {b.token=M[O][0].toLowerCase();}oe();}}else {K=M[O][0].slice(0,_);ne=M[O][0].slice(_+1);if(c.markup.correct&&(ie(ne[0],60)||ie(ne[0],123)||ie(ne[0],61)||ie(ne[0],34)||ie(ne[0],39))){ne='"'+ne+'"';}if(c.language==="jsx"&&/^\s*\{/.test(ne)){b.token=K+"={";b.types="jsx_attribute_start";N(s,b,"jsx_attribute");I.lexers.script(ne.slice(1,ne.length-1));b.begin=l.count;if(/\s\}$/.test(ne)){ne=ne.slice(0,ne.length-1);ne=/\s+$/.exec(ne)[0];if(ne.indexOf("\n")<0){b.lines=1;}else {b.lines=ne.split("\n").length;}}else {b.lines=0;}b.begin=l.structure[l.structure.length-1][1];b.stack=l.structure[l.structure.length-1][0];b.token="}";b.types="jsx_attribute_end";oe();b.types="attribute";b.begin=w;b.stack=g;}else if(R(K,5)){K=K+"="+ne;pe(ne.replace(/^(["'])/,"").replace(/(["'])$/,""),K.replace(/(\s+)$/,""));}else {b.types="attribute";if(A(M[O][0],35)||A(M[O][0],91)||A(M[O][0],123)||A(M[O][0],40)||c.language==="jsx"||c.language==="tsx"){b.token=M[O][0];}else {b.token=M[O][0].toLowerCase();}oe();}}O=O+1;}while(O<fe)}if(H.length>0){b.token=H.join(" ");oe();}}y=false;if(m==="---"){z="---";Y="comment";}else if(A(f[n],60)){if(f[n+1]==="/"){m=">";Y="end";}else if(f[n+1]==="!"){if((f[n+2]==="d"||f[n+2]==="D")&&(f[n+3]==="o"||f[n+3]==="O")&&(f[n+4]==="c"||f[n+4]==="C")&&(f[n+5]==="t"||f[n+5]==="T")&&(f[n+6]==="y"||f[n+6]==="Y")&&(f[n+7]==="p"||f[n+7]==="P")&&(f[n+8]==="e"||f[n+8]==="E")){m=">";Y="doctype";W=true;}else if(f[n+2]==="-"&&f[n+3]==="-"){m="-->";Y="comment";z="<!--";}else if(f[n+2]==="["&&f[n+3]==="C"&&f[n+4]==="D"&&f[n+5]==="A"&&f[n+6]==="T"&&f[n+7]==="A"&&f[n+8]==="["){m="]]>";Y="cdata";W=true;}}else if(f[n+1]==="?"){m="?>";if(f[n+2]==="x"&&f[n+3]==="m"&&f[n+4]==="l"){Y="xml";G=true;}else {W=true;Y="template";}}else if(A(f[n+1],37)){W=true;}else if((f[n+1]==="p"||f[n+1]==="P")&&(f[n+2]==="r"||f[n+2]==="R")&&(f[n+3]==="e"||f[n+3]==="E")&&(f[n+4]===">"||/\s/.test(f[n+4]))){m="</pre>";Y="ignore";W=true;}else {G=true;m=">";}}else if(A(f[n],123)){if(c.language==="jsx"){y=true;ee=true;b.token="{";b.types="script_start";l.structure.push(["script",l.count]);N(s,b,"");return}if(A(f[n+1],123)){W=true;m="}}";Y="template";}else if(A(f[n+1],37)){W=true;m="%}";Y="template";const w=f.indexOf("}",n+2);if(f[w-1].charCodeAt(0)===37){let g=f.slice(n+2,w-1).join("");if(g.charCodeAt(0)===45){z="{%-";g=g.slice(1).trimStart();}else {z="{%";g=g.trimStart();}if(g.charCodeAt(g.length-1)===45){m="-%}";g=g.slice(0,g.length-1).trimEnd();}else {m="%}";g=g.trimEnd();}if(g==="comment"){const B=a.indexOf("{%",w);let O=B;if(f[B+1].charCodeAt(0)===45)O=B+1;O=a.indexOf("endcomment",O);if(O>0){O=f.indexOf("}",O);if(O>0&&f[O-1].charCodeAt(0)===37){Y="comment";z=f.slice(n,w+1).join("");m=f.slice(B,O+1).join("");}}}}else {W=true;m="%}";Y="template";}}else {W=true;m=f[n+1]+"}";Y="template";}}if(c.markup.preserveAttributes===true)W=true;if(ee)return;X=m.charAt(m.length-1);if(Y==="comment"&&(A(f[n],60)||A(f[n],123)&&A(f[n+1],37))){me=l.wrapCommentBlock({chars:f,end:E,lexer:"markup",opening:z,start:n,terminator:m});S=me[0];n=me[1];if(S.replace(z,"").trimStart().indexOf("@prettify-ignore-start")===0){b.token=S;b.types="ignore";N(s,b,"");return}}else if(n<E){let le=function(){if(he===false&&A(f[n-1],123)&&(A(f[n],123)||A(f[n],37))){return true}else if(he===true&&A(f[n],125)&&(A(f[n-1],125)||A(f[n-1],37))){return false}return he},be=function(){let Se=n;do{Se=Se-1;}while(f[Se]==="\\");Se=n-Se;return Se%2===1},ae=function(Se){let je;let de="";let $e=0;let Ie=0;const Fe="data-prettify-ignore";if(Se===true){de=J.join("");je=ye(de);H="";if(je[0]===Fe)D=true;}else {de=J.join("");if(c.language!=="jsx"||c.language==="jsx"&&de.charAt(de.length-1)!=="}"){de=de.replace(/\s+/g," ");}je=ye(de);if(je[0]===Fe)D=true;if(c.language==="jsx"&&J[0]==="{"&&J[J.length-1]==="}"){_=0;}}if(A(de[0],123)&&A(de[1],37))se=true;if(V===false&&j(de)){V=true;}else if(V===true&&p(de)){V=false;}de=de.replace(/^\u0020/,"").replace(/\u0020$/,"");J=de.replace(/\r\n/g,"\n").split("\n");Ie=J.length;if($e<Ie){do{J[$e]=J[$e].replace(/(\s+)$/,"");$e=$e+1;}while($e<Ie)}de=J.join(c.crlf===true?"\r\n":"\n");de=Z(de);if(V===true||A(de[0],123)&&(A(de[1],37)||A(de[1],123)));if(de==="="){M[M.length-1][0]=`${M[M.length-1][0]}=`;}else if(A(de[0],61)&&M.length>0&&M[M.length-1][0].indexOf("=")<0){M[M.length-1][0]=M[M.length-1][0]+de;}else if(ie(de[0],61)&&M.length>0&&M[M.length-1][0].indexOf("=")===M[M.length-1][0].length-1){M[M.length-1][0]=M[M.length-1][0]+de;}else if(de!==""&&de!==" "){M.push([de,ne]);}if(M.length>0){const[We]=M[M.length-1];if(We.indexOf("=\u201C")>0){l.error=`Invalid quote character (\u201C, &#x201c) used on line number ${l.lineNumber}`;}else if(We.indexOf("=\u201D")>0){l.error=`Invalid quote character (\u201D, &#x201d) used on line number ${l.lineNumber}`;}}J=[];ne=f[n]==="\n"?2:1;};const w=[];const g=[];let B=0;let _=0;let T=0;let Q=0;let K=0;let ne=0;let H="";let fe="";let oe=false;let pe=false;let he=false;let J=[];do{if(A(f[n],10)){ne=ne+1;l.lineNumber=l.lineNumber+1;}if(W===true||(ue(f[n])===false&&ie(H,125)||A(H,125))){he=le();g.push(f[n]);if(A(g[0],60)&&A(g[1],162)&&A(m,162)){b.token="<>";b.types="start";N(s,b,"(empty)");return}if(A(g[0],60)&&A(g[1],47)&&A(g[2],162)&&A(m,162)){b.token="</>";b.types="end";N(s,b,"");return}}if(Y==="cdata"&&A(f[n],162)&&f[n-1]==="]"&&f[n-2]!=="]"){l.error=`CDATA tag (${g.join("")}) not properly terminated with "]]>"`;break}if(Y==="comment"){H="";if(f[n]===X&&g.length>m.length+1){Q=g.length;T=m.length-1;if(T>-1){do{Q=Q-1;if(g[Q]!==m.charAt(T))break;T=T-1;}while(T>-1)}if(T<0)break}}else {if(H===""){if(A(g[0],60)&&A(g[1],33)&&Y!=="cdata"){if(Y==="doctype"&&A(f[n],162))break;if(f[n]==="["){if(A(f[n+1],60)){Y="start";break}if(ue(f[n+1])){do{n=n+1;if(f[n]==="\n"){ne=ne+1;}}while(n<E-1&&ue(f[n+1]))}if(A(f[n+1],60)){Y="start";break}}}if(c.language==="jsx"){if(A(f[n],123)){_=_+1;}else if(A(f[n],125)){_=_-1;}}if(A(f[n],60)&&W===false&&g.length>1&&m!==">>"&&m!==">>>"&&G===true){l.error=`Parse error (line ${l.lineNumber}) on: ${g.join("")}`;}if(oe===true&&ue(f[n])===false&&f[n]!==X){oe=false;H=fe;L=0;g.pop();if(n<E){do{if(A(f[n],10))l.lineNumber=l.lineNumber+1;if(c.markup.preserveAttributes===true){g.push(f[n]);}else {J.push(f[n]);}if((c.language!=="jsx"||c.language!=="tsx")&&(A(f[n],60)||A(f[n],162))&&(H===""||H===">")){if(H===""&&A(f[n],162)){H=">";}else if(A(H,162)){if(A(f[n],60));else if(f[n]===">");}}else if(H===""){if(f[n+1]===X){if(A(J[J.length-1],47)||A(J[J.length-1],63)&&Y==="xml"){J.pop();if(W===true)g.pop();n=n-1;}if(J.length>0)ae(false);break}if(W===false&&/^=?['"]?({{|{%|\/|\^|<)/.test(f[n]+f[n+1]+f[n+2]+f[n+3])){J.pop();if(J.length>0&&ie(f[n],61)&&ie(f[n],123)&&(ie(f[n+1],123)||ie(f[n+1],37))){ae(false);}H="";do{J.push(f[n]);he=le();if(f[n]===w[w.length-1]){w.pop();if(A(f[n],125)&&A(f[n+1],125)){J.push("}");n=n+1;}if(w.length<1){if(V===false&&A(f[n],125)&&ie(J[0],123)&&(ie(J[1],37)||ie(J[1],123))){ae(false);he=!he;break}if(V===true&&p(J)){if(ue(f[n+1])){ae(false);break}else {n=n+1;break}}ae(false);f[n]=" ";break}}else if((A(f[n],34)||A(f[n],39))&&ie(w[w.length-1],34)&&ie(w[w.length-1],39)){w.push(f[n]);}else if(ie(w[w.length-1],125)&&A(f[n],123)&&(A(f[n+1],123)||A(f[n+1],37))){w.push("}");}else if(he===false&&A(f[n],60)&&ie(w[w.length-1],162)){w.push(">");}n=n+1;}while(n<E)}else if(A(f[n],123)&&A(f[n-1],61)&&c.language!=="jsx"){H="}";}else if(A(f[n],34)||A(f[n],39)){H=f[n];if(A(f[n-1],61)&&(A(f[n+1],60)||A(f[n+1],123)&&A(f[n+2],37)||ue(f[n+1])&&ie(f[n-1],61))){L=n;}}else if(A(f[n],40)){H=")";K=1;}else if(c.language==="jsx"){if((A(f[n-1],61)||ue(f[n-1]))&&A(f[n],123)){H="}";B=1;}else if(A(f[n],47)){if(f[n+1]==="*"){H="*/";}else if(f[n+1]==="/"){H="\n";}}}else if(A(g[0],123)&&A(f[n],123)&&(A(f[n+1],123)||A(f[n+1],37))){if(A(f[n+1],123)){H="}}";}else {H=f[n+1]+"}";}}if(ue(f[n])&&H===""){if(A(J[J.length-2],61)){T=n+1;if(T<E){do{if(ue(f[T])===false){if(A(f[T],34)||A(f[T],39)){n=T-1;pe=true;J.pop();}break}T=T+1;}while(T<E)}}if(pe===true){pe=false;}else if(_===0||_===1&&A(J[0],123)){J.pop();ae(false);oe=true;break}}}else if(A(f[n],40)&&A(H,41)){K=K+1;}else if(A(f[n],41)&&A(H,41)){K=K-1;if(K===0){H="";if(f[n+1]===m.charAt(0)){ae(false);break}}}else if(c.language==="jsx"&&(A(H,125)||A(H,10)&&A(f[n],10)||H==="*/"&&A(f[n-1],42)&&A(f[n],47))){if(f[n]==="`"){n=n+1;do{J.push(f[n]);if(f[n]==="`")break;n=n+1;}while(n<f.length)}if(A(H,125)){if(A(f[n],125)&&f[n]!==H){B=B+1;}else if(f[n]===H){B=B-1;if(B===0){_=0;H="";S=J.join("");if(c.markup.preserveAttributes===false){if(c.language==="jsx"||c.language==="tsx"){if(/^\s*$/.test(S)===false)M.push([S,ne]);}else {S=S.replace(/\s+/g," ");if(S!==" ")M.push([S,ne]);}}J=[];ne=1;break}}}else {fe="";ce=true;S=J.join("");if(S!==" ")M.push([S,ne]);J=[];ne=H==="\n"?2:1;H="";break}}else if(A(f[n],123)&&A(f[n+1],37)&&A(f[L-1],61)&&(A(H,34)||A(H,39))){H=H+"{%";L=0;}else if(A(f[n-1],37)&&A(f[n],125)&&(H==='"{%'||H==="'{%")){H=H.charAt(0);L=0;}else if(A(f[n],60)&&A(m,162)&&A(f[L-1],61)&&(A(H,34)||A(H,39))){H=H+"<";L=0;}else if(A(f[n],162)&&(H==='"<'||H==="'<")){H=H.charAt(0);L=0;}else if(L===0&&ie(H,162)&&(H.length<2||ie(H[0],34)&&ie(H[0],39))){Q=0;if(g.length>1){U=g[1]+g[2];U=U.toLowerCase();}T=H.length-1;if(T>-1){do{if(f[n-Q].charCodeAt(0)!==H.charCodeAt(T))break;Q=Q+1;T=T-1;}while(T>-1)}if(T<0){ae(true);if(f[n+1]===X)break}}else if(L>0&&ue(f[n])===false){L=0;}n=n+1;}while(n<E)}}else if(A(m,10)===false&&(A(f[n],34)||A(f[n],39))){H=f[n];}else if(Y!=="comment"&&A(m,10)===false&&A(f[n],60)&&A(f[n+1],33)&&A(f[n+2],45)&&A(f[n+3],45)&&s.types[l.count]!=="conditional"){H="-->";}else if(A(f[n],123)&&ie(g[0],123)&&ie(m,10)&&(A(f[n+1],123)||A(f[n+1],37))){if(A(f[n+1],123)){H="}}";}else {H=f[n+1]+"}";if(J.length<1&&(M.length<1||ue(f[n-1]))){g.pop();do{if(A(f[n],10))ne=ne+1;J.push(f[n]);n=n+1;}while(n<E&&f[n-1]+f[n]!==H);J.push("}");M.push([J.join(""),ne]);J=[];ne=1;H="";}}if(H===m)H="";}else if((G===true||Y==="sgml")&&ie(m,10)&&ue(f[n])&&ie(f[n-1],60)){if(Y==="sgml"){g.push(" ");}else {oe=true;}}else if(G===true&&c.language==="jsx"&&A(f[n],47)&&(A(f[n+1],42)||A(f[n+1],47))){oe=true;g[g.length-1]=" ";J.push(f[n]);if(A(f[n+1],42)){fe="*/";}else {fe="\n";}}else if((f[n]===X||A(m,10)&&A(f[n+1],60))&&(g.length>m.length+1||g[0]==="]")&&(c.language!=="jsx"||_===0)){if(A(m,10)){if(ue(g[g.length-1])){do{g.pop();n=n-1;}while(ue(g[g.length-1]))}break}Q=g.length;T=m.length-1;if(T>-1){do{Q=Q-1;if(g[Q]!==m.charAt(T))break;T=T-1;}while(T>-1)}if(T<0)break}}else if(f[n].charCodeAt(0)===H.charCodeAt(H.length-1)&&(c.language==="jsx"&&A(m,125)&&(f[n-1]!=="\\"||be()===false)||c.language!=="jsx"||ie(m,125))){Q=0;if(g.length>1){U=g[1]+g[2];U=U.toLowerCase();}T=H.length-1;if(T>-1){do{if(f[n-Q]!==H.charAt(T))break;Q=Q+1;T=T-1;}while(T>-1)}if(T<0)H="";}}n=n+1;}while(n<E);if(c.markup.correct===true){if(A(f[n+1],162)&&A(g[0],60)&&ie(g[0],60)){do{n=n+1;}while(A(f[n+1],162))}else if(A(g[0],60)&&A(g[1],60)&&ie(f[n+1],162)&&ie(g[g.length-2],162)){do{g.splice(1,1);}while(g[1]==="<")}}L=0;S=g.join("");U=r(S);S=Z(S);if(U==="xml"){k="xml";}else if(k===""&&U==="html"){k="html";}else if(k==="liquid"){k="html";}}b.token=S;b.types=Y;U=r(S);if(W===false&&c.language!=="jsx")S=S.replace(/\s+/g," ");if(U==="comment"&&R(S,2)){let T=function(K){O=K===""?0:K.split("\n").length;return ""},Q=function(K){_=K===""?0:K.split("\n").length;return ""};const w=S.slice(0,S.indexOf("%}")+2);const g=S.slice(S.indexOf("%}")+2,S.lastIndexOf("{%"));const B=S.slice(S.lastIndexOf("{%"));let O=0;let _=0;b.begin=l.structure[l.structure.length-1][1];b.ender=l.count+3;b.stack=l.structure[l.structure.length-1][0];b.types="template_start";b.token=w;N(s,b,"comment");S=g.replace(/^\s*/,T);S=S.replace(/\s*$/,Q);b.begin=l.count;b.lines=O;b.stack="comment";b.token=S;b.types="comment";N(s,b,"");b.types="template_end";b.stack="comment";b.lines=_;b.token=B;N(s,b,"");return}b.types=Y;te=(()=>{const w=/(\/>)$/;function g(O,_){if(!ge.html.tags.has(O))return false;if(O===_)return true;if(O==="dd"&&_==="dt")return true;if(O==="dt"&&_==="dd")return true;if(O==="td"&&_==="th")return true;if(O==="th"&&_==="td")return true;if(O==="colgroup"&&(_==="tbody"||_==="tfoot"||_==="thead"||_==="tr"))return true;if(O==="tbody"&&(_==="colgroup"||_==="tfoot"||_==="thead"))return true;if(O==="tfoot"&&(_==="colgroup"||_==="tbody"||_==="thead"))return true;if(O==="thead"&&(_==="colgroup"||_==="tbody"||_==="tfoot"))return true;if(O==="tr"&&_==="colgroup")return true;return false}function B(O){b.lines=s.lines[l.count]>0?1:0;b.token=`</${l.structure[l.structure.length-1][0]}>`;b.types="end";N(s,b,"");if(O>0){do{b.begin=l.structure[l.structure.length-1][1];b.stack=l.structure[l.structure.length-1][0];b.token=`</${l.structure[l.structure.length-1][0]}>`;N(s,b,"");O=O-1;}while(O>0)}b.begin=l.structure[l.structure.length-1][1];b.lines=l.linesSpace;b.stack=l.structure[l.structure.length-1][0];b.token=S;b.types="end";s.lines[l.count-1]=0;}if(Y==="end"){const O=s.token[l.count];if(s.types[l.count-1]==="singleton"&&O.charCodeAt(O.length-2)!==47&&"/"+r(O)===U){s.types[l.count-1]="start";}}if(k==="html"){if(A(S[0],60)&&ie(S[1],33)&&ie(S[1],63)&&(l.count<0||s.types[l.count].indexOf("template")<0)){S=S.toLowerCase();}if(ge.html.tags.has(l.structure[l.structure.length-1][0])&&g(U.slice(1),l.structure[l.structure.length-2][0])){B(0);}else if(l.structure.length>3&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&ge.html.tags.has(l.structure[l.structure.length-2][0])&&ge.html.tags.has(l.structure[l.structure.length-3][0])&&g(U,l.structure[l.structure.length-4][0])===true){B(3);}else if(l.structure.length>2&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&ge.html.tags.has(l.structure[l.structure.length-2][0])&&g(U,l.structure[l.structure.length-3][0])===true){B(2);}else if(l.structure.length>1&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&g(U,l.structure[l.structure.length-2][0])===true){B(1);}else if(g(U,l.structure[l.structure.length-1][0])===true){B(0);}else if(A(U[0],47)&&ge.html.tags.has(l.structure[l.structure.length-1][0])&&l.structure[l.structure.length-1][0]!==U.slice(1)){C(S,false);b.begin=l.structure[l.structure.length-1][1];b.lines=l.linesSpace;b.stack=l.structure[l.structure.length-1][0];b.token=S;b.types="end";s.lines[l.count-1]=0;}if(ge.html.voids.has(U)){if(c.markup.correct===true&&w.test(S)===false){S=S.slice(0,S.length-1)+" />";}return true}}return false})();if(/\bscript|style\b/.test(U)&&S.slice(S.length-2)!=="/>"||/\bschema|style|stylesheet|javascript\b/.test(U)&&S.slice(S.length-2)==="%}"){const w=R(S,3);let g=M.length-1;let B="";let O=[];if(g>-1){do{O=ye(M[g][0]);if(O[0]==="type"){B=O[1];if(B.charCodeAt(0)===34||B.charCodeAt(0)===39){B=B.slice(1,B.length-1);}break}g=g-1;}while(g>-1)}if(w===false&&U==="script"){y=true;if(B===""||B==="text/javascript"||B==="babel"||B==="module"||B==="application/javascript"||B==="application/x-javascript"||B==="text/ecmascript"||B==="application/ecmascript"||B==="text/cjs"){t="javascript";}else if(B==="text/jsx"||B==="application/jsx"){t="jsx";}else if(B==="application/json"||B==="application/ld+json"){t="json";}}else if(w===false&&U==="style"&&c.language!=="jsx"&&(B===""||B==="text/css")){y=true;t="css";}else if(w===true){y=true;if(U==="javascript"){t="javascript";}else if(U==="style"||U==="stylesheet"){t="css";}else if(U==="schema"){t="json";}}if(y===true){g=n+1;if(g<E){do{if(ue(f[g])===false){if(A(f[g],60)){if(f.slice(g+1,g+4).join("")==="!--"){g=g+4;if(g<E){do{if(ue(f[g])===false){y=false;break}if(f[g]==="\n"||f[g]==="\r")break;g=g+1;}while(g<E)}}else {y=false;}}break}g=g+1;}while(g<E)}}}if(G&&D===false&&Y!=="xml"){if(te===true||S.slice(S.length-2)==="/>"){Y="singleton";}else {Y="start";}b.types=Y;}if(G&&W===false&&D&&A(m,162)&&S.slice(S.length-2)!=="/>"){const w=[];const g=[];if(te===true){Y="singleton";}else {M.forEach(B=>g.push(B[0]));W=true;Y="ignore";n=n+1;if(n<E){let B="";let O=0;let _=0;let T=false;do{if(A(f[n],10))l.lineNumber=l.lineNumber+1;w.push(f[n]);if(B===""){if(A(f[n],34)){B='"';}else if(A(f[n],39)){B="'";}else if(ie(w[0],123)&&A(f[n],123)&&(A(f[n+1],123)||A(f[n+1],37))){if(A(f[n+1],123)){B="}}";}else {B=f[n+1]+"}";}}else if(A(f[n],60)&&G===true){if(A(f[n+1],47)){T=true;}else {T=false;}}else if(f[n]===X&&ie(f[n-1],47)){if(T===true){L=L-1;if(L<0)break}else {L=L+1;}}}else if(A(f[n],B.charCodeAt(B.length-1))){_=0;O=B.length-1;if(O>-1){do{if(ie(f[n-_],B.charCodeAt(O)))break;_=_+1;O=O-1;}while(O>-1)}if(O<0)B="";}n=n+1;}while(n<E)}}S=S+w.join("");S=S.replace(">",` ${g.join(" ")}>`);b.token=S;b.types="content-ignore";M=[];}if(b.types.indexOf("template")>-1){if(A(S[0],123)&&A(S[1],37)){if((U==="case"||U==="default")&&(l.structure[l.structure.length-1][0]==="switch"||l.structure[l.structure.length-1][0]==="case")){b.types="template_else";}else if(U==="else"||U==="when"||U==="elsif"){b.types="template_else";}else {if(ge.liquid.tags.has(U)){b.types="template_start";}else if(U[0]==="e"&&U[1]==="n"&&U[2]==="d"&&ge.liquid.tags.has(U.slice(3))){b.types="template_end";}else if(U[0]==="e"&&U[1]==="n"&&U[2]==="d"){b.types="template_end";b.stack=U.slice(3);let w=0;do{if(s.types[w]==="template"&&s.stack[w]===b.stack){s.types[w]="template_start";e.start=e.start+1;break}else {w=s.stack.indexOf(b.stack,w+1);}}while(w>-1)}else {b.stack=U;}}}else if(b.types==="template"){if(S.indexOf("else")>2)b.types="template_else";}if(b.types==="template_start"||b.types==="template_else"){if(U===""||U==="%"){U=U+S.slice(1).replace(U,"").replace(/^\s+/,"");U=U.slice(0,U.indexOf("(")).replace(/\s+/,"");}}}if(Y==="cdata"&&(b.stack==="script"||b.stack==="style")){let w=l.count;let g=l.count;const B=b.stack;if(s.types[g]==="attribute"){do{w=w-1;g=g-1;}while(s.types[g]==="attribute"&&g>-1)}b.begin=w;b.token="<![CDATA[";b.types="cdata_start";S=S.replace(/^(\s*<!\[cdata\[)/i,"").replace(/(\]\]>\s*)$/,"");N(s,b,"");l.structure.push(["cdata",l.count]);if(B==="script"){I.lexers.script(S);}else {I.lexers.style(S);}b.begin=l.structure[l.structure.length-1][1];b.token="]]>";b.types="cdata_end";N(s,b,"");l.structure.pop();}else {N(s,b,U);}Oe();if(c.wrap>0&&c.language==="jsx"){let w=0;let g=l.count;let B=0;if(s.types[g].indexOf("attribute")>-1){do{w=w+s.token[g].length+1;g=g-1;}while(s.lexer[g]!=="markup"||s.types[g].indexOf("attribute")>-1);if(s.lines[g]===1)w=w+s.token[g].length+1;}else if(s.lines[g]===1){w=s.token[g].length+1;}B=g-1;if(w>0&&s.types[B]!=="script_end"){if(s.types[B].indexOf("attribute")>-1){do{w=w+s.token[B].length+1;B=B-1;}while(s.lexer[B]!=="markup"||s.types[B].indexOf("attribute")>-1);if(s.lines[B]===1)w=w+s.token[B].length+1;}else if(s.lines[B]===1){w=s.token[B].length+1;}}}l.linesSpace=0;}function P(){let m="";let b=l.linesSpace;let L="";const S=[];const X=s.token[l.count]==="{";const Y=n;if(y===true){if(X===true){L="script";}else if(l.structure[l.structure.length-1][1]>-1){L=r(s.token[l.structure[l.structure.length-1][1]].toLowerCase());}else if(s.begin[l.count]>1){L=r(s.token[s.begin[l.count]].toLowerCase());}else {L=r(s.token[s.begin[l.count]].toLowerCase());}}const U=s.types[l.count]==="template_start"&&s.token[l.count].indexOf("<!")===0&&s.token[l.count].indexOf("<![")<0&&s.token[l.count].charAt(s.token[l.count].length-1)==="[";const z=re(null);z.begin=l.structure[l.structure.length-1][1];z.ender=-1;z.lexer="markup";z.lines=b;z.stack=l.structure[l.structure.length-1][0];z.token="";z.types="content";function te(){let D=n-1;let ce=0;if(f[n-1]!=="\\")return false;if(D>-1){do{if(f[D]!=="\\")break;ce=ce+1;D=D-1;}while(D>-1)}return ce%2===1}if(n<E){let D="";let ce="";let se=0;do{if(A(f[n],10))l.lineNumber=l.lineNumber+1;if(y===true){if(ce===""){if(f[n]==="/"){if(f[n+1]==="*"){ce="*";}else if(f[n+1]==="/"){ce="/";}else if(L==="script"&&"([{!=,;.?:&<>".indexOf(f[n-1])>-1){if(c.language!=="jsx"||f[n-1]!=="<")ce="reg";}}else if((f[n]==='"'||f[n]==="'"||f[n]==="`")&&te()===false){ce=f[n];}else if(f[n]==="{"&&X===true){se=se+1;}else if(f[n]==="}"&&X===true){if(se===0){I.lexers.script(S.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,""));l.structure[l.structure.length-1][1]+=1;if(s.types[l.count]==="end"&&s.lexer[s.begin[l.count]-1]==="script"){z.lexer="script";z.token=c.markup.correct===true?";":"x;";z.types="separator";N(s,z,"");z.lexer="markup";}z.token="}";z.types="script_end";N(s,z,"");l.structure.pop();break}se=se-1;}if(R(s.token[l.count],3)===false){D=f.slice(n,n+10).join("").toLowerCase();if(L==="script"){D=n===E-9?D.slice(0,D.length-1):D.slice(0,D.length-2);if(D==="<\/script"){let W=S.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"");n=n-1;if(S.length<1)break;if(/^<!--+/.test(W)&&/--+>$/.test(W)){z.token="<!--";z.types="comment";N(s,z,"");W=W.replace(/^<!--+/,"").replace(/--+>$/,"");I.lexers.script(W);z.token="-->";N(s,z,"");}else {const G=I.options.language;I.options.language=t;I.lexers.script(W);if(t==="json"&&c[t].objectSort===true||t!=="json"&&c.script.objectSort===true){l.sortCorrection(0,l.count+1);}I.options.language=G;}break}}if(L==="style"){if(n===E-8){D=D.slice(0,D.length-1);}else if(n===E-9){D=D.slice(0,D.length-2);}else {D=D.slice(0,D.length-3);}if(D==="</style"){let W=S.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"");console.log(f[n],D);n=n-1;if(S.length<1)break;if(/^<!--+/.test(W)&&/--+>$/.test(W)){z.token="<!--";z.types="comment";N(s,z,"");W=W.replace(/^<!--+/,"").replace(/--+>$/,"");I.lexers.style(W);z.token="-->";N(s,z,"");}else {const G=I.options.language;I.options.language=t;I.lexers.style(W);if(c.style.sortProperties===true)l.sortCorrection(0,l.count+1);I.options.language=G;}break}}}else {if(L==="schema"){D=f.slice(n).join("").toLowerCase();if(/^{%-?\s*endschema/.test(D)){D=D.slice(0,D.indexOf("%}")+2);let W=S.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"");n=n+D.length-1;if(S.length<1)break;if(/^<!--+/.test(W)&&/--+>$/.test(W)){z.token="<!--";z.types="comment";N(s,z,"");W=W.replace(/^<!--+/,"").replace(/--+>$/,"");I.lexers.script(W);z.token="-->";N(s,z,"");}else {I.options.language="json";I.lexers.script(W);if(c.json.objectSort===true)l.sortCorrection(0,l.count+1);I.options.language="liquid";z.token=D;z.types="template_end";N(s,z,"");}break}}else if(L==="style"){D=f.slice(n).join("").toLowerCase();if(/^{%-?\s*endstyle/.test(D)){D=D.slice(0,D.indexOf("%}")+2);let W=S.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"");n=n+D.length-1;if(S.length<1)break;if(/^<!--+/.test(W)&&/--+>$/.test(W)){z.token="<!--";z.types="comment";N(s,z,"");W=W.replace(/^<!--+/,"").replace(/--+>$/,"");I.lexers.style(W);z.token="-->";N(s,z,"");}else {I.options.language=t;I.options.lexer="style";I.lexers.style(W);if(c.style.sortProperties===true)l.sortCorrection(0,l.count+1);I.options.language="liquid";I.options.lexer="markup";z.token=D;z.types="template_end";N(s,z,"");}break}}else if(L==="javascript"){D=f.slice(n).join("").toLowerCase();if(/^{%-?\s*endjavascript/.test(D)){D=D.slice(0,D.indexOf("%}")+2);let W=S.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"");n=n+D.length-1;if(S.length<1)break;if(/^<!--+/.test(W)&&/--+>$/.test(W)){z.token="<!--";z.types="comment";N(s,z,"");W=W.replace(/^<!--+/,"").replace(/--+>$/,"");I.lexers.script(W);z.token="-->";N(s,z,"");}else {I.lexers.script(W);if(c.script.objectSort===true){l.sortCorrection(0,l.count+1);}z.token=D;z.types="template_end";N(s,z,"");}break}}}}else if(ce===f[n]&&(ce==='"'||ce==="'"||ce==="`"||ce==="*"&&f[n+1]==="/")&&te()===false){ce="";}else if(ce==="`"&&f[n]==="$"&&f[n+1]==="{"&&te()===false){ce="}";}else if(ce==="}"&&f[n]==="}"&&te()===false){ce="`";}else if(ce==="/"&&(f[n]==="\n"||f[n]==="\r")){ce="";}else if(ce==="reg"&&f[n]==="/"&&te()===false){ce="";}else if(ce==="/"&&f[n]===">"&&f[n-1]==="-"&&f[n-2]==="-"){D=f.slice(n+1,n+11).join("").toLowerCase();D=D.slice(0,D.length-2);if(L==="script"&&D==="<\/script")ce="";D=D.slice(0,D.length-1);if(L==="style"&&D==="</style")ce="";}}if(U===true&&f[n]==="]"){n=n-1;m=S.join("");m=m.replace(/\s+$/,"");b=0;z.token=m;N(s,z,"");break}if(y===false&&S.length>0&&(f[n]==="<"&&f[n+1]!=="="&&!/\s|\d/.test(f[n+1])||f[n]==="["&&f[n+1]==="%"||f[n]==="{"&&(c.language==="jsx"||f[n+1]==="{"||f[n+1]==="%"))){n=n-1;if(l.structure[l.structure.length-1][0]==="comment"){m=S.join("");}else {m=S.join("").replace(/\s+$/,"");}m=Z(m);b=0;z.token=m;if(c.wrap>0&&c.markup.preserveText!==true){let Oe=function(){if(m.charAt(W)===" "){ye.push(m.slice(0,W));m=m.slice(W+1);G=m.length;W=me;return}do{W=W-1;}while(W>0&&m.charAt(W)!==" ");if(W>0){ye.push(m.slice(0,W));m=m.slice(W+1);G=m.length;W=me;}else {W=me;do{W=W+1;}while(W<G&&m.charAt(W)!==" ");ye.push(m.slice(0,W));m=m.slice(W+1);G=m.length;W=me;}};let W=c.wrap;let G=m.length;const ve="";const M="";const me=c.wrap;const ye=[];if(s.token[s.begin[l.count]]==="<a>"&&s.token[s.begin[s.begin[l.count]]]==="<li>"&&s.lines[s.begin[l.count]]===0&&l.linesSpace===0&&m.length<c.wrap){N(s,z,"");break}if(G<me){N(s,z,"");break}if(l.linesSpace<1){let xe=l.count;do{W=W-s.token[xe].length;if(s.types[xe].indexOf("attribute")>-1)W=W-1;if(s.lines[xe]>0&&s.types[xe].indexOf("attribute")<0)break;xe=xe-1;}while(xe>0&&W>0);if(W<1)W=m.indexOf(" ");}m=S.join("");m=m.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ");do{Oe();}while(W<G);if(m!==""&&m!==" ")ye.push(m);m=c.crlf===true?ye.join("\r\n"):ye.join("\n");m=ve+m+M;}b=0;z.token=m;N(s,z,"");break}S.push(f[n]);n=n+1;}while(n<E)}if(n>Y&&n<E){if(ue(f[n])){let D=n;l.linesSpace=1;do{if(f[D]==="\n")l.linesSpace=l.linesSpace+1;D=D-1;}while(D>Y&&ue(f[D]))}else {l.linesSpace=0;}}else if(n!==Y||n===Y&&y===false){m=S.join("").replace(/\s+$/,"");b=0;if(z.token!==m){z.token=m;N(s,z,"");l.linesSpace=0;}}y=false;}if(d>0){do{c.markup.attributeSortList[n]=c.markup.attributeSortList[n].replace(/^\s+/,"").replace(/\s+$/,"");n=n+1;}while(n<d);n=0;}if(c.language==="html"||c.language==="liquid")k="html";do{if(ue(f[n])){if(s.types[l.count]==="template_start"&&l.structure[l.structure.length-1][0]==="comment"){P();}else {n=l.spacer({array:f,end:E,index:n});}}else if(y){P();}else if(f[n]==="<"){x("");}else if(f[n]==="["&&f[n+1]==="%"){x("%]");}else if(f[n]==="{"&&(c.language==="jsx"||f[n+1]==="{"||f[n+1]==="%")){x("");}else if(f[n]==="]"&&F>0){x("]>");}else if(f[n]==="-"&&f[n+1]==="-"&&f[n+2]==="-"){x("---");}else {P();}n=n+1;}while(n<E);if(s.token[l.count].charAt(0)!=="/"&&ge.html.tags.has(l.structure[l.structure.length-1][0])){C(s.token[l.count],true);}if(e.end!==e.start&&l.error===""){if(e.end>e.start){const m=e.end-e.start;const b=m===1?"":"s";l.error=`\u2716 Prettify Parse Error:

  ${m} more end type${b} than start types.

`;}else {const m=e.start-e.end;const b=m===1?"":"s";l.error=` \u2716 Prettify Parse Error:

  ${m} more start type${b} than end types.

`;}}return s};I.beautify.markup=i=>{const a=re(null);const c=re(null);const s=re(null);const d="markup";const e=I.parsed;const f=i.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const E=I.end<1||I.end>e.token.length?e.token.length:I.end+1;a.is=(o,$)=>e.types[o]===$;a.not=(o,$)=>e.types[o]!==$;a.idx=(o,$)=>o>-1&&e.types[o].indexOf($);c.is=(o,$)=>e.token[o]===$;c.not=(o,$)=>e.token[o]!==$;let n=I.start;let F=-1;let y=0;let t=0;let k=isNaN(i.indentLevel)?0:Number(i.indentLevel);const V=(()=>{const o=I.start>0?Array(I.start).fill(0,0,I.start):[];function $(){let r=n+1;let C=0;if(a.is(r,void 0))return r-1;if(a.is(r,"comment")||n<E-1&&a.idx(r,"attribute")>-1){do{if(a.is(r,"jsx_attribute_start")){C=r;do{if(a.is(r,"jsx_attribute_end")&&e.begin[r]===C)break;r=r+1;}while(r<E)}else if(a.not(r,"comment")&&a.idx(r,"attribute")<0)return r;r=r+1;}while(r<E)}return r}function j(){const r=e.begin[n];let C=n;do{C=C-1;if(c.is(C,"</li>")&&c.is(C-1,"</a>")&&e.begin[e.begin[C]]===r&&e.begin[C-1]===e.begin[C]+1){C=e.begin[C];}else {return}}while(C>r+1);C=n;do{C=C-1;if(a.is(C+1,"attribute")){o[C]=-10;}else if(c.not(C,"</li>")){o[C]=-20;}}while(C>r+1)}function p(){let r=n;let C=false;if(e.lines[n+1]===0&&i.markup.forceIndent===false){do{if(e.lines[r]>0){C=true;break}r=r-1;}while(r>F);r=n;}else {C=true;}if(C===true){const x=a.is(y,"comment")||a.is(y,"end")||a.is(y,"template_end")?k+1:k;do{o.push(x);r=r-1;}while(r>F);if(x===k+1)o[n]=k;if(a.is(r,"attribute")||a.is(r,"template_attribute")||a.is(r,"jsx_attribute_start")){o[e.begin[r]]=x;}else {o[r]=x;}}else {do{o.push(-20);r=r-1;}while(r>F);o[r]=-20;}F=-1;}function R(){let r=k;if(i.markup.forceIndent===true||i.markup.forceAttribute===true){o.push(k);return}if(y<E&&(a.idx(y,"end")>-1||a.idx(y,"start")>-1)&&e.lines[y]>0){o.push(k);r=r+1;if(e.types[n]==="singleton"&&n>0&&a.idx(n-1,"attribute")>-1&&a.is(e.begin[n-1],"singleton")){if(e.begin[n]<0||a.is(e.begin[n-1],"singleton")&&e.begin[e.ender[n]-1]!==n){o[n-1]=k;}else {o[n-1]=k+1;}}}else if(n>0&&a.is(n,"singleton")&&a.idx(n-1,"attribute")>-1){o[n-1]=k;t=e.token[n].length;o.push(-10);}else if(e.lines[y]===0){o.push(-20);}else if((i.wrap===0||n<E-2&&a.idx(n+2,"attribute")>-1&&e.token[n].length+e.token[n+1].length>i.wrap||(e.token[n].length+e.token[n+1]?e.token[n+1].length:0)>i.wrap)&&(a.is(n+1,"singleton")||a.is(n+1,"template"))){o.push(k);}else {t=t+1;o.push(-10);}if(n>0&&a.idx(n-1,"attribute")>-1&&e.lines[n]<1){o[n-1]=-20;}if(t>i.wrap){let C=n;let x=Math.max(e.begin[n],0);if(a.is(n,"content")&&i.markup.preserveText===false){let P=0;const m=e.token[n].replace(/\s+/g," ").split(" ");do{C=C-1;if(o[C]<0){P=P+e.token[C].length;if(o[C]===-10)P=P+1;}else {break}}while(C>0);C=0;x=m.length;do{if(m[C].length+P>i.wrap){m[C]=f+m[C];P=m[C].length;}else {m[C]=` ${m[C]}`;P=P+m[C].length;}C=C+1;}while(C<x);if(m[0].charAt(0)===" "){e.token[n]=m.join("").slice(1);}else {o[n-1]=r;e.token[n]=m.join("").replace(f,"");}if(e.token[n].indexOf(f)>0){t=e.token[n].length-e.token[n].lastIndexOf(f);}}else {do{C=C-1;if(o[C]>-1){t=e.token[n].length;if(e.lines[n+1]>0)t=t+1;return}if(e.types[C].indexOf("start")>-1){t=0;return}if(e.lines[C+1]>0&&(a.not(C,"attribute")||a.is(C,"attribute")&&a.is(C+1,"attribute"))){if(a.not(C,"singleton")||a.is(C,"attribute")&&a.is(C+1,"attribute")){t=e.token[n].length;if(e.lines[n+1]>0)t=t+1;break}}}while(C>x);o[C]=r;}}}function Z(){const r=n;if(e.types[r-1]==="script_start"&&e.token[r-1]==="{"){o[r-1]=-20;}do{if(e.lexer[n+1]===d&&e.begin[n+1]<r&&a.not(n+1,"start")&&a.not(n+1,"singleton"))break;o.push(0);n=n+1;}while(n<E);s[r]=n;if(e.types[n+1]==="script_end"&&e.token[n+1]==="}"){o.push(-20);}else {o.push(k-1);}y=$();if(e.lexer[y]===d&&e.stack[n].indexOf("attribute")<0&&(e.types[y]==="end"||e.types[y]==="template_end")){k=k-1;}}function N(){function r(z){const te=z.indexOf("=");if(te>0&&(te<z.indexOf('"')&&z.indexOf('"')>0||te<z.indexOf("'")&&z.indexOf("'")>0)){return [z.slice(0,te),z.slice(te+1)]}return [z,""]}function C(z){const te=r(z);if(te[1]===""||te[0]==="href"){return z}else if(i.markup.attributeValues==="preserve"){return te[0]+"="+te[1]}else if(i.markup.attributeValues==="strip"){return te[0].trimStart()+"="+te[1].replace(/\s+/g," ").replace(/^["']\s+/,'"')}const ee=i.markup.attributeValues;const D=[];const ce=i.wrap>0?te[1].length>i.wrap:false;let se;let W=false;let G="";let ve="";let M=0;let me=0;if(ee==="collapse"){se=te[1].replace(/\s+/g," ");}else if(ee==="wrap"){se=te[1].replace(/\s+/g,ye=>/\n/.test(ye)?"\n":ye.replace(/\s+/," "));}do{if(A(se[M],123)&&(A(se[M+1],123)||A(se[M+1],37))){if(ee==="collapse"){if(ue(se[M-1])===false&&D[D.length-1]!=="\n"){D.push("\n");}}if(A(se[M+1],37)){me=se.indexOf("%}",M+1);G=se.slice(M,me+2);ve=A(G[2],45)?G.slice(3).trimStart():G.slice(2).trimStart();M=me+2;if(ve.startsWith("end")){W=false;}else if(ge.liquid.tags.has(ve.slice(0,ve.search(/\s/)))){W=true;}D.push(G);}else {me=se.indexOf("}}",M+1);G=se.slice(M,me+2);M=me+2;D.push(G);}if(ee==="collapse"){if(ue(se[M])===false&&D[D.length-1]!=="\n"&&M<se.length-1){D.push("\n");}}}else {if(se[M]===" "){if(ee==="collapse"){if(D[D.length-1]!=="\n"){D.push("\n");}}else if(ce&&ee==="wrap"){if(W===false){D.push("\n");}}}else {D.push(se[M]);}M=M+1;}}while(M<se.length);return te[0]+"="+D.join("")}const x=n-1;function P(z){if(a.is(z,"attribute")||a.idx(z,"template_attribute")>-1){e.token[z]=C(e.token[z]);}else {const te=e.token[z].replace(/\s+/g," ").split(" ");const ee=te.length;let D=1;let ce=te[0].length;do{if(ce+te[D].length>i.wrap){ce=te[D].length;te[D]=f+te[D];}else {te[D]=` ${te[D]}`;ce=ce+te[D].length;}D=D+1;}while(D<ee);e.token[z]=te.join("");}}let m=n;let b=false;let L=false;let S=false;let X=0;let Y=e.token[x].length+1;let U=(()=>{if(a.idx(n,"start")>0){let z=n;do{if(e.types[z].indexOf("end")>0&&e.begin[z]===n){if(z<E-1&&a.idx(z+1,"attribute")>-1){b=true;break}}z=z+1;}while(z<E)}else if(n<E-1&&a.idx(n+1,"attribute")>-1){b=true;}if(a.is(y,"end")||a.is(y,"template_end")){return k+(a.is(x,"singleton")?2:1)}if(a.is(x,"singleton")){return k+1}return k})();if(b===false&&a.is(n,"comment_attribute")){o.push(k);if(e.types[x]==="singleton"){o[x]=k+1;}else {o[x]=k;}return}if(U<1)U=1;do{t=t+e.token[n].length+1;if(e.types[n].indexOf("attribute")>0){if(e.types[n]==="template_attribute_start"){if(i.markup.preserveAttributes===true){o.push(-10);}else {let z=1;do{if(z===0)break;Y=Y+e.token[n].length+1;if(i.markup.attributeChain==="inline"){o.push(-20);}else if(i.markup.attributeChain==="collapse"){o.push(U);}else if(i.markup.attributeChain==="preserve"){if(e.lines[n]===0){o.push(-20);}else if(e.lines[n]===1){o.push(-10);}else if(e.lines[n]>i.preserveLine){o.push(i.preserveLine);}else {o.push(U);}}n=n+1;if(a.is(n,"template_attribute_start")){z=z+1;}else if(a.is(n,"template_attribute_end")){z=z-1;}X=X+1;}while(n<E);if(Y>i.wrap);}}else if(e.types[n]==="template_attribute"){o.push(-10);}else if(e.types[n]==="comment_attribute"){o.push(U);}else if(e.types[n].indexOf("start")>0){S=true;if(n<E-2&&e.types[n+2].indexOf("attribute")>0){o.push(-20);n=n+1;s[n]=n;}else {if(x===n-1&&b===false){if(i.language==="jsx"||i.language==="tsx"){o.push(-20);}else {o.push(U);}}else {if(i.language==="jsx"||i.language==="tsx"){o.push(-20);}else {o.push(U+1);}}if(e.lexer[n+1]!==d){n=n+1;Z();}}}else if(e.types[n].indexOf("end")>0&&e.types[n].indexOf("template")<0){if(o[n-1]!==-20)o[n-1]=o[e.begin[n]]-1;if(e.lexer[n+1]!==d){o.push(-20);}else {o.push(U);}}else {o.push(U);}L=true;}else if(a.is(n,"attribute")){Y=Y+e.token[n].length+1;if(i.markup.preserveAttributes===true){o.push(-10);}else if(i.markup.forceAttribute===true||i.markup.forceAttribute>=1||S===true||n<E-1&&a.not(n+1,"template_attribute")&&a.idx(n+1,"attribute")>0){e.token[n]=C(e.token[n]);o.push(U);}else {o.push(-10);}}else if(e.begin[n]<x+1){break}n=n+1;X=X+1;}while(n<E);n=n-1;if(o[n-1]>0&&a.idx(n,"end")>0&&a.idx(n,"attribute")>0&&a.not(x,"singleton")&&b===true){o[n-1]=o[n-1]-1;}if(o[n]!==-20){if(i.language==="jsx"&&a.idx(x,"start")>-1&&a.is(n+1,"script_start")){o[n]=U;}else {if(c.is(n,"/")&&o[n-1]!==10){o[n-1]=-10;}else {o[n]=o[x];}}}if(i.markup.forceAttribute===true){t=0;o[x]=U;}else if(i.markup.forceAttribute>=1){if(X>=i.markup.forceAttribute){o[x]=U;}else {o[x]=-10;}}else {o[x]=-10;}if(L===true||i.markup.preserveAttributes===true||c.is(x,"<%xml%>")||c.is(x,"<?xml?>")){t=0;return}m=n;if(m>x+1){if(i.markup.selfCloseSpace===false)Y=Y-1;if(Y>i.wrap&&i.wrap>0&&i.markup.forceAttribute===false){t=e.token[n].length;do{if(e.token[m].length>i.wrap&&ue(e.token[m]))P(m);o[m]=U;m=m-1;}while(m>x)}}else if(i.wrap>0&&a.is(n,"attribute")&&e.token[n].length>i.wrap&&ue(e.token[n])){P(n);}}do{if(e.lexer[n]===d){if(e.token[n].toLowerCase().indexOf("<!doctype")===0)o[n-1]=k;if(e.types[n].indexOf("attribute")>-1){N();}else if(a.is(n,"comment")){if(F<0)F=n;if(a.not(n+1,"comment")||n>0&&a.idx(n-1,"end")>-1)p();}else if(a.not(n,"comment")){y=$();if(a.is(y,"end")||a.is(y,"template_end")){k=k-1;if(a.is(y,"template_end")&&a.is(e.begin[y]+1,"template_else")){k=k-1;}if(c.is(n,"</ol>")||c.is(n,"</ul>")||c.is(n,"</dl>")){j();}}if(a.is(n,"script_end")&&a.is(n+1,"end")){if(e.lines[y]<1){o.push(-20);}else if(e.lines[y]>1){o.push(k);}else {o.push(-10);}}else if((i.markup.forceIndent===false||i.markup.forceIndent&&a.is(y,"script_start"))&&(a.is(n,"content")||a.is(n,"singleton")||a.is(n,"template"))){t=t+e.token[n].length;if(a.is(n,"template")){o.push(k);const r=e.token[n].indexOf(f);if(r>0){const C=o[n-1]*i.indentSize+(e.token[n].charCodeAt(2)===45?i.indentSize:i.indentSize-1);const x=[];let P=0;do{x.push(" ");P=P+1;}while(P<C);e.token[n]=e.token[n].replace(/^\s+/gm,"").replace(/\n/g,m=>`${m}${x.join("")}`);}}else if(e.lines[y]>0&&a.is(y,"script_start")){o.push(-10);}else if(i.wrap>0&&(a.idx(n,"template")<0||y<E&&a.idx(n,"template")>-1&&a.idx(n,"template")<0)){R();}else if(y<E&&(a.idx(y,"end")>-1||a.idx(y,"start")>-1)&&(e.lines[y]>0||a.idx(n,"template_")>-1)){o.push(k);}else if(e.lines[y]===0){o.push(-20);}else {o.push(k);}}else if(a.is(n,"start")||a.is(n,"template_start")){k=k+1;if(a.is(n,"template_start")&&a.is(n+1,"template_else")){k=k+1;}if(i.language==="jsx"&&c.is(n+1,"{")){if(e.lines[y]===0){o.push(-20);}else if(e.lines[y]>1){o.push(k);}else {o.push(-10);}}else if(a.is(n,"start")&&a.is(y,"end")){o.push(-20);}else if(a.is(n,"start")&&a.is(y,"script_start")){o.push(-10);}else if(i.markup.forceIndent===true){o.push(k);}else if(a.is(n,"template_start")&&a.is(y,"template_end")){o.push(-20);}else if(e.lines[y]===0&&(a.is(y,"content")||a.is(y,"singleton")||a.is(y,"start")&&a.is(y,"template"))){o.push(-20);}else {o.push(k);}}else if(i.markup.forceIndent===false&&e.lines[y]===0&&(a.is(y,"content")||a.is(y,"singleton"))){o.push(-20);}else if(a.is(n+2,"script_end")){o.push(-20);}else if(a.is(n,"template_else")){if(a.is(y,"template_end")){o[n-1]=k+1;}else {o[n-1]=k-1;}o.push(k);}else {o.push(k);}}if(a.not(n,"content")&&a.not(n,"singleton")&&a.not(n,"template")&&a.not(n,"attribute")){t=0;}}else {t=0;Z();}n=n+1;}while(n<E);return o})();return (()=>{const o=[];const $=(()=>{const N=[i.indentChar];const r=i.indentSize-1;let C=0;if(C<r){do{N.push(i.indentChar);C=C+1;}while(C<r)}return N.join("")})();function j(N){const r=[];const C=i.preserveLine+1;const x=Math.min(e.lines[n+1]-1,C);let P=0;if(N<0)N=0;do{r.push(f);P=P+1;}while(P<x);if(N>0){P=0;do{r.push($);P=P+1;}while(P<N)}return r.join("")}function p(){let N=e.token[n].split(f);const r=e.lines[n+1];if(a.is(n,"comment"))N=N.map(m=>m.trimStart());const C=V[n-1]>-1?a.is(n,"attribute")?V[n-1]+1:V[n-1]:(()=>{let m=n-1;let b=m>-1&&a.idx(m,"start")>-1;if(V[n]>-1&&a.is(n,"attribute")){return V[n]+1}do{m=m-1;if(V[m]>-1){if(a.is(n,"content")&&b===false){return V[m]}else {return V[m]+1}}if(a.idx(m,"start")>-1)b=true;}while(m>0);return 1})();e.lines[n+1]=0;let x=0;const P=N.length-1;do{if(a.is(n,"comment")){if(N[x]!==""){if(N[x+1].trimStart()!==""){o.push(N[x],j(C));}else {o.push(N[x],"\n");}}else {if(N[x+1].trimStart()===""){o.push("\n");}else {o.push(j(C));}}}else {o.push(N[x],j(C));}x=x+1;}while(x<P);e.lines[n+1]=r;o.push(N[P]);if(V[n]===-10){o.push(" ");}else if(V[n]>1){o.push(j(V[n]));}}function R(){const N=e.token[n];const r=/(\/|\?)?>$/;const C=r.exec(N);let x=n+1;let P=false;let m=i.markup.selfCloseSpace===true&&C!==null&&C[0]==="/>"?" ":"";if(C===null)return;e.token[n]=N.replace(r,"");do{if(a.is(x,"jsx_attribute_end")&&e.begin[e.begin[x]]===n){P=false;}else if(e.begin[x]===n){if(a.is(x,"jsx_attribute_start")){P=true;}else if(a.idx(x,"attribute")<0&&P===false){break}}else if(P===false&&(e.begin[x]<n||a.idx(x,"attribute")<0)){break}x=x+1;}while(x<E);if(a.is(x-1,"comment_attribute"))m=j(V[x-2]-1);e.token[x-1]=e.token[x-1]+m+C[0];if(a.is(x,"comment")&&e.lines[n+1]<2)V[n]=-10;}n=I.start;let Z;Z=i.indentLevel;do{if(e.lexer[n]===d){if((a.is(n,"start")||a.is(n,"singleton")||a.is(n,"xml")||a.is(n,"sgml"))&&a.idx(n,"attribute")<0&&n<E-1&&e.types[n+1]!==void 0&&a.idx(n+1,"attribute")>-1){R();}if(c.not(n,void 0)&&e.token[n].indexOf(f)>0&&(a.is(n,"content")&&i.markup.preserveText===false||a.is(n,"comment")||a.is(n,"attribute"))){p();}else {o.push(e.token[n]);if(V[n]===-10&&n<E-1){o.push(" ");}else if(V[n]>-1){Z=V[n];o.push(j(V[n]));}}}else {if(s[n]===n&&a.not(n,"reference")){o.push(e.token[n]);}else {I.end=s[n];i.indentLevel=Z;I.start=n;o.push(I.beautify[e.lexer[n]](i).replace(/\s+$/,""));if(V[I.iterator]>-1&&s[n]>n){o.push(j(V[I.iterator]));}n=I.iterator;i.indentLevel=0;}}n=n+1;}while(n<E);I.iterator=E-1;if(o[0]===f||o[0]===" ")o[0]="";return o.join("")})()};I.beautify.style=i=>{const a=[];const c=I.parsed;const s=i.crlf===true?"\r\n":"\n";const d=I.end>0?I.end+1:c.token.length;const e=(()=>{let o=0;const $=[];do{$.push(i.indentChar);o=o+1;}while(o<i.indentSize);return $.join("")})();const f=i.preserveLine+1;const E=_e(i.indentSize);let n=i.indentLevel;let F=i.style.forceValue==="wrap"&&i.wrap>0?i.wrap:0;let y=I.start;let t=["",""];function k(o){const $=[];const j=function(){if(y===d-1)return 1;if(c.lines[y+1]-1>f)return f;if(c.lines[y+1]>1)return c.lines[y+1]-1;return 1}();let p=0;if(o<0)o=0;do{$.push(s);p=p+1;F=n;}while(p<j);if(o>0){p=0;do{$.push(e);p=p+1;}while(p<o)}a.push($.join(""));}function V(){const o=c.begin[y];const $=c.token[o];const j=c.token[y];const p=[];let R=y;let Z=0;let N;let r=0;if(o<0||R<=o)return;do{R=R-1;if(c.begin[R]===o){if(A(c.token[R],58)){N=[R-1,0];do{R=R-1;if((A(c.token[R],59)&&$==="{"||A(c.token[R],44)&&$==="(")&&c.begin[R]===o||c.token[R]===j&&c.begin[c.begin[R]]===o){break}if(c.types[R]!=="comment"&&c.types[R]!=="selector"&&c.token[R]!==$&&c.begin[R]===o){N[1]=c.token[R].length+N[1];}}while(R>o+1);if(N[1]>r)r=N[1];p.push(N);}}else if(c.types[R]==="end"){if(R<c.begin[R])break;R=c.begin[R];}}while(R>o);R=p.length;if(R<2)return;do{R=R-1;if(p[R][1]<r){Z=p[R][1];do{c.token[p[R][0]]=c.token[p[R][0]]+" ";Z=Z+1;}while(Z<r)}}while(R>0)}if(i.script.vertical===true&&i.style.compressCSS===false){y=d;do{y=y-1;if(A(c.token[y],125)||A(c.token[y],41))V();}while(y>0);y=I.start;}do{if(c.types[y]==="property")F=n+c.token[y].length;if(c.types[y+1]==="end"||c.types[y+1]==="template_end"||c.types[y+1]==="template_else"){n=n-1;}if(c.types[y]==="template"&&c.lines[y]===0){a.push(c.token[y]);if(c.types[y+1]==="template"&&c.lines[y+1]>0)k(n);}else if(c.types[y]==="template"&&c.lines[y]>0){if(c.types[y-2]!=="property"&&c.types[y-1]!=="colon"){F=n;a.push(c.token[y]);k(n);}else if(c.types[y-2]==="property"&&c.types[y-1]==="colon"&&c.types[y+1]==="separator"&&A(c.token[y+1],44)){F=F+c.token[y].length;if(F>i.wrap)k(n);a.push(c.token[y]);do{y=y+1;a.push(c.token[y]);if(c.lines[y+1]>0)k(n);}while(c.types[y]!=="separator"&&ie(c.token[y],59));if(A(c.token[y],59)&&c.types[y]==="separator"){a.push(c.token[y]);if(c.lines[y+1]>0)k(n);y=y+1;continue}}else {F=F+c.token[y].length;if(F>i.wrap||i.style.forceValue==="collapse"){k(n);if(ie(c.token[y][2],45)){a.push(E,c.token[y].replace("{{","{{-"));}else {a.push(E,c.token[y]);}}else {a.push(c.token[y]);}}}else if(c.types[y]==="template_else"){a.push(c.token[y]);n=n+1;k(n);}else if(c.types[y]==="start"||c.types[y]==="template_start"){n=n+1;a.push(c.token[y]);if(c.types[y+1]!=="end"&&c.types[y+1]!=="template_end"&&(i.style.compressCSS===false||i.style.compressCSS===true&&c.types[y+1]==="selector")){k(n);}}else if(A(c.token[y],59)&&(i.style.compressCSS===false||i.style.compressCSS===true&&c.types[y+1]==="selector")||c.types[y]==="end"||c.types[y]==="template_end"||c.types[y]==="comment"){a.push(c.token[y]);if(c.types[y+1]==="value"){if(c.lines[y+1]===1){a.push(" ");}else if(c.lines[y+1]>1){k(n);}}else if(c.types[y+1]!=="separator"){if(c.types[y+1]!=="comment"||c.types[y+1]==="comment"&&c.lines[y+1]>1){k(n);}else {a.push(" ");}}}else if(A(c.token[y],58)){a.push(c.token[y]);if(i.style.compressCSS===false)a.push(" ");}else if(c.types[y]==="selector"){if(i.style.classPadding===true&&c.types[y-1]==="end"&&c.lines[y]<3){a.push(s);}if(c.token[y].indexOf("and(")>0){c.token[y]=c.token[y].replace(/and\(/,"and (");a.push(c.token[y]);}else if(c.token[y].indexOf("when(")>0){t=c.token[y].split("when(");a.push(t[0].replace(/\s+$/,""));k(n+1);a.push(`when (${t[1]}`);}else {a.push(c.token[y]);}if(c.types[y+1]==="start"){if(i.script.braceAllman===true){k(n);}else if(i.style.compressCSS===false){a.push(" ");}}}else if(A(c.token[y],44)){a.push(c.token[y]);if(c.types[y+1]==="selector"||c.types[y+1]==="property"){k(n);}else if(i.style.compressCSS===false){a.push(" ");}}else if(c.stack[y]==="map"&&A(c.token[y+1],41)&&y-c.begin[y]>5){a.push(c.token[y]);k(n);}else if(c.token[y]==="x;"){k(n);}else if((c.types[y]==="variable"||c.types[y]==="function")&&i.style.classPadding===true&&c.types[y-1]==="end"&&c.lines[y]<3){a.push(s);a.push(c.token[y]);}else if(ie(c.token[y],59)||A(c.token[y],59)&&(i.style.compressCSS===false||i.style.compressCSS===true&&ie(c.token[y+1],125))){a.push(c.token[y]);}y=y+1;}while(y<d);I.iterator=d-1;return a.join("")};I.beautify.script=i=>{const a=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const d=re(null);const e=I.parsed;const f="script";const E=I.scopes;const n=I.end<1||I.end>e.token.length?e.token.length:I.end+1;const F=(()=>{let t=I.start;let k=isNaN(i.indentLevel)?0:Number(i.indentLevel);let V=false;let o=false;let $="";let j="";let p=e.types[0];let R=e.token[0];const Z=[-1];const N=[];const r=I.start>0?Array(I.start).fill(0,0,I.start):[];const C=[];const x=[[]];const P=[];const m=[];const b=[];const L=[false];const S=[];const X=[];function Y(){U(false,false);const q=i.commentIndent===true?k:0;if(V===false&&/\/\u002a\s*global\s/.test(e.token[t])){const h=e.token[t].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let u=h.length;do{u=u-1;h[u]=h[u].replace(/\s+/g,"");if(h[u]!=="")E.push([h[u],-1]);}while(u>0)}if(e.types[t-1]==="comment"||e.types[t+1]==="comment"){r[t-1]=q;}else if(e.lines[t]<2){let h=t+1;if(e.types[h]==="comment"){do{h=h+1;}while(h<n&&e.types[h]==="comment")}if(t<n-1&&e.stack[h]!=="block"&&(e.token[h]==="{"||e.token[h]==="x{")){let u=E.length;e.begin.splice(t,0,e.begin[h]);e.ender.splice(t,0,e.ender[h]);e.lexer.splice(t,0,e.lexer[h]);e.lines.splice(t,0,e.lines[h]);e.stack.splice(t,0,e.stack[h]);e.token.splice(t,0,e.token[h]);e.types.splice(t,0,e.types[h]);if(u>0){do{u=u-1;if(E[u][1]===h){E[u][1]=t;}else if(E[u][1]<t){break}}while(u>0)}h=h+1;e.begin.splice(h,1);e.ender.splice(h,1);e.lexer.splice(h,1);e.lines.splice(h,1);e.stack.splice(h,1);e.token.splice(h,1);e.types.splice(h,1);u=t+1;do{e.begin[u]=t;e.stack[u]=e.stack[h];u=u+1;}while(u<h);u=u+1;do{if(e.begin[u]===e.begin[h]){e.begin[u]=t;if(e.types[u]==="end"){break}}u=u+1;}while(u<n-1);e.begin[h]=t;t=t-1;}else {r[t-1]=-10;if(e.stack[t]==="paren"||e.stack[t]==="method"){r.push(k+2);}else {r.push(k);}if(i.commentIndent===true&&r[t]>-1&&e.lines[t]<3){e.lines[t]=3;}}if(e.types[t+1]!=="comment")V=true;return}else if(e.token[t-1]===","){r[t-1]=q;}else if(R==="="&&e.types[t-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(j)===true){r[t-1]=-10;}else if(R==="{"&&e.types[t-1]!=="comment"&&e.lines[0]<2){if(e.stack[t]==="function"){r[t-1]=q;}else {r[t-1]=/\n/.test(j)?q:-10;}}else {r[t-1]=q;}if(e.types[t+1]!=="comment")V=true;if(e.token[e.begin[t]]==="("){r.push(k+1);}else {r.push(k);}if(r[t]>-1&&e.lines[t]<3){if(e.types[t-1]==="comment"&&j.startsWith("//")){e.lines[t]=2;}else {e.lines[t]=3;}}if(i.script.commentNewline===true&&j.startsWith("//")===false&&e.lines[t]>=3){e.lines[t]=2;}}function U(q,h){let u=t-1;let v=q===true?0:1;const w=x[x.length-1]===void 0?[]:x[x.length-1];const g=h===false&&e.stack[t]==="array"&&q===true&&j!=="[";if(m[m.length-1]===false||e.stack[t]==="array"&&i.script.arrayFormat==="inline"||e.stack[t]==="object"&&i.script.objectIndent==="inline"){return}m[m.length-1]=false;do{if(e.types[u]==="end"){v=v+1;}else if(e.types[u]==="start"){v=v-1;}if(e.stack[u]==="global")break;if(v===0){if(e.stack[t]==="class"||e.stack[t]==="map"||g===false&&(q===false&&e.token[u]!=="("&&e.token[u]!=="x("||q===true&&e.token[u]===",")){if(e.types[u+1]==="template_start"){if(e.lines[u]<1){r[u]=-20;}else {r[u]=k-1;}}else if(w.length>0&&w[w.length-1]>-1){r[u]=k-1;}else {r[u]=k;}}else if(e.stack[t]==="array"&&e.types[t]==="operator"){if(e.token[u]===",")r[u]=k;if(u===e.begin[t])break}if(q===false)break}if(v<0){if(e.types[u+1]==="template_start"||e.types[u+1]==="template_string_start"){if(e.lines[u]<1){r[u]=-20;}else {r[u]=k-1;}}else if(w.length>0&&w[w.length-1]>-1){r[u]=k-1;}else {r[u]=k;}break}u=u-1;}while(u>-1)}function z(){const q=x[x.length-1]===void 0?[]:x[x.length-1];const h=()=>{let u=t;let v=false;const w=e.begin[u];do{u=u-1;if(e.lexer[u]==="markup"){v=true;break}if(e.begin[u]!==w)u=e.begin[u];}while(u>w);if(v===true){u=t;do{u=u-1;if(e.begin[u]!==w){u=e.begin[u];}else if(e.token[u]===","){r[u]=k+1;}}while(u>w);r[w]=k+1;r[t-1]=k;}else {r[t-1]=-20;}};if(j===")"&&e.token[t+1]==="."&&q[q.length-1]>-1&&e.token[q[0]]!==":"){let u=e.begin[t];let v=false;let w=false;do{u=u-1;}while(u>0&&r[u]<-9);v=r[u]===k;u=t+1;do{u=u+1;if(e.token[u]==="{"){w=true;break}if(e.begin[u]===e.begin[t+1]&&(e.types[u]==="separator"||e.types[u]==="end")){break}}while(u<n);if(v===false&&w===true&&x.length>1){x[x.length-2].push(e.begin[t]);k=k+1;}}if(p!=="separator")D();if(e.token[t+1]===","&&(e.stack[t]==="object"||e.stack[t]==="array")){U(true,false);}if(e.token[e.begin[t]-1]===","&&(e.token[t+1]==="}"||e.token[t+1]==="]")&&(e.stack[t]==="object"||e.stack[t]==="array")){U(true,false);}if(e.stack[t]!=="attribute"){if(j!==")"&&j!=="x)"&&(e.lexer[t-1]!=="markup"||e.lexer[t-1]==="markup"&&e.token[t-2]!=="return")){k=k-1;}if(j==="}"&&e.stack[t]==="switch"&&i.script.noCaseIndent===false){k=k-1;}}if(j==="}"||j==="x}"){if(e.types[t-1]!=="comment"&&R!=="{"&&R!=="x{"&&p!=="end"&&p!=="string"&&p!=="number"&&p!=="separator"&&R!=="++"&&R!=="--"&&(t<2||e.token[t-2]!==";"||e.token[t-2]!=="x;"||R==="break"||R==="return")){let u=t-1;let v=false;const w=e.begin[t];const g=N.length;do{if(e.begin[u]===w){if(e.token[u]==="="||e.token[u]===";"||e.token[u]==="x;"){v=true;}if(e.token[u]==="."&&r[u-1]>-1){m[m.length-1]=false;r[w]=k+1;r[t-1]=k;break}if(u>0&&e.token[u]==="return"&&(e.token[u-1]===")"||e.token[u-1]==="x)"||e.token[u-1]==="{"||e.token[u-1]==="x{"||e.token[u-1]==="}"||e.token[u-1]==="x}"||e.token[u-1]===";"||e.token[u-1]==="x;")){k=k-1;r[t-1]=k;break}if(e.token[u]===":"&&C.length===0||e.token[u]===","&&v===false){break}if(u===0||e.token[u-1]==="{"||e.token[u-1]==="x{"||e.token[u]==="for"||e.token[u]==="if"||e.token[u]==="do"||e.token[u]==="function"||e.token[u]==="while"||e.token[u]==="var"||e.token[u]==="let"||e.token[u]==="const"||e.token[u]==="with"){if(N[g-1]===false&&g>1&&(t===n-1||e.token[t+1]!==")"&&e.token[t+1]!=="x)")&&e.stack[t]!=="object"){k=k-1;}break}}else {u=e.begin[u];}u=u-1;}while(u>w)}Z.pop();}if(i.script.bracePadding===false&&j!=="}"&&p!=="markup"){r[t-1]=-20;}if(i.script.bracePadding===true&&p!=="start"&&R!==";"&&(r[e.begin[t]]<-9||m[m.length-1]===true)){r[e.begin[t]]=-10;r[t-1]=-10;r.push(-20);}else if(e.stack[t]==="attribute"){r[t-1]=-20;r.push(k);}else if(e.stack[t]==="array"&&(q.length>0||P[P.length-1]===true)){te();m[m.length-1]=false;r[e.begin[t]]=k+1;r[t-1]=k;r.push(-20);}else if((e.stack[t]==="object"||e.begin[t]===0&&j==="}")&&q.length>0){te();m[m.length-1]=false;r[e.begin[t]]=k+1;r[t-1]=k;r.push(-20);}else if(j===")"||j==="x)"){const u=j===")"&&R!=="("&&X.length>0?X.pop()+1:0;const v=e.token[e.begin[t]-1]==="if"?(()=>{let w=t;do{w=w-1;if(e.token[w]===")"&&r[w-1]>-1)return u}while(w>e.begin[t]);return u+5})():u;if(u>0&&(i.language!=="jsx"||i.language==="jsx"&&e.token[e.begin[t]-1]!=="render")){const w=i.wrap;const g=e.begin[t];const B=X.length;let O=t-2;if(v>w){r[e.begin[t]]=k+1;r[t-1]=k;do{if(e.begin[O]===g){if(e.token[O]==="&&"||e.token[O]==="||"){r[O]=k+1;}else if(r[O]>-1&&e.types[O]!=="comment"&&e.token[O+1]!=="."){r[O]=r[O]+1;}}else if(r[O]>-1&&e.token[O+1]!=="."){r[O]=r[O]+1;}O=O-1;}while(O>g)}else if(B>0){X[B-1]=X[B-1]+u;}}else if(j===")"&&t>e.begin[t]+2&&e.lexer[e.begin[t]+1]===f&&e.token[e.begin[t]+1]!=="function"){const w=e.begin[t]<0?0:e.begin[t];const g=i.wrap;const B=q.length;let O=0;let _=0;let T=0;let Q=0;let K=0;let ne=false;let H=false;let fe=k+1;let oe=false;let pe=false;let he=false;if(r[w]<-9){_=w;do{_=_+1;}while(_<t&&r[_]<-9);Q=_;do{O=O+e.token[_].length;if(r[_]===-10)O=O+1;if(e.token[_]==="("&&T>0&&T<g-1&&Q===t){T=-1;}if(e.token[_]===")"){K=K-1;}else if(e.token[_]==="("){K=K+1;}if(_===w&&K>0)T=O;_=_-1;}while(_>w&&r[_]<-9);if(e.token[_+1]===".")fe=r[_]+1;if(O>g-1&&g>0&&R!=="("&&T!==-1&&m[m.length-2]===false){if(e.token[w-1]==="if"&&N[N.length-1]===true||e.token[w-1]!=="if"){r[w]=fe;if(e.token[w-1]==="for"){_=w;do{_=_+1;if(e.token[_]===";"&&e.begin[_]===w){r[_]=fe;}}while(_<t)}}}}_=t;O=0;do{_=_-1;if(e.stack[_]==="function"){_=e.begin[_];}else if(e.begin[_]===w){if(e.token[_]==="?"){he=true;}else if(e.token[_]===","&&ne===false){ne=true;if(O>=g&&g>0)oe=true;}else if(e.types[_]==="markup"&&pe===false){pe=true;}if(r[_]>-9&&e.token[_]!==","&&e.types[_]!=="markup"){O=0;}else {if(r[_]===-10)O=O+1;O=O+e.token[_].length;if(O>=g&&g>0&&(ne===true||pe===true)){oe=true;}}}else {if(r[_]>-9){O=0;}else {O=O+e.token[_].length;if(O>=g&&g>0&&(ne===true||pe===true)){oe=true;}}}}while(_>w&&oe===false);if(ne===false&&e.token[e.begin[t]+1].charAt(0)==="`"){r[e.begin[t]]=-20;r[t-1]=-20;}else if((ne===true||pe===true)&&O>=g&&g>0||r[w]>-9){if(he===true){fe=r[w];if(e.token[w-1]==="["){_=t;do{_=_+1;if(e.types[_]==="end"||e.token[_]===","||e.token[_]===";"){break}}while(_<n);if(e.token[_]==="]"){fe=fe-1;H=true;}}}else if(B>0&&q[B-1]>_){fe=fe-B;}m[m.length-1]=false;_=t;do{_=_-1;if(e.begin[_]===w){if(e.token[_].indexOf("=")>-1&&e.types[_]==="operator"&&e.token[_].indexOf("!")<0&&e.token[_].indexOf("==")<0&&e.token[_]!=="<="&&e.token[_].indexOf(">")<0){O=_;do{O=O-1;if(e.begin[O]===w&&(e.token[O]===";"||e.token[O]===","||O===w)){break}}while(O>w)}else if(e.token[_]===","){r[_]=fe;}else if(r[_]>-9&&H===false&&(e.token[w-1]!=="for"||e.token[_+1]==="?"||e.token[_+1]===":")&&(e.token[e.begin[t]]!=="("||e.token[_]!=="+")){r[_]=r[_]+1;}}else if(r[_]>-9&&H===false){r[_]=r[_]+1;}}while(_>w);r[w]=fe;r[t-1]=fe-1;}else {r[t-1]=-20;}if(e.token[e.begin[t]-1]==="+"&&r[e.begin[t]]>-9){r[e.begin[t]-1]=-10;}}else if(i.language==="jsx"){h();}else {r[t-1]=-20;}r.push(-20);}else if(m[m.length-1]===true){if(j==="]"&&e.begin[t]-1>0&&e.token[e.begin[e.begin[t]-1]]==="["){m[m.length-2]=false;}if(e.begin[t]<r.length)r[e.begin[t]]=-20;if(i.language==="jsx"){h();}else if(j==="]"&&r[e.begin[t]]>-1){r[t-1]=r[e.begin[t]]-1;}else {r[t-1]=-20;}r.push(-20);}else if(e.types[t-1]==="comment"&&e.token[t-1].substring(0,2)==="//"){if(e.token[t-2]==="x}")r[t-3]=k+1;r[t-1]=k;r.push(-20);}else if(e.types[t-1]!=="comment"&&(R==="{"&&j==="}"||R==="["&&j==="]")){r[t-1]=-20;r.push(-20);}else if(j==="]"){if(N[N.length-1]===true&&m[m.length-1]===false&&i.script.arrayFormat!=="inline"||R==="]"&&r[t-2]===k+1){r[t-1]=k;r[e.begin[t]]=k+1;}else if(r[t-1]===-10){r[t-1]=-20;}if(e.token[e.begin[t]+1]==="function"){r[t-1]=k;}else if(N[N.length-1]===false){if(R==="}"||R==="x}")r[t-1]=k;let u=t-1;let v=1;do{if(e.token[u]==="]")v=v+1;if(e.token[u]==="["){v=v-1;if(v===0){if(u>0&&(e.token[u+1]==="{"||e.token[u+1]==="x{"||e.token[u+1]==="[")){r[u]=k+1;break}if(e.token[u+1]!=="["||o===false){r[u]=-20;break}break}}if(v===1&&e.token[u]==="+"&&r[u]>1){r[u]=r[u]-1;}u=u-1;}while(u>-1)}else if(i.language==="jsx"){h();}if(i.script.arrayFormat==="inline"){let u=t;const v=e.begin[t];do{u=u-1;if(e.types[u]==="end")break}while(u>v);if(u>v){r[e.begin[t]]=k+1;r[t-1]=k;}else {r[e.begin[t]]=-20;r[t-1]=-20;}}else if(r[e.begin[t]]>-1){r[t-1]=r[e.begin[t]]-1;}r.push(-20);}else if(j==="}"||j==="x}"||N[N.length-1]===true){if(j==="}"&&R==="x}"&&e.token[t+1]==="else"){r[t-2]=k+2;r.push(-20);}else {r.push(k);}r[t-1]=k;}else {r.push(-20);}if(e.types[t-1]==="comment")r[t-1]=k;if(i.script.inlineReturn&&i.script.correct===false&&j==="x}"&&(e.stack[t]==="if"||e.stack[t]==="else")&&e.token[e.begin[e.begin[t-1]-1]-2]!=="else"){r[t-1]=-20;}te();o=N[N.length-1];N.pop();x.pop();P.pop();b.pop();S.pop();m.pop();L.pop();}function te(){let q=0;const h=x[x.length-1];if(h===void 0)return;q=h.length-1;if(q<1&&h[q]<0&&(j===";"||j==="x;"||j===")"||j==="x)"||j==="}"||j==="x}")){h.pop();return}if(q<0||h[q]<0)return;if(j===":"){if(e.token[h[q]]!=="?"){do{h.pop();q=q-1;k=k-1;}while(q>-1&&h[q]>-1&&e.token[h[q]]!=="?")}h[q]=t;r[t-1]=k;}else {do{h.pop();q=q-1;k=k-1;}while(q>-1&&h[q]>-1)}if((e.stack[t]==="array"||j===",")&&h.length<1)h.push(-1);}function ee(){const q=t;do{if(e.lexer[t+1]===f&&e.begin[t+1]<q)break;if(e.token[q-1]==="return"&&e.types[t]==="end"&&e.begin[t]===q)break;r.push(0);t=t+1;}while(t<n);d[q]=t;r.push(k-1);}function D(){let q=t-1;const h=e.begin[t];if(k<1)return;do{if(h!==e.begin[q]){q=e.begin[q];}else {if(e.types[q]==="separator"||e.types[q]==="operator"){if(e.token[q]==="."&&r[q-1]>0){if(e.token[h-1]==="if"){k=k-2;}else {k=k-1;}}break}}q=q-1;}while(q>0&&q>h)}function ce(){if(e.token[t+1]!==","&&j.indexOf("/>")!==j.length-2||e.token[t+1]===","&&e.token[e.begin[t]-3]!=="React"){U(false,false);}if(R==="return"||R==="?"||R===":"){r[t-1]=-10;r.push(-20);}else if(p==="start"||e.token[t-2]==="return"&&e.stack[t-1]==="method"){r.push(k);}else {r.push(-20);}}function se(){const q=x[x.length-1]===void 0?[]:x[x.length-1];function h(){const u=e.token[t+1];let v=0;let w=0;let g=t;let B=j==="+"?k+2:k;let O=0;if(i.wrap<1){r.push(-10);return}do{g=g-1;if(e.token[e.begin[t]]==="("){if(g===e.begin[t]){O=v;}if(e.token[g]===","&&e.begin[g]===e.begin[t]&&N[N.length-1]===true){break}}if(v>i.wrap-1)break;if(r[g]>-9)break;if(e.types[g]==="operator"&&e.token[g]!=="="&&e.token[g]!=="+"&&e.begin[g]===e.begin[t]){break}v=v+e.token[g].length;if(g===e.begin[t]&&e.token[g]==="["&&v<i.wrap-1){break}if(e.token[g]==="."&&r[g]>-9)break;if(r[g]===-10)v=v+1;}while(g>0);if(O>0)O=O+u.length;v=v+u.length;w=g;if(v>i.wrap-1&&r[g]<-9){do{w=w-1;}while(w>0&&r[w]<-9)}if(e.token[w+1]==="."&&e.begin[t]<=e.begin[w]){B=B+1;}else if(e.types[w]==="operator"){B=r[w];}w=u.length;if(v+w<i.wrap){r.push(-10);return}if(e.token[e.begin[t]]==="("&&(e.token[q[0]]===":"||e.token[q[0]]==="?")){B=k+3;}else if(e.stack[t]==="method"){r[e.begin[t]]=k;if(N[N.length-1]===true){B=k+3;}else {B=k+1;}}else if(e.stack[t]==="object"||e.stack[t]==="array"){U(true,false);}if(e.token[g]==="var"||e.token[g]==="let"||e.token[g]==="const"){v=v-i.indentSize*i.indentChar.length*2;}if(O>0){g=i.wrap-O;}else {g=i.wrap-v;}if(g>0&&g<5){r.push(B);if(e.token[t].charAt(0)==='"'||e.token[t].charAt(0)==="'"){t=t+1;r.push(-10);}return}if(e.token[e.begin[t]]!=="("||O>i.wrap-1||O===0){if(O>0)v=O;if(v-u.length<i.wrap-1&&(u.charAt(0)==='"'||u.charAt(0)==="'")){t=t+1;v=v+3;if(v-u.length>i.wrap-4){r.push(B);return}r.push(-10);return}r.push(B);return}r.push(-10);}D();if(q.length>0&&q[q.length-1]>-1&&e.stack[t]==="array"){P[P.length-1]=true;}if(j!==":"){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&m.length>0){U(true,false);}if(j!=="?"&&e.token[q[q.length-1]]==="."){let u=0;let v=t;const w=e.begin[v];do{if(e.begin[v]===w){if(e.token[v+1]==="{"||e.token[v+1]==="["||e.token[v]==="function"){break}if(e.token[v]===","||e.token[v]===";"||e.types[v]==="end"||e.token[v]===":"){q.pop();k=k-1;break}if(e.token[v]==="?"||e.token[v]===":"){if(e.token[q[q.length-1]]==="."&&u<2)q[q.length-1]=w+1;break}if(e.token[v]===".")u=u+1;}v=v+1;}while(v<n)}}if(j==="!"||j==="..."){if(R==="}"||R==="x}")r[t-1]=k;r.push(-20);return}if(R===";"||R==="x;"){if(e.token[e.begin[t]-1]!=="for")r[t-1]=k;r.push(-20);return}if(j==="*"){if(R==="function"||R==="yield"){r[t-1]=-20;}else {r[t-1]=-10;}r.push(-10);return}if(j==="?"){if(e.lines[t]===0&&e.types[t-2]==="word"&&e.token[t-2]!=="return"&&e.token[t-2]!=="in"&&e.token[t-2]!=="instanceof"&&e.token[t-2]!=="typeof"&&(p==="reference"||p==="word")){if(e.types[t+1]==="word"||e.types[t+1]==="reference"||(e.token[t+1]==="("||e.token[t+1]==="x(")&&e.token[t-2]==="new"){r[t-1]=-20;if(e.types[t+1]==="word"||e.types[t+1]==="reference"){r.push(-10);return}r.push(-20);return}}if(e.token[t+1]===":"){r[t-1]=-20;r.push(-20);return}C.push(t);if(i.script.ternaryLine===true){r[t-1]=-10;}else {let u=t-1;do{u=u-1;}while(u>-1&&r[u]<-9);q.push(t);k=k+1;if(r[u]===k&&e.token[u+1]!==":"){k=k+1;q.push(t);}r[t-1]=k;if(e.token[e.begin[t]]==="("&&(q.length<2||q[0]===q[1])){m[m.length-1]=false;if(t-2===e.begin[t]){r[e.begin[t]]=k-1;}else {r[e.begin[t]]=k;}u=t-2;do{if(e.types[u]==="end"&&r[u-1]>-1)break;if(r[u]>-1)r[u]=r[u]+1;u=u-1;}while(u>e.begin[t])}}r.push(-10);return}if(j===":"){if(e.stack[t]==="map"||e.types[t+1]==="type"||e.types[t+1]==="type_start"){r[t-1]=-20;r.push(-10);return}if(C.length>0&&e.begin[C[C.length-1]]===e.begin[t]){let u=t;const v=e.begin[t];do{u=u-1;if(e.begin[u]===v){if(e.token[u]===","||e.token[u]===";"){r[t-1]=-20;break}if(e.token[u]==="?"){C.pop();te();if(i.script.ternaryLine===true)r[t-1]=-10;r.push(-10);return}}else if(e.types[u]==="end"){u=e.begin[u];}}while(u>v)}if(e.token[t-2]==="where"&&e.stack[t-2]===e.stack[t]){r[t-1]=-10;r.push(-10);return}if(p==="reference"&&e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("){r[t-1]=-20;r.push(-10);return}if((R===")"||R==="x)")&&e.token[e.begin[t-1]-2]==="function"){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="attribute"){r[t-1]=-20;r.push(-10);return}if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&(p==="reference"||R===")"||R==="]"||R==="?")&&(e.stack[t]==="map"||e.stack[t]==="class"||e.types[t+1]==="reference")&&(C.length===0||C[C.length-1]<e.begin[t])&&("mapclassexpressionmethodglobalparen".indexOf(e.stack[t])>-1||e.types[t-2]==="word"&&e.stack[t]!=="switch")){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="switch"&&(C.length<1||C[C.length-1]<e.begin[t])){r[t-1]=-20;if(i.script.caseSpace===true){r.push(-10);}else {r.push(k);}return}if(e.stack[t]==="object"){r[t-1]=-20;}else if(C.length>0){r[t-1]=k;}else {r[t-1]=-10;}r.push(-10);return}if(j==="++"||j==="--"){if(p==="number"||p==="reference"){r[t-1]=-20;r.push(-10);}else if(t<n-1&&(e.types[t+1]==="number"||e.types[t+1]==="reference")){r.push(-20);}else {r.push(-10);}return}if(j==="+"){if(p==="start"){r[t-1]=-20;}else {r[t-1]=-10;}if(i.wrap<1||e.token[e.begin[t]]==="x("){r.push(-10);return}const u=e.token[t+1];if(u===void 0){r.push(-10);return}if(e.types[t-1]==="operator"||e.types[t-1]==="start"){if(e.types[t+1]==="reference"||u==="("||u==="["){r.push(-20);return}if(Number(u.slice(1,-1))>-1&&(/\d/.test(u.charAt(1))===true||u.charAt(1)==="."||u.charAt(1)==="-"||u.charAt(1)==="+")){r.push(-20);return}}return h()}if(e.types[t-1]!=="comment"){if(R==="("){r[t-1]=-20;}else if(j==="*"&&e.stack[t]==="object"&&e.types[t+1]==="reference"&&(R==="{"||R===",")){r[t-1]=k;}else if(j!=="?"||C.length===0){r[t-1]=-10;}}if(j.indexOf("=")>-1&&j!=="=="&&j!=="==="&&j!=="!="&&j!=="!=="&&j!==">="&&j!=="<="&&j!=="=>"&&e.stack[t]!=="method"&&e.stack[t]!=="object"){let u=t+1;let v=0;let w=false;let g="";if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&e.token[t+1]!=="function"){return}do{if(e.types[u]==="start"){if(w===true&&e.token[u]!=="["){if(L[L.length-1]===true){L[L.length-1]=false;}break}v=v+1;}if(e.types[u]==="end")v=v-1;if(v<0){if(L[L.length-1]===true){L[L.length-1]=false;}break}if(v===0){g=e.token[u];if(w===true){if(e.types[u]==="operator"||e.token[u]===";"||e.token[u]==="x;"||e.token[u]==="?"||e.token[u]==="var"||e.token[u]==="let"||e.token[u]==="const"){if(g!==void 0&&(g==="?"||g.indexOf("=")>-1&&g!=="=="&&g!=="==="&&g!=="!="&&g!=="!=="&&g!==">="&&g!=="<=")){if(L[L.length-1]===false){L[L.length-1]=true;}}if((g===";"||g==="x;"||g==="var"||g==="let"||g==="const")&&L[L.length-1]===true){L[L.length-1]=false;}break}if(L[L.length-1]===true&&(g==="return"||g==="break"||g==="continue"||g==="throw")){L[L.length-1]=false;}}if(g===";"||g==="x;"||g===",")w=true;}u=u+1;}while(u<n);r.push(-10);return}if(j==="-"&&R==="return"||R==="="){r.push(-20);return}if(p==="operator"&&e.types[t+1]==="reference"&&R!=="--"&&R!=="++"&&j!=="&&"&&j!=="||"){r.push(-20);return}return h()}function W(){const q=()=>{let h=e.begin[t];if(h<0){E.push([e.token[t],-1]);}else {if(e.stack[h+1]!=="function"){do{h=e.begin[h];}while(h>-1&&e.stack[h+1]!=="function")}E.push([e.token[t],h]);}};if(e.types[t-1]==="comment"){r[t-1]=k;}else if(p==="end"&&R!==")"&&e.token[e.begin[t-1]-1]!==")"){r[t-1]=-10;}else if(p!=="separator"&&p!=="start"&&p!=="end"&&p.indexOf("template_string")<0){if(p==="word"||p==="operator"||p==="property"||p==="type"||p==="reference"){r[t-1]=-10;}else {r[t-1]=-20;}}if(R==="var"&&e.lexer[t-1]===f){q();}else if(R==="function"){E.push([e.token[t],t]);}else if(R==="let"||R==="const"){E.push([e.token[t],t]);}else if(e.stack[t]==="arguments"){E.push([e.token[t],t]);}else if(R===","){let h=t;do{h=h-1;}while(h>e.begin[t]&&e.token[h]!=="var"&&e.token[h]!=="let"&&e.token[h]!=="const");if(e.token[h]==="var"){q();}else if(e.token[h]==="let"||e.token[h]==="const"){E.push([e.token[t],t]);}}r.push(-10);}function G(){const q=x[x.length-1]===void 0?[]:x[x.length-1];const h=()=>{if(i.script.methodChain>0){let u=t;let v=e.begin[t];const w=[t];const g=e.token[v-1]==="if";do{u=u-1;if(e.types[u]==="end")u=e.begin[u];if(e.begin[u]===v){if(e.types[u]==="string"&&e.token[u].indexOf("${")===e.token[u].length-2){break}if(e.token[u]==="."){if(r[u-1]>0){r[t-1]=g===true?k+1:k;return}w.push(u);}else if(e.token[u]===";"||e.token[u]===","||e.types[u]==="operator"||(e.types[u]==="word"||e.types[u]==="reference")&&(e.types[u-1]==="word"||e.types[u-1]==="reference")){break}}}while(u>v);if(w.length<i.script.methodChain){r[t-1]=-20;return}u=0;v=w.length;do{r[w[u]-1]=g===true?k+1:k;u=u+1;}while(u<v);u=w[w.length-1]-1;do{if(r[u]>-1)r[u]=r[u]+1;u=u+1;}while(u<t);k=g===true?k+2:k+1;}r[t-1]=k;};if(j==="::"){r[t-1]=-20;r.push(-20);return}if(j==="."){if(e.token[e.begin[t]]!=="("&&e.token[e.begin[t]]!=="x("&&q.length>0){if(e.stack[t]==="object"||e.stack[t]==="array"){U(true,false);}else {U(false,false);}}if(i.script.methodChain===0){r[t-1]=-20;}else if(i.script.methodChain<0){if(e.lines[t]>0){h();}else {r[t-1]=-20;}}else {h();}r.push(-20);return}if(j===","){D();if(N[N.length-1]===false&&(e.stack[t]==="object"||e.stack[t]==="array"||e.stack[t]==="paren"||e.stack[t]==="expression"||e.stack[t]==="method")){N[N.length-1]=true;if(e.token[e.begin[t]]==="("){let u=t;do{u=u-1;if(e.begin[u]===e.begin[t]&&e.token[u]==="+"&&r[u]>-9){r[u]=r[u]+2;}}while(u>e.begin[t])}}if(e.stack[t]==="array"&&i.script.arrayFormat==="indent"){r[t-1]=-20;r.push(k);return}if(e.stack[t]==="array"&&i.script.arrayFormat==="inline"){r[t-1]=-20;r.push(-10);return}if(e.stack[t]==="object"&&i.script.objectIndent==="indent"){r[t-1]=-20;r.push(k);return}if(e.stack[t]==="object"&&i.script.objectIndent==="inline"){r[t-1]=-20;r.push(-10);return}if(q.length>0){if(q[q.length-1]>-1)te();r[t-1]=-20;r.push(k);return}if(e.token[t-2]===":"&&e.token[t-4]==="where"){r[t-1]=-20;r.push(-10);return}r[t-1]=-20;if(e.types[t+1]!=="end"){b[b.length-1]=b[b.length-1]+1;}if((e.token[e.begin[t]]==="("||e.token[e.begin[t]]==="x(")&&i.language!=="jsx"&&e.stack[t]!=="global"&&(e.types[t-1]!=="string"&&e.types[t-1]!=="number"||e.token[t-2]!=="+"||e.types[t-1]==="string"&&e.types[t-1]!=="number"&&e.token[t-2]==="+"&&e.types[t-3]!=="string"&&e.types[t-3]!=="number")){r.push(-10);return}if(p==="reference"&&e.types[t-2]==="word"&&"var-let-const-from".indexOf(e.token[t-2])<0&&(e.types[t-3]==="end"||e.token[t-3]===";")){S[S.length-1]=true;r.push(-10);return}if(S[S.length-1]===true||e.stack[t]==="notation"){r.push(-10);return}if(b[b.length-1]>3&&(e.stack[t]==="array"||e.stack[t]==="object")){if(m[m.length-1]===true)U(true,true);r[t-1]=-20;if(P[P.length-1]===true){r.push(k);return}const u=e.begin[t];let v=t;do{if(e.types[v]==="end"){v=e.begin[v];}else {if(e.token[v]===","&&e.types[v+1]!=="comment"){r[v]=k;}}v=v-1;}while(v>u);r[u]=k;P[P.length-1]=true;return}if(e.stack[t]==="object"){if(m[m.length-1]===true&&e.types[e.begin[t]-1]!=="word"&&e.types[e.begin[t]-1]!=="reference"&&e.token[e.begin[t]-1]!=="("&&e.token[e.begin[t]-1]!=="x("){const u=e.begin[t];let v=t-1;do{if(e.begin[v]===u){if(e.token[v]===",")break;if(e.token[v]===":"){U(true,false);break}}v=v-1;}while(v>u)}}if(m[m.length-1]===false||e.token[t-2]==="+"&&(p==="string"||p==="number")&&r[t-2]>0&&(R.charAt(0)==='"'||R.charAt(0)==="'")){if(e.stack[t]==="method"){if(e.token[t-2]==="+"&&(R.charAt(0)==='"'||R.charAt(0)==="'")&&(e.token[t-3].charAt(0)==='"'||e.token[t-3].charAt(0)==="'")){r.push(k+2);return}if(e.token[t-2]!=="+"){r.push(-10);return}}r.push(k);return}if(m[m.length-1]===true&&e.stack[t]!=="object"){r.push(-10);return}if(b[b.length-1]<4&&(e.stack[t]==="array"||e.stack[t]==="object")){r.push(-10);return}r.push(k);return}if(j===";"||j==="x;"){D();if(e.token[t+1]!==void 0&&e.types[t+1].indexOf("attribute")>0&&e.types[t+1].indexOf("end")>0){r[t-1]=-20;r.push(k-1);return}if(Z[Z.length-1]>-1&&e.stack[Z[Z.length-1]]!=="expression"){let u=t;do{u=u-1;if(e.token[u]===";")break;if(e.token[u]===","){k=k-1;break}if(e.types[u]==="end")u=e.begin[u];}while(u>0&&u>e.begin[t])}Z[Z.length-1]=-1;te();if(e.token[e.begin[t]-1]!=="for")U(false,false);S[S.length-1]=false;r[t-1]=-20;if(e.begin[t]>0&&e.token[e.begin[t]-1]==="for"&&e.stack[t]!=="for"){r.push(-10);return}r.push(k);return}r.push(-20);}function ve(){const q=e.stack[t+1];const h=t===0?e.stack[t]:e.stack[t-1];if(R===")"||(h==="object"||h==="array")&&R!=="]"){if(q!=="method"||q==="method"&&e.token[t+1]!==")"&&e.token[t+2]!==")"){if(R===")"&&(q!=="function"||e.token[e.begin[e.begin[t-1]-1]]==="("||e.token[e.begin[e.begin[t-1]-1]]==="x(")){U(false,false);}else if(e.types[t+1]!=="end"&&e.types[t+2]!=="end"){U(true,false);}}}N.push(false);x.push([]);L.push(false);P.push(false);S.push(false);b.push(0);if(i.script.neverFlatten===true||q==="array"&&i.script.arrayFormat==="indent"||q==="attribute"||p==="generic"||q==="class"&&R!=="("&&R!=="x("||j==="["&&e.token[t+1]==="function"){m.push(false);}else {if(q==="expression"||q==="method"){m.push(true);}else if((q==="object"||q==="class")&&(R==="("||R==="x("||p==="word"||p==="reference")){m.push(true);}else if(q==="array"||j==="("||j==="x("){m.push(true);}else if(j==="{"&&q==="object"&&p!=="operator"&&p!=="start"&&p!=="string"&&p!=="number"&&h!=="object"&&h!=="array"&&t>0){m.push(true);}else {m.push(false);}}if(j!=="("&&j!=="x("&&e.stack[t+1]!=="attribute"){k=k+1;}if(j==="{"||j==="x{"){Z.push(-1);if(e.types[t-1]!=="comment"){if(p==="markup"){r[t-1]=k;}else if(i.script.braceAllman===true&&p!=="operator"&&R!=="return"){r[t-1]=k-1;}else if(e.stack[t+1]!=="block"&&(q==="function"||R===")"||R==="x)"||R===","||R==="}"||p==="markup")){r[t-1]=-10;}else if(R==="{"||R==="x{"||R==="["||R==="}"||R==="x}"){r[t-1]=k-1;}}if(q==="object"){if(i.script.objectIndent==="indent"){m[m.length-1]=false;r.push(k);return}if(i.script.objectIndent==="inline"){m[m.length-1]=true;r.push(-20);return}}if(q==="switch"){if(i.script.noCaseIndent===true){r.push(k-1);return}k=k+1;r.push(k);return}if(m[m.length-1]===true){if(p!=="word"&&p!=="reference"){r.push(-20);return}}r.push(k);return}if(j==="("||j==="x("){if(i.wrap>0&&j==="("&&e.token[t+1]!==")"){X.push(1);}if(R==="-"&&(e.token[t-2]==="("||e.token[t-2]==="x(")){r[t-2]=-20;}if(p==="end"&&h!=="if"&&h!=="for"&&h!=="catch"&&h!=="else"&&h!=="do"&&h!=="try"&&h!=="finally"&&h!=="catch"){if(e.types[t-1]==="comment"){r[t-1]=k;}else {r[t-1]=-20;}}if(R==="async"){r[t-1]=-10;}else if(q==="method"||e.token[t-2]==="function"&&p==="reference"){if(R==="import"||R==="in"||i.script.functionNameSpace===true){r[t-1]=-10;}else if(R==="}"&&e.stack[t-1]==="function"||p==="word"||p==="reference"||p==="property"){r[t-1]=-20;}else if(h!=="method"&&q!=="method"){r[t-1]=k;}}if(R==="+"&&(e.token[t-2].charAt(0)==='"'||e.token[t-2].charAt(0)==="'")){r.push(k);return}if(R==="}"||R==="x}"){r.push(-20);return}if(R==="-"&&(t<2||e.token[t-2]!==")"&&e.token[t-2]!=="x)"&&e.token[t-2]!=="]"&&e.types[t-2]!=="reference"&&e.types[t-2]!=="string"&&e.types[t-2]!=="number")||i.script.functionSpace===false&&R==="function"){r[t-1]=-20;}r.push(-20);return}if(j==="["){if(R==="[")N[N.length-2]=true;if(R==="return"||R==="var"||R==="let"||R==="const"){r[t-1]=-10;}else if(e.types[t-1]!=="comment"&&e.stack[t-1]!=="attribute"&&(p==="end"||p==="word"||p==="reference")){r[t-1]=-20;}else if(R==="["||R==="{"||R==="x{"){r[t-1]=k-1;}if(e.stack[t]==="attribute"){r.push(-20);return}if(i.script.arrayFormat==="indent"){m[m.length-1]=false;r.push(k);return}if(i.script.arrayFormat==="inline"){m[m.length-1]=true;r.push(-20);return}if(q==="method"||m[m.length-1]===true){r.push(-20);return}let u=t+1;do{if(e.token[u]==="]"){r.push(-20);return}if(e.token[u]===","){r.push(k);return}u=u+1;}while(u<n);r.push(-20);}}function M(){if(j.length===1){r.push(-20);if(e.lines[t]===0)r[t-1]=-20;}else if(j.indexOf("#!/")===0){r.push(k);}else {r.push(-10);}if((R===","||p==="start")&&(e.stack[t]==="object"||e.stack[t]==="array")&&m[m.length-1]===false&&t>0){r[t-1]=k;}}function me(){if($==="template_else"){r[t-1]=k-1;r.push(k);}else if($==="template_start"){k=k+1;if(e.lines[t-1]<1)r[t-1]=-20;if(e.lines[t]>0||R.length===1&&p==="string"){r.push(k);}else {r.push(-20);}}else if($==="template_end"){k=k-1;if(p==="template_start"||e.lines[t-1]<1){r[t-1]=-20;}else {r[t-1]=k;}if(e.lines[t]>0){r.push(k);}else {r.push(-20);}}else if($==="template"){if(e.lines[t]>0){r.push(k);}else {r.push(-20);}}}function ye(){if($==="template_string_start"){k=k+1;r.push(k);}else if($==="template_string_else"){D();r[t-1]=k-1;r.push(k);}else {D();k=k-1;r[t-1]=k;r.push(-10);}if(t>2&&(e.types[t-2]==="template_string_else"||e.types[t-2]==="template_string_start")){if(i.script.bracePadding===true){r[t-2]=-10;r[t-1]=-10;}else {r[t-2]=-20;r[t-1]=-20;}}}function Oe(){if(e.token[t-1]===","||e.token[t-1]===":"&&e.stack[t-1]!=="data_type"){r[t-1]=-10;}else {r[t-1]=-20;}if(e.types[t]==="type"||e.types[t]==="type_end"){r.push(-10);}if(e.types[t]==="type_start"){r.push(-20);}}function xe(){if((R===")"||R==="x)")&&e.stack[t]==="class"&&(e.token[e.begin[t-1]-1]==="static"||e.token[e.begin[t-1]-1]==="final"||e.token[e.begin[t-1]-1]==="void")){r[t-1]=-10;r[e.begin[t-1]-1]=-10;}if(R==="]")r[t-1]=-10;if(j==="else"&&R==="}"){if(e.token[t-2]==="x}")r[t-3]=r[t-3]-1;if(i.script.braceAllman===true||i.script.elseNewline===true){r[t-1]=k;}}if(j==="new"&&a.has(e.token[t+1]));if(j==="from"&&p==="end"&&t>0&&(e.token[e.begin[t-1]-1]==="import"||e.token[e.begin[t-1]-1]===",")){r[t-1]=-10;}if(j==="function"){if(i.script.functionSpace===false&&t<n-1&&(e.token[t+1]==="("||e.token[t+1]==="x(")){r.push(-20);return}r.push(-10);return}if(R==="-"&&t>1){if(e.types[t-2]==="operator"||e.token[t-2]===","){r[t-1]=-20;}else if(e.types[t-2]==="start"){r[t-2]=-20;r[t-1]=-20;}}else if(j==="while"&&(R==="}"||R==="x}")){let q=t-1;let h=0;do{if(e.token[q]==="}"||e.token[q]==="x}")h=h+1;if(e.token[q]==="{"||e.token[q]==="x{")h=h-1;if(h===0){if(e.token[q-1]==="do"){r[t-1]=-10;break}r[t-1]=k;break}q=q-1;}while(q>-1)}else if(j==="in"||(j==="else"&&i.script.elseNewline===false&&i.script.braceAllman===false||j==="catch")&&(R==="}"||R==="x}")){r[t-1]=-10;}else if(j==="var"||j==="let"||j==="const"){Z[Z.length-1]=t;if(p==="end")r[t-1]=k;if(e.token[e.begin[t]-1]!=="for"){let q=t+1;let h=0;do{if(e.types[q]==="end")h=h-1;if(e.types[q]==="start")h=h+1;if(h<0||h===0&&(e.token[q]===";"||e.token[q]===",")){break}q=q+1;}while(q<n);if(e.token[q]===",")k=k+1;}r.push(-10);return}if((j==="default"||j==="case")&&p!=="word"&&e.stack[t]==="switch"){r[t-1]=k-1;r.push(-10);return}if(j==="catch"&&R==="."){r[t-1]=-20;r.push(-20);return}if(j==="catch"||j==="finally"){r[t-1]=-10;r.push(-10);return}if(i.script.bracePadding===false&&t<n-1&&e.token[t+1].charAt(0)==="}"){r.push(-20);return}if(e.stack[t]==="object"&&(R==="{"||R===",")&&(e.token[t+1]==="("||e.token[t+1]==="x(")){r.push(-20);return}if(e.types[t-1]==="comment"&&e.token[e.begin[t]]==="("){r[t-1]=k+1;}if(i.script.inlineReturn){if(e.stack[t]==="if"&&j==="return"&&(R==="x{"||R==="{")){const q=e.begin.lastIndexOf(e.begin[t-1],t-3);if(e.token[q-2]==="else"){if(R==="x{")e.token[t-1]="{";if(e.token[e.ender[t]]==="x}")e.token[e.ender[t]]="}";e.lines[e.ender[t]]=e.lines[e.ender[t]]-1;}else {if(e.token[e.ender[t-1]+2]!=="if"&&e.token[e.ender[t-1]+1]!=="else"){r[t-1]=-20;if(R==="{")e.token[t-1]="x{";if(e.token[e.ender[t]]==="}")e.token[e.ender[t]]="x}";}else if(e.token[e.ender[t-1]+2]!=="if"&&e.token[e.ender[t-1]+1]!=="x{"){r[t-1]=-20;e.lines[e.ender[t-1]+2]=e.lines[e.ender[t-1]+2]-1;if(e.token[t-1]==="{")e.token[t-1]="x{";if(e.token[e.ender[t]]==="}")e.token[e.ender[t]]="x}";if(e.token[e.ender[t-1]+2]==="{")e.token[e.ender[t-1]+2]="x{";}}}if((R==="x}"||R==="}")&&(e.stack[t-1]==="if"&&j==="else"&&(e.token[t+1]==="{"||e.token[t+1]==="x{")&&e.token[t+2]==="return")){if(e.token[t-2]==="x;")e.token[t-2]=";";}if(R==="x{"&&j==="return"&&e.stack[t]==="else"){r[t-1]=-20;if(e.token[e.ender[t-1]-1]==="x;")e.token[e.ender[t-1]-1]=";";e.lines[e.ender[t-1]]=e.lines[e.ender[t-1]]-1;e.lines[e.ender[t]+1]=e.lines[e.ender[t]+1]-1;}if(R==="x}"&&j==="else"&&e.token[t+1]==="x{"&&e.token[t+2]==="return"&&e.token[e.ender[t]-1]==="}"){e.token[e.ender[t]-1]="x}";}}r.push(-10);}do{if(e.lexer[t]===f){$=e.types[t];j=e.token[t];if($==="comment"){Y();}else if($==="regex"){r.push(-20);}else if($==="string"){M();}else if($.indexOf("template_string")===0){ye();}else if($==="separator"){G();}else if($==="start"){ve();}else if($==="end"){z();}else if($==="type"||$==="type_start"||$==="type_end"){Oe();}else if($==="operator"){se();}else if($==="word"){xe();}else if($==="reference"){W();}else if($==="markup"){ce();}else if($.indexOf("template")===0){me();}else if($==="generic"){if(R!=="return"&&R.charAt(0)!=="#"&&p!=="operator"&&R!=="public"&&R!=="private"&&R!=="static"&&R!=="final"&&R!=="implements"&&R!=="class"&&R!=="void"){r[t-1]=-20;}if(e.token[t+1]==="("||e.token[t+1]==="x("){r.push(-20);}else {r.push(-10);}}else {r.push(-10);}if($!=="comment"){p=$;R=j;}if(X.length>0&&e.token[t]!==")"){if(e.types[t]==="comment"&&X[X.length-1]>-1){X[X.length-1]=i.wrap+1;}else if(r[t]>-1||e.token[t].charAt(0)==="`"&&e.token[t].indexOf("\n")>0){X[X.length-1]=-1;}else if(X[X.length-1]>-1){X[X.length-1]=X[X.length-1]+e.token[t].length;if(r[t]===-10)X[X.length-1]=X[X.length-1]+1;}}}else {ee();}t=t+1;}while(t<n);return r})();const y=(()=>{const t=[];const k=(()=>{const r=[];const C=i.indentChar;let x=i.indentSize;if(typeof x!=="number"||x<1)return "";do{r.push(C);x=x-1;}while(x>0);return r.join("")})();const V=i.crlf===true?"\r\n":"\n";const o=i.preserveLine+1;const $=["x;","x}","x{","x(","x)"];let j=I.start;let p="";let R=i.indentLevel;function Z(r){const C=[];const x=(()=>{if(j===n-1)return 1;if(e.lines[j+1]-1>o)return o;if(e.lines[j+1]>1)return e.lines[j+1]-1;return 1})();let P=0;if(r<0)r=0;do{C.push(V);P=P+1;}while(P<x);if(r>0){P=0;do{C.push(k);P=P+1;}while(P<r)}return C.join("")}if(i.script.vertical===true){let r=function(C){let x=0;let P=0;let m=C-1;let b=0;let L=0;const S=e.begin[j];const X=[];do{if((e.begin[m]===S||e.token[m]==="]"||e.token[m]===")")&&(e.token[m+1]===":"&&e.stack[m]==="object"||e.token[m+1]==="=")){b=m;P=0;do{if(e.begin[b]===S){if(e.token[b]===","||e.token[b]===";"||e.token[b]==="x;"||F[b]>-1&&e.types[b]!=="comment"){if(e.token[b+1]==="."){P=P+i.indentSize*i.indentChar.length;}break}}else if(F[b]>-1){break}if(e.types[b]!=="comment"){if(F[b-1]===-10)P=P+1;P=e.token[b].length+P;}b=b-1;}while(b>S);L=b;if(e.token[L]===","&&e.token[m+1]==="="){do{if(e.types[L]==="end")L=e.begin[L];if(e.begin[L]===S){if(e.token[L]===";"||e.token[L]==="x;")break;if(e.token[L]==="var"||e.token[L]==="const"||e.token[L]==="let"){P=P+i.indentSize*i.indentChar.length;break}}L=L-1;}while(L>S)}if(P>x)x=P;X.push([m,P]);m=b;}else if(e.types[m]==="end"){m=e.begin[m];}m=m-1;}while(m>S);m=X.length;if(m>0){do{m=m-1;b=X[m][1];if(b<x){do{e.token[X[m][0]]=e.token[X[m][0]]+" ";b=b+1;}while(b<x)}}while(m>0)}};j=n;do{j=j-1;if(e.lexer[j]==="script"){if(e.token[j]==="}"&&e.token[j-1]!=="{"&&F[e.begin[j]]>0){r(j);}}else {j=e.begin[j];}}while(j>0)}j=I.start;do{if(e.lexer[j]===f||I.beautify[e.lexer[j]]===void 0){if(e.types[j]==="comment"&&i.commentIndent===true){if(/\n/.test(e.token[j])){const r=e.begin[j]>-1?e.token[j].charAt(2)==="*"?_e(F[j],k)+i.indentChar:_e(F[j],k):i.indentChar;const C=e.token[j].split(/\n/);let x=1;do{C[x]=r+C[x].trimStart();x=x+1;}while(x<C.length);e.token.splice(j,1,C.join("\n"));}}if($.indexOf(e.token[j])<0){if(e.token[j]!==";"||i.script.noSemicolon===false){t.push(e.token[j]);}else if(F[j]<0&&e.types[j+1]!=="comment"){t.push(";");}}if(j<n-1&&e.lexer[j+1]!==f&&e.begin[j]===e.begin[j+1]&&e.types[j+1].indexOf("end")<0&&e.token[j]!==","){t.push(" ");}else if(F[j]>-1){if((F[j]>-1&&e.token[j]==="{"||F[j]>-1&&e.token[j+1]==="}")&&e.lines[j]<3&&i.script.braceNewline===true){if(e.lines[j+1]<3)t.push(Z(0));}t.push(Z(F[j]));R=F[j];}else if(F[j]===-10){t.push(" ");if(e.lexer[j+1]!==f)R=R+1;}}else {if(d[j]===j){t.push(e.token[j]);}else {I.end=d[j];I.start=j;i.indentLevel=R;p=I.beautify[e.lexer[j]](i);t.push(p.replace(/\s+$/,""));j=I.iterator;if(F[j]===-10){t.push(" ");}else if(F[j]>-1){t.push(Z(F[j]));}i.indentLevel=0;}}j=j+1;}while(j<n);I.iterator=n-1;return t.join("")})();return y};var Je={};Ye(Je,{format:()=>qe,language:()=>Le,options:()=>Be,parse:()=>tt});var Ue=function(){const i=re(null);i.markup="markup";i.html="markup";i.liquid="markup";i.xml="markup";i.javascript="script";i.typescript="script";i.jsx="script";i.tsx="script";i.json="script";i.less="style";i.scss="style";i.sass="style";i.css="style";i.text="text";return i}();var Ze=function(){const i=re(null);i.html="HTML";i.xhtml="XHTML";i.liquid="Liquid";i.xml="XML";i.jsx="JSX";i.tsx="TSX";i.json="JSON";i.yaml="YAML";i.css="CSS";i.scss="SCSS";i.sass="SASS";i.less="LESS";i.text="Plain Text";i.javascript="JavaScript";i.typescript="TypeScript";return i}();function Ee(i){if(typeof i!=="string")return "markup";if(i.indexOf("html")>-1)return "markup";if(Ue[i]===void 0)return "script";return Ue[i]}function Ke(i){if(typeof i!=="string"||Ze[i]===void 0)return i.toUpperCase();return Ze[i]}function ke(i){const a=re(null);if(i==="unknown"){a.language=i;a.languageName="Unknown";a.lexer="markup";}else if(i==="xhtml"||i==="markup"){a.language="xml";a.languageName="XHTML";a.lexer="markup";}else {a.language=i;a.languageName=Ke(i);a.lexer=Ee(i);}if(I.hooks.language.length>0){for(const c of I.hooks.language){const s=c(a);if(typeof s==="object")Ce(a,s);}}return a}Le.reference=ke;Le.listen=function(i){I.hooks.language.push(i);};function Le(i){let a=[];let c=0;const s=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(i)&&/@import/.test(i)===false;const d=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(i);function e(){if(/\n\s*#+\s+/.test(i)||/^#+\s+/.test(i))return ke("markdown");if(/\$[a-zA-Z]/.test(i)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(i)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(i)&&/:\s*@[a-zA-Z];/.test(i)===false)return ke("scss");if(/@[a-zA-Z]:/.test(i)||/\.[a-zA-Z]\(\);/.test(i))return ke("less");return ke("css")}function f(){let n=1;let F="";let y=false;let t=false;const k=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(i);function V(){if(i.indexOf("(")>-1||i.indexOf("=")>-1||i.indexOf(";")>-1&&i.indexOf("{")>-1){if(d===true||/\w<\w+(,\s+\w+)*>/.test(i))return ke("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(i)||/=\s*<\w+/.test(i))return ke("typescript");return ke("javascript")}return ke("unknown")}function o(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(i)||/(?:public|private)\s+/.test(i)||/(?:export|declare)\s+type\s+\w+\s*=/.test(i)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(i)||/(?:typeof|keyof|as)\s+\w+/.test(i)||/\w+\s+as\s+\w+/.test(i)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(i)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(i)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(i))return ke("typescript");if(/\s(class|var|const|let)\s+\w/.test(i)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(i)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(i)&&(/\s?\{%/.test(i)||/{{/.test(i)))return ke("liquid");if(/^(\s*[$@])/.test(i)===false&&/([}\]];?\s*)$/.test(i)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(i)||/module\.export\s+=\s+/.test(i)||/export\s+default\s+\{/.test(i)||/[?:]\s*[{[]/.test(i)||/^(?:\s*return;?(?:\s+[{[])?)/.test(i)){return ke("javascript")}}if(/{%/.test(i)&&/{{/.test(i)&&/<\w/.test(i))return ke("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(i))return ke("less");if(/\$(\w|-)/.test(i))return ke("scss");if(/[;{:]\s*@\w/.test(i)===true)return ke("less");return ke("css")}if(n<c){do{if(y===false){if(a[n]==="*"&&a[n-1]==="/"){a[n-1]="";y=true;}else if(t===false&&a[n]==="f"&&n<c-6&&a[n+1]==="i"&&a[n+2]==="l"&&a[n+3]==="t"&&a[n+4]==="e"&&a[n+5]==="r"&&a[n+6]===":"){t=true;}}else if(y===true&&a[n]==="*"&&n!==c-1&&a[n+1]==="/"){y=false;a[n]="";a[n+1]="";}else if(t===true&&a[n]===";"){t=false;a[n]="";}if(y===true||t===true)a[n]="";n=n+1;}while(n<c)}F=a.join("");if(/\s\/\//.test(i)===false&&/\/\/\s/.test(i)===false&&/^(\s*(\{|\[)(?!%))/.test(i)===true&&/((\]|\})\s*)$/.test(i)&&i.indexOf(",")!==-1)return ke("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(i)===true&&(s===true||k===true||/console\.log\(/.test(i)===true||/export\s+default\s+class\s+/.test(i)===true||/export\s+(const|var|let|class)s+/.test(i)===true||/document\.get/.test(i)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(i)===true||i.indexOf("{")===-1||/^(\s*if\s+\()/.test(i)===true))return V();if(i.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(i)||/^(\s*\/(\*|\/))/.test(i)||/^(\s*\*\s*\{)/.test(i))&&/^(\s*if\s*\()/.test(i)===false&&/=\s*(\{|\[|\()/.test(F)===false&&(/(\+|-|=|\?)=/.test(F)===false||/\/\/\s*=+/.test(F)||/=+('|")?\)/.test(i)&&/;\s*base64/.test(i))&&/function(\s+\w+)*\s*\(/.test(F)===false)return o();return i.indexOf("{%")>-1?ke("liquid"):ke("unknown")}function E(){function n(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(i)||/{%-?\s*end\w+/.test(i)||/{{-?\s*content_for/.test(i)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(i)||/{%/.test(i)&&/%}/.test(i)&&/{{/.test(i)&&/}}/.test(i)?ke("liquid"):ke("html")}return /^(\s*<!doctype\s+html>)/i.test(i)||/^(\s*<html)/i.test(i)||/<form\s/i.test(i)&&/<label\s/i.test(i)&&/<input\s/i.test(i)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(i)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(i))||/<ul\s/i.test(i)&&/<li\s/i.test(i)&&/<\/li>/i.test(i)&&/<\/ul>/i.test(i)||/<head\s*>/.test(i)&&/<\/head>/.test(i)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(i)&&/XHTML\s+1\.1/.test(i)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(i)===false?n():/\s?{[{%]-?/.test(i)?ke("liquid"):ke("xml")}if(i===null||i.replace(/\s+/g,"")==="")return ke("unknown");if((/\n\s*#{1,6}\s+/.test(i)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(i))&&(/\[( |x|X)\]/.test(i)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(i)||/\n\s*```[a-zA-Z]*?\s+/.test(i)||/-+\|(-+\|)+/.test(i)))return ke("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(i))return E();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(i))return e();if(d===false&&/=(>|=|-|\+|\*)/.test(i)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(i)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(i)===false&&s===false&&/return\s*\w*\s*(;|\})/.test(i)===false&&(i===void 0||/^(?:\s*#(?!(!\/)))/.test(i)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(i)&&/>\s*<\w/.test(i)===false||(/^\s*:root\s*\{/.test(i)||/-{2}\w+\s*\{/.test(i)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(i))))return e();a=i.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,"").split("");c=a.length;if(/^(\s*({{|{%|<))/.test(i))return E();if(d===true||/^(?:[\s\w-]*<)/.test(i)===false&&/(?:>[\s\w-]*)$/.test(i)===false)return f();return (/^(?:\s*<\?xml)/.test(i)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(i)||/^\s*</.test(i)&&/<\/\w+(\w|\d)+>\s*$/.test(i))&&(/^(?:[\s\w]*<)/.test(i)||/(?:>[\s\w]*)$/.test(i))||/^(?:\s*<s((cript)|(tyle)))/i.test(i)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(i)?/^(?:[\s\w]*<)/.test(i)===false||/(?:>[\s\w]*)$/.test(i)===false?f():E():ke("unknown")}function Xe(i){const a=i.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify\s+(\w+)?\s*{\s+/);const c=i.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify-ignore\b/);const s=Ae(we);const d=s.length;let e=0;if(c>-1&&i.source.slice(0,c).trimStart()==="")return false;if(a>-1&&(a===0||`"':`.indexOf(i.source.charAt(a-1))<0)){let C=function(){if(y.charAt(k-1)!=="\\")return false;let x=k;do{x=x-1;}while(x>0&&y.charAt(x)==="\\");return (k-x)%2===0};const n=[];const F=a;const y=i.source;const t=y.length;let k=F;let V=0;let o="";let $="";let j="";let p="";let R=[];let Z=[];let N;let r;if(y.charAt(k)==="<"){r="<!--";}else if(y.charAt(k+1)==="/"){r="//";}else if(y.charAt(k+1)==="%"){N=y.indexOf("}",k+1);if(y[N-1].charCodeAt(0)===37)r=y.slice(k,N+1);}else {r="/*";}do{if(y.slice(k-9,k)==="@prettify")break;k=k+1;}while(k<t);do{if(C()===false){if(o===""){if(y.charAt(k)==='"'||y.charAt(k)==="'"||y.charAt(k)==="`"){o=y.charAt(k);if(n.length>0&&n[n.length-1].charAt(n[n.length-1].length-1)===":")V=k;}else if(/\s/.test(y.charAt(k))===false&&V===0){V=k;}else if(y.charAt(k)===","||/\s/.test(y.charAt(k))===true&&V>0){$=y.slice(V,k);if(n.length>0){if(n.length>0&&$===":"&&n[n.length-1].indexOf(":")<0){n[n.length-1]=n[n.length-1]+$;V=k;}else if(n.length>0&&n[n.length-1].charAt(n[n.length-1].length-1)===":"){n[n.length-1]=n[n.length-1]+$;V=0;}else {n.push($);V=0;}}else {n.push($);V=0;}}if(r==="<!--"&&y.slice(k-2,k+1)==="-->")break;if(r==="//"&&y.charAt(k)==="\n")break;if(r==="/*"&&y.slice(k-1,k+1)==="*/")break;if(r.charCodeAt(1)===37&&y.slice(k-1,k+1)==="%"&&y.indexOf("endcomment",y.indexOf("{%",N))>0)break}else if(y.charAt(k)===o&&o!=="${"){o="";}else if(o==="`"&&y.slice(k,k+2)==="${"){o="${";}else if(o==="${"&&y.charAt(k)==="}"){o="`";}}k=k+1;}while(k<t);if(V>0){o=y.slice(V,k+1);if(r==="<!--")o=o.replace(/\s*-+>$/,"");else if(r==="//")o=o.replace(/\s+$/,"");else o=o.replace(/\s*\u002a\/$/,"");n.push(o);}k=n.length;if(k>0){do{k=k-1;if(n[k].indexOf(":")>0){Z=[n[k].slice(0,n[k].indexOf(":")),n[k].slice(n[k].indexOf(":")+1)];}else if(we[n[k]]!==void 0&&we[n[k]].type==="boolean"){i.options[n[k]]=true;}if(Z.length===2&&we[Z[0]]!==void 0){if(Z[1].charAt(Z[1].length-1)===Z[1].charAt(0)&&(Z[1].charAt(0)==='"'||Z[1].charAt(0)==="'"||Z[1].charAt(0)==="`")){Z[1]=Z[1].slice(1,Z[1].length-1);}if(we[Z[0]].type==="number"&&isNaN(Number(Z[1]))===false){i.options[Z[0]]=Number(Z[1]);}else if(we[Z[0]].type==="boolean"){i.options[Z[0]]=Z[1]==="true";}else {if(we[Z[0]].values!==void 0){R=Ae(we[Z[0]].values);V=R.length;do{V=V-1;if(R[V]===Z[1]){i.options[Z[0]]=Z[1];break}}while(V>0)}else {if(Z[0]==="language"){j=Z[1];}else if(Z[0]==="lexer"){p=Z[1];}i.options[Z[0]]=Z[1];}}}}while(k>0);if(p===""&&j!=="")p=Ee(j);}}if(i.options.lexer==="script"){if(i.options.script.styleGuide!==void 0){switch(i.options.script.styleGuide){case"airbnb":i.options.wrap=80;i.options.indentChar=" ";i.options.indentSize=2;i.options.preserveLine=1;i.options.script.correct=true;i.options.script.quoteConvert="single";i.options.script.variableList="each";i.options.script.endComma="always";i.options.script.bracePadding=true;break;case"crockford":i.options.indentChar=" ";i.options.indentSize=4;i.options.script.correct=true;i.options.script.bracePadding=false;i.options.script.elseNewline=false;i.options.script.endComma="never";i.options.script.noCaseIndent=true;i.options.script.functionSpace=true;i.options.script.variableList="each";i.options.script.vertical=false;break;case"google":i.options.wrap=-1;i.options.indentChar=" ";i.options.indentSize=4;i.options.preserveLine=1;i.options.script.correct=true;i.options.script.quoteConvert="single";i.options.script.vertical=false;break;case"jquery":i.options.wrap=80;i.options.indentChar="	";i.options.indentSize=1;i.options.script.correct=true;i.options.script.bracePadding=true;i.options.script.quoteConvert="double";i.options.script.variableList="each";break;case"jslint":i.options.indentChar=" ";i.options.indentSize=4;i.options.script.correct=true;i.options.script.bracePadding=false;i.options.script.elseNewline=false;i.options.script.endComma="never";i.options.script.noCaseIndent=true;i.options.script.functionSpace=true;i.options.script.variableList="each";i.options.script.vertical=false;break;case"standard":i.options.wrap=0;i.options.indentChar=" ";i.options.indentSize=2;i.options.endNewline=false;i.options.preserveLine=1;i.options.script.correct=true;i.options.script.noSemicolon=true;i.options.script.endComma="never";i.options.script.braceNewline=false;i.options.script.bracePadding=false;i.options.script.braceAllman=false;i.options.script.quoteConvert="single";i.options.script.functionSpace=true;i.options.script.ternaryLine=false;i.options.script.variableList="each";i.options.script.vertical=false;break;case"yandex":i.options.script.correct=true;i.options.script.bracePadding=false;i.options.script.quoteConvert="single";i.options.script.variableList="each";i.options.script.vertical=false;break}}if(i.options.script.braceStyle!==void 0){switch(i.options.script.braceStyle){case"collapse":i.options.script.braceNewline=false;i.options.script.bracePadding=false;i.options.script.braceAllman=false;i.options.script.objectIndent="indent";i.options.script.neverFlatten=true;break;case"collapse-preserve-inline":i.options.script.braceNewline=false;i.options.script.bracePadding=true;i.options.script.braceAllman=false;i.options.script.objectIndent="indent";i.options.script.neverFlatten=false;break;case"expand":i.options.script.braceNewline=false;i.options.script.bracePadding=false;i.options.script.braceAllman=true;i.options.script.objectIndent="indent";i.options.script.neverFlatten=true;break}}if(i.options.language==="json")i.options.wrap=0;}do{if(i.options[Ae[e]]!==void 0){we[Ae[e]].lexer.length;}e=e+1;}while(e<d)}function et(i){const a=i.options.language;const c=i.options.lexer;l.count=-1;l.linesSpace=0;l.lineNumber=1;l.data.begin=[];l.data.ender=[];l.data.lexer=[];l.data.lines=[];l.data.stack=[];l.data.token=[];l.data.types=[];l.datanames=["begin","ender","lexer","lines","stack","token","types"];l.structure=[["global",-1]];l.structure.pop=function E(){const n=l.structure.length-1;const F=l.structure[n];if(n>0)l.structure.splice(n,1);return F};if(i.options.language==="auto"||i.options.lexer==="auto"){const E=Le(i.source);if(i.options.language==="auto")i.options.language=E.language;if(i.options.lexer==="auto")i.options.lexer=E.lexer;}if(typeof i.lexers[i.options.lexer]==="function"){l.references=[[]];l.error="";for(const E of Ae(i.lexers)){if(i.options.language==="json"){i.options.json=i.options.json||re(null);}else {i.options[E]=i.options[E]||re(null);}}i.lexers[i.options.lexer](`${i.source} `);}else {l.error=`Specified lexer, ${i.options.lexer}, is not a function.`;}let s=0;let d=0;const e=Ae(l.data);const f=e.length;do{d=s+1;do{if(l.data[e[s]].length!==l.data[e[d]].length){l.error=`"${e[s]}" array is of different length than "${e[d]}"`;break}d=d+1;}while(d<f);s=s+1;}while(s<f-1);if(l.data.begin.length>0){if(i.options.lexer==="script"&&i.options[i.options.lexer].objectSort){l.sortCorrection(0,l.count+1);}else if(i.options.lexer==="style"&&i.options[i.options.lexer].sortProperties){l.sortCorrection(0,l.count+1);}}i.options.language=a;i.options.lexer=c;return l.data}function Qe(i){const a=Date.now();const c=i.mode;const s=i.options.crlf===true?"\r\n":"\n";let d="";if(i.source.trimStart()===""){const E=new RegExp(`\\n{${i.options.preserveLine},}`);d=i.source;d=i.source.replace(E,"\n\n");d=i.options.endNewline===true?d.replace(/\s*$/,s):d.replace(/\s+$/,"");i.stats.chars=d.length;i.stats.language=i.options.languageName;i.stats.size=Ne(d.length);i.stats.time=(Date.now()-a).toFixed(1);return d}if(i.options.language==="text"){i.options.language="auto";}if(i.options.lexer==="text"){i.options.lexer="auto";}if(i.options.language==="text"||i.options.lexer==="text"){i.options.language="text";i.options.languageName="Plain Text";i.options.lexer="text";}else if(i.options.language==="auto"&&i.options.lexer==="auto"){const E=Le(i.source);if(i.options.lexer==="auto"){i.options.lexer=E.lexer;}if(i.options.language==="auto"){i.options.language=E.language;i.options.languageName=E.languageName;}}else {i.options.lexer=Ee(i.options.language);}i.stats.language=i.options.languageName;const e=Xe(i);if(e===false){i.stats.time=-1;i.stats.chars=i.source.length;i.stats.size=Ne(i.stats.chars);return i.source}i.parsed=et(i);if(c==="parse"){i.stats.time=(Date.now()-a).toFixed(1);i.stats.chars=i.source.length;i.stats.size=Ne(i.stats.chars);return i.parsed}d=i.beautify[i.options.lexer](i.options);d=i.options.endNewline===true?d.replace(/\s*$/,s):d.replace(/\s+$/,"");const f=d.length;i.stats.chars=f;i.stats.size=Ne(f);i.stats.time=(Date.now()-a).toFixed(1);i.end=0;i.start=0;return d}qe.before=i=>I.hooks.before.push(i);qe.after=i=>I.hooks.after.push(i);Be.listen=i=>I.hooks.rules.push(i);Object.defineProperty(qe,"stats",{get(){return I.stats}});Object.defineProperty(Be,"rules",{get(){return I.options}});function qe(i,a){I.source=i;if(typeof a==="object")I.options=Be(a);if(I.hooks.before.length>0){for(const s of I.hooks.before){if(s(I.options,i)===false)return i}}const c=Qe(I);if(I.hooks.after.length>0){for(const s of I.hooks.after){if(s.call(I.parsed,c,I.options)===false)return i}}return new Promise((s,d)=>{if(l.error.length)return d(l.error);return s(c)})}function Be(i){var a,c,s,d,e,f,E,n,F;for(const y of Ae(i)){if(((c=(a=we)==null?void 0:a[y])==null?void 0:c.lexer)==="auto"){I.options[y]=i[y];}else if(y==="markup"){Ce(I.options.markup,i.markup);}else if(y==="script"){Ce(I.options.script,i.script);}else if(y==="style"){Ce(I.options.style,i.style);}else if(y==="json"){Ce(I.options.json,i.json);}else if(y==="grammar"){if((d=(s=i.grammar)==null?void 0:s.html)==null?void 0:d.voids){Ce(I.options.grammar.html,i.grammar.html);for(const t of i.grammar.html.voids)ge.html.voids.add(t);}if((e=i.grammar)==null?void 0:e.liquid){if((E=(f=i.grammar)==null?void 0:f.liquid)==null?void 0:E.tags){I.options.grammar.liquid.tags=i.grammar.liquid.tags;for(const t of i.grammar.liquid.tags)ge.liquid.tags.add(t);}if((F=(n=i.grammar)==null?void 0:n.liquid)==null?void 0:F.singletons){I.options.grammar.liquid.singletons=i.grammar.liquid.singletons;for(const t of i.grammar.liquid.singletons)ge.liquid.singletons.add(t);}}}else if(y in I.options){I.options[y]=i[y];}}if(I.hooks.rules.length>0){for(const y of I.hooks.rules)y(I.options);}return I.options}function tt(i,a){I.source=i;I.mode="parse";if(typeof a==="object")I.options=Be(a);const c=Qe(I);return new Promise((s,d)=>{if(l.error.length)return d(l.error);return s(c)})}

export { Je as default, we as definitions };
