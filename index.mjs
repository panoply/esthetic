var vt=Object.defineProperty;var Lt=(s,u)=>{for(var a in u)vt(s,a,{get:u[a],enumerable:true});};var M=function(){const s=typeof process!=="undefined"&&process.versions!=null?"node":"browser";let u="";return {env:s,mode:"beautify",end:0,iterator:0,start:0,scopes:[],beautify:{},lexers:{},get source(){return s==="node"&&Buffer.isBuffer(u)?u.toString():u},set source(a){u=s==="node"?Buffer.isBuffer(a)?a:Buffer.from(a):a;},data:{begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]},hooks:{before:[],language:[],rules:[],after:[]},stats:{chars:-1,time:-1,size:"",language:""},options:{lexer:"auto",language:"text",languageName:"Plain Text",mode:"beautify",indentLevel:0,crlf:false,commentIndent:true,endNewline:false,indentChar:" ",indentSize:2,preserveComment:false,preserveLine:2,wrap:0,grammar:{},markup:{correct:false,commentNewline:false,delimiterTrims:"preserve",delimiterSpacing:false,attributeCasing:"preserve",attributeSort:false,attributeSortList:[],forceAttribute:3,forceLeadAttribute:true,forceIndent:false,ignoreJson:false,ignoreStyles:false,ignoreScripts:false,lineBreakSeparator:"default",preserveText:false,preserveAttributes:false,selfCloseSpace:true,quoteConvert:"none",normalizeSpacing:true,valueForce:"intent"},style:{correct:false,compressCSS:false,classPadding:false,noLeadZero:false,sortSelectors:false,sortProperties:false,quoteConvert:"none",forceValue:"preserve"},script:{correct:false,braceNewline:false,bracePadding:false,braceStyle:"none",braceAllman:false,commentNewline:false,caseSpace:false,elseNewline:false,endComma:"never",arrayFormat:"default",objectSort:false,objectIndent:"default",functionNameSpace:false,functionSpace:false,styleGuide:"none",ternaryLine:false,methodChain:4,neverFlatten:false,noCaseIndent:false,noSemicolon:false,quoteConvert:"none",variableList:"none",vertical:false},json:{useStringify:false,arrayFormat:"default",braceAllman:false,bracePadding:false,objectIndent:"default",objectSort:false}}}}();var Ne=Object.assign;var Je=Object.create;var Fe=Object.keys;var Ke=Object.defineProperty;var Le=Array.isArray;var y="";var se=" ";var fe="\n";var ye;var pe=new(ye=class{constructor(){this.script={};this.style={};this.html={embed:{}};this.liquid={embed:{}};this.script.keywords=Pe(ye.script.keywords);this.style.units=Pe(ye.style.units);this.style.atrules=Pe(ye.style.atrules);this.style.pseudoFunctions=Pe(ye.style.pseudo.functions);this.style.pseudoClasses=Pe(ye.style.pseudo.classes);this.style.pseudoElements=Pe(ye.style.pseudo.elements);this.html.tags=Pe(ye.html.tags);this.html.voids=Pe(ye.html.voids);this.liquid.tags=Pe(ye.liquid.tags);this.liquid.control=Pe(ye.liquid.control);this.liquid.else=Pe(ye.liquid.else);this.liquid.singletons=Pe(ye.liquid.singletons);this.defaults();}defaults(){for(const u in ye.html.embedded){this.html.embed[u]={};for(const{language:a,attribute:p=null}of ye.html.embedded[u]){this.html.embed[u].language=a;if(typeof p==="object"){for(const l in p){this.html.embed[u].attribute=l;if(Le(p[l])){this.html.embed[u].value=x=>new Set(p[l]).has(x);}else {this.html.embed[u].value=x=>new RegExp(p[l]).test(x);}}}else {this.html.embed[u].attribute=null;}}}for(const u in ye.liquid.embedded){this.liquid.embed[u]={end:a=>new RegExp(`^{%-?\\s*end${u}`).test(a)};for(const{language:a,argument:p}of ye.liquid.embedded[u]){this.liquid.embed[u].language=a;if(p){if(Le(p)){this.liquid.embed[u].attribute=l=>new Set(p).has(l);}else {this.liquid.embed[u].attribute=l=>new RegExp(p).test(l);}}else {this.liquid.embed[u].attribute=null;}}}}embed(u,a){return a in this[u].embed}extend(u){for(const a in u){if(a==="html"){if("tags"in u[a]&&Le(u[a].tags)){for(const p of u[a].tags){if(!this.html.tags.has(p)){ye.html.tags.push(p);this.html.tags.add(p);}}}if("voids"in u[a]&&Le(u[a].voids)){for(const p of u[a].voids){if(!this.html.voids.has(p)){ye.html.voids.push(p);this.html.voids.add(p);}}}if("embedded"in u[a]);}if(a==="liquid"){if("tags"in u[a]&&Le(u[a].tags)){for(const p of u[a].tags){if(!this.liquid.tags.has(p)){ye.liquid.tags.push(p);this.liquid.tags.add(p);}}}if("else"in u[a]&&Le(u[a].else)){for(const p of u[a].else){if(!this.liquid.else.has(p)){ye.liquid.else.push(p);this.liquid.else.add(p);}}}if("singletons"in u[a]&&Le(u[a].singletons)){for(const p of u[a].singletons){if(!this.liquid.singletons.has(p)){ye.liquid.singletons.push(p);this.liquid.singletons.add(p);}}}if("embedded"in u[a]&&typeof u[a].embedded==="object"){for(const p in u[a].embedded){if(!(p in this.liquid.embed)){this.liquid.embed[p]={end:l=>new RegExp(`{%-?\\s*end${p}`).test(l)};}for(const{language:l,argument:x}of u[a].embedded[p]){if(this.liquid.embed[p].language!==l){this.liquid.embed[p].language=l;}if(x){if(this.liquid.embed[p].attribute===null){if(Le(x)){this.liquid.embed[p].attribute=e=>Pe(x).has(e);}else {this.liquid.embed[p].attribute=e=>new RegExp(x).test(e);}}else {const e=[];for(const $ of ye.liquid.embedded[p]){if(Le($.argument)){for(const E of $.argument){if(x!==E)e.push(x);else e.push(E);}this.liquid.embed[p].attribute=E=>Pe(e).has(E);}else {if($.argument!==x){this.liquid.embed[p].attribute=E=>new RegExp(x).test(E);}}}}}}}}}if(a==="style"){if("units"in u[a]&&Le(u[a].units)){for(const p of u[a].units){if(!this.style.units.has(p)){ye.style.units.push(p);this.style.units.add(p);}}}if("atrules"in u[a]&&Le(u[a].atrules)){for(const p of u[a].atrules){if(!this.style.atrules.has(p)){ye.style.atrules.push(p);this.style.atrules.add(p);}}}if("pseudo"in u[a]){if("classes"in u[a].pseudo&&Le(u[a].pseudo.classes)){for(const p of u[a].pseudo.classes){if(!this.style.pseudoClasses.has(p)){ye.style.pseudo.classes.push(p);this.style.pseudoClasses.add(p);}}}if("elements"in u[a].pseudo&&Le(u[a].pseudo.elements)){for(const p of u[a].pseudo.elements){if(!this.style.pseudoElements.has(p)){ye.style.pseudo.elements.push(p);this.style.pseudoElements.add(p);}}}}}if(a==="script"){if("keywords"in u[a]&&Le(u[a].keywords)){for(const p of u[a].keywords){if(!this.script.keywords.has(p)){ye.script.keywords.push(p);this.script.keywords.add(p);}}}}}}},ye.script={keywords:["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]},ye.html={embedded:{script:[{language:"javascript"},{language:"json",attribute:{type:["application/json","application/ld+json"]}},{language:"jsx",attribute:{type:["text/jsx","application/jsx"]}}],style:[{language:"css"}]},voids:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","path","circle","source","track","wbr"],tags:["body","colgroup","dd","dt","head","html","li","option","tbody","td","tfoot","th","thead","tr"]},ye.liquid={embedded:{schema:[{language:"json"}],style:[{language:"css"}],stylesheet:[{language:"css"},{language:"scss",argument:/\s*['"]scss['"]/}],javascript:[{language:"javascript"}]},tags:["form","paginate","capture","case","comment","for","if","raw","tablerow","unless","schema","style","script","stylesheet","javascript"],control:["if","unless","case"],else:["else","elsif"],singletons:["include","layout","section","assign","liquid","break","continue","cycle","decrement","echo","increment","render","when"]},ye.style={units:["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"],atrules:["charset","color-profile","counter-style","font-face","font-feature-values","import","keyframes","layer","media","namespace","page","supports"],pseudo:{classes:["active","any-link","checked","default","defined","disabled","empty","enabled","first","first-child","first-of-type","fullscreen","focus","focus-visible","focus-within","host","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","modal","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","picture-in-picture","placeholder-shown","paused","playing","read-only","read-write","required","right","root","scope","target","valid","visited","where"],elements:["after","backdrop","before","cue","cue-region","first-letter","first-line","file-selector-button","marker","part","placeholder","selection","slotted"],functions:["after","before","first-letter","first-line","host","host-context","part","slotted","lang","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","where"]}},ye);function Pe(s){return new Set(s)}function Be(s,u=se){if(s===0)return u;let a=y;let p=1;do{a+=u;}while(p++<s);return a}var c=(s,u)=>s?s.charCodeAt(0)===u:false;c.last=(s,u)=>c(s[s.length-1],u);var X=(s,u)=>c(s,u)===false;X.last=(s,u)=>c.last(s,u)===false;function be(s){return /\s/.test(s)}function pt(s){const u=1024;const a=1048576;const p=1073741824;if(s<u)return s+" B";else if(s<a)return (s/u).toFixed(1)+" KB";else if(s<p)return (s/a).toFixed(1)+" MB";else return (s/p).toFixed(1)+" GB"}function nt(s){return `\\${s}`}function ht(s){const u=s.indexOf("{");const a=c(s[u+2],45)?s.slice(u+3).trimStart():s.slice(u+2).trimStart();return a.slice(0,a.search(/\s/))}function Re(s,u=NaN){if(typeof s!=="string")return y;if(X(s,60)&&X(s,123))return s;if(c(s,60)){const p=s.slice(1,s.search(/[\s>]/));return c(p,63)&&c.last(p,63)?"xml":isNaN(u)?p.toLowerCase():p.slice(u).toLowerCase()}let a=c(s[2],45)?s.slice(3).trimStart():s.slice(2).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/)).toLowerCase();return isNaN(u)?a:a.slice(u)}function dt(s){const u=s.indexOf("{");if(c(s[u+1],37)){let a;a=s.slice(u+(c(s[u+2],45)?3:2)).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:pe.liquid.control.has(a)}return false}function gt(s){const u=s.indexOf("{");console.log(u);if(c(s[u+1],37)){let a;a=s.slice(u+(c(s[u+2],45)?3:2)).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:pe.liquid.else.has(a)}return false}function bt(s){const u=s.indexOf("=");if(u>-1){if(c(s[u+1],34)||c(s[u+1],39)){return /{%-?\s*end\w+/.test(s.slice(u,s.lastIndexOf(s[u+1])))}}return false}function st(s){if(Xe(s))return /{%-?\s*end\w+/.test(s);return false}function Xe(s,u=false){let a;if(u){if(_e(s,6)&&_e(s,8)){a=s.slice(c(s[2],45)?3:2).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:pe.liquid.tags.has(a)}return false}const p=s.indexOf("{");if(c(s[p+1],37)){a=s.slice(p+(c(s[p+2],45)?3:2)).trimStart();a=a.slice(0,a.search(/[\s=|!<>,.[]|-?[%}]}/));return a.startsWith("end")?false:pe.liquid.tags.has(a)}return false}function Ve(s){let u=s;if(Array.isArray(s))u=s.join("");const a=u.indexOf("{");if(c(u[a+1],37)){if(c(u[a+2],45))return u.slice(a+3).trimStart().startsWith("end");return u.slice(a+2).trimStart().startsWith("end")}return false}function _e(s,u){if(u===1){return c(s[0],123)&&(c(s[1],37)||c(s[1],123))}else if(u===6){return c(s[0],123)&&c(s[1],37)}else if(u===7){return c(s[0],123)&&c(s[1],123)}else if(u===8){return c(s[s.length-2],37)&&c(s[s.length-1],125)}else if(u===9){return c(s[s.length-2],125)&&c(s[s.length-1],125)}else if(u===4){return /{[{%]/.test(s)}else if(u===5){return /{[{%]/.test(s)&&/[%}]}/.test(s)}else if(u===2){const a=s.length;return c(s[a-1],125)&&(c(s[a-2],37)||c(s[a-2],125))}else if(u===3){const a=s.length;return c(s[0],123)&&(c(s[1],37)||c(s[1],123))&&(c(s[a-1],125)&&(c(s[a-2],37)||c(s[a-2],125)))}}function it(s){let u=0;const a=s.length;const p=s;const l=()=>{let e=0;const $=p.length;if(e<$){do{if(Le(p[e])===true)p[e]=it.apply(this,p[e]);e=e+1;}while(e<$)}};const x=e=>{let $=u;let E=0;let o=0;let N=0;let t=[];let n=p[u];let S="";const Z=typeof n;if($<a){do{S=typeof p[$];if(p[$]<n||S<Z){n=p[$];t=[$];}else if(p[$]===n){t.push($);}$=$+1;}while($<a)}o=t.length;$=u;E=o+u;if($<E){do{p[t[N]]=p[$];p[$]=n;N=N+1;$=$+1;}while($<E)}u=u+o;if(u<a){x("");}else {if(this.recursive===true)l();s=p;}return e};x("");return s}function rt(s){let u=0;const a=s.length;const p=s;const l=()=>{let e=0;const $=p.length;if(e<$){do{if(Le(p[e]))p[e]=rt.apply(this,p[e]);e=e+1;}while(e<$)}};const x=e=>{let $=u;let E=0;let o=0;let N=0;let t=p[u];let n=[];let S="";const Z=typeof t;if($<a){do{S=typeof p[$];if(p[$]>t||S>Z){t=p[$];n=[$];}else if(p[$]===t){n.push($);}$=$+1;}while($<a)}o=n.length;$=u;E=o+u;if($<E){do{p[n[N]]=p[$];p[$]=t;N=N+1;$=$+1;}while($<E)}u=u+o;if(u<a){x("");}else {if(this.recursive===true)l();s=p;}return e};x("");return s}function lt(s){let u=s;const a=[s[0]];const p=()=>{let x=0;const e=u.length;if(x<e){do{if(Le(u[x]))u[x]=lt.apply(this,u[x]);x=x+1;}while(x<e)}};const l=x=>{let e=0;const $=[];const E=u.length;if(e<E){do{if(u[e]!==x)$.push(u[e]);e=e+1;}while(e<E)}u=$;if($.length>0){a.push($[0]);l($[0]);}else {if(this.recursive===true)p();s=u;}};l(this.array[0]);return s}var He=/^\s+/;var Ie=/\s+$/;var De=/^[\t\v\f\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/;var $e=/[\t\v\f \u00a0\u2000-\u200b\u2028-\u2029\u3000]+$/;var ot=/[\t\v\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/g;var kt=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify\s+/;var mt=/(\/[*/]|{%-?\s*(?:comment\s*-?%})|<!-{2})\s*@prettify-ignore\b/;var yt=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify-ignore-next\b/;var xt=/{%-?\s*|\s*-?%}/g;var at=/(\/|\\|\||\*|\[|\]|\{|\})/g;var i=new class en{constructor(){this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.data={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};this.structure=[["global",-1]];this.attributes=new Set;this.references=[[]];this.count=-1;this.lineStart=0;this.lineNumber=0;this.linesSpace=0;this.error=y;}get scope(){const[u,a]=this.structure[this.structure.length-1];return {token:u,index:a}}get current(){const{begin:u,ender:a,lexer:p,lines:l,stack:x,token:e,types:$}=this.data;return {begin:u[u.length-1],ender:a[a.length-1],lexer:p[p.length-1],lines:l[l.length-1],stack:x[x.length-1],token:e[u.length-1],types:$[u.length-1]}}full(){this.error=y;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const u=this.structure.length-1;const a=this.structure[u];if(u>0)this.structure.splice(u,1);return a};return this.data}increment(){this.error=y;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const u=this.structure.length-1;const a=this.structure[u];if(u>0)this.structure.splice(u,1);return a};return this.data}pushEnder(u){let a=this.count;const p=u.begin[a];if(u.lexer[a]==="style"&&M.options.style.sortProperties===true||u.lexer[a]==="script"&&(M.options.script.objectSort===true||M.options.json.objectSort===true)){return}do{if(u.begin[a]===p||u.begin[u.begin[a]]===p&&u.types[a].indexOf("attribute")>-1&&u.types[a].indexOf("attribute_end")<0){u.ender[a]=this.count;}else {a=u.begin[a];}a=a-1;}while(a>p);if(a>-1)u.ender[a]=this.count;}push(u,a,p=y){u.begin.push(a.begin);u.ender.push(a.ender);u.lexer.push(a.lexer);u.stack.push(a.stack);u.token.push(a.token);u.types.push(a.types);u.lines.push(a.lines);if(u===this.data){this.count=this.count+1;this.linesSpace=0;if(a.lexer!=="style"&&p.replace(/[{}@<>%#]/g,y)===y){p=a.types==="else"?"else":Re(a.token);}if(a.types==="start"||a.types.indexOf("_start")>0){this.structure.push([p,this.count]);}else if(a.types==="end"||a.types.indexOf("_end")>0){let l=0;const x=this.structure.length;if(this.structure.length>2&&(u.types[this.structure[x-1][1]]==="else"||u.types[this.structure[x-1][1]].indexOf("_else")>0)&&(u.types[this.structure[x-2][1]]==="start"||u.types[this.structure[x-2][1]].indexOf("_start")>0)&&(u.types[this.structure[x-2][1]+1]==="else"||u.types[this.structure[x-2][1]+1].indexOf("_else")>0)){this.structure.pop();u.begin[this.count]=this.structure[this.structure.length-1][1];u.stack[this.count]=this.structure[this.structure.length-1][0];u.ender[this.count-1]=this.count;l=u.ender[u.begin[this.count]+1];}this.pushEnder(u);if(l>0)u.ender[u.begin[this.count]+1]=l;this.structure.pop();}else if(a.types==="else"||a.types.indexOf("_else")>0){if(p===y)p="else";if(this.count>0&&(u.types[this.count-1]==="start"||u.types[this.count-1].indexOf("_start")>0)){this.structure.push([p,this.count]);}else {this.pushEnder(u);this.structure[this.structure.length-1]=p===y?["else",this.count]:[p,this.count];}}}}pop(u){const a={begin:u.begin.pop(),ender:u.ender.pop(),lexer:u.lexer.pop(),lines:u.lines.pop(),stack:u.stack.pop(),token:u.token.pop(),types:u.types.pop()};if(u===this.data)this.count=this.count-1;return a}concat(u,a){u.begin=u.begin.concat(a.begin);u.ender=u.ender.concat(a.ender);u.lexer=u.lexer.concat(a.lexer);u.stack=u.stack.concat(a.stack);u.token=u.token.concat(a.token);u.types=u.types.concat(a.types);u.lines=u.lines.concat(a.lines);if(u===this.data)this.count=u.token.length-1;}sortObject(u){let a=this.count;let p=this.structure[this.structure.length-1][1];let l=0;let x=0;let e=0;let $=0;let E=0;let o=0;let N=0;let t=true;const n=[];const S=p;const Z=this.structure[this.structure.length-1][0];const r=this.linesSpace;const U=this.count;const k=M.options.language==="json";const d=u.lexer[a]==="style"&&Z==="global";const P=u.lexer[a]==="style";const ee=P===true?[";","separator"]:[",","separator"];const K=d===true?"global":Z;const h={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};const C=(_,w)=>{let m=_[0];let g=w[0];if(u.types[m]==="comment"){do{m=m+1;}while(m<U&&u.types[m]==="comment");if(u.token[m]===void 0)return 1}if(u.types[g]==="comment"){do{g=g+1;}while(g<U&&u.types[g]==="comment");if(u.token[g]===void 0)return 1}if(P===true){if(u.token[m].indexOf("@import")===0||u.token[g].indexOf("@import")===0){return m<g?-1:1}if(u.types[m]!==u.types[g]){if(u.types[m]==="function")return 1;if(u.types[m]==="variable")return -1;if(u.types[m]==="selector")return 1;if(u.types[m]==="property"&&u.types[g]!=="variable")return -1;if(u.types[m]==="mixin"&&u.types[g]!=="property"&&u.types[g]!=="variable")return -1}}if(u.token[m].toLowerCase()>u.token[g].toLowerCase())return 1;return -1};$=a;do{if(u.begin[a]===p||d===true&&a<$&&c(u.token[a],125)&&u.begin[u.begin[a]]===-1){if(u.types[a].indexOf("template")>-1)return;if(u.token[a]===ee[0]||P===true&&c(u.token[a],125)&&X(u.token[a+1],59)){t=true;E=a+1;}else if(P===true&&c(u.token[a-1],125)){t=true;E=a;}if(E===0&&u.types[0]==="comment"){do{E=E+1;}while(u.types[E]==="comment")}else if(u.types[E]==="comment"&&u.lines[E]<2){E=E+1;}if(t===true&&(u.token[a]===ee[0]||P===true&&c(u.token[a-1],125))&&E<=$){if(P===true&&"};".indexOf(u.token[$])<0){$=$+1;}else if(P===false&&X(u.token[$],44)){$=$+1;}n.push([E,$]);if(P===true&&c(u.token[E],125)){$=E;}else {$=E-1;}}}a=a-1;}while(a>p);if(n.length>0&&n[n.length-1][0]>a+1){l=n[n.length-1][0]-1;if(u.types[l]==="comment"&&u.lines[l]>1){do{l=l-1;}while(l>0&&u.types[l]==="comment");n[n.length-1][0]=l+1;}if(u.types[a+1]==="comment"&&a===-1){do{a=a+1;}while(u.types[a+1]==="comment")}n.push([a+1,l]);}if(n.length>1){if(k===true||P===true||c(u.token[a-1],61)||c(u.token[a-1],58)||c(u.token[a-1],40)||c(u.token[a-1],91)||c(u.token[a-1],44)||u.types[a-1]==="word"||a===0){n.sort(C);N=n.length;t=false;p=0;do{o=n[p][1];if(P===true){e=o;if(u.types[e]==="comment")e=e-1;if(c(u.token[e],125)){o=o+1;ee[0]="}";ee[1]="end";}else {ee[0]=";";ee[1]="separator";}}l=n[p][0];if(P===true&&u.types[o-1]!=="end"&&u.types[o]==="comment"&&u.types[o+1]!=="comment"&&p<N-1){o=o+1;}if(l<o){do{if(P===false&&p===N-1&&l===o-2&&c(u.token[l],44)&&u.lexer[l]==="script"&&u.types[l+1]==="comment"){x=x+1;}else {this.push(h,{begin:u.begin[l],ender:u.ender[l],lexer:u.lexer[l],lines:u.lines[l],stack:u.stack[l],token:u.token[l],types:u.types[l]});x=x+1;}if(u.token[l]===ee[0]&&(P===true||u.begin[l]===u.begin[n[p][0]])){t=true;}else if(u.token[l]!==ee[0]&&u.types[l]!=="comment"){t=false;}l=l+1;}while(l<o)}if(t===false&&h.token[h.token.length-1]!=="x;"&&(P===true||p<N-1)){l=h.types.length-1;if(h.types[l]==="comment"){do{l=l-1;}while(l>0&&h.types[l]==="comment")}l=l+1;this.splice({data:h,howmany:0,index:l,record:{begin:S,stack:K,ender:this.count,lexer:h.lexer[l-1],lines:0,token:ee[0],types:ee[1]}});x=x+1;}p=p+1;}while(p<N);this.splice({data:u,howmany:x,index:a+1});this.linesSpace=r;this.concat(u,h);}}}sortSafe(u,a,p){if(Le(u)===false)return u;if(a==="normal")return lt.call({array:u,recursive:p},u);if(a==="descend")return rt.call({recursive:p},u);return it.call({recursive:p},u)}sortCorrect(u,a){let p=u;let l=-1;const x=this.data;const e=[];const $=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(p>0&&x.types[p].indexOf("attribute")>-1&&x.types[p].indexOf("end")<0&&x.types[p-1].indexOf("start")<0&&x.types[p-1].indexOf("attribute")<0&&x.lexer[p]==="markup"){$.push(p-1);}if(p>0&&x.types[p-1].indexOf("attribute")>-1&&x.types[p].indexOf("attribute")<0&&x.lexer[$[$.length-1]]==="markup"&&x.types[$[$.length-1]].indexOf("start")<0){$.pop();}if(x.begin[p]!==$[$.length-1]){x.begin[p]=$.length>0?$[$.length-1]:-1;}if(x.types[p].indexOf("else")>-1){if($.length>0){$[$.length-1]=p;}else {$.push(p);}}if(x.types[p].indexOf("end")>-1)$.pop();if(x.types[p].indexOf("start")>-1)$.push(p);p=p+1;}while(p<a);p=a;do{p=p-1;if(x.types[p].indexOf("end")>-1){e.push(p);l=l+1;}x.ender[p]=l>-1?e[l]:-1;if(x.types[p].indexOf("start")>-1){e.pop();l=l-1;}}while(p>u)}space(u,a){this.linesSpace=1;return p=>{do{if(c(u[p],10))this.lineNumber=this.lineNumber+1;if(be(u[p])===false)break;this.linesSpace=this.linesSpace+1;p=p+1;}while(p<a);return p}}spacer(u){this.linesSpace=1;do{if(u.array[u.index]===fe){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(be(u.array[u.index+1])===false)break;u.index=u.index+1;}while(u.index<u.end);return u.index}splice(u){const{data:a}=this;const p=[a.begin[this.count],a.token[this.count]];if(u.record!==void 0&&u.record.token!==y){for(const l of this.datanames){u.data[l].splice(u.index,u.howmany,u.record[l]);}if(u.data===a){this.count=this.count-u.howmany+1;if(p[0]!==a.begin[this.count]||p[1]!==a.token[this.count]){this.linesSpace=0;}}return}for(const l of this.datanames){u.data[l].splice(u.index,u.howmany);}if(u.data===a){this.count=this.count-u.howmany;this.linesSpace=0;}}wrapCommentLine(u){let a=u.start;let p=0;let l=y;let x=[];const{wrap:e,preserveComment:$}=M.options;function E(){let N=y;do{p=p+1;if(c(u.chars[p+1],10))return}while(p<u.end&&be(u.chars[p])===true);if(u.chars[p]+u.chars[p+1]==="//"){x=[];do{x.push(u.chars[p]);p=p+1;}while(p<u.end&&u.chars[p]!==fe);N=x.join(y);if(/^\/\/ (\*|-|(\d+\.))/.test(N)===false&&N.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(N)===false){l=`${l} ${N.replace(/(^\/\/\s*)/,y).replace($e,y)}`;a=p-1;E();}}}const o=()=>{const N=[];const t={ender:-1,types:"comment",lexer:u.lexer,lines:this.linesSpace};if(this.count>-1){t.begin=this.structure[this.structure.length-1][1];t.stack=this.structure[this.structure.length-1][0];t.token=this.data.token[this.count];}else {t.begin=-1;t.stack="global";t.token=y;}let n=0;let S=0;l=l.replace(/\s+/g,se).replace($e,y);S=l.length;if(e>S)return;do{n=e;if(l.charAt(n)!==se){do{n=n-1;}while(n>0&&l.charAt(n)!==se);if(n<3){n=e;do{n=n+1;}while(n<S-1&&l.charAt(n)!==se)}}N.push(l.slice(0,n));l=`// ${l.slice(n).replace(De,y)}`;S=l.length;}while(e<S);n=0;S=N.length;do{t.token=N[n];this.push(this.data,t,y);t.lines=2;this.linesSpace=2;n=n+1;}while(n<S)};do{x.push(u.chars[a]);a=a+1;}while(a<u.end&&u.chars[a]!==fe);if(a===u.end){u.chars.push(fe);}else {a=a-1;}l=x.join(y).replace($e,y);if(/^(\/\/\s*@prettify-ignore-start\b)/.test(l)===true){let N=fe;a=a+1;do{x.push(u.chars[a]);a=a+1;}while(a<u.end&&(u.chars[a-1]!=="d"||u.chars[a-1]==="d"&&x.slice(x.length-20).join(y)!=="@prettify-ignore-end"));p=a;do{}while(p>u.start&&u.chars[p-1]==="/"&&(u.chars[p]==="*"||u.chars[p]==="/"));if(u.chars[p]==="*")N="*/";if(N!==fe||u.chars[a]!==fe){do{x.push(u.chars[a]);if(N===fe&&u.chars[a+1]===fe)break;a=a+1;}while(a<u.end&&(N===fe||N==="*/"&&(u.chars[a-1]!=="*"||u.chars[a]!=="/")))}if(u.chars[a]===fe)a=a-1;l=x.join(y).replace($e,y);return [l,a]}if(l==="//"||l.slice(0,6)==="//    "||$===true){return [l,a]}l=l.replace(/(\/\/\s*)/,"// ");if(e<1||a===u.end-1&&this.data.begin[this.count]<1)return [l,a];p=a+1;E();o();return [l,a]}};function Ze(s){const{options:u}=M;const a=[];const p=[];const l=u.crlf===true?"\r\n":fe;const x=s.begin.replace(at,nt);const e=c(s.begin[0],123)&&c(s.begin[1],37);const $=new RegExp(`^(${x}\\s*@prettify-ignore-start)`);const E=new RegExp(`(${x}\\s*)`);const o=e?new RegExp(`\\s*${s.ender.replace(xt,v=>c(v,123)?"{%-?\\s*":"\\s*-?%}")}$`):new RegExp(s.ender.replace(at,nt));let N=s.start;let t=0;let n=0;let S=0;let Z=0;let r=[];let U=y;let k=y;let d=false;let P=false;let ee=false;let K=y;let h=s.ender.length-1;let C=s.ender.charAt(h);let _=0;function w(){if(/^\s+$/.test(r[t+1])||r[t+1]===y){do t=t+1;while(t<Z&&(/^\s+$/.test(r[t+1])||r[t+1]===y))}if(t<Z-1)p.push(y);}function m(){let v=fe;N=N+1;do{a.push(s.chars[N]);if(a.slice(a.length-20).join(y)==="@prettify-ignore-end"){if(e){const j=s.chars.indexOf("{",N);if(c(s.chars[j+1],37)){const L=s.chars.slice(j,s.chars.indexOf("}",j+1)+1).join(y);if(o.test(L))s.ender=L;}}N=N+1;break}N=N+1;}while(N<s.end);t=N;h=s.begin.length-1;C=s.begin.charAt(h);do{if(s.begin==="/*"&&c(s.chars[t-1],47)&&(c(s.chars[t],42)||c(s.chars[t],47))){break}if(s.begin!=="/*"&&s.chars[t]===C&&s.chars.slice(t-h,t+1).join(y)===s.begin){break}t=t-1;}while(t>s.start);if(s.begin==="/*"&&c(s.chars[t],42)){v="*/";}else if(s.begin!=="/*"){v=s.ender;}h=v.length-1;C=v.charAt(h);if(v!==fe||s.chars[N]!==fe){do{a.push(s.chars[N]);if(v===fe&&s.chars[N+1]===fe){break}if(s.chars[N]===C&&s.chars.slice(N-h,N+1).join(y)===v){break}N=N+1;}while(N<s.end)}if(s.chars[N]===fe)N=N-1;K=a.join(y).replace($e,y);return [K,N]}do{a.push(s.chars[N]);if(s.chars[N]===fe)i.lineNumber=i.lineNumber+1;if(s.chars[N]===C&&s.chars.slice(N-h,N+1).join(y)===s.ender)break;N=N+1;}while(N<s.end);K=a.join(y);if($.test(K)===true)return m();if(u.preserveComment===true||u.wrap<1||N===s.end||K.length<=u.wrap&&K.indexOf(fe)<0||s.begin==="/*"&&K.indexOf(fe)>0&&K.replace(fe,y).indexOf(fe)>0&&/\n(?!(\s*\*))/.test(K)===false){return [K,N]}t=s.start;if(t>0&&X(s.chars[t-1],10)&&be(s.chars[t-1])){do t=t-1;while(t>0&&X(s.chars[t-1],10)&&be(s.chars[t-1]))}U=s.chars.slice(t,s.start).join(y);const g=new RegExp(fe+U,"g");r=K.replace(/\r\n/g,fe).replace(g,fe).split(fe);Z=r.length;r[0]=r[0].replace(E,y);r[Z-1]=r[Z-1].replace(o,y);if(Z<2)r=r[0].split(se);if(r[0]===y){r[0]=s.begin;}else {r.splice(0,0,s.begin);}Z=r.length;t=0;do{k=t<Z-1?r[t+1].replace(De,y):y;if(/^\s+$/.test(r[t])===true||r[t]===y){w();}else if(r[t].replace(De,y).length>u.wrap&&r[t].replace(De,y).indexOf(se)>u.wrap){r[t]=r[t].replace(De,y);n=r[t].indexOf(se);p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);t=t-1;}else {r[t]=s.begin==="/*"&&r[t].indexOf("/*")!==0?`   ${r[t].replace(De,y).replace($e,y).replace(/\s+/g,se)}`:`${r[t].replace(De,y).replace($e,y).replace(/\s+/g,se)}`;_=t<1?u.wrap-(s.begin.length+1):u.wrap;n=r[t].length;S=r[t].replace(De,y).indexOf(se);if(n>_&&S>0&&S<_){n=_;do{n=n-1;if(be(r[t].charAt(n))&&n<=u.wrap)break}while(n>0);if(/^\s*\d+\.\s/.test(r[t])===true&&/^\s*\d+\.\s/.test(r[t+1])===false){r.splice(t+1,0,"1. ");}if(/^\s+$/.test(r[t+1])===true||r[t+1]===y){p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);d=true;t=t-1;}else if(/^\s*[*-]\s/.test(r[t+1])){p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);P=true;t=t-1;}else if(/^\s*\d+\.\s/.test(r[t+1])){p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);ee=true;t=t-1;}else if(r[t].replace(De,y).indexOf(se)<u.wrap){r[t+1]=r[t].length>u.wrap?r[t].slice(n+1)+l+r[t+1]:`${r[t].slice(n+1)} ${r[t+1]}`;}if(d===false&&P===false&&ee===false){r[t]=r[t].slice(0,n);}}else if(r[t+1]!==void 0&&(r[t].length+k.indexOf(se)>u.wrap&&k.indexOf(se)>0||r[t].length+k.length>u.wrap&&k.indexOf(se)<0)){p.push(r[t]);t=t+1;}else if(r[t+1]!==void 0&&/^\s+$/.test(r[t+1])===false&&r[t+1]!==y&&/^\s*(?:[*-]|\d+\.)\s/.test(r[t+1])===false){p.push(r[t]);d=true;}else {p.push(r[t]);d=true;}P=false;ee=false;}t=t+1;}while(t<Z);if(p.length>0){if(p[p.length-1].length>u.wrap-(s.ender.length+1)){p.push(s.ender);}else {p.push(s.ender);}K=p.join(l);}else {r[r.length-1]=r[r.length-1]+s.ender;K=r.join(l);}return [K,N]}M.lexers.style=function s(u){const{options:a}=M;const p=a.style;const{data:l}=i;const x=u.split(y);const e=u.length;const $=[];const E=[];const o=i.space(x,e);let N=0;let t=y;let n=y;function S(h){i.push(l,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"style",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:n,types:t},h);}function Z(h){const C=h;do{h=h-1;}while(x[h]==="\\"&&h>0);return (C-h)%2===1}function r(h){const C=h.replace(/\s*!important/," !important").split(y);const _=/-?transition$/.test(l.token[i.count-2]);const w=[];const m=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const g=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let v=0;let j=0;let L=y;let T=C.length;let ne=[];const G=ie=>{return ie};function ae(ie){ie=ie.replace(/\s*/g,y);return /\/\d/.test(ie)&&h.indexOf("url(")===0?ie:` ${ie.charAt(0)} ${ie.charAt(1)}`}function we(ie){if(p.noLeadZero===true){return ie.replace(/^-?\D0+(\.|\d)/,V=>V.replace(/0+/,y))}else if(/0*\./.test(ie)){return ie.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(ie)[0])){return /^\D*0+\D*$/.test(ie)?ie.replace(/0+/,"0"):ie.replace(/\d+/.exec(ie)[0],/\d+/.exec(ie)[0].replace(/^0+/,y))}return ie}function Q(ie){return ie.replace(",",", ")}function he(ie){return `${ie} `}function Ce(){const ie=v-1;let V=ie;if(ie<1)return true;do{V=V-1;}while(V>0&&C[V]==="\\");return (ie-V)%2===1}if(v<T){do{ne.push(C[v]);if(C[v-1]!=="\\"||Ce()===false){if(L===y){if(c(C[v],34)){L='"';j=j+1;}else if(c(C[v],39)){L="'";j=j+1;}else if(c(C[v],40)){L=")";j=j+1;}else if(c(C[v],91)){L="]";j=j+1;}}else if(c(C[v],40)&&c(L,41)||c(C[v],91)&&c(L,93)){j=j+1;}else if(C[v]===L){j=j-1;if(j===0)L=y;}}if(L===y&&c(C[v],32)){ne.pop();w.push(G(ne.join(y)));ne=[];}v=v+1;}while(v<T)}w.push(G(ne.join(y)));T=w.length;v=0;if(v<T){do{if(p.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(w[v])===true){w[v]=w[v].replace(/0+\./,".");}else if(p.noLeadZero===false&&/^-?\.\d+[a-z]/.test(w[v])){w[v]=w[v].replace(".","0.");}else if(m.test(w[v])||g.test(w[v])){w[v]=w[v].replace(m,we).replace(g,we);}else if(/^(0+([a-z]{2,3}|%))$/.test(w[v])&&_===false){w[v]="0";}else if(/^(0+)/.test(w[v])){w[v]=w[v].replace(/0+/,"0");if(/\d/.test(w[v].charAt(1)))w[v]=w[v].substr(1);}else if(/^url\((?!('|"))/.test(w[v])&&w[v].charCodeAt(w[v].length-1)===41){L=w[v].charAt(w[v].indexOf("url(")+4);if(L!=="@"&&X(L,40)&&X(L,60)){if(p.quoteConvert==="double"){w[v]=w[v].replace(/url\(/,'url("').replace(/\)$/,'")');}else {w[v]=w[v].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(w[v])){if(!pe.style.units.has(w[v].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,y))){w[v]=w[v].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,he);}}if(/^\w+\(/.test(w[v])&&w[v].charAt(w[v].length-1)===")"&&(w[v].indexOf("url(")!==0||w[v].indexOf("url(")===0&&w[v].indexOf(se)>0)){w[v]=w[v].replace(/,\S/g,Q);}v=v+1;}while(v<T)}L=w.join(se);return L.charAt(0)+L.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,ae)}function U(){const h=[];const C=[];const _=p.quoteConvert;let w=N;let m=0;let g=y;let v=null;function j(){C.push(x[w]);if(be(x[w+1]))do{w=w+1;}while(w<e&&be(x[w+1]))}if(w<e){do{if(c(x[w],34)||c(x[w],39)){if(v===null)v=false;if(h[h.length-1]===x[w]&&(x[w-1]!=="\\"||Z(w-1)===false)){h.pop();if(_==="double"){x[w]='"';}else if(_==="single"){x[w]="'";}}else if(X(h[h.length-1],34)&&X(h[h.length-1],39)&&(x[w-1]!=="\\"||Z(w-1)===false)){h.push(x[w]);if(_==="double"){x[w]='"';}else if(_==="single"){x[w]="'";}}else if(x[w-1]==="\\"&&_!=="none"){if(Z(w-1)===true){if(_==="double"&&c(x[w],39)){C.pop();}else if(_==="single"&&c(x[w],34)){C.pop();}}}else if(_==="double"&&c(x[w],34)){x[w]='\\"';}else if(_==="single"&&c(x[w],39)){x[w]="\\'";}C.push(x[w]);}else if(x[w-1]!=="\\"||Z(w-1)===false){if(c(x[w],40)){if(v===null)v=true;h.push(")");j();}else if(c(x[w],91)){v=false;h.push("]");j();}else if((c(x[w],35)||c(x[w],64))&&c(x[w+1],123)){v=false;C.push(x[w]);w=w+1;h.push("}");j();}else if(x[w]===h[h.length-1]){C.push(x[w]);h.pop();}else {C.push(x[w]);}}else {C.push(x[w]);}if(i.structure[i.structure.length-1][0]==="map"&&h.length===0&&(c(x[w+1],44)||c(x[w+1],41))){if(c(x[w+1],41)&&c(l.token[i.count],40)){i.pop(l);i.structure.pop();C.splice(0,0,"(");}else {break}}if(c(x[w+1],58)){m=w;if(/\s/.test(x[m]))do{m=m-1;}while(/\s/.test(x[m]));g=x.slice(m-6,m+1).join(y);if(g.indexOf("filter")===g.length-6||g.indexOf("progid")===g.length-6){g="filter";}}if(h.length===0){if(c(x[w+1],59)&&Z(w+1)===true||c(x[w+1],58)&&X(x[w],58)&&X(x[w+2],58)&&g!=="filter"&&g!=="progid"||(c(x[w+1],125)||c(x[w+1],123))||c(x[w+1],47)&&(c(x[w+2],42)||c(x[w+2],47))){m=C.length-1;if(/\s/.test(C[m])){do{m=m-1;w=w-1;C.pop();}while(/\s/.test(C[m]))}break}if(c(x[w+1],44))break}w=w+1;}while(w<e)}N=w;if(i.structure[i.structure.length-1][0]==="map"&&c(C[0],40)){$[$.length-1]=$[$.length-1]-1;}n=C.join(y).replace(/\s+/g,se).replace(/^\s/,y).replace(/\s$/,y);if(v===true){n=n.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(i.count>-1&&l.token[i.count].indexOf("extend(")===0){t="pseudo";}else if(v===true&&/\d/.test(n.charAt(0))===false&&/^rgba?\(/.test(n)===false&&n.indexOf("url(")!==0&&(n.indexOf(se)<0||n.indexOf(se)>n.indexOf("("))&&n.charAt(n.length-1)===")"){if(c(l.token[i.count],58)){t="value";}else {n=n.replace(/,\u0020?/g,", ");t="function";}n=r(n);}else if(i.count>-1&&`"'`.indexOf(l.token[i.count].charAt(0))>-1&&l.types[i.count]==="variable"){t="item";}else if(c(C[0],64)||C[0]==="$"){if(l.types[i.count]==="colon"&&a.language==="css"&&(l.types[i.count-1]==="property"||l.types[i.count-1]==="variable")){t="value";}else if(i.count>-1){t="item";g=l.token[i.count];w=g.indexOf("(");if(c(g[g.length-1],41)&&w>0){g=g.slice(w+1,g.length-1);l.token[i.count]=l.token[i.count].slice(0,w+1)+r(g)+")";}}n=r(n);}else {t="item";}S(y);}function k(h){let C=i.count;let _=0;let w=y;const m=[];function g(){if(i.count<0)return;if(C>0&&(l.types[C]==="comment"||l.types[C]==="ignore")){do{C=C-1;m.push(l.token[C]);}while(C>0&&l.lexer[C]==="style"&&(l.types[C]==="comment"||l.types[C]==="ignore"))}_=C-1;if(_>0&&(l.types[_]==="comment"||l.types[_]==="ignore")){do{_=_-1;}while(_>0&&l.lexer[C]==="style"&&(l.types[_]==="comment"||l.types[_]==="ignore"))}if(_<0)_=0;if(C<0)C=0;w=l.token[C].charAt(0);}function v(j){let L=j;const T=l.begin[L];l.token[j]=l.token[j].replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ").replace(/:\s+/g,": ").replace(/^\s+/,y).replace(/\s+$/,y).replace(/\s+::\s+/,"::");if(X(l.token[L],44)&&l.types[L]!=="comment"){l.types[L]="selector";}if(c(l.token[L-1],44)||c(l.token[L-1],58)||l.types[L-1]==="comment"||l.types[L-1]==="pseudo"){if(l.types[L-1]==="colon"&&l.types[L]==="selector"&&(l.types[L-2]==="template"||l.types[L-2]==="template_start"||l.types[L-2]==="template_else"||l.types[L-2]==="template_end")){l.token[L-1]=":"+l.token[L]+se;l.types[L-1]="selector";i.splice({data:l,howmany:1,index:L});}else if(l.types[L-1]==="pseudo"){l.token[L-1]=`${l.token[L-1]}${l.token[L]}`;l.types[L-1]="selector";i.splice({data:l,howmany:1,index:L});}else {do{L=L-1;if(l.begin[L]===T){if(c(l.token[L],59))break;if(X(l.token[L],44)&&l.types[L]!=="comment")l.types[L]="selector";if(l.token[L]===":"&&X(l.token[L-1],59)){l.token[L-1]=`${l.token[L-1]}:${l.token[L+1]}`.replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ");i.splice({data:l,howmany:2,index:L});}}else {break}}while(L>0)}}L=i.count;if(p.sortSelectors===true&&c(l.token[L-1],44)){const ne=[l.token[L]];do{L=L-1;if(l.types[L]==="comment"||l.types[L]==="ignore"){do{L=L-1;}while(L>0&&(l.types[L]==="comment"||l.types[L]==="ignore"))}if(c(l.token[L],44))L=L-1;ne.push(l.token[L]);}while(L>0&&(c(l.token[L-1],44)||l.types[L-1]==="selector"||l.types[L-1]==="comment"||l.types[L-1]==="ignore"));ne.sort();L=i.count;l.token[L]=ne.pop();do{L=L-1;if(l.types[L]==="comment"||l.types[L]==="ignore"){do{L=L-1;}while(L>0&&(l.types[L]==="comment"||l.types[L]==="ignore"))}if(c(l.token[L],44))L=L-1;l.token[L]=ne.pop();}while(L>0&&(c(l.token[L-1],44)||l.token[L-1]==="selector"||l.types[L-1]==="comment"||l.types[L-1]==="ignore"))}C=i.count;g();}g();if(h==="start"&&(l.types[C]==="value"||l.types[C]==="variable")){l.types[C]="item";}if(l.lexer[i.count-1]!=="style"||_<0){if(h==="colon"){if(w==="$"||c(w,64)){l.types[C]="variable";}else if(l.stack[C]!=="global"&&(l.types[C]!=="comment"||l.types[C]!=="ignore")){l.types[C]="property";}}else if(l.lexer[C]==="style"){l.types[C]="selector";v(C);}}else if(h==="start"&&l.types[C]==="function"&&l.lexer[C]==="style"){l.types[C]="selector";v(C);}else if(l.types[C]==="item"&&l.lexer[C]==="style"){if(h==="start"){v(C);l.types[C]="selector";if(l.token[C]===":")l.types[_]="selector";if(l.token[C].indexOf("=\u201C")>0){i.error=`Invalid Quote (\u201C, \\201c) used on line number ${i.lineNumber}`;}else if(l.token[C].indexOf("=\u201D")>0){i.error=`Invalid Quote (\u201D, \\201d) used on line number ${i.lineNumber}`;}}else if(h==="end"){if(w==="$"||c(w,64)){l.types[C]="variable";}else {l.types[C]="value";}l.token[C]=r(l.token[C]);}else if(h==="separator"){if(l.types[_]==="colon"||c(l.token[_],44)||c(l.token[_],123)){if(X(x[N],59)&&(l.types[_]==="selector"||c(l.token[_],123))){l.types[C]="selector";v(C);}else if(l.token[C].charAt(0)==="$"||c(l.token[C],64)){l.types[C]="variable";}else {l.types[C]="value";}l.token[C]=r(l.token[C]);if(l.token[C].charAt(0)==="\u201C"){i.error=`Invalid Quote (\u201C, \\201c) used on line number ${i.lineNumber}`;}else if(l.token[C].charAt(0)==="\u201D"){i.error=`Invalid (\u201D, \\201d) used on line number ${i.lineNumber}`;}}else {if(w==="$"||c(w,64)){console.log(l.token[C]);l.types[C]="variable";}else if(l.types[_]==="value"||l.types[_]==="variable"){l.token[_]=l.token[_]+l.token[C];i.pop(l);}else {l.types[C]="value";}}}else if(h==="colon"){if(w==="$"||c(w,64)){l.types[C]="variable";}else {l.types[C]="property";}}else if(c(l.token[_],64)&&(l.types[_-2]!=="variable"&&l.types[_-2]!=="property"||l.types[_-1]==="separator")){l.types[_]="variable";t="variable";l.token[_]=r(l.token[_]);}}}function d(){let h=i.count;do{h=h-1;}while(h>0&&l.types[h]==="comment");if(l.token[h]===";")return;i.splice({data:l,howmany:0,index:h+1,record:{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"style",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:";",types:"separator"}});}function P(h,C){const _=[];let w=y;let m=y;let g=0;let v=h.length;function j(L){const T=l.types[i.count-1];if(t==="item"){if(T==="colon"){l.types[i.count]="value";}else {k(T);}}t=L;if(t.indexOf("start")>-1||t.indexOf("else")>-1){S(n);}else {S(y);}}E[E.length-1]=true;if(N<e){do{_.push(x[N]);if(w===y){if(c(x[N],34)){w='"';}else if(c(x[N],39)){w="'";}else if(c(x[N],47)){if(c(x[N+1],47)){w="/";}else if(c(x[N+1],42)){w="*";}}else if(x[N+1]===C.charAt(0)){do{g=g+1;N=N+1;_.push(x[N]);}while(N<e&&g<C.length&&x[N+1]===C.charAt(g));if(g===C.length){w=_.join(y);if(be(w.charAt(v))){do{v=v+1;}while(be(w.charAt(v)))}g=v;do{g=g+1;}while(g<C.length&&!be(w.charAt(g)));if(g===w.length)g=g-C.length;if(h==="{%"){if(c(w[2],45)){w=w.replace(/^{%-\s*/,"{%- ");w=w.endsWith("-%}")?w.replace(/\s*-%}$/," -%}"):w.replace(/\s*%}$/," %}");m=w.slice(4);}else {w=w.replace(/^{%\s*/,"{% ");w=w.endsWith("-%}")?w.replace(/\s*-%}$/," -%}"):w.replace(/\s*%}$/," %}");m=w.slice(3);}}if(h==="{{"){if(c(w[2],45)){w=w.replace(/^{{-\s*/,"{{- ");w=w.endsWith("-}}")?w.replace(/\s*-}}$/," -}}"):w.replace(/\s*}}$/," }}");}else {w=w.replace(/^{{\s*/,"{{ ");w=w.endsWith("-}}")?w.replace(/\s*-}}$/," -}}"):w.replace(/\s*%}}$/," }}");}}if(t==="item"&&l.types[i.count-1]==="colon"&&(l.types[i.count-2]==="property"||l.types[i.count-2]==="variable")){t="value";l.types[i.count]="value";if(Number.isNaN(Number(l.token[i.count]))===true&&l.token[i.count].charAt(l.token[i.count].length-1)!==")"){l.token[i.count]=l.token[i.count]+w;}else {l.token[i.count]=l.token[i.count]+se+w;}return}n=w;if(h==="{%"){const L=Array.from(pe.liquid.tags);let T=L.length-1;m=m.slice(0,m.indexOf(se));if(m.indexOf("(")>0){m=m.slice(0,m.indexOf("("));}if(pe.liquid.else.has(m)){j("template_else");return}T=L.length-1;if(T>-1){do{if(m===L[T]){j("template_start");return}if(m==="end"+L[T]){j("template_end");return}T=T-1;}while(T>-1)}}else if(h==="{{"){let L=w.slice(2);const T=L.length;let ne=0;do{ne=ne+1;}while(ne<T&&be(L.charAt(ne))===false&&L.charCodeAt(v)!==40);L=L.slice(0,ne);if(c(L[L.length-2],125))L=L.slice(0,L.length-2);if(L==="end"){j("template_end");return}}j("template");return}g=0;}}else if(w===x[N]){if(c(w,34)||c(w,39)){w=y;}else if(c(w,47)&&(x[N]==="\r"||c(x[N],10))){w=y;}else if(c(w,42)&&c(x[N+1],47)){w=y;}}N=N+1;}while(N<e)}}function ee(h){let C;if(h){C=i.wrapCommentLine({chars:x,start:N,end:e,lexer:"style",begin:"//",ender:"\n"});n=C[0];t=/^(\/\/\s*@prettify-ignore-start)/.test(n)?"ignore":"comment";}else {C=Ze({chars:x,start:N,end:e,lexer:"style",begin:"/*",ender:"*/"});n=C[0];t=/^(\/\*\s*@prettify-ignore-start)/.test(n)?"ignore":"comment";}S(y);N=C[1];}function K(){const h=i.linesSpace;const C={data:{margin:[y,y,y,y,false],padding:[y,y,y,y,false]},last:{margin:0,padding:0},removes:[]};const _=i.structure[i.structure.length-1][1];function w(j){if(l.token[g-2]===j){const L=l.token[g].replace(/\s*!important\s*/g,y).split(se);const T=L.length;if(l.token[g].indexOf("!important")>-1)C.data[j[4]]=true;if(T>3){if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[1];if(C.data[j][2]===y)C.data[j][2]=L[2];if(C.data[j][3]===y)C.data[j][3]=L[3];}else if(T>2){if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[1];if(C.data[j][2]===y)C.data[j][2]=L[2];if(C.data[j][3]===y)C.data[j][3]=L[1];}else if(T>1){if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[1];if(C.data[j][2]===y)C.data[j][2]=L[0];if(C.data[j][3]===y)C.data[j][3]=L[1];}else {if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[0];if(C.data[j][2]===y)C.data[j][2]=L[0];if(C.data[j][3]===y)C.data[j][3]=L[0];}}else if(l.token[g-2]===`${j}-bottom`){if(C.data[j][2]===y)C.data[j][2]=l.token[g];}else if(l.token[g-2]===`${j}-left`){if(C.data[j][3]===y)C.data[j][3]=l.token[g];}else if(l.token[g-2]===`${j}-right`){if(C.data[j][1]===y)C.data[j][1]=l.token[g];}else if(l.token[g-2]===`${j}-top`){if(C.data[j][0]===y)C.data[j][0]=l.token[g];}else {return}C.removes.push([g,j]);C.last[j]=g;}function m(){let j=0;let L=y;const T=/^(0+([a-z]+|%))/;const ne=C.removes.length;const G=C.data.margin[0]!==y&&C.data.margin[1]!==y&&C.data.margin[2]!==y&&C.data.margin[3]!==y;const ae=C.data.padding[0]!==y&&C.data.padding[1]!==y&&C.data.padding[2]!==y&&C.data.padding[3]!==y;function we(Q){if(T.test(C.data[Q][0])===true)C.data[Q][0]="0";if(T.test(C.data[Q][1])===true)C.data[Q][1]="0";if(T.test(C.data[Q][2])===true)C.data[Q][2]="0";if(T.test(C.data[Q][3])===true)C.data[Q][3]="0";if(C.data[Q][0]===C.data[Q][1]&&C.data[Q][0]===C.data[Q][2]&&C.data[Q][0]===C.data[Q][3]){L=C.data[Q][0];}else if(C.data[Q][0]===C.data[Q][2]&&C.data[Q][1]===C.data[Q][3]&&C.data[Q][0]!==C.data[Q][1]){L=`${C.data[Q][0]} ${C.data[Q][1]}`;}else if(C.data[Q][1]===C.data[Q][3]&&C.data[Q][0]!==C.data[Q][2]){L=`${C.data[Q][0]} ${C.data[Q][1]} ${C.data[Q][2]}`;}else {L=`${C.data[Q][0]} ${C.data[Q][1]} ${C.data[Q][2]} ${C.data[Q][3]}`;}if(C.data[Q[4]]===true)L=`${L.replace(" !important",y)} !important`;if(C.last[Q]>i.count){j=_<1?1:_+1;do{if(l.begin[j]===_&&l.types[j]==="value"&&l.token[j-2].indexOf(Q)===0){C.last[Q]=j;break}j=j+1;}while(j<i.count)}l.token[C.last[Q]]=L;l.token[C.last[Q]-2]=Q;}if(ne>1&&(G===true||ae===true)){do{if(C.removes[j][0]!==C.last.margin&&C.removes[j][0]!==C.last.padding&&(G===true&&C.removes[j][1]==="margin"||ae===true&&C.removes[j][1]==="padding")){i.splice({data:l,howmany:l.types[C.removes[j][0]+1]==="separator"?4:3,index:C.removes[j][0]-2});}j=j+1;}while(j<ne-1)}if(G===true)we("margin");if(ae===true)we("padding");if(v===true){if(_<0){i.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {i.sortCorrect(_,i.count+1);}}}let g=i.count;let v=false;do{g=g-1;if(l.begin[g]===_){if(l.types[g]==="value"&&l.types[g-2]==="property"){if(l.token[g-2].indexOf("margin")===0){w("margin");}else if(l.token[g-2].indexOf("padding")===0){w("padding");}}}else {v=true;g=l.begin[g];}}while(g>_);m();i.linesSpace=h;}do{if(be(x[N])){o(N);}else if(c(x[N],47)&&c(x[N+1],42)){ee(false);}else if(c(x[N],47)&&c(x[N+1],47)){ee(true);}else if(c(x[N],123)&&c(x[N+1],37)){P("{%","%}");}else if(c(x[N],123)&&c(x[N+1],123)){P("{{","}}");}else if(c(x[N],123)||c(x[N],40)&&c(l.token[i.count],58)&&l.types[i.count-1]==="variable"){k("start");t="start";n=x[N];if(c(x[N],40)){S("map");$.push(0);}else if(l.types[i.count]==="selector"||l.types[i.count]==="variable"){S(l.token[i.count]);}else if(l.types[i.count]==="colon"){S(l.token[i.count-1]);}else {S("block");}E.push(false);}else if(c(x[N],125)||x[N]===")"&&i.structure[i.structure.length-1][0]==="map"&&$[$.length-1]===0){if(c(x[N],125)&&c(l.token[i.count-1],123)&&l.types[i.count]==="item"&&l.token[i.count-2]!==void 0&&l.token[i.count-2].charAt(l.token[i.count-2].length-1)==="@"){l.token[i.count-2]=l.token[i.count-2]+"{"+l.token[i.count]+"}";i.pop(l);i.pop(l);i.structure.pop();}else {if(c(x[N],41))$.pop();k("end");if(c(x[N],125)&&X(l.token[i.count],59)){if(l.types[i.count]==="value"||l.types[i.count]==="function"||l.types[i.count]==="variable"&&(c(l.token[i.count-1],58)||c(l.token[i.count-1],59))){if(p.correct===true){n=";";}else {n="x;";}t="separator";S(y);}else if(l.types[i.count]==="comment"){d();}}E.pop();n=x[N];t="end";if(c(x[N],125))K();if(p.sortProperties===true&&c(x[N],125))i.sortObject(l);S(y);}}else if(c(x[N],59)||c(x[N],44)){if(l.types[i.count-1]==="selector"||l.types[i.count]!=="function"&&c(l.token[i.count-1],125)){k("start");}else {k("separator");}if(l.types[i.count]!=="separator"&&Z(N)===true){n=x[N];t="separator";S(y);}}else if(i.count>-1&&c(x[N],58)&&l.types[i.count]!=="end"){k("colon");n=":";t="colon";S(y);}else {if(i.structure[i.structure.length-1][0]==="map"&&c(x[N],40)){$[$.length-1]=$[$.length-1]+1;}U();}N=N+1;}while(N<e);if(p.sortProperties===true)i.sortObject(l);return l};M.lexers.script=function s(u){const{options:a}=M;const p=Ne({},a.script);if(a.language==="json"){a.script=Ne(a.script,a.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}let l=0;let x=y;let e=y;let $=[];let E=0;let o=-1;let N=-1;let t=[];let n;let S;let Z;const{data:r}=i;const{references:U}=i;const k=u.length;const d=u.split(y);const P=[];const ee=[];const K=[];const h=[0,y];const C=[false];const _=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const w={};w.count=[];w.index=[];w.len=-1;w.word=[];function m(b){let f=0;const O=Q(1,false);const R=i.structure.length===0?"":i.structure[i.structure.length-1][0];const A=Je(null);A.begin=r.begin[i.count];A.ender=r.begin[i.count];A.lexer=r.lexer[i.count];A.lines=r.lines[i.count];A.stack=r.stack[i.count];A.token=r.token[i.count];A.types=r.types[i.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(x))return;if(e==="start"||e==="type_start")return;if(a.language==="json")return;if(c(A.token,59)||c(A.token,44)||A.stack==="class"||A.stack==="map"||A.stack==="attribute"||r.types[A.begin-1]==="generic"||O==="{"||R==="initializer"){return}if(c(A.token,125)&&r.stack[A.begin-1]==="global"&&r.types[A.begin-1]!=="operator"&&A.stack===r.stack[i.count-1]){return}if(A.stack==="array"&&A.token!=="]")return;if(r.token[r.begin[i.count]]==="{"&&A.stack==="data_type")return;if(A.types!==void 0&&A.types.indexOf("template")>-1&&A.types.indexOf("template_string")<0){return}if(c(O,59)&&b===false)return;if(r.lexer[i.count-1]!=="script"&&(l<k&&k===M.source.length-1||k<M.source.length-1)){return}if(c(A.token,125)&&(A.stack==="function"||A.stack==="if"||A.stack==="else"||A.stack==="for"||A.stack==="do"||A.stack==="while"||A.stack==="switch"||A.stack==="class"||A.stack==="try"||A.stack==="catch"||A.stack==="finally"||A.stack==="block")){if(A.stack==="function"&&(r.stack[A.begin-1]==="data_type"||r.types[A.begin-1]==="type")){f=A.begin;do{f=f-1;}while(f>0&&r.token[f]!==")"&&r.stack[f]!=="arguments");f=r.begin[f];}else {f=r.begin[A.begin-1];}if(c(r.token[f],40)){f=f-1;if(r.token[f-1]==="function")f=f-1;if(r.stack[f-1]==="object"||r.stack[f-1]==="switch")return;if(r.token[f-1]!=="="&&r.token[f-1]!=="return"&&r.token[f-1]!==":"){return}}else {return}}if(A.types==="comment"||R==="method"||R==="paren"||R==="expression"||R==="array"||R==="object"||R==="switch"&&A.stack!=="method"&&r.token[r.begin[i.count]]==="("&&r.token[r.begin[i.count]-1]!=="return"&&r.types[r.begin[i.count]-1]!=="operator"){return}if(r.stack[i.count]==="expression"&&(r.token[r.begin[i.count]-1]!=="while"||r.token[r.begin[i.count]-1]==="while"&&r.stack[r.begin[i.count]-2]!=="do")){return}if(O!==""&&"=<>+*?|^:&%~,.()]".indexOf(O)>-1&&b===false)return;if(A.types==="comment"){f=i.count;do{f=f-1;}while(f>0&&r.types[f]==="comment");if(f<1)return;A.token=r.token[f];A.types=r.types[f];A.stack=r.stack[f];}if(A.token===void 0||A.types==="start"||A.types==="separator"||A.types==="operator"&&A.token!=="++"&&A.token!=="--"||A.token==="x}"||A.token==="var"||A.token==="let"||A.token==="const"||A.token==="else"||A.token.indexOf("#!/")===0||A.token==="instanceof"){return}if(A.stack==="method"&&(r.token[A.begin-1]==="function"||r.token[A.begin-2]==="function")){return}if(a.script.variableList==="list")w.index[w.len]=i.count;x=a.script.correct===true?";":"x;";e="separator";f=i.linesSpace;i.linesSpace=0;V("");i.linesSpace=f;L();}function g(){let b=i.count;do{b=b-1;}while(b>-1&&r.token[b]==="x}");if(r.stack[b]==="else")return V("");b=b+1;i.splice({data:r,howmany:0,index:b,record:{begin:r.begin[b],ender:-1,lexer:"script",lines:i.linesSpace,stack:r.stack[b],token:x,types:e}});V("");}function v(){let b=i.count;if(r.types[b]==="comment"){do{b=b-1;}while(b>0&&r.types[b]==="comment")}if(r.token[b]==="from")b=b-2;if(r.token[b]==="x;"){i.splice({data:r,howmany:1,index:b});}}function j(){m(false);if(o>-1)I();Z=Ze({chars:d,end:k,lexer:"script",begin:"/*",start:l,ender:"*/"});l=Z[1];if(r.token[i.count]==="var"||r.token[i.count]==="let"||r.token[i.count]==="const"){n=i.pop(r);V("");i.push(r,n,"");if(r.lines[i.count-2]===0)r.lines[i.count-2]=r.lines[i.count];r.lines[i.count]=0;}else if(Z[0]!==""){x=Z[0];e=/^\/\*\s*@prettify-ignore-start/.test(x)?"ignore":"comment";if(x.indexOf("# sourceMappingURL=")===2){h[0]=i.count+1;h[1]=x;}i.push(r,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:x,types:e},"");}if(/\/\*\s*global\s+/.test(r.token[i.count])===true&&r.types.indexOf("word")<0){U[0]=r.token[i.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function L(){let b="";const f=Q(5,false);const O=i.count;const R=i.linesSpace;if(a.language==="json"||ee.length<1||ee[ee.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(x)===false){return}if(r.stack[i.count]==="do"&&f==="while"&&r.token[i.count]==="}"){return}if(x===";"&&r.token[O-1]==="x{"){b=r.token[r.begin[O-2]-1];if(r.token[O-2]==="do"||r.token[O-2]===")"&&"ifforwhilecatch".indexOf(b)>-1){n=i.pop(r);x=a.script.correct===true?"}":"x}";e="end";S=i.structure[i.structure.length-1];V("");ee.pop();i.linesSpace=R;return}n=i.pop(r);x=a.script.correct===true?"}":"x}";e="end";S=i.structure[i.structure.length-1];V("");ee.pop();x=";";e="end";i.push(r,n,"");i.linesSpace=R;return}x=a.script.correct===true?"}":"x}";e="end";if(r.token[i.count]==="x}")return;if(r.stack[i.count]==="if"&&(r.token[i.count]===";"||r.token[i.count]==="x;")&&f==="else"){S=i.structure[i.structure.length-1];V("");ee.pop();i.linesSpace=R;return}do{S=i.structure[i.structure.length-1];V("");ee.pop();if(r.stack[i.count]==="do")break}while(ee[ee.length-1]==="x{");i.linesSpace=R;}function T(){let b=i.count;if(r.stack[b]==="object"&&a.script.objectSort===true){x=",";e="separator";v();V("");}else {do{b=b-1;}while(b>0&&r.types[b-1]==="comment");i.splice({data:r,howmany:0,index:b,record:{begin:r.begin[b],ender:-1,lexer:"script",lines:i.linesSpace,stack:r.stack[b],token:",",types:"separator"}});V("");}}function ne(b){let f=false;let O=false;const R=Q(1,false);const A=r.token[i.count]==="("?i.count:r.begin[i.count];function Y(){let q=0;const D=r.token[A-1]==="Array";const W=D===true?"[":"{";const B=D===true?"]":"}";const H=D===true?"array":"object";if(D===true&&r.types[i.count]==="number"){q=Number(r.token[i.count]);n=i.pop(r);}n=i.pop(r);n=i.pop(r);n=i.pop(r);i.structure.pop();x=W;e="start";V(H);if(q>0){x=",";e="separator";do{V("");q=q-1;}while(q>0)}x=B;e="end";V("");}if(o>-1)I();if(K.length>0){if(K[K.length-1]===0){K.pop();}else {K[K.length-1]=K[K.length-1]-1;}}if(c(b,41)||b==="x)"||c(b,93)){if(a.script.correct===true)ie();v();}if(c(b,41)||b==="x)")m(false);if(w.len>-1){if(c(b,125)&&(a.script.variableList==="list"&&w.count[w.len]===0||r.token[i.count]==="x;"&&a.script.variableList==="each")){Qe();}w.count[w.len]=w.count[w.len]-1;if(w.count[w.len]<0)Qe();}if(c(x,44)&&r.stack[i.count]!=="initializer"&&(c(b,93)&&c(r.token[i.count-1],91)||c(b,125))){n=i.pop(r);}if(c(b,41)||b==="x)"){x=b;if(P.length>0){$=P[P.length-1];if($.length>1&&X(R,123)&&($[0]==="if"||$[0]==="for"||$[0]==="with"||$[0]==="while"&&r.stack[$[1]-2]!==void 0&&r.stack[$[1]-2]!=="do")){f=true;}}}else if(c(b,93)){x="]";}else if(c(b,125)){if(X(x,44)&&a.script.correct===true)ie();if(i.structure.length>0&&i.structure[i.structure.length-1][0]!=="object")m(true);if((a.script.objectSort===true||a.language==="json"&&a.json.objectSort===true)&&i.structure[i.structure.length-1][0]==="object"){i.sortObject(r);}if(e==="comment"){x=r.token[i.count];e=r.types[i.count];}x="}";}if(i.structure[i.structure.length-1][0]==="data_type"){e="type_end";}else {e="end";}P.pop();S=i.structure[i.structure.length-1];if(c(b,41)&&a.script.correct===true&&A-i.count<2&&(c(r.token[i.count],40)||r.types[i.count]==="number")&&(r.token[A-1]==="Array"||r.token[A-1]==="Object")&&r.token[A-2]==="new"){Y();O=true;}if(ee[ee.length-1]==="x{"&&c(b,125)){L();ee.pop();if(r.stack[i.count]!=="try"){if(X(R,58)&&X(R,59)&&r.token[r.begin[l]-1]!=="?")L();}x="}";}else {ee.pop();}if(a.script.endComma!==void 0&&a.script.endComma!=="none"&&i.structure[i.structure.length-1][0]==="array"||i.structure[i.structure.length-1][0]==="object"||i.structure[i.structure.length-1][0]==="data_type"){if(a.script.endComma==="always"&&r.token[i.count]!==","){const q=i.structure[i.structure.length-1][1];let D=i.count;do{if(r.begin[D]===q){if(c(r.token[D],44))break}else {D=r.begin[D];}D=D-1;}while(D>q);if(D>q){const W=e;const B=x;x=",";e="separator";V("");x=B;e=W;}}else if(a.script.endComma==="never"&&c(r.token[i.count],44)){i.pop(r);}}if(O===false){V("");if(x==="}"&&r.stack[i.count]!=="object"&&r.stack[i.count]!=="class"&&r.stack[i.count]!=="data_type"){U.pop();L();}}if(f===true){x=a.script.correct===true?"{":"x{";e="start";V($[0]);ee.push("x{");$[1]=i.count;}C.pop();if(i.structure[i.structure.length-1][0]!=="data_type")C[C.length-1]=false;}function G(b,f,O){let R=0;let A=false;let Y=false;let q=[b];let D;const W=f.split(y);const B=W.length;const H=l;const J=l+b.length;const le=a.script.quoteConvert===void 0?"none":a.script.quoteConvert;function oe(){let F=0;q=[];e=O;R=l;if(O==="string"&&/\s/.test(d[R+1])===true){F=1;do{R=R+1;if(d[R]==="\n")F=F+1;}while(R<k&&/\s/.test(d[R+1])===true);i.linesSpace=F;}}function te(){let F=y;function ue(ce){if(a.language!=="javascript"&&a.language!=="typescript"&&a.language!=="jsx"&&a.language!=="tsx"){const ge=me=>me.replace(/\s*$/," ");const Ae=me=>me.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(ce)||/\}%(>|\])/.test(ce))return ce;ce=ce.replace(/\{((\{+)|%-?)\s*/g,ge);ce=ce.replace(/\s*((\}\}+)|(-?%\}))/g,Ae);return ce}return ce}if(c(b,34)&&le==="single"){q[0]="'";q[q.length-1]="'";}else if(c(b,39)&&le==="double"){q[0]='"';q[q.length-1]='"';}else if(A===true){F=q[q.length-1];q.pop();q.pop();q.push(F);}l=R;if(f==="\n"){l=l-1;q.pop();}x=q.join(y);if(c(b,34)||c(b,39)||b==="{{"||b==="{%"){x=ue(x);}if(b==="{%"||b==="{{"){D=qe(x);e=D[0];V(D[1]);return}if(O==="string"){e="string";if(a.language==="json"){x=x.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(b.indexOf("#!")===0){x=x.slice(0,x.length-1);i.linesSpace=2;}else if(i.structure[i.structure.length-1][0]!=="object"||i.structure[i.structure.length-1][0]==="object"&&Q(1,false)!==":"&&X(r.token[i.count],44)&&X(r.token[i.count],123)){if(x.length>a.wrap&&a.wrap>0||a.wrap!==0&&r.token[i.count]==="+"&&(r.token[i.count-1].charAt(0)==='"'||r.token[i.count-1].charAt(0)==="'")){let ce=x;let ge="";let Ae=le==="double"?'"':le==="single"?"'":ce.charAt(0);const me=a.wrap;const Te=/u[0-9a-fA-F]{4}/;const re=/x[0-9a-fA-F]{2}/;ce=ce.slice(1,ce.length-1);if(r.token[i.count]==="+"&&(r.token[i.count-1].charAt(0)==='"'||r.token[i.count-1].charAt(0)==="'")){i.pop(r);Ae=r.token[i.count].charAt(0);ce=r.token[i.count].slice(1,r.token[i.count].length-1)+ce;i.pop(r);}if(ce.length>me&&me>0){do{ge=ce.slice(0,me);if(ge.charAt(me-5)==="\\"&&Te.test(ce.slice(me-4,me+1))){ge=ge.slice(0,me-5);}else if(ge.charAt(me-4)==="\\"&&Te.test(ce.slice(me-3,me+2))){ge=ge.slice(0,me-4);}else if(ge.charAt(me-3)==="\\"&&(Te.test(ce.slice(me-2,me+3))||re.test(ce.slice(me-2,me+1)))){ge=ge.slice(0,me-3);}else if(ge.charAt(me-2)==="\\"&&(Te.test(ce.slice(me-1,me+4))||re.test(ce.slice(me-1,me+2)))){ge=ge.slice(0,me-2);}else if(ge.charAt(me-1)==="\\"){ge=ge.slice(0,me-1);}ge=Ae+ge+Ae;ce=ce.slice(ge.length-2);x=ge;e="string";V(y);i.linesSpace=0;x="+";e="operator";V(y);}while(ce.length>me)}if(ce===y){x=Ae+Ae;}else {x=Ae+ce+Ae;}e="string";}}}else if(/\{\s*\?>$/.test(x)){e="template_start";}else {e=O;}if(x.length>0)V(y);}if(o>-1)I();if(d[l-1]==="\\"&&ke(l-1)===true&&(c(d[l],34)||c(d[l],39))){i.pop(r);if(c(r.token[0],123)){if(c(d[l],34)){b='"';f='\\"';q=['"'];}else {b="'";f="\\'";q=["'"];}A=true;}else {if(c(d[l],34)){q=['\\"'];te();return}q=["\\'"];te();return}}R=J;if(R<k){do{if(X(r.token[0],123)&&X(r.token[0],91)&&le!=="none"&&(c(d[R],34)||c(d[R],39))){if(d[R-1]==="\\"){if(ke(R-1)===true){if(le==="double"&&c(d[R],39)){q.pop();}else if(le==="single"&&c(d[R],34)){q.pop();}}}else if(le==="double"&&c(d[R],34)&&c(d[l],39)){d[R]='\\"';}else if(le==="single"&&c(d[R],39)&&c(d[l],34)){d[R]="\\'";}q.push(d[R]);}else if(R>H){Y=true;if(c(d[R],123)&&c(d[R+1],37)&&d[R+2]!==b){te();G("{%","%}","template");oe();}else if(c(d[R],123)&&c(d[R+1],123)&&d[R+2]!==b){te();G("{{","}}","template");oe();}else {Y=false;q.push(d[R]);}}else {q.push(d[R]);}if(a.language!=="json"&&a.language!=="javascript"&&(c(b,34)||c(b,39))&&(Y===true||R>H)&&d[R-1]!=="\\"&&X(d[R],34)&&X(d[R],39)&&(c(d[R],10)||R===k-1===true)){i.error="Unterminated string in script on line number "+i.lineNumber;break}if(d[R]===W[B-1]&&(d[R-1]!=="\\"||ke(R-1)===false)){if(B===1)break;if(q[R-J]===W[0]&&q.slice(R-J-B+2).join("")===f)break}R=R+1;}while(R<k)}te();}function ae(){m(false);L();if(o>-1)I();Z=i.wrapCommentLine({chars:d,end:k,lexer:"script",opening:"//",start:l,terminator:"\n"});l=Z[1];if(Z[0]!==""){x=Z[0];e=/^(\/\/\s*@prettify-ignore-start)/.test(x)?"ignore":"comment";if(x.indexOf("# sourceMappingURL=")===2){h[0]=i.count+1;h[1]=x;}i.push(r,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:x,types:e},"");}}function we(){let b=0;let f=false;let O=false;let R=0;let A=0;let Y=0;let q="";let D="";let W="";const B=[];const H=C[C.length-1];const J="0123456789=<>+-*?|^:&.,;%(){}[]~";function le(){if(x==="(")i.structure[i.structure.length-1]=["paren",i.count];M.lexers.markup(B.join(""));}if(o>-1)I();D=i.count>0?r.token[i.count-1]:"";W=i.count>0?r.types[i.count-1]:"";q=Q(1,false);if(a.language!=="jsx"&&a.language!=="tsx"&&/\d/.test(q)===false&&(x==="function"||D==="=>"||D==="void"||D==="."||r.stack[i.count]==="arguments"||e==="type"&&D==="type"||e==="reference"&&(W==="operator"||D==="function"||D==="class"||D==="new")||e==="type"&&W==="operator"||x==="return"||e==="operator")){const oe=[];let te=0;let F=0;b=l;do{oe.push(d[b]);if(d[b]==="<"){te=te+1;}else if(d[b]===">"){te=te-1;if(te<1)break}b=b+1;}while(b<k);F=l;l=b;q=Q(1,false);if(d[b]===">"&&(H===true||D==="=>"||D==="."||W!=="operator"||W==="operator"&&(q==="("||q==="="))){e="generic";x=oe.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");V("");return}l=F;}b=i.count;if(r.types[b]==="comment"){do{b=b-1;}while(b>0&&r.types[b]==="comment")}if(H===false&&Q(1,false)!==">"&&(d[l]!=="<"&&J.indexOf(d[l+1])>-1||r.token[b]==="++"||r.token[b]==="--"||/\s/.test(d[l+1])===true||/\d/.test(d[l+1])===true&&(e==="operator"||e==="string"||e==="number"||e==="reference"||e==="word"&&x!=="return"))){e="operator";x=Ce();return V("")}if(a.language!=="typescript"&&(r.token[b]==="return"||r.types[b]==="operator"||r.types[b]==="start"||r.types[b]==="separator"||r.types[b]==="jsx_attribute_start"||r.token[b]==="}"&&i.structure[i.structure.length-1][0]==="global")){e="markup";a.language="jsx";do{B.push(d[l]);if(d[l]==="{"){A=A+1;f=true;}else if(d[l]==="}"){A=A-1;if(A===0)f=false;}else if(d[l]==="<"&&f===false){if(d[l+1]==="<"){do{B.push(d[l]);l=l+1;}while(l<k&&d[l+1]==="<")}R=R+1;if(Q(1,false)==="/")O=true;}else if(d[l]===">"&&f===false){if(d[l+1]===">"){do{B.push(d[l]);l=l+1;}while(d[l+1]===">")}R=R-1;if(O===true){Y=Y-1;}else if(d[l-1]!=="/"){Y=Y+1;}if(R===0&&A===0&&Y<1){q=Q(2,false);if(q.charAt(0)!=="<")return le();if(q.charAt(0)==="<"&&J.indexOf(q.charAt(1))<0&&/\s/.test(q.charAt(1))===false){b=l+1;do{b=b+1;if(d[b]===">"||/\s/.test(d[b-1])&&J.indexOf(d[b])<0)break;if(J.indexOf(d[b])>-1)return le()}while(b<k)}else {return le()}}O=false;}l=l+1;}while(l<k);return le()}e="operator";x=Ce();V("");}function Q(b,f){let O=f===true?l:l+1;let R="";if(typeof b!=="number"||b<1)b=1;if(d[l]==="/"){if(d[l+1]==="/"){R="\n";}else if(d[l+1]==="*"){R="/";}}if(O<k){do{if(/\s/.test(d[O])===false){if(d[O]==="/"){if(R===""){if(d[O+1]==="/"){R="\n";}else if(d[O+1]==="*"){R="/";}}else if(R==="/"&&d[O-1]==="*"){R="";}}if(R===""&&d[O-1]+d[O]!=="*/")return d.slice(O,O+b).join("")}else if(R==="\n"&&d[O]==="\n"){R="";}O=O+1;}while(O<k)}return ""}function he(){const b=k;const f=[d[l]];let O=0;let R=/zz/;let A=f[0]===".";if(l<k-2&&d[l]==="0"){if(d[l+1]==="x"){R=/[0-9a-fA-F]/;}else if(d[l+1]==="o"){R=/[0-9]/;}else if(d[l+1]==="b"){R=/0|1/;}if(R.test(d[l+2])===true){f.push(d[l+1]);O=l+1;do{O=O+1;f.push(d[O]);}while(R.test(d[O+1])===true);l=O;return f.join("")}}O=l+1;if(O<b){do{if(/[0-9]/.test(d[O])||d[O]==="."&&A===false){f.push(d[O]);if(d[O]===".")A=true;}else {break}O=O+1;}while(O<b)}if(O<b-1&&(/\d/.test(d[O-1])===true||/\d/.test(d[O-2])===true&&(d[O-1]==="-"||d[O-1]==="+"))&&(d[O]==="e"||d[O]==="E")){f.push(d[O]);if(d[O+1]==="-"||d[O+1]==="+"){f.push(d[O+1]);O=O+1;}A=false;O=O+1;if(O<b){do{if(/[0-9]/.test(d[O])||d[O]==="."&&A===false){f.push(d[O]);if(d[O]===".")A=true;}else {break}O=O+1;}while(O<b)}}l=O-1;return f.join("")}function Ce(){let b=0;let f=0;let O=k;let R="";const A=["=","<",">","+","*","?","|","^",":","&","%","~"];const Y=A.length;if(o>-1)I();if(d[l]==="/"&&(i.count>-1&&(e!=="word"&&e!=="reference"||x==="typeof"||x==="return"||x==="else")&&e!=="number"&&e!=="string"&&e!=="end")){if(x==="return"||x==="typeof"||x==="else"||e!=="word"){x=z();e="regex";}else {x="/";e="operator";}V("");return "regex"}if(d[l]==="?"&&("+-*/.?".indexOf(d[l+1])>-1||d[l+1]===":"&&A.join("").indexOf(d[l+2])<0)){if(d[l+1]==="."&&/\d/.test(d[l+2])===false){R="?.";}else if(d[l+1]==="?"){R="??";}if(R==="")return "?"}if(d[l]===":"&&"+-*/".indexOf(d[l+1])>-1)return ":";if(l<k-1){if(d[l]!=="<"&&d[l+1]==="<")return d[l];if(d[l]==="!"&&d[l+1]==="/")return "!";if(d[l]==="-"){C[C.length-1]=false;if(d[l+1]==="-"){R="--";}else if(d[l+1]==="="){R="-=";}else if(d[l+1]===">"){R="->";}if(R==="")return "-"}if(d[l]==="+"){C[C.length-1]=false;if(d[l+1]==="+"){R="++";}else if(d[l+1]==="="){R="+=";}if(R==="")return "+"}if(d[l]==="="&&d[l+1]!=="="&&d[l+1]!=="!"&&d[l+1]!==">"){C[C.length-1]=false;return "="}}if(d[l]===":"){if(a.language==="typescript"){if(r.stack[i.count]==="arguments"){if(r.token[i.count]==="?"){i.pop(r);R="?:";l=l-1;}C[C.length-1]=true;}else if(x===")"&&(r.token[r.begin[i.count]-1]==="function"||r.token[r.begin[i.count]-2]==="function")){C[C.length-1]=true;}else if(e==="reference"){b=i.count;let q=false;do{if(r.begin[b]===r.begin[i.count]){if(b<i.count&&r.token[b]===":"&&r.types[b+1]!=="type")q=true;if(r.token[b]==="?"&&q===false)break;if(r.token[b]===";"||r.token[b]==="x;")break;if(r.token[b]==="var"||r.token[b]==="let"||r.token[b]==="const"||r.types[b]==="type"){C[C.length-1]=true;break}}else {if(r.types[b]==="type_end"){C[C.length-1]=true;break}b=r.begin[b];}b=b-1;}while(b>r.begin[i.count])}}else if(r.token[i.count-1]==="["&&(r.types[i.count]==="word"||r.types[i.count]==="reference")){i.structure[i.structure.length-1][0]="attribute";r.stack[i.count]="attribute";}}if(R===""){if(d[l+1]==="+"&&d[l+2]==="+"||d[l+1]==="-"&&d[l+2]==="-"){R=d[l];}else {const q=[d[l]];b=l+1;if(b<O){do{if(d[b]==="+"&&d[b+1]==="+"||d[b]==="-"&&d[b+1]==="-")break;f=0;if(f<Y){do{if(d[b]===A[f]){q.push(A[f]);break}f=f+1;}while(f<Y)}if(f===Y)break;b=b+1;}while(b<O)}R=q.join("");}}l=l+(R.length-1);if(R==="=>"&&x===")"){b=i.count;O=r.begin[b];do{if(r.begin[b]===O)r.stack[b]="method";b=b-1;}while(b>O-1)}return R}function ie(){let b=true;let f="+";let O="";let R="";let A="";let Y=0;let q=0;let D=0;let W="";const B=[];function H(){D=r.begin[D]-1;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}}function J(){D=D-2;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}}function le(){let te=0;const F=B.length;if(te<F){do{i.push(r,B[te],"");te=te+1;}while(te<F)}}function oe(te){const F=Je(null);F.begin=r.begin[te];F.ender=r.ender[te];F.lexer=r.lexer[te];F.lines=r.lines[te];F.stack=r.stack[te];F.token=r.token[te];F.types=r.types[te];return F}O=r.token[i.count];R=r.token[i.count-1];A=r.token[i.count-2];if(O!=="++"&&O!=="--"&&R!=="++"&&R!=="--"){D=i.count;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}}if(r.token[D-1]==="++"||r.token[D-1]==="--"){if("startendoperator".indexOf(r.types[D-2])>-1)return;Y=D;if(Y<i.count+1){do{B.push(oe(Y));Y=Y+1;}while(Y<i.count+1);i.splice({data:r,howmany:i.count-D,index:D});}}else {if(a.script.correct===false||O!=="++"&&O!=="--"&&R!=="++"&&R!=="--"){return}W=Q(1,false);if((O==="++"||O==="--")&&(d[l]===";"||W===";"||d[l]==="}"||W==="}"||d[l]===")"||W===")")){f=r.stack[i.count];if(f==="array"||f==="method"||f==="object"||f==="paren"||f==="notation"||r.token[r.begin[i.count]-1]==="while"&&f!=="while"){return}Y=i.count;do{Y=Y-1;if(r.token[Y]==="return")return;if(r.types[Y]==="end"){do{Y=r.begin[Y]-1;}while(r.types[Y]==="end"&&Y>0)}}while(Y>0&&(r.token[Y]==="."||r.types[Y]==="word"||r.types[Y]==="reference"||r.types[Y]==="end"));if(r.token[Y]===","&&d[l]!==";"&&W!==";"&&d[l]!=="}"&&W!=="}"&&d[l]!==")"&&W!==")"){return}if(r.types[Y]==="operator"){if(r.stack[Y]==="switch"&&r.token[Y]===":"){do{Y=Y-1;if(r.types[Y]==="start"){q=q-1;if(q<0)break}else if(r.types[Y]==="end"){q=q+1;}if(r.token[Y]==="?"&&q===0)return}while(Y>0)}else {return}}b=false;f=O==="--"?"-":"+";}else if(A==="["||A===";"||A==="x;"||A==="}"||A==="{"||A==="("||A===")"||A===","||A==="return"){if(O==="++"||O==="--"){if(A==="["||A==="("||A===","||A==="return")return;if(O==="--")f="-";b=false;}else if(R==="--"||O==="--"){f="-";}}else {return}if(b===false)n=i.pop(r);D=i.count;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}Y=D;if(Y<i.count+1){do{B.push(oe(Y));Y=Y+1;}while(Y<i.count+1)}}if(b===true){i.splice({data:r,howmany:1,index:D-1});x="=";e="operator";V("");le();x=f;e="operator";V("");x="1";e="number";V("");}else {x="=";e="operator";V("");le();x=f;e="operator";V("");x="1";e="number";V("");}x=r.token[i.count];e=r.types[i.count];if(W==="}"&&d[l]!==";")m(false);}function V(b){i.push(r,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:x,types:e},b);}function z(){let b=l+1;let f=0;let O=0;let R="";let A=false;const Y=k;const q=["/"];if(b<Y){do{q.push(d[b]);if(d[b-1]!=="\\"||d[b-2]==="\\"){if(d[b]==="["){A=true;}if(d[b]==="]"){A=false;}}if(d[b]==="/"&&A===false){if(d[b-1]==="\\"){O=0;f=b-1;if(f>0){do{if(d[f]==="\\"){O=O+1;}else {break}f=f-1;}while(f>0)}if(O%2===0){break}}else {break}}b=b+1;}while(b<Y)}if(d[b+1]==="g"||d[b+1]==="i"||d[b+1]==="m"||d[b+1]==="y"||d[b+1]==="u"){q.push(d[b+1]);if(d[b+2]!==d[b+1]&&(d[b+2]==="g"||d[b+2]==="i"||d[b+2]==="m"||d[b+2]==="y"||d[b+2]==="u")){q.push(d[b+2]);if(d[b+3]!==d[b+1]&&d[b+3]!==d[b+2]&&(d[b+3]==="g"||d[b+3]==="i"||d[b+3]==="m"||d[b+3]==="y"||d[b+3]==="u")){q.push(d[b+3]);if(d[b+4]!==d[b+1]&&d[b+4]!==d[b+2]&&d[b+4]!==d[b+3]&&(d[b+4]==="g"||d[b+4]==="i"||d[b+4]==="m"||d[b+4]==="y"||d[b+4]==="u")){q.push(d[b+4]);if(d[b+5]!==d[b+1]&&d[b+5]!==d[b+2]&&d[b+5]!==d[b+3]&&d[b+5]!==d[b+4]&&(d[b+5]==="g"||d[b+5]==="i"||d[b+5]==="m"||d[b+5]==="y"||d[b+5]==="u")){q.push(d[b+4]);l=b+5;}else {l=b+4;}}else {l=b+3;}}else {l=b+2;}}else {l=b+1;}}else {l=b;}R=q.join("");return R}function ke(b){const f=b;do{b=b-1;}while(d[b]==="\\"&&b>0);return (f-b)%2===1}function je(b){let f=i.count;let O="";let R="";let A="";let Y=false;ee.push(b);if(b==="{"&&(r.types[i.count]==="type"||r.types[i.count]==="type_end"||r.types[i.count]==="generic")){let q=0;if(r.types[i.count]==="type_end")f=r.begin[i.count];q=f;do{f=f-1;if(r.begin[f]!==q&&r.begin[f]!==-1)break;if(r.token[f]===":")break}while(f>r.begin[f]);if(r.token[f]===":"&&r.stack[f-1]==="arguments"){C.push(false);Y=true;}else {C.push(C[C.length-1]);}f=i.count;}else if(b==="["&&r.types[i.count]==="type_end"){C.push(true);}else {C.push(C[C.length-1]);}if(o>-1){I();f=i.count;}if(w.len>-1)w.count[w.len]=w.count[w.len]+1;if(r.token[f-1]==="function"){P.push(["function",f+1]);}else {P.push([x,f+1]);}x=b;if(C[C.length-1]===true){e="type_start";}else {e="start";}if(b==="("||b==="x("){v();}else if(b==="{"){if(N>-1){if(r.begin[N-1]===r.begin[r.begin[f]-1]||r.token[r.begin[f]]==="x("){N=-1;if(a.script.correct===true){ne(")");}else {ne("x)");}v();x="{";e="start";}}else if(x===")"){v();}if(e==="comment"&&r.token[f-1]===")"){x=r.token[f];r.token[f]="{";e=r.types[f];r.types[f]="start";}}O=(()=>{let q=i.count;if(r.types[q]==="comment"){do{q=q-1;}while(q>0&&r.types[q]==="comment")}return r.token[q]})();R=r.stack[f]===void 0?"":(()=>{let q=i.count;if(r.types[q]==="comment"){do{q=q-1;}while(q>0&&r.types[q]==="comment")}return r.token[r.begin[q]-1]})();if(c(x,123)&&(r.types[f]==="word"||r.token[f]==="]")){let q=f;if(r.token[q]==="]"){do{q=r.begin[q]-1;}while(r.token[q]==="]")}do{if(r.types[q]==="start"||r.types[q]==="end"||r.types[q]==="operator")break;q=q-1;}while(q>0);if(r.token[q]===":"&&r.stack[q-1]==="arguments"){A="function";U.push(t);t=[];}}if(e==="type_start"){A="data_type";}else if(A===""&&(c(x,123)||x==="x{")){if(O==="else"||O==="do"||O==="try"||O==="finally"||O==="switch"){A=O;}else if(K[K.length-1]===0&&O!=="return"){K.pop();A="class";}else if(r.token[f-1]==="class"){A="class";}else if(r.token[f]==="]"&&r.token[f-1]==="["){A="array";}else if((r.types[f]==="word"||r.types[f]==="reference")&&(r.types[f-1]==="word"||r.types[f-1]==="reference"||r.token[f-1]==="?"&&(r.types[f-2]==="word"||r.types[f-2]==="reference"))&&r.token[f]!=="in"&&r.token[f-1]!=="export"&&r.token[f-1]!=="import"){A="map";}else if(r.stack[f]==="method"&&r.types[f]==="end"&&(r.types[r.begin[f]-1]==="word"||r.types[r.begin[f]-1]==="reference")&&r.token[r.begin[f]-2]==="new"){A="initializer";}else if(c(x,123)&&(c(O,41)||O==="x)")&&(r.types[r.begin[f]-1]==="word"||r.types[r.begin[f]-1]==="reference"||r.token[r.begin[f]-1]==="]")){if(R==="if"){A="if";}else if(R==="for"){A="for";}else if(R==="while"){A="while";}else if(R==="class"){A="class";}else if(R==="switch"||r.token[r.begin[f]-1]==="switch"){A="switch";}else if(R==="catch"){A="catch";}else {A="function";}}else if(c(x,123)&&(O===";"||O==="x;")){A="block";}else if(c(x,123)&&r.token[f]===":"&&r.stack[f]==="switch"){A="block";}else if(r.token[f-1]==="import"||r.token[f-2]==="import"||r.token[f-1]==="export"||r.token[f-2]==="export"){A="object";}else if(c(O,41)&&($[0]==="function"||$[0]==="if"||$[0]==="for"||$[0]==="class"||$[0]==="while"||$[0]==="switch"||$[0]==="catch")){A=$[0];}else if(r.stack[f]==="notation"){A="function";}else if((r.types[f]==="number"||r.types[f]==="string"||r.types[f]==="word"||r.types[f]==="reference")&&(r.types[f-1]==="word"||r.types[f-1]==="reference")&&r.token[r.begin[f]-1]!=="for"){A="function";}else if(i.structure.length>0&&r.token[f]!==":"&&i.structure[i.structure.length-1][0]==="object"&&(r.token[r.begin[f]-2]==="{"||r.token[r.begin[f]-2]===",")){A="function";}else if(r.types[$[1]-1]==="markup"&&r.token[$[1]-3]==="function"){A="function";}else if(O==="=>"){A="function";}else if(Y===true||r.types[i.count]==="type_end"&&r.stack[r.begin[i.count]-2]==="arguments"){A="function";}else if(c(O,41)&&r.stack[f]==="method"&&(r.types[r.begin[f]-1]==="word"||r.types[r.begin[f]-1]==="property"||r.types[r.begin[f]-1]==="reference")){A="function";}else if(r.types[f]==="word"&&c(x,123)&&r.token[f]!=="return"&&r.token[f]!=="in"&&r.token[f]!=="import"&&r.token[f]!=="const"&&r.token[f]!=="let"&&r.token[f]!==""){A="block";}else if(c(x,123)&&"if|else|for|while|function|class|switch|catch|finally".indexOf(r.stack[f])>-1&&(r.token[f]==="x}"||r.token[f]==="}")){A="block";}else if(r.stack[f]==="arguments"){A="function";}else if(r.types[f]==="generic"){do{f=f-1;if(r.token[f]==="function"||r.stack[f]==="arguments"){A="function";break}if(r.token[f]==="interface"){A="map";break}if(r.token[f]===";"){A="object";break}}while(f>r.begin[i.count])}else {A="object";}if(A!=="object"&&A!=="class"){if(A==="function"){U.push(t);t=[];}else {U.push([]);}}}else if(x==="["){A="array";}else if(x==="("||x==="x("){if(O==="function"||r.token[f-1]==="function"||r.token[f-1]==="function*"||r.token[f-2]==="function"){A="arguments";}else if(r.token[f-1]==="."||r.token[r.begin[f]-2]==="."){A="method";}else if(r.types[f]==="generic"){A="method";}else if(r.token[f]==="}"&&r.stack[f]==="function"){A="method";}else if(O==="if"||O==="for"||O==="class"||O==="while"||O==="catch"||O==="finally"||O==="switch"||O==="with"){A="expression";}else if(r.types[f]==="word"||r.types[f]==="property"||r.types[f]==="reference"){A="method";}else {A="paren";}}V(A);if(K.length>0)K[K.length-1]=K[K.length-1]+1;}function We(){const b=[d[l]];l=l+1;if(l<k){do{b.push(d[l]);if(d[l]==="`"&&(d[l-1]!=="\\"||ke(l-1)===false))break;if(d[l-1]==="$"&&d[l]==="{"&&(d[l-2]!=="\\"||ke(l-2)===false))break;l=l+1;}while(l<k)}return b.join("")}function qe(b){let f=2;let O=0;let R="";const A=b.slice(0,2);const Y=b.length;if(b.charAt(2)==="-")f=f+1;if(/\s/.test(b.charAt(f))===true){do{f=f+1;}while(/\s/.test(b.charAt(f))===true&&f<Y)}O=f;do{O=O+1;}while(/\s/.test(b.charAt(O))===false&&b.charAt(O)!=="("&&O<Y);if(O===Y)O=b.length-2;R=b.slice(f,O);if(R==="else"||A==="{%"&&(R==="elseif"||R==="when"||R==="elif"||R==="elsif")){return ["template_else",`template_${R}`]}if(A==="{{"){if(R==="end")return ["template_end",""];if(R==="block"&&/\{%\s*\w/.test(u)===false||R==="define"||R==="form"||R==="if"||R==="unless"||R==="range"||R==="with"){return ["template_start",`template_${R}`]}return ["template",""]}O=_.length-1;if(O>-1){do{if(R===_[O]&&(R!=="block"||/\{%\s*\w/.test(u)===false)){return ["template_start",`template_${R}`]}if(R==="end"+_[O]){return ["template_end",""]}O=O-1;}while(O>-1)}return ["template",""]}function Qe(){w.count.pop();w.index.pop();w.word.pop();w.len=w.len-1;}function I(){let b=o;let f=1;let O="";let R="";let A=x;let Y=e;const q=[];function D(){ee.push("x{");i.splice({data:r,howmany:1,index:i.count-3});}function W(B,H,J){const le=r.begin[B];let oe=0;do{if(r.token[B]===H&&r.types[B]==="word"){if(J===true){r.types[B]="reference";}else if(r.begin[B]>le&&r.token[r.begin[B]]==="{"&&r.stack[B]!=="object"&&r.stack[B]!=="class"&&r.stack[B]!=="data_type"){if(r.stack[B]==="function"){r.types[B]="reference";}else {oe=r.begin[B];do{if(r.stack[oe]==="function"){r.types[B]="reference";break}oe=r.begin[oe];}while(oe>le)}}}B=B-1;}while(B>le)}do{q.push(d[b]);if(d[b]==="\\"){i.error=`Illegal escape in JavaScript on line number ${i.lineNumber}`;}b=b+1;}while(b<l);if(x.charAt(0)==="\u201C"){i.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${i.lineNumber}`;}else if(x.charAt(0)==="\u201D"){i.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${i.lineNumber}`;}O=q.join("");o=-1;if(i.count>0&&O==="function"&&r.token[i.count]==="("&&(r.token[i.count-1]==="{"||r.token[i.count-1]==="x{")){r.types[i.count]="start";}if(i.count>1&&O==="function"&&x==="("&&(r.token[i.count-1]==="}"||r.token[i.count-1]==="x}")){if(r.token[i.count-1]==="}"){b=i.count-2;if(b>-1){do{if(r.types[b]==="end"){f=f+1;}else if(r.types[b]==="start"||r.types[b]==="end"){f=f-1;}if(f===0)break;b=b-1;}while(b>-1)}if(r.token[b]==="{"&&r.token[b-1]===")"){f=1;b=b-2;if(b>-1){do{if(r.types[b]==="end"){f=f+1;}else if(r.types[b]==="start"||r.types[b]==="end"){f=f-1;}if(f===0)break;b=b-1;}while(b>-1)}if(r.token[b-1]!=="function"&&r.token[b-2]!=="function"){r.types[i.count]="start";}}}else {r.types[i.count]="start";}}if(a.script.correct===true&&(O==="Object"||O==="Array")&&d[l+1]==="("&&d[l+2]===")"&&r.token[i.count-1]==="="&&r.token[i.count]==="new"){if(O==="Object"){r.token[i.count]="{";x="}";r.stack[i.count]="object";i.structure[i.structure.length-1][0]="object";}else {r.token[i.count]="[";x="]";r.stack[i.count]="array";i.structure[i.structure.length-1][0]="array";}r.types[i.count]="start";e="end";d[l+1]="";d[l+2]="";l=l+2;}else {f=i.count;b=f;if(a.script.variableList!=="none"&&(O==="var"||O==="let"||O==="const")){if(r.types[f]==="comment"){do{f=f-1;}while(f>0&&r.types[f]==="comment")}if(a.script.variableList==="list"&&w.len>-1&&w.index[w.len]===f&&O===w.word[w.len]){x=",";e="separator";r.token[f]=x;r.types[f]=e;w.count[w.len]=0;w.index[w.len]=f;w.word[w.len]=O;return}w.len=w.len+1;w.count.push(0);w.index.push(f);w.word.push(O);f=b;}else if(w.len>-1&&O!==w.word[w.len]&&i.count===w.index[w.len]&&r.token[w.index[w.len]]===";"&&x!==w.word[w.len]&&a.script.variableList==="list"){Qe();}if(O==="from"&&r.token[i.count]==="x;"&&r.token[i.count-1]==="}"){v();}if(O==="while"&&r.token[i.count]==="x;"&&r.token[i.count-1]==="}"){let B=0;let H=i.count-2;if(H>-1){do{if(r.types[H]==="end"){B=B+1;}else if(r.types[H]==="start"){B=B-1;}if(B<0){if(r.token[H]==="{"&&r.token[H-1]==="do")v();return}H=H-1;}while(H>-1)}}if(Y==="comment"){let B=i.count;do{B=B-1;}while(B>0&&r.types[B]==="comment");Y=r.types[B];A=r.token[B];}R=Q(2,false);if(O==="void"){if(A===":"&&r.stack[i.count-1]==="arguments"){e="type";}else {e="word";}}else if((i.structure[i.structure.length-1][0]==="object"||i.structure[i.structure.length-1][0]==="class"||i.structure[i.structure.length-1][0]==="data_type")&&(r.token[i.count]==="{"||r.token[r.begin[i.count]]==="{"&&r.token[i.count]===","||r.types[i.count]==="template_end"&&(r.token[r.begin[i.count]-1]==="{"||r.token[r.begin[i.count]-1]===","))){if(O==="return"||O==="break"){e="word";}else {e="property";}}else if(C[C.length-1]===true||(a.language==="typescript"||a.language==="flow")&&A==="type"){e="type";}else if(U.length>0&&(A==="function"||A==="class"||A==="const"||A==="let"||A==="var"||A==="new"||A==="void")){e="reference";U[U.length-1].push(O);if(a.language==="javascript"||a.language==="jsx"||a.language==="typescript"||a.language==="tsx"){if(A==="var"||A==="function"&&r.types[i.count-1]!=="operator"&&r.types[i.count-1]!=="start"&&r.types[i.count-1]!=="end"){W(i.count,O,true);}else {W(i.count,O,false);}}else {W(i.count,O,false);}}else if(i.structure[i.structure.length-1][0]==="arguments"&&e!=="operator"){e="reference";t.push(O);}else if(A===","&&r.stack[i.count]!=="method"&&(r.stack[i.count]!=="expression"||r.token[r.begin[i.count]-1]==="for")){let B=i.count;const H=i.structure[i.structure.length-1][1];do{if(r.begin[B]===H){if(r.token[B]===";")break;if(r.token[B]==="var"||r.token[B]==="let"||r.token[B]==="const"||r.token[B]==="type"){break}}else if(r.types[B]==="end"){B=r.begin[B];}B=B-1;}while(B>H);if(U.length>0&&r.token[B]==="var"){e="reference";U[U.length-1].push(O);if(a.language==="javascript"||a.language==="jsx"||a.language==="typescript"||a.language==="tsx"){W(B,O,true);}else {W(B,O,false);}}else if(U.length>0&&(r.token[B]==="let"||r.token[B]==="const"||r.token[B]==="type"&&(a.language==="typescript"||a.language==="tsx"))){e="reference";U[U.length-1].push(O);W(B,O,false);}else {e="word";}}else if(i.structure[i.structure.length-1][0]!=="object"||i.structure[i.structure.length-1][0]==="object"&&x!==","&&x!=="{"){let B=U.length;let H=0;if(B>0){do{B=B-1;H=U[B].length;if(H>0){do{H=H-1;if(O===U[B][H])break}while(H>0);if(O===U[B][H])break}}while(B>0);if(U[B][H]===O&&A!=="."){e="reference";}else {e="word";}}else {e="word";}}else {e="word";}x=O;if(O==="from"&&r.token[i.count]==="}")v();}V("");if(O==="class")K.push(0);if(O==="do"){R=Q(1,true);if(R!=="{"){x=a.script.correct===true?"{":"x{";e="start";ee.push("x{");V("do");}}if(O==="else"){R=Q(2,true);let B=i.count-1;if(r.types[B]==="comment"){do{B=B-1;}while(B>0&&r.types[B]==="comment")}if(r.token[B]==="x}"){if(r.token[i.count]==="else"){if(r.stack[i.count-1]!=="if"&&r.types[i.count-1]!=="comment"&&r.stack[i.count-1]!=="else"){ee.pop();i.splice({data:r,howmany:0,index:i.count-1,record:{begin:r.begin[r.begin[r.begin[i.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:a.script.correct===true?"}":"x}",types:"end"}});if(i.structure.length>1){i.structure.splice(i.structure.length-2,1);i.structure[i.structure.length-1][1]=i.count;}}else if(r.token[i.count-2]==="x}"&&S[0]!=="if"&&r.stack[i.count]==="else"){D();}else if(r.token[i.count-2]==="}"&&r.stack[i.count-2]==="if"&&S[0]==="if"&&r.token[S[1]-1]!=="if"&&r.token[r.begin[i.count-1]]==="x{"){D();}}else if(r.token[i.count]==="x}"&&r.stack[i.count]==="if"){D();}}if(R!=="if"&&R.charAt(0)!=="{"){x=a.script.correct===true?"{":"x{";e="start";ee.push("x{");V("else");}}if((O==="for"||O==="if"||O==="switch"||O==="catch")&&r.token[i.count-1]!=="."){R=Q(1,true);if(R!=="("){N=i.count;if(a.script.correct===true){je("(");}else {je("x(");}}}}do{if(/\s/.test(d[l])){if(o>-1)I();l=i.spacer({array:d,end:k,index:l});if(i.linesSpace>1&&x!==";"&&E<i.count&&d[l+1]!=="}"){m(false);E=i.count;}}else if(d[l]==="{"&&d[l+1]==="%"){G("{%","%}","template");}else if(d[l]==="{"&&d[l+1]==="{"){G("{{","}}","template");}else if(d[l]==="<"&&d[l+1]==="!"&&d[l+2]==="-"&&d[l+3]==="-"){G("<!--","-->","comment");}else if(d[l]==="<"){we();}else if(d[l]==="/"&&(l===k-1||d[l+1]==="*")){j();}else if((i.count<0||r.lines[i.count]>0)&&d[l]==="#"&&d[l+1]==="!"&&(d[l+2]==="/"||d[l+2]==="[")){G("#!"+d[l+2],"\n","string");}else if(d[l]==="/"&&(l===k-1||d[l+1]==="/")){ae();}else if(c(d[l],96)||c(d[l],125)&&i.structure[i.structure.length-1][0]==="template_string"){if(o>-1)I();x=We();if(c(x,125)&&x.slice(x.length-2)==="${"){e="template_string_else";V("template_string");}else if(x.slice(x.length-2)==="${"){e="template_string_start";V("template_string");}else if(c(x[0],125)){e="template_string_end";V("");}else {e="string";V("");}}else if(d[l]==='"'||d[l]==="'"){G(d[l],d[l],"string");}else if(d[l]==="-"&&(l<k-1&&d[l+1]!=="="&&d[l+1]!=="-")&&(e==="number"||e==="word"||e==="reference")&&x!=="return"&&(x===")"||x==="]"||e==="word"||e==="reference"||e==="number")){if(o>-1)I();x="-";e="operator";V("");}else if(o===-1&&(d[l]!=="0"||d[l]==="0"&&d[l+1]!=="b")&&(/\d/.test(d[l])||l!==k-2&&d[l]==="-"&&d[l+1]==="."&&/\d/.test(d[l+2])||l!==k-1&&(d[l]==="-"||d[l]===".")&&/\d/.test(d[l+1]))){if(o>-1)I();if(e==="end"&&d[l]==="-"){x="-";e="operator";}else {x=he();e="number";}V("");}else if(d[l]===":"&&d[l+1]===":"){if(o>-1)I();if(a.script.correct===true)ie();v();l=l+1;x="::";e="separator";V("");}else if(d[l]===","){if(o>-1)I();if(a.script.correct===true)ie();if(C[C.length-1]===true&&r.stack[i.count].indexOf("type")<0){C[C.length-1]=false;}if(e==="comment"){T();}else if(w.len>-1&&w.count[w.len]===0&&a.script.variableList==="each"){v();x=";";e="separator";V("");x=w.word[w.len];e="word";V("");w.index[w.len]=i.count;}else {x=",";e="separator";v();V("");}}else if(d[l]==="."){if(o>-1)I();C[C.length-1]=false;if(d[l+1]==="."&&d[l+2]==="."){x="...";e="operator";l=l+2;}else {v();x=".";e="separator";}if(/\s/.test(d[l-1])===true)i.linesSpace=1;V("");}else if(d[l]===";"){if(o>-1)I();if(C[C.length-1]===true&&r.stack[i.count].indexOf("type")<0){C[C.length-1]=false;}if(K[K.length-1]===0)K.pop();if(w.len>-1&&w.count[w.len]===0){if(a.script.variableList==="each"){Qe();}else {w.index[w.len]=i.count+1;}}if(a.script.correct===true)ie();x=";";e="separator";if(r.token[i.count]==="x}"){g();}else {V("");}L();}else if(d[l]==="("||d[l]==="["||d[l]==="{"){je(d[l]);}else if(d[l]===")"||d[l]==="]"||d[l]==="}"){ne(d[l]);}else if(d[l]==="*"&&r.stack[i.count]==="object"&&o<0&&/\s/.test(d[l+1])===false&&d[l+1]!=="="&&/\d/.test(d[l+1])===false){o=l;}else if(d[l]==="="||d[l]==="&"||d[l]==="<"||d[l]===">"||d[l]==="+"||d[l]==="-"||d[l]==="*"||d[l]==="/"||d[l]==="!"||d[l]==="?"||d[l]==="|"||d[l]==="^"||d[l]===":"||d[l]==="%"||d[l]==="~"){x=Ce();if(x==="regex"){x=r.token[i.count];}else if(x==="*"&&r.token[i.count]==="function"){r.token[i.count]="function*";}else {e="operator";if(x!=="!"&&x!=="++"&&x!=="--")v();V("");}}else if(o<0&&d[l]!==""){o=l;}if(w.len>-1&&i.count===w.index[w.len]+1&&r.token[w.index[w.len]]===";"&&x!==w.word[w.len]&&e!=="comment"&&a.script.variableList==="list"){Qe();}l=l+1;}while(l<k);if(o>-1)I();if((r.token[i.count]!=="}"&&r.token[0]==="{"||r.token[0]!=="{")&&(r.token[i.count]!=="]"&&r.token[0]==="["||r.token[0]!=="[")){m(false);}if(h[0]===i.count){x="\n"+h[1];e="string";V("");}if(r.token[i.count]==="x;"&&(r.token[i.count-1]==="}"||r.token[i.count-1]==="]")&&r.begin[i.count-1]===0){i.pop(r);}a.script=p;return r};var et={markup:"markup",html:"markup",liquid:"markup",xml:"markup",javascript:"script",typescript:"script",jsx:"script",tsx:"script",json:"script",less:"style",scss:"style",sass:"style",css:"style",text:"text"};var wt={html:"HTML",xhtml:"XHTML",liquid:"Liquid",xml:"XML",jsx:"JSX",tsx:"TSX",json:"JSON",yaml:"YAML",css:"CSS",scss:"SCSS",sass:"SASS",less:"LESS",text:"Plain Text",javascript:"JavaScript",typescript:"TypeScript"};function ct(s){return typeof s!=="string"||s.indexOf("html")>-1||et[s]===void 0?"markup":et[s]}function At(s){if(typeof s!=="string"||wt[s]===void 0)return s.toUpperCase();return wt[s]}function Se(s){const u={};if(s==="unknown"){u.language=s;u.languageName="Unknown";u.lexer="markup";}else if(s==="xhtml"||s==="markup"){u.language="xml";u.languageName="XHTML";u.lexer="markup";}else {u.language=s;u.languageName=At(s);u.lexer=ct(s);}if(M.hooks.language.length>0){for(const a of M.hooks.language){const p=a(u);if(typeof p==="object")Ne(u,p);}}return u}Ge.reference=Se;Ge.listen=function(s){M.hooks.language.push(s);};function Ge(s){let u=[];let a=0;const p=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(s)&&/@import/.test(s)===false;const l=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(s);function x(){if(/\n\s*#+\s+/.test(s)||/^#+\s+/.test(s))return Se("markdown");if(/\$[a-zA-Z]/.test(s)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(s)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(s)&&/:\s*@[a-zA-Z];/.test(s)===false)return Se("scss");if(/@[a-zA-Z]:/.test(s)||/\.[a-zA-Z]\(\);/.test(s))return Se("less");return Se("css")}function e(){let E=1;let o=y;let N=false;let t=false;const n=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(s);function S(){if(s.indexOf("(")>-1||s.indexOf("=")>-1||s.indexOf(";")>-1&&s.indexOf("{")>-1){if(l===true||/\w<\w+(,\s+\w+)*>/.test(s))return Se("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(s)||/=\s*<\w+/.test(s))return Se("typescript");return Se("javascript")}return Se("unknown")}function Z(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(s)||/(?:public|private)\s+/.test(s)||/(?:export|declare)\s+type\s+\w+\s*=/.test(s)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(s)||/(?:typeof|keyof|as)\s+\w+/.test(s)||/\w+\s+as\s+\w+/.test(s)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(s)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(s)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(s))return Se("typescript");if(/\s(class|var|const|let)\s+\w/.test(s)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(s)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(s)&&(/\s?\{%/.test(s)||/{{/.test(s)))return Se("liquid");if(/^(\s*[$@])/.test(s)===false&&/([}\]];?\s*)$/.test(s)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(s)||/module\.export\s+=\s+/.test(s)||/export\s+default\s+\{/.test(s)||/[?:]\s*[{[]/.test(s)||/^(?:\s*return;?(?:\s+[{[])?)/.test(s)){return Se("javascript")}}if(/{%/.test(s)&&/{{/.test(s)&&/<\w/.test(s))return Se("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(s))return Se("less");if(/\$(\w|-)/.test(s))return Se("scss");if(/[;{:]\s*@\w/.test(s)===true)return Se("less");return Se("css")}if(E<a){do{if(N===false){if(c(u[E],42)&&c(u[E-1],47)){u[E-1]=y;N=true;}else if(t===false&&E<a-6&&u[E].charCodeAt(0)===102&&u[E+1].charCodeAt(0)===105&&u[E+2].charCodeAt(0)===108&&u[E+3].charCodeAt(0)===116&&u[E+4].charCodeAt(0)===101&&u[E+5].charCodeAt(0)===114&&c(u[E+6],58)){t=true;}}else if(N===true&&c(u[E],42)&&E!==a-1&&c(u[E+1],47)){N=false;u[E]=y;u[E+1]=y;}else if(t===true&&c(u[E],59)){t=false;u[E]=y;}if(N===true||t===true)u[E]=y;E=E+1;}while(E<a)}o=u.join(y);if(/\s\/\//.test(s)===false&&/\/\/\s/.test(s)===false&&/^(\s*(\{|\[)(?!%))/.test(s)===true&&/((\]|\})\s*)$/.test(s)&&s.indexOf(",")!==-1)return Se("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(s)===true&&(p===true||n===true||/console\.log\(/.test(s)===true||/export\s+default\s+class\s+/.test(s)===true||/export\s+(const|var|let|class)s+/.test(s)===true||/document\.get/.test(s)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(s)===true||s.indexOf("{")===-1||/^(\s*if\s+\()/.test(s)===true))return S();if(s.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(s)||/^(\s*\/(\*|\/))/.test(s)||/^(\s*\*\s*\{)/.test(s))&&/^(\s*if\s*\()/.test(s)===false&&/=\s*(\{|\[|\()/.test(o)===false&&(/(\+|-|=|\?)=/.test(o)===false||/\/\/\s*=+/.test(o)||/=+('|")?\)/.test(s)&&/;\s*base64/.test(s))&&/function(\s+\w+)*\s*\(/.test(o)===false)return Z();return s.indexOf("{%")>-1?Se("liquid"):Se("unknown")}function $(){function E(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(s)||/{%-?\s*end\w+/.test(s)||/{{-?\s*content_for/.test(s)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(s)||/{%/.test(s)&&/%}/.test(s)&&/{{/.test(s)&&/}}/.test(s)?Se("liquid"):Se("html")}return /^(\s*<!doctype\s+html>)/i.test(s)||/^(\s*<html)/i.test(s)||/<form\s/i.test(s)&&/<label\s/i.test(s)&&/<input\s/i.test(s)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(s)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(s))||/<ul\s/i.test(s)&&/<li\s/i.test(s)&&/<\/li>/i.test(s)&&/<\/ul>/i.test(s)||/<head\s*>/.test(s)&&/<\/head>/.test(s)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(s)&&/XHTML\s+1\.1/.test(s)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(s)===false?E():/\s?{[{%]-?/.test(s)?Se("liquid"):Se("xml")}if(s===null||s.replace(/\s+/g,y)===y)return Se("unknown");if((/\n\s*#{1,6}\s+/.test(s)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(s))&&(/\[( |x|X)\]/.test(s)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(s)||/\n\s*```[a-zA-Z]*?\s+/.test(s)||/-+\|(-+\|)+/.test(s)))return Se("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(s))return $();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(s))return x();if(l===false&&/=(>|=|-|\+|\*)/.test(s)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(s)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(s)===false&&p===false&&/return\s*\w*\s*(;|\})/.test(s)===false&&(s===void 0||/^(?:\s*#(?!(!\/)))/.test(s)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(s)&&/>\s*<\w/.test(s)===false||(/^\s*:root\s*\{/.test(s)||/-{2}\w+\s*\{/.test(s)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(s))))return x();u=s.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,y).split(y);a=u.length;if(/^(\s*({{|{%|<))/.test(s))return $();if(l===true||/^(?:[\s\w-]*<)/.test(s)===false&&/(?:>[\s\w-]*)$/.test(s)===false)return e();return (/^(?:\s*<\?xml)/.test(s)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(s)||/^\s*</.test(s)&&/<\/\w+(\w|\d)+>\s*$/.test(s))&&(/^(?:[\s\w]*<)/.test(s)||/(?:>[\s\w]*)$/.test(s))||/^(?:\s*<s((cript)|(tyle)))/i.test(s)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(s)?/^(?:[\s\w]*<)/.test(s)===false||/(?:>[\s\w]*)$/.test(s)===false?e():$():Se("unknown")}M.lexers.markup=function s(u){const{options:a}=M;const{data:p}=i;const l=a.language==="jsx"||a.language==="tsx";const x=a.language==="html"||a.language==="liquid";const e=a.markup;const $=e.attributeSortList.length;const E={end:0,start:0,line:1,index:-1};const o=u.split(y);const N=o.length;let t=0;let n=false;let S;x?a.language:"html";let r=0;function U(m){if(!(x===true&&l===false))return m;if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(m))return m;if(!_e(m,3))return m;const g=m.length-3;if(e.delimiterTrims==="force"){if(c(m[1],37)){if(X(m[2],45))m=m.replace(/^{%/,"{%-");if(X(m[g],45))m=m.replace(/%}$/,"-%}");}else {if(X(m[2],45))m=m.replace(/^{{/,"{{-");if(X(m[g],45))m=m.replace(/}}$/,"-}}");}}else if(e.delimiterTrims==="strip"){m=m.replace(/^{%-/,"{%").replace(/-%}$/,"%}").replace(/^{{-/,"{{").replace(/-}}$/,"}}");}else if(e.delimiterTrims==="tags"&&c(m[1],37)){if(X(m[2],45))m=m.replace(/^{%/,"{%-");if(X(m[g],45))m=m.replace(/%}$/,"-%}");}else if(e.delimiterTrims==="outputs"&&c(m[1],123)){if(X(m[2],45))m=m.replace(/^{{/,"{{-");if(X(m[g],45))m=m.replace(/}}$/,"-}}");}if(/^{%-?\s*#/.test(m))return m;if(e.normalizeSpacing===false)return m;let v;let j=0;return m.split(/(["']{1})/).map((L,T,ne)=>{const G=c(L[0],34)||c(L[0],39);if(j>0||G&&j===0&&X(ne[T-1],92)||G){if(j===0)v=L.charCodeAt(0);if(j===1&&X(ne[T-1],92)){if(v===L.charCodeAt(0))j=2;return L}if(j!==2){j=j===0?1:j===1?c(ne[T-1],92)?1:2:0;return L}j=0;}return L.replace(ot,se).replace(/^({[{%]-?)/,"$1 ").replace(/([!=]=|[<>]=?)/g," $1 ").replace(new RegExp(" +(?=[|[\\],:.])|(?<=[[.]) +","g"),y).replace(new RegExp("(\\||(?<=[^=!<>])(?:(?<=assign[^=]+)=(?=[^=!<>])|=$))","g")," $1 ").replace(/([:,]$|[:,](?=\S))/g,"$1 ").replace(/(-?[%}]})$/," $1").replace(ot,se)}).join(y)}function k(m){let g=m;do g=g-1;while(c(o[g],92));g=m-g;return g%2===1}function d(m,g,v){if(m===p){if(g.types.indexOf("end")>-1){E.end=E.end+1;}else if(g.types.indexOf("start")>-1){E.start=E.start+1;}}E.index=i.count;E.line=i.lineNumber;i.push(m,g,v);}function P(m,g){if(!pe.html.tags.has(m))return false;if(m===g)return true;if(m==="dd"&&g==="dt")return true;if(m==="dt"&&g==="dd")return true;if(m==="td"&&g==="th")return true;if(m==="th"&&g==="td")return true;if(m==="colgroup"&&(g==="tbody"||g==="tfoot"||g==="thead"||g==="tr"))return true;if(m==="tbody"&&(g==="colgroup"||g==="tfoot"||g==="thead"))return true;if(m==="tfoot"&&(g==="colgroup"||g==="tbody"||g==="thead"))return true;if(m==="thead"&&(g==="colgroup"||g==="tbody"||g==="tfoot"))return true;if(m==="tr"&&g==="colgroup")return true;return false}function ee(m){return `Parse Error (line ${i.lineNumber}):
${Array.isArray(m)?m.join(y):m}`}function K(m,g){const v=Re(m);const j={begin:i.scope.index,ender:-1,lexer:"markup",lines:p.lines[i.count]>0?1:0,stack:Re(i.scope.token),token:`</${i.scope.token}>`,types:"end"};d(p,j,y);if(pe.html.tags.has(i.scope.token)&&(g===true&&i.structure.length>1||g===false&&`/${i.scope.token}`!==v)){do{j.begin=i.scope.index;j.stack=Re(i.scope.token);j.token=`</${i.scope.token}>`;d(p,j,y);}while(pe.html.tags.has(i.scope.token)&&(g===true&&i.structure.length>1||g===false&&`/${i.scope.token}`!==v))}}function h(){i.error="Prettify Error:\n\n"+i.error;}function C(m){const g={lexer:"markup",lines:i.linesSpace,stack:i.scope.token!=="global"?Re(i.scope.token):"global",begin:i.scope.index,token:y,types:y,ender:-1};let v=y;let j=y;let L=y;let T=y;let ne=y;let G=false;let ae=false;let we=false;let Q=0;let he=false;let Ce=false;let ie=false;let V=false;let z=[];let ke=[y,0];function je(W){const B=W.indexOf("=");if(B>0){const H=W.indexOf('"');if(B<H&&H>0)return [W.slice(0,B),W.slice(B+1)];const J=W.indexOf("'");if(B<J&&J>0)return [W.slice(0,B),W.slice(B+1)]}return [W,y]}function We(W){g.lines=p.lines[i.count]>0?1:0;g.token=`</${i.scope.token}>`;g.types="end";d(p,g,y);if(W>0){do{g.begin=i.scope.index;g.stack=Re(i.scope.token);g.token=`</${i.scope.token}>`;d(p,g,y);W=W-1;}while(W>0)}g.begin=i.scope.index;g.lines=i.linesSpace;g.stack=Re(i.scope.token);g.token=v;g.types="end";p.lines[i.count-1]=0;}function qe(){if(L==="end"){const W=p.token[i.count];if(p.types[i.count-1]==="singleton"&&W.charCodeAt(W.length-2)!==47&&`/${Re(W)}`===T){p.types[i.count-1]="start";}}if(x){if(c(v[0],60)&&X(v[1],33)&&X(v[1],63)&&(i.count<0||p.types[i.count].indexOf("template")<0)){v=v.toLowerCase();}if(pe.html.tags.has(i.scope.token)&&P(T.slice(1),i.structure[i.structure.length-2][0])){We(0);}else if(i.structure.length>3&&pe.html.tags.has(i.scope.token)&&pe.html.tags.has(i.structure[i.structure.length-2][0])&&pe.html.tags.has(i.structure[i.structure.length-3][0])&&P(T,i.structure[i.structure.length-4][0])){We(3);}else if(i.structure.length>2&&pe.html.tags.has(i.scope.token)&&pe.html.tags.has(i.structure[i.structure.length-2][0])&&P(T,i.structure[i.structure.length-3][0])){We(2);}else if(i.structure.length>1&&pe.html.tags.has(i.scope.token)&&P(T,i.structure[i.structure.length-2][0])){We(1);}else if(P(T,i.scope.token)){We(0);}else if(c(T[0],47)&&pe.html.tags.has(i.scope.token)&&i.scope.token!==T.slice(1)){K(v,false);g.begin=i.scope.index;g.lines=i.linesSpace;g.stack=Re(i.scope.token);g.token=v;g.types="end";p.lines[i.count-1]=0;}if(l===false&&pe.html.voids.has(T)){if(e.correct===true&&/\/>$/.test(v)===false){v=v.slice(0,v.length-1)+" />";}return true}}return false}function Qe(){if(L!=="cdata")return R();if(g.stack==="script"||g.stack==="style"){const W=g.stack;let B=i.count;let H=i.count;if(p.types[H]==="attribute"){do{B=B-1;H=H-1;}while(p.types[H]==="attribute"&&H>-1)}g.begin=B;g.token="<![CDATA[";g.types="cdata_start";v=v.replace(/^(\s*<!\[cdata\[)/i,y).replace(/(\]{2}>\s*)$/,y);d(p,g,y);i.structure.push(["cdata",i.count]);if(W==="script"){M.lexers.script(v);}else {M.lexers.style(v);}g.begin=i.scope.index;g.token="]]>";g.types="cdata_end";d(p,g,y);i.structure.pop();}return R()}function I(){if(g.types.indexOf("template")===-1)return Qe();if(c(v[0],123)&&c(v[1],37)){if(pe.liquid.else.has(T)){g.types="template_else";}else if(pe.liquid.tags.has(T)){g.types="template_start";}else if(T.startsWith("end")){const W=T.slice(3);if(pe.liquid.tags.has(W)){g.types="template_end";}else {g.stack=W;g.types="template_end";let B=0;do{if(p.types[B]==="template"&&p.stack[B]===W){p.types[B]="template_start";E.start=E.start+1;break}B=p.stack.indexOf(W,B+1);}while(B>-1)}}else {g.stack=T;}}if(e.quoteConvert==="double"){g.token=g.token.replace(/'/g,'"');}else if(e.quoteConvert==="single"){g.token=g.token.replace(/"/g,"'");}return Qe()}function b(){if(V&&we===false&&L!=="xml"){if(G===true||pe.html.voids.has(T)||c(v[v.length-2],47)&&c(v[v.length-1],62)){L="singleton";}else {L="start";}g.types=L;}return f()}function f(){let W=y;if(yt.test(p.token[i.count])){we=true;ie=false;if(L.indexOf("template")>0&&pe.liquid.tags.has(T)){W=`end${T}`;}else if(pe.html.voids.has(T)){W=null;}}else if(pe.html.voids.has(T)){W=null;}if(W!==null&&ie===false&&we===true&&(m===">"||m==="%}"||m==="}}")){const B=[];if(G===true){L="singleton";}else {ie=true;L="ignore";t=t+1;if(t<N){let H=y;let J=0;let le=0;let oe=false;do{if(c(o[t],10))i.lineNumber=i.lineNumber+1;B.push(o[t]);if(H===y){H=c(o[t],34)?'"':c(o[t],39)?"'":y;if(X(B[0],123)&&c(o[t],123)&&(c(o[t+1],123)||c(o[t+1],37))){H=o[t+1]+"}";}else if(c(o[t],60)&&V===true){oe=c(o[t+1],47);}else if(o[t]===j&&X(o[t-1],47)){if(oe===true){Q=Q-1;if(Q<0)break}else {Q=Q+1;}}}else if(c(o[t],H.charCodeAt(H.length-1))){le=0;J=H.length-1;if(c(H[J],125)){if(o.slice(t+(c(o[t+2],45)?3:2),o.indexOf("%",t+2)).join(y).trim().startsWith(W))break}else if(J>-1){do{if(X(o[t-le],H.charCodeAt(J)))break;le=le+1;J=J-1;}while(J>-1)}if(J<0)H=y;}t=t+1;}while(t<N)}}v=v+B.join(y);v=v.replace(">",` ${z.map(([H])=>H).join(se)}>`);z=[];g.token=v;g.types="content-ignore";}return I()}function O(){G=qe();if(!pe.embed("html",T)&&!pe.embed("liquid",T))return b();let W=z.length-1;let B=y;let H;if(W>-1){do{H=je(z[W][0]);if(H[0]==="type"){B=H[1];if(c(B,34)||c(B,39))B=B.slice(1,-1);break}W=W-1;}while(W>-1)}const J=_e(v,3);if(J===false&&pe.embed("html",T)){n=true;if(B===y){S=pe.html.embed[T].language;}else if(pe.html.embed[T].value(B)){S=pe.html.embed[T].language;}}else if(J===true&&pe.embed("liquid",T)){n=true;if(B===y){S=pe.liquid.embed[T].language;}else {S=pe.liquid.embed[T].language;}}if(n===true){W=t+1;if(W<N){do{if(be(o[W])===false){if(c(o[W],60)){if(o.slice(W+1,W+4).join(y)==="!--"){W=W+4;if(W<N){do{if(be(o[W])===false){n=false;break}if(c(o[W],10)||c(o[W],13))break;W=W+1;}while(W<N)}}else {n=false;}}break}W=W+1;}while(W<N)}}return b()}function R(){d(p,g,y);const W=i.count;const B=T.replace(/\/$/,y);const H=e.quoteConvert;let J=0;let le=0;let oe=0;let te=0;let F=y;let ue=y;let ce=z.length;function ge(){if(i.attributes.has(W)){if(J+1===ce&&X(g.token[g.token.length-1],62)){g.token=g.token+">";}}let re=_e(g.token,5);if(we===true||H==="none"||g.types.indexOf("attribute")<0||re===false&&H==="single"&&g.token.indexOf('"')<0||re===false&&H==="double"&&g.token.indexOf("'")<0){d(p,g,y);}else {let Oe=0;let Me=false;const xe=g.token.split(y);const de=g.token.indexOf("=");const ve=xe.length-1;if(X(xe[de+1],34)&&X(xe[xe.length-1],34)&&H==="single"&&re===false){d(p,g,y);}else if(X(xe[de+1],39)&&X(xe[xe.length-1],39)&&H==="double"&&re===false){d(p,g,y);}else {Oe=de+2;if(re===false){if(H==="double"){if(g.token.slice(de+2,ve).indexOf('"')>-1)Me=true;xe[de+1]='"';xe[xe.length-1]='"';}else if(H==="single"){if(g.token.slice(de+2,ve).indexOf("'")>-1)Me=true;xe[de+1]="'";xe[xe.length-1]="'";}}if(Me===true||re===true){re=false;do{if(c(xe[Oe-1],123)&&(c(xe[Oe],37)||c(xe[Oe],123))){re=true;}else if(c(xe[Oe],125)&&(c(xe[Oe-1],37)||c(xe[Oe-1],125))){re=false;}if(re===true){if(c(xe[Oe],34)&&H==="double"){xe[Oe]="'";}else if(c(xe[Oe],39)&&H==="single"){xe[Oe]='"';}}else {if(c(xe[Oe],39)&&H==="double"){xe[Oe]='"';}else if(c(xe[Oe],34)&&H==="single"){xe[Oe]="'";}}Oe=Oe+1;}while(Oe<ve)}g.token=xe.join(y);d(p,g,y);}}}function Ae(){if(!(!l&&!he&&!Ce))return;if($===0){z=i.sortSafe(z,y,false);return}const re=[];oe=0;le=0;ce=z.length;do{le=0;do{F=z[le][0].split("=")[0];if(e.attributeSortList[oe]===F){re.push(z[le]);z.splice(le,1);ce=ce-1;break}le=le+1;}while(le<ce);oe=oe+1;}while(oe<$);z=i.sortSafe(z,y,false);z=re.concat(z);ce=z.length;}function me(){g.token=F+"={";g.types="jsx_attribute_start";d(p,g,"jsx_attribute");M.lexers.script(ue.slice(1,ue.length-1));g.begin=i.count;if(/\s\}$/.test(ue)){ue=ue.slice(0,ue.length-1);ue=Ie.exec(ue)[0];g.lines=ue.indexOf("\n")<0?1:ue.split("\n").length;}else {g.lines=0;}g.begin=i.scope.index;g.stack=i.scope.token;g.token="}";g.types="jsx_attribute_end";ge();}function Te(){if(st(z[J][0])){g.types="attribute";g.token=z[J][0];}else if(Ve(z[J][0])){g.token=z[J][0];g.types="template_attribute_end";g.ender=g.begin;}else {if(Xe(z[J][0])){g.types="template_attribute_start";g.begin=i.count;g.token=z[J][0];}else if(gt(z[J][0])){g.types="template_attribute_else";g.token=z[J][0];}else {g.types="attribute";g.token=z[J][0];}}ge();}if(z.length<1)return D();if(c(z[z.length-1][0],47)){z.pop();v=v.replace(/>$/,"/>");}le=z.length;oe=1;if(oe<le){do{F=z[oe-1][0];if(c(F[F.length-1],61)&&z[oe][0].indexOf("=")<0){z[oe-1][0]=F+z[oe][0];z.splice(oe,1);le=le-1;oe=oe-1;}oe=oe+1;}while(oe<le)}if(e.attributeSort)Ae();g.begin=W;g.stack=B;g.types="attribute";if(J<ce){do{if(z[J]===void 0)break;g.lines=z[J][1];z[J][0]=z[J][0].replace(Ie,y);if(l===true&&/^\/[/*]/.test(z[J][0])){g.types="comment_attribute";g.token=z[J][0];ge();J=J+1;continue}if(z[J][1]<=1&&st(z[J][0])){if(!bt(z[J][0])){g.types="attribute";g.token=z[J][0];ge();J=J+1;continue}}le=z[J][0].indexOf("=");oe=z[J][0].indexOf('"');te=z[J][0].indexOf("'");if(le<0){g.types="attribute";if(c(z[J][0],35)||c(z[J][0],91)||c(z[J][0],123)||c(z[J][0],40)||l===true){g.token=z[J][0];}else {g.token=e.attributeCasing==="preserve"?z[J][0]:z[J][0].toLowerCase();}ge();}else {F=z[J][0].slice(0,le);ue=z[J][0].slice(le+1);if(e.attributeCasing==="lowercase-name"){F=F.toLowerCase();z[J][0]=F+"="+ue;}else if(e.attributeCasing==="lowercase-value"){ue=ue.toLowerCase();z[J][0]=F+"="+ue;}else if(e.attributeCasing==="lowercase"){F=F.toLowerCase();ue=ue.toLowerCase();z[J][0]=F+"="+ue;}if(e.correct&&(X(ue,60)||X(ue,123)||X(ue,61)||X(ue,34)||X(ue,39))){ue='"'+ue+'"';}if(l===true&&/^\s*{/.test(ue)){me();g.types="attribute";g.begin=W;g.stack=B;}else if(Xe(ue)&&(e.valueForce==="always"||(e.valueForce==="intent"||e.valueForce==="wrap")&&a.wrap>0&&Math.abs(t-i.lineStart)>=a.wrap||ue.indexOf(fe)>0&&(e.valueForce==="newline"||e.valueForce==="intent"))&&(c(ue[0],34)||c(ue[0],39))){g.token=`${F}=${te>-1?"'":'"'}`;g.types="attribute";i.attributes.add(W);d(p,g,y);if(J+1===ce){s(ue.slice(1,-1));p.token[i.count]=`${p.token[i.count]}${te>-1?"'":'"'}>`;break}if(e.forceIndent===true){const re=ue.lastIndexOf(ue[0]);if(c(ue[re],34)||c(ue[re],39)){s(ue.slice(1,re));p.token[i.count]=`${p.token[i.count]}${te>-1?"'":'"'}`;}else {s(ue.slice(1));}}else {s(ue.slice(1));}g.types="attribute";g.stack=B;g.begin=W;}else {if(_e(F,5)){Te();}else {g.types="attribute";g.token=z[J][0];ge();}}}J=J+1;}while(J<ce)}n=false;return D()}function A(){if(m==="---"){ne="---";L="ignore";ie=true;}else if(c(o[t],60)){if(c(o[t+1],47)){L="end";m=">";}else if(c(o[t+1],33)){if((c(o[t+2],100)||c(o[t+2],68))&&(c(o[t+3],111)||c(o[t+3],79))&&(c(o[t+4],99)||c(o[t+4],67))&&(c(o[t+5],116)||c(o[t+5],84))&&(c(o[t+6],121)||c(o[t+6],89))&&(c(o[t+7],112)||c(o[t+7],80))&&(c(o[t+8],101)||c(o[t+8],69))){m=">";L="doctype";ie=true;}else if(c(o[t+2],45)&&c(o[t+3],45)){m="-->";L="comment";ne="<!--";}else if(c(o[t+2],91)&&o[t+3].charCodeAt(0)===67&&o[t+4].charCodeAt(0)===68&&o[t+5].charCodeAt(0)===65&&o[t+6].charCodeAt(0)===84&&o[t+7].charCodeAt(0)===65&&c(o[t+8],91)){m="]]>";L="cdata";ie=true;}}else if(o[t+1]==="?"){m="?>";if(o[t+2].charCodeAt(0)===120&&o[t+3].charCodeAt(0)===109&&o[t+4].charCodeAt(0)===109){L="xml";V=true;}else {ie=true;L="template";}}else if((c(o[t+1],112)||c(o[t+1],80))&&(c(o[t+2],114)||c(o[t+2],82))&&(c(o[t+3],101)||c(o[t+3],69))&&(c(o[t+4],62)||be(o[t+4]))){m="</pre>";L="ignore";ie=true;}else if(e.ignoreScripts===true&&o.slice(t+1,t+7).join(y).toLowerCase()==="script"){m="<\/script>";L="ignore";ie=true;we=true;}else if(e.ignoreStyles===true&&o.slice(t+1,t+6).join(y).toLowerCase()==="style"){m="</style>";L="ignore";ie=true;we=true;}else {V=true;m=">";}}else if(c(o[t],123)){if(l){n=true;ae=true;g.token="{";g.types="script_start";i.structure.push(["script",i.count]);d(p,g,y);return}if(c(o[t+1],123)){ie=true;m="}}";L="template";}else if(c(o[t+1],37)){ie=true;m="%}";L="template";const W=o.indexOf("}",t+2);if(c(o[W-1],37)){let B=o.slice(t+2,W-1).join(y);if(c(B,45)){ne="{%-";B=B.slice(1).trimStart();}else {ne="{%";B=B.trimStart();}if(c(B[B.length-1],45)){m="-%}";B=B.slice(0,B.length-1).trimEnd();}else {m="%}";B=B.trimEnd();}if(B==="comment"){const H=u.indexOf("{%",W);let J=H;if(o[H+1].charCodeAt(0)===45)J=H+1;J=u.indexOf("endcomment",J);if(J>0){J=o.indexOf("}",J);if(J>0&&o[J-1].charCodeAt(0)===37){L="comment";ne=o.slice(t,W+1).join(y);m=o.slice(H,J+1).join(y);}}}else if(c(B,35)){L="template";m="%}";}}else {ie=true;m="%}";L="template";}}else {ie=true;m=o[t+1]+"}";L="template";}}if(e.preserveAttributes===true)ie=true;if(ae)return O();j=m.charAt(m.length-1);if(L==="comment"&&(c(o[t],60)||c(o[t],123)&&c(o[t+1],37))){return Y()}else if(t<N){return q()}else {return O()}}function Y(){ke=Ze({chars:o,end:N,lexer:"markup",begin:ne,start:t,ender:m});v=ke[0];t=ke[1];if(v.replace(ne,y).trimStart().startsWith("@prettify-ignore-start")){g.token=v;g.types="ignore";d(p,g,y);}else {if(c(v[0],123)&&c(v[1],37)){const W=v.indexOf("%}",2)+2;const B=v.lastIndexOf("{%");v=U(v.slice(0,W))+v.slice(W,B)+U(v.slice(B));}g.token=v;g.types="comment";}return O()}function q(){const W=[];let B=0;let H=0;let J=0;let le=0;let oe=0;let te=0;let F=y;let ue=y;let ce=0;let ge=false;let Ae=false;let me=false;let Te=false;let re=[];function Oe(Me){let xe;let de=y;if(Me===true){de=re.join(y);xe=je(de);F=y;if(xe[0]==="data-prettify-ignore")we=true;}else {de=re.join(y);if(l===false||l&&X.last(de,125))de=de.replace(/\s+/g,se);xe=je(de);if(xe[0]==="data-prettify-ignore")we=true;if(l&&c(re[0],123)&&c.last(re,125))ce=0;}if(c(de[0],123)&&c(de[1],37))Ce=true;if(Me===false){if(Xe(de))r=r+1;if(Ve(de))r=r-1;}de=de.replace(/^\u0020/,y).replace(/\u0020$/,y);re=de.replace(/\r\n/g,fe).split(fe);if(!re.length)re[0]=re[0].replace(/\s+$/,y);de=a.crlf===true?U(re.join("\r\n")):U(re.join(fe));if(r>0||_e(de,1)){if(_e(de,5)===false){te=0;if(c(o[t+1],10)||c(o[t],10))te=2;if(c(o[t],32)&&X(o[t+1],32))te=1;}else {if(c(o[t+1],10)){te=2;}else if(c(o[t+1],32)){te=1;}else if(te>=1){te=0;}}}else {if(c(o[t+1],10)){te=2;}else if(c(o[t+1],32)){te=1;}}if(z.length>0){const ve=z.length-1;if(c(de,61)||c(de,45)){z[ve][0]=z[ve][0]+de;z[ve][1]=te;de=y;}else if(te===0&&z[ve][1]===0){z[ve][0]=z[ve][0]+de;z[ve][1]=te;de=y;}else if(te>0&&z[ve][1]===0&&Ve(de)===true){z[ve][0]=z[ve][0]+de;z[ve][1]=te;de=y;}else if(te>0&&z[ve][1]===0&&_e(z[ve][0],4)){z[ve][0]=z[ve][0]+de;de=y;}else if(z[ve][1]>0&&te===0&&dt(de)===false){te=z[ve][1];}else if(z[ve][1]>0&&te>0&&Ve(de)&&!_e(de,6)){const ut=de.indexOf("{%");z.push([de.slice(0,ut),te]);de=de.slice(ut);}}if(de!==y&&de!==se)z.push([de,te]);if(z.length>0){const[ve]=z[z.length-1];if(ve.indexOf("=\u201C")>0){i.error=ee("Invalid quote character (\u201C, &#x201c) used.");}else if(ve.indexOf("=\u201D")>0){i.error=ee("Invalid quote character (\u201D, &#x201d) used.");}}re=[];te=c(o[t],10)?2:1;}do{if(c(o[t],10)){te=te+1;i.lineNumber=i.lineNumber+1;}if(ne==="---"&&m==="---"&&L==="ignore"){W.push(o[t]);if(t>3&&c(o[t],45)&&c(o[t-1],45)&&c(o[t-2],45))break;t=t+1;continue}if(ie===true||(be(o[t])===false&&X(F,125)||c(F,125))){if(ge===false&&c(o[t-1],123)&&(c(o[t],123)||c(o[t],37))){ge=true;}else if(ge===true&&c(o[t],125)&&(c(o[t-1],125)||c(o[t-1],37))){ge=false;}W.push(o[t]);if(c(W[0],60)&&c(W[1],62)&&c(m,62)){g.token="<>";g.types="start";d(p,g,"(empty)");return}if(c(W[0],60)&&c(W[1],47)&&c(W[2],62)&&c(m,62)){g.token="</>";g.types="end";d(p,g,y);return}}if(L==="cdata"&&c(o[t],62)&&c(o[t-1],93)&&X(o[t-2],93)){i.error=ee(`CDATA tag (${W.join(y)}) not properly terminated with "]]>`);break}if(L==="comment"){F=y;if(o[t]===j&&W.length>m.length+1){H=W.length;B=m.length-1;if(B>-1){do{H=H-1;if(X(W[H],m.charCodeAt(B)))break;B=B-1;}while(B>-1)}if(B<0)break}}else {if(F===y){if(c(W[0],60)&&c(W[1],33)&&L!=="cdata"){if(L==="doctype"&&c(o[t],62))break;if(c(o[t],91)){if(c(o[t+1],60)){L="start";break}if(be(o[t+1])){do{t=t+1;if(c(o[t],10))te=te+1;}while(t<N-1&&be(o[t+1]))}if(c(o[t+1],60)){L="start";break}}}if(l){if(c(o[t],123)){ce=ce+1;}else if(c(o[t],125)){ce=ce-1;}}if(c(o[t],60)&&V===true&&ie===false&&W.length>1&&/>{2,3}/.test(m)===false){i.error=ee(`Invalid structure detected ${o.slice(t,t+8).join(y)}`);break}if(be(o[t])===false&&Ae===true&&o[t]!==j){Ae=false;Q=0;F=ue;W.pop();if(t<N){do{if(c(o[t],10))i.lineNumber=i.lineNumber+1;if(e.preserveAttributes===true){W.push(o[t]);}else {re.push(o[t]);}if(X(F,34)||X(F,39)){if(c(o[t-1],123)&&(c(o[t],37)||c(o[t],123))){ge=true;}else if((c(o[t-1],125)||c(o[t-1],37))&&c(o[t],125)){ge=false;}}if(l===false&&me===false&&ge===true&&e.preserveAttributes===false){const Me=c(re[0],61);do{t=t+1;if(c(o[t],10)){if(Me){ge=false;F=y;Oe(false);break}}re.push(o[t]);if(Me&&c(o[t+1],62)){ge=false;F=y;z[z.length-1][0]+=re.join(y);re=[];break}if(Me===false&&c(o[t],125)&&(c(o[t-1],125)||c(o[t-1],37))){ge=false;F=y;Oe(false);break}}while(t<N)}if(l===false&&(c(o[t],60)||c(o[t],62))&&(F===y||c(F,62))){if(F===y&&c(o[t],60)){F=">";J=1;}else if(c(F,62)){if(c(o[t],60)){J=J+1;}else if(c(o[t],62)){J=J-1;if(J===0){F=y;Q=0;Oe(false);break}}}}else if(F===y){if(o[t+1]===j){if(c.last(re,47)||c.last(re,63)&&L==="xml"){re.pop();if(ie===true)W.pop();t=t-1;}if(re.length>0)Oe(false);break}if(l===false&&c(o[t],123)&&c(o[t-1],61)){F="}";}else if(c(o[t],34)||c(o[t],39)){F=o[t];if(me===false&&ge===false)me=true;if(c(o[t-1],61)&&(c(o[t+1],60)||c(o[t+1],123)&&c(o[t+2],37)||be(o[t+1])&&X(o[t-1],61))){Q=t;}}else if(c(o[t],40)){F=")";oe=1;}else if(l){if((c(o[t-1],61)||be(o[t-1]))&&c(o[t],123)){F="}";le=1;}else if(c(o[t],47)){if(c(o[t+1],42)){F="*/";}else if(o[t+1]==="/"){F="\n";}}}else if(c(W[0],123)&&c(o[t],123)&&(c(o[t+1],123)||c(o[t+1],37))){F=c(o[t+1],123)?"}}":o[t+1]+"}";}if(be(o[t])&&F===y){if(c(re[re.length-2],61)){B=t+1;if(B<N){do{if(be(o[B])===false){if(c(o[B],34)||c(o[B],39)){t=B-1;Te=true;re.pop();}break}B=B+1;}while(B<N)}}if(Te===true){Te=false;}else if(ce===0||ce===1&&c(re[0],123)){re.pop();if(re.length>0)Oe(false);Ae=true;break}}}else if(c(o[t],40)&&c(F,41)){oe=oe+1;}else if(c(o[t],41)&&c(F,41)){oe=oe-1;if(oe===0){F=y;if(c(o[t+1],m.charCodeAt(0))){Oe(false);break}}}else if(l&&(c(F,125)||c(F,10)&&c(o[t],10)||F==="*/"&&c(o[t-1],42)&&c(o[t],47))){if(c(o[t],96)){t=t+1;do{re.push(o[t]);if(c(o[t],96))break;t=t+1;}while(t<o.length)}if(c(F,125)){if(c(o[t],125)&&o[t]!==F){le=le+1;}else if(o[t]===F){le=le-1;if(le===0){ce=0;F=y;v=re.join(y);if(e.preserveAttributes===false){if(l){if(!/^\s*$/.test(v))z.push([v,te]);}else {v=v.replace(/\s+/g,se);if(v!==se)z.push([v,te]);}}re=[];te=1;break}}}else {ue=y;he=true;v=re.join(y);if(v!==se)z.push([v,te]);re=[];te=c(F,10)?2:1;F=y;break}}else if(c(o[t],123)&&c(o[t+1],37)&&c(o[Q-1],61)&&(c(F,34)||c(F,39))){F=F+"{%";Q=0;}else if(c(o[t-1],37)&&c(o[t],125)&&(F==='"{%'||F==="'{%")){F=F[0];Q=0;}else if(c(o[t],60)&&c(m,62)&&c(o[Q-1],61)&&(c(F,34)||c(F,39))){F=F+"<";Q=0;}else if(c(o[t],62)&&(F==='"<'||F==="'<")){F=F.charAt(0);Q=0;}else if(Q===0&&X(F,62)&&(F.length<2||X(F,34)&&X(F,39))){H=0;B=F.length-1;if(B>-1){do{if(X(o[t-H],F.charCodeAt(B)))break;H=H+1;B=B-1;}while(B>-1)}if(B<0&&ge===false&&me===true){me=false;Oe(true);if(o[t+1]===j)break}}else if(Q>0&&be(o[t])===false){Q=0;}t=t+1;}while(t<N)}}else if(c(m,10)===false&&(c(o[t],34)||c(o[t],39))){F=o[t];}else if(L!=="comment"&&X(m,10)&&c(o[t],60)&&c(o[t+1],33)&&c(o[t+2],45)&&c(o[t+3],45)&&p.types[i.count]!=="conditional"){F="-->";}else if(c(o[t],123)&&X(W[0],123)&&X(m,10)&&(c(o[t+1],123)||c(o[t+1],37))){if(c(o[t+1],123)){F="}}";}else {F=o[t+1]+"}";if(re.length<1&&(z.length<1||be(o[t-1]))){W.pop();do{if(c(o[t],10))te=te+1;re.push(o[t]);t=t+1;}while(t<N&&o[t-1]+o[t]!==F);re.push("}");z.push([re.join(y),te]);re=[];te=1;F=y;}}if(F===m)F=y;}else if(V&&X(m,10)&&be(o[t])&&X(o[t-1],60)){Ae=true;}else if(V&&l&&c(o[t],47)&&(c(o[t+1],42)||c(o[t+1],47))){Ae=true;W[W.length-1]=se;ue=c(o[t+1],42)?"*/":fe;re.push(o[t]);}else if(ge===false&&(o[t]===j||c(m,10)&&c(o[t+1],60))&&(W.length>m.length+1||c(W[0],93))&&(l===false||ce===0)){if(c(m,10)){if(be(W[W.length-1])){do{W.pop();t=t-1;}while(be(W[W.length-1]))}break}H=W.length;B=m.length-1;if(B>-1){do{H=H-1;if(W[H]!==m.charAt(B))break;B=B-1;}while(B>-1)}if(B<0){if(c(W[H],62)&&c(o[t],62)&&z.length>0){if(z[z.length-1][1]===0&&c(o[t-1],125)&&be(o[t+1])){z[z.length-1][1]=c(o[t+1],32)?1:2;}}break}}}else if(c(o[t],F.charCodeAt(F.length-1))&&(l&&c(m,125)&&(X(o[t-1],92)||k(t)===false)||(l===false||X(m,125)))){H=0;B=F.length-1;if(B>-1){do{if(o[t-H]!==F.charAt(B))break;H=H+1;B=B-1;}while(B>-1)}if(B<0)F=y;}}t=t+1;}while(t<N);Q=0;v=W.join(y);T=Re(v);v=U(v);g.token=v;g.types=L;if(ie===false&&l===false)v=v.replace(/\s+/g,se);return O()}function D(){if(a.wrap>0&&l===true){let W=0;let B=i.count;let H=0;if(p.types[B].indexOf("attribute")>-1){do{W=W+p.token[B].length+1;B=B-1;}while(p.lexer[B]!=="markup"||p.types[B].indexOf("attribute")>-1);if(p.lines[B]===1)W=W+p.token[B].length+1;}else if(p.lines[B]===1){W=p.token[B].length+1;}H=B-1;if(W>0&&p.types[H]!=="script_end"){if(p.types[H].indexOf("attribute")>-1){do{W=W+p.token[H].length+1;H=H-1;}while(p.lexer[H]!=="markup"||p.types[H].indexOf("attribute")>-1);if(p.lines[H]===1)W=W+p.token[H].length+1;}else if(p.lines[H]===1){W=p.token[H].length+1;}}}i.linesSpace=0;}return A()}function _(){const m=t;const g=l===true&&c(p.token[i.count],123);let v=[];let j=y;let L=i.linesSpace;let T=y;if(n===true){if(g===true){T="script";}else if(i.scope.index>-1){T=Re(p.token[i.scope.index]);}else if(p.begin[i.count]>1){T=Re(p.token[p.begin[i.count]]);}else {T=Re(p.token[p.begin[i.count]]);}}const ne=p.types[i.count]==="template_start"&&p.token[i.count].indexOf("<!")===0&&p.token[i.count].indexOf("<![")<0&&p.token[i.count].charCodeAt(p.token[i.count].length-1)===91;const G={begin:i.scope.index,ender:-1,lexer:"markup",lines:L,stack:Re(i.scope.token),token:y,types:"content"};function ae(){let Q=t-1;let he=0;if(X(o[t-1],92))return false;if(Q>-1){do{if(X(o[Q],92))break;he=he+1;Q=Q-1;}while(Q>-1)}return he%2===1}if(t<N){let Q=y;let he=y;let Ce=y;let ie=0;do{if(c(o[t],10))i.lineNumber=i.lineNumber+1;if(n===true){if(he===y){if(c(o[t],47)){if(c(o[t+1],42)){he="*";}else if(c(o[t+1],47)){he="/";}else if(T==="script"&&"([{!=,;.?:&<>".indexOf(o[t-1])>-1){if(l===false||X(o[t-1],60))he="reg";}}else if((c(o[t],34)||c(o[t],39)||c(o[t],96))&&ae()===false){he=o[t];}else if(c(o[t],123)&&g===true){ie=ie+1;}else if(c(o[t],125)&&g===true){if(ie===0){Ce=v.join(y).replace(He,y).replace(Ie,y);M.lexers.script(Ce);i.scope.index+=1;if(p.types[i.count]==="end"&&p.lexer[p.begin[i.count]-1]==="script"){G.lexer="script";G.token=e.correct===true?";":"x;";G.types="separator";d(p,G,y);G.lexer="markup";}G.token="}";G.types="script_end";d(p,G,y);i.structure.pop();break}ie=ie-1;}if(_e(p.token[i.count],3)===false){Q=o.slice(t,t+10).join(y).toLowerCase();if(T==="script"){Q=t===N-9?Q.slice(0,Q.length-1):Q.slice(0,Q.length-2);if(Q==="<\/script"){Ce=v.join(y).replace(He,y).replace(Ie,y);t=t-1;if(v.length<1)break;if(/^<!--+/.test(Ce)&&/--+>$/.test(Ce)){G.token="<!--";G.types="comment";d(p,G,y);Ce=Ce.replace(/^<!--+/,y).replace(/--+>$/,y);M.lexers.script(Ce);G.token="-->";d(p,G,y);}else {a.language=S;M.lexers.script(Ce);if(S==="json"&&a.json.objectSort||S!=="json"&&a.script.objectSort){i.sortCorrect(0,i.count+1);}a.language="html";}break}}if(T==="style"){if(t===N-8){Q=Q.slice(0,Q.length-1);}else if(t===N-9){Q=Q.slice(0,Q.length-2);}else {Q=Q.slice(0,Q.length-3);}if(Q==="</style"){let V=v.join(y).replace(He,y).replace(Ie,y);t=t-1;if(v.length<1)break;if(/^<!--+/.test(V)&&/--+>$/.test(V)){G.token="<!--";G.types="comment";d(p,G,y);V=V.replace(/^<!--+/,y).replace(/--+>$/,y);M.lexers.style(V);G.token="-->";d(p,G,y);}else {a.language=S;M.lexers.style(V);if(a.style.sortProperties===true)i.sortCorrect(0,i.count+1);a.language="html";}break}}}else {if(pe.embed("liquid",T)){const V=o.slice(t).join(y);const z=V.search(new RegExp(`{%-?\\s*end${T}`));v=v.length>0?v.concat(v,o.slice(t,t+z)):o.slice(t,t+z);t=t+z;Q=o.slice(t).join(y).toLowerCase();if(pe.liquid.embed[T].end(Q)){Q=Q.slice(0,Q.indexOf("%}")+2);Ce=v.join(y).replace(He,y).replace(Ie,y);t=t+(Q.length-1);if(v.length<1)break;const ke=et[pe.liquid.embed[T].language];a.language=S;M.lexers[ke](Ce);if(S==="json"&&a.json.objectSort===true||S==="javascript"&&a.script.objectSort===true||(S==="css"||S==="scss")&&a.style.sortProperties===true){i.sortCorrect(0,i.count+1);}a.language="liquid";G.token=Q;G.types="template_end";d(p,G,y);}break}}}else if(he===o[t]&&ae()===false&&(c(he,34)||c(he,39)||c(he,96)||c(he,42)&&c(o[t+1],47))){he=y;}else if(c(he,96)&&c(o[t],36)&&c(o[t+1],123)&&ae()===false){he="}";}else if(c(he,125)&&c(o[t],125)&&ae()===false){he="`";}else if(c(he,47)&&(c(o[t],10)||c(o[t],13))){he=y;}else if(he==="reg"&&c(o[t],47)&&ae()===false){he=y;}else if(c(he,47)&&c(o[t],60)&&c(o[t-1],45)&&c(o[t-2],45)){Q=o.slice(t+1,t+11).join(y).toLowerCase();Q=Q.slice(0,Q.length-2);if(T==="script"&&Q==="<\/script")he=y;Q=Q.slice(0,Q.length-1);if(T==="style"&&Q==="</style")he=y;}}if(ne===true&&c(o[t],93)){t=t-1;L=0;j=v.join(y);j=j.replace(Ie,y);G.token=j;d(p,G,y);break}if(n===false&&v.length>0&&(c(o[t],60)&&X(o[t+1],61)&&!/[\s\d]/.test(o[t+1])||c(o[t],91)&&c(o[t+1],37)||c(o[t],123)&&(l===true||c(o[t+1],123)||c(o[t+1],37)))){t=t-1;if(i.scope.token==="comment"){j=v.join(y);}else {j=v.join(y).replace(Ie,y);}L=0;G.token=j;if(a.wrap>0&&e.preserveText===false){let We=function(){if(c(j[ke],32)){z.push(j.slice(0,ke));j=j.slice(ke+1);je=j.length;ke=V;return}do ke=ke-1;while(ke>0&&X(j[ke],32));if(ke>0){z.push(j.slice(0,ke));j=j.slice(ke+1);je=j.length;ke=V;}else {ke=V;do ke=ke+1;while(ke<je&&X(j[ke],32));z.push(j.slice(0,ke));j=j.slice(ke+1);je=j.length;ke=V;}};const{wrap:V}=a;const z=[];let ke=V;let je=j.length;if(p.token[p.begin[i.count]]==="<a>"&&p.token[p.begin[p.begin[i.count]]]==="<li>"&&p.lines[p.begin[i.count]]===0&&i.linesSpace===0&&j.length<a.wrap){d(p,G,y);break}if(je<V){d(p,G,y);break}if(i.linesSpace<1&&i.count>-1){let qe=i.count;do{ke=ke-p.token[qe].length;if(p.types[qe].indexOf("attribute")>-1)ke=ke-1;if(p.lines[qe]>0&&p.types[qe].indexOf("attribute")<0)break;qe=qe-1;}while(qe>0&&ke>0);if(ke<1)ke=j.indexOf(se);}j=v.join(y).replace(He,y).replace(Ie,y).replace(/\s+/g,se);do We();while(ke<je);if(j!==y&&X(j,32))z.push(j);j=a.crlf===true?z.join("\r\n"):z.join("\n");j=y+j+y;}else {const V=j.indexOf(fe);if(V>-1){G.token=j.slice(0,V);d(p,G,y);j=j.slice(V);const z=j.match(/^\n+/);if(z===null){G.lines=1;}else {G.lines=2;j=j.replace(He,y);}}}L=0;G.token=j;d(p,G,y);break}v.push(o[t]);t=t+1;}while(t<N)}if(t>m&&t<N){if(be(o[t])){let Q=t;i.linesSpace=1;do{if(c(o[Q],10))i.linesSpace=i.linesSpace+1;Q=Q-1;}while(Q>m&&be(o[Q]))}else {i.linesSpace=0;}}else if(t!==m||t===m&&n===false){j=v.join(y).replace(Ie,y);L=0;if(G.token!==j){G.token=j;d(p,G,y);i.linesSpace=0;}}n=false;}function w(){i.linesSpace=1;do{if(c(o[t],10)){i.lineStart=t;i.linesSpace=i.linesSpace+1;i.lineNumber=i.lineNumber+1;}if(be(o[t+1])===false)break;t=t+1;}while(t<N)}if(a.language==="html"||a.language==="liquid");do{if(be(o[t])){w();}else if(n){_();}else if(c(o[t],60)){C(y);}else if(c(o[t],123)&&(l||c(o[t+1],123)||c(o[t+1],37))){C(y);}else if(c(o[t],45)&&c(o[t+1],45)&&c(o[t+2],45)){C("---");}else if(i.error){h();return p}else {_();}t=t+1;}while(t<N);if(E.end!==E.start&&i.error===y){if(E.end>E.start){const m=E.end-E.start;const g=m===1?y:"s";i.error=`Prettify Error (line ${E.line}):
${m} more end type${g} than start type${g}`;}else {const m=E.start-E.end;const g=m===1?y:"s";i.error=`Prettify Error (line ${E.line}):
${m} more start type${g} than end type${g}`;}}return p};M.beautify.markup=function(s){const u={};const a="markup";const p=i.data;const l=s.language==="jsx"||s.language==="tsx";const x=s.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const e=s.markup;const $=e.forceAttribute;const E=M.end<1||M.end>p.token.length?p.token.length:M.end+1;const o={is:(k,d)=>p.types[k]===d,not:(k,d)=>p.types[k]!==d,idx:(k,d)=>k>-1&&(p.types[k]||y).indexOf(d)};const N={is:(k,d)=>p.token[k]===d,not:(k,d)=>p.token[k]!==d};let t=M.start;let n=-1;let S=0;let Z=0;let r=isNaN(s.indentLevel)?0:Number(s.indentLevel);const U=function(){const k=M.start>0?Array(M.start).fill(0,0,M.start):[];function d(){let m=t+1;let g=0;if(o.is(m,void 0))return m-1;if(o.is(m,"comment")||t<E-1&&o.idx(m,"attribute")>-1){do{if(o.is(m,"jsx_attribute_start")){g=m;do{if(o.is(m,"jsx_attribute_end")&&p.begin[m]===g)break;m=m+1;}while(m<E)}else if(o.not(m,"comment")&&o.idx(m,"attribute")<0)return m;m=m+1;}while(m<E)}return m}function P(){const m=p.begin[t];let g=t;do{g=g-1;if(N.is(g,"</li>")&&N.is(g-1,"</a>")&&p.begin[p.begin[g]]===m&&p.begin[g-1]===p.begin[g]+1){g=p.begin[g];}else {return}}while(g>m+1);g=t;do{g=g-1;if(o.is(g+1,"attribute")){k[g]=-10;}else if(N.not(g,"</li>")){k[g]=-20;}}while(g>m+1)}function ee(){let m=t;let g=false;if(p.lines[t+1]===0&&e.forceIndent===false){do{if(p.lines[m]>0){g=true;break}m=m-1;}while(m>n);m=t;}else {g=true;}if(g===true){if(o.is(p.begin[m]-1,"template")){k[p.begin[m]-1]=r;}const v=o.is(S,"end")||o.is(S,"template_end")?r+1:r;do{k.push(v);m=m-1;}while(m>n);if(v===r+1)k[t]=r;if(o.is(m,"attribute")||o.is(m,"template_attribute")||o.is(m,"jsx_attribute_start")){k[p.begin[m]]=v;}else {k[m]=v;}}else {do{k.push(-20);m=m-1;}while(m>n);k[m]=-20;}n=-1;}function K(){let m=r;if(e.forceIndent===true||e.forceAttribute===true){k.push(r);return}if(S<E&&(o.idx(S,"end")>-1||o.idx(S,"start")>-1)&&p.lines[S]>0){k.push(r);m=m+1;if(t>0&&o.is(t,"singleton")&&o.idx(t-1,"attribute")>-1&&o.is(p.begin[t-1],"singleton")){if(p.begin[t]<0||o.is(p.begin[t-1],"singleton")&&p.begin[p.ender[t]-1]!==t){k[t-1]=r;}else {k[t-1]=r+1;}}}else if(t>0&&o.is(t,"singleton")&&o.idx(t-1,"attribute")>-1){k[t-1]=r;Z=p.token[t].length;k.push(-10);}else if(p.lines[S]===0){k.push(-20);}else if((s.wrap===0||t<E-2&&p.token[t]!==void 0&&p.token[t+1]!==void 0&&p.token[t+2]!==void 0&&p.token[t].length+p.token[t+1].length+p.token[t+2].length+1>s.wrap&&o.idx(t+2,"attribute")>-1||p.token[t]!==void 0&&p.token[t+1]!==void 0&&p.token[t].length+p.token[t+1].length>s.wrap)&&(o.is(t+1,"singleton")||o.is(t+1,"template"))){k.push(r);}else {Z=Z+1;k.push(-10);}if(t>0&&o.idx(t-1,"attribute")>-1&&p.lines[t]<1){k[t-1]=-20;}if(Z>s.wrap){let g=t;let v=Math.max(p.begin[t],0);if(o.is(t,"content")&&e.preserveText===false){let j=0;const L=p.token[t].replace(/\s+/g,se).split(se);do{g=g-1;if(k[g]<0){j=j+p.token[g].length;if(k[g]===-10)j=j+1;}else {break}}while(g>0);g=0;v=L.length;do{if(L[g].length+j>s.wrap){L[g]=x+L[g];j=L[g].length;}else {L[g]=` ${L[g]}`;j=j+L[g].length;}g=g+1;}while(g<v);if(c(L[0],32)){p.token[t]=L.join(y).slice(1);}else {k[t-1]=m;p.token[t]=L.join(y).replace(x,y);}if(p.token[t].indexOf(x)>0){Z=p.token[t].length-p.token[t].lastIndexOf(x);}}else {do{g=g-1;if(k[g]>-1){Z=p.token[t].length;if(p.lines[t+1]>0)Z=Z+1;return}if(o.idx(g,"start")>-1){Z=0;return}if(p.lines[g+1]>0&&(o.not(g,"attribute")||o.is(g,"attribute")&&o.is(g+1,"attribute"))){if(o.not(g,"singleton")||o.is(g,"attribute")&&o.is(g+1,"attribute")){Z=p.token[t].length;if(p.lines[t+1]>0)Z=Z+1;break}}}while(g>v);k[g]=m;}}}function h(){const m=t;if(p.types[m-1]==="script_start"&&c(p.token[m-1],123)){k[m-1]=-20;}do{if(p.lexer[t+1]===a&&p.begin[t+1]<m&&o.not(t+1,"start")&&o.not(t+1,"singleton"))break;k.push(0);t=t+1;}while(t<E);u[m]=t;if(p.types[t+1]==="script_end"&&p.token[t+1]==="}"){k.push(-20);}else {k.push(r-1);}S=d();if(p.lexer[S]===a&&p.stack[t].indexOf("attribute")<0&&(p.types[S]==="end"||p.types[S]==="template_end")){r=r-1;}}function C(){function m(ae){const we=p.token[ae].replace(/\s+/g,se).split(se);const Q=we.length;let he=1;let Ce=we[0].length;do{if(Ce+we[he].length>s.wrap){Ce=we[he].length;we[he]=x+we[he];}else {we[he]=` ${we[he]}`;Ce=Ce+we[he].length;}he=he+1;}while(he<Q);p.token[ae]=we.join(y);}let g=t;const v=t-1;let j=false;let L=false;let T=p.types.indexOf("end",v+1);let ne=p.token[v].length+1;let G=(()=>{if(o.idx(t,"start")>0){let ae=t;do{if(o.is(ae,"end")&&p.begin[ae]===t){if(ae<E-1&&o.idx(ae+1,"attribute")>-1){j=true;break}}ae=ae+1;}while(ae<E)}else if(t<E-1&&o.idx(t+1,"attribute")>-1){j=true;}if(o.is(S,"end")||o.is(S,"template_end")){return r+(o.is(v,"singleton")?2:1)}if(o.is(v,"singleton"))return r+1;return r})();if(j===false&&o.is(t,"comment_attribute")){k.push(r);k[v]=p.types[v]==="singleton"?r+1:r;return}if(G<1)G=1;T=0;do T=T+1;while(o.idx(t+T,"attribute")>-1&&(o.not(t+T,"end")||o.not(t+T,"singleton")||o.not(t+T,"start")||o.not(t+T,"comment")));do{Z=Z+p.token[t].length+1;if(p.types[t].indexOf("attribute")>0){if(o.is(t,"comment_attribute")){k.push(G);}else if(o.idx(t,"start")>0&&o.idx(t,"template")<0){L=true;if(t<E-2&&p.types[t+2].indexOf("attribute")>0){k.push(-20);t=t+1;u[t]=t;}else {if(v===t-1&&j===false){if(l){k.push(-20);}else {k.push(G);}}else {if(l){k.push(-20);}else {k.push(G+1);}}if(p.lexer[t+1]!==a){t=t+1;h();}}}else if(o.idx(t,"end")>0){if(k[t-1]!==-20)k[t-1]=k[p.begin[t]]-1;if(p.lexer[t+1]!==a){k.push(-20);}else {k.push(G);}}else {k.push(G);}}else if(o.is(t,"attribute")){ne=ne+p.token[t].length+1;if(e.preserveAttributes===true){k.push(-10);}else if(e.forceAttribute===true||e.forceAttribute>=1||L===true||t<E-1&&o.idx(t+1,"attribute")>0){if(e.forceAttribute===false&&p.lines[t]===1){k.push(-10);}else {if(e.forceAttribute===true){k.push(G);}else {k.push(-10);}}}else {k.push(-10);}}else if(p.begin[t]<v+1){break}t=t+1;}while(t<E);t=t-1;if(o.idx(t,"template")<0&&o.idx(t,"end")>0&&o.idx(t,"attribute")>0&&o.not(v,"singleton")&&k[t-1]>0&&j===true){k[t-1]=k[t-1]-1;}if(k[t]!==-20){if(l===true&&o.idx(v,"start")>-1&&o.is(t+1,"script_start")){k[t]=G;}else {if(N.is(t,"/")&&k[t-1]!==10){k[t-1]=-10;}else {k[t]=k[v];}}}if(e.forceAttribute===true){Z=0;k[v]=G;}else if(e.forceAttribute>=1){if(T>=e.forceAttribute){k[v]=G;let ae=t-1;do{if(o.is(ae,"template")&&k[ae]===-10){k[ae]=G;}else if(o.is(ae,"attribute")&&k[ae]===-10){k[ae]=G;}ae=ae-1;}while(ae>v)}else {k[v]=-10;}}else {k[v]=-10;}if(e.preserveAttributes===true||N.is(v,"<%xml%>")||N.is(v,"<?xml?>")){Z=0;return}g=t;if(g>v+1){if(e.selfCloseSpace===false)ne=ne-1;if(ne>s.wrap&&s.wrap>0&&e.forceAttribute===false){if(e.forceLeadAttribute===true){k[v]=G;g=g-1;}Z=p.token[t].length;do{if(p.token[g].length>s.wrap&&be(p.token[g]))m(g);if(o.idx(g,"template")>-1&&k[g]===-10){k[g]=G;}else if(o.is(g,"attribute")&&k[g]===-10){k[g]=G;}g=g-1;}while(g>v)}}else if(s.wrap>0&&o.is(t,"attribute")&&p.token[t].length>s.wrap&&be(p.token[t])){m(t);}}function _(){const m=p.token[t].split(fe);const g=c(p.token[t][2],45);let v=0;let j=0;let L=0;let T=y;let ne=y;if(k.length>=2){v=k[k.length-2]+1;}else if(k.length===1){v=k[k.length-1]+1;}let G=g?Be(v*s.indentSize):Be(v*s.indentSize-1);do{if(j===0){T=m[j].trimEnd();if(T.endsWith(",")){ne=","+se;m[j]=T.slice(0,-1);}else if(T.endsWith("|")){ne="|"+se;m[j]=T.slice(0,-1);}else if(/^{[{%]-?$/.test(T)){m[j]=T;j=j+1;do{T=m[j].trim();if(T.length>0)break;m.splice(j,1);if(j>m.length)break}while(j<m.length);const ae=m[m.length-1].trim();if(/^-?[%}]}$/.test(ae)){L=1;if(g){m[j]=G+T;m[m.length-1]=G.slice(2)+ae;G=G.slice(2)+Be(s.indentSize);}else {m[j]=G+Be(s.indentSize)+T;m[m.length-1]=G.slice(1)+ae;G=G+Be(s.indentSize);}}else {m[j]=G+Be(s.indentSize)+T;}}else if(T.endsWith(",")===false&&c(m[j+1].trimStart(),44)&&e.lineBreakSeparator==="after"){m[j]=T+",";}j=j+1;continue}T=m[j].trim();if(c(T,44)&&e.lineBreakSeparator==="after"){if(T.endsWith("%}")){T=se+T.slice(1);}else {T=se+T.slice(1)+",";}}if(T.length===0){m.splice(j,1);continue}if(j===m.length-1&&L===1)break;if(T.endsWith(",")&&e.lineBreakSeparator==="before"){m[j]=G+ne+T.slice(0,-1);ne=","+se;}else if(T.endsWith("|")){m[j]=G+ne+T.slice(0,-1);ne=G+"|"+se;}else {m[j]=G+ne+T;ne=y;}j=j+1;}while(j<m.length);if(e.normalizeSpacing===true){p.token[t]=m.join(fe).replace(/\s*-?[%}]}$/,ae=>ae.replace(/\s*/,se));}else {const ae=Be(p.lines[t]-1===-1?s.indentSize:p.lines[t]-1);p.token[t]=m.join(fe).replace(/\s*-?[%}]}$/,we=>we.replace($e,ae));}}function w(m){return o.is(m,"template")&&p.token[m].indexOf(x)>0&&/{%-?\s*\bliquid/.test(p.token[m])===false}do{if(p.lexer[t]===a){if(o.is(t,"doctype"))k[t-1]=r;if(o.idx(t,"attribute")>-1){if(i.attributes.has(p.begin[t])&&$!==true){e.forceAttribute=true;}else if($!==e.forceAttribute){e.forceAttribute=$;}C();}else if(o.is(t,"comment")){if(n<0)n=t;if(o.not(t+1,"comment")||t>0&&o.idx(t-1,"end")>-1){ee();}}else if(o.not(t,"comment")){S=d();if(o.is(S,"end")||o.is(S,"template_end")){if(i.attributes.has(p.begin[t])||p.types[p.begin[t-1]]==="singleton"&&p.types[t-1]==="attribute");r=r-1;if(o.is(S,"template_end")&&o.is(p.begin[S]+1,"template_else")){r=r-1;}if(N.is(t,"</ol>")||N.is(t,"</ul>")||N.is(t,"</dl>"))P();}if(o.is(t,"script_end")&&o.is(S,"end")){if(p.lines[S]<1){k.push(-20);}else if(p.lines[S]>1){k.push(r);}else {k.push(-10);}}else if((e.forceIndent===false||e.forceIndent===true&&o.is(S,"script_start"))&&(o.is(t,"content")||o.is(t,"singleton")||o.is(t,"template"))){Z=Z+p.token[t].length;if(p.lines[S]>0&&o.is(S,"script_start")){k.push(-10);}else if(s.wrap>0&&(o.idx(t,"template")<0||S<E&&o.idx(t,"template")>-1&&o.idx(S,"template")<0)){K();}else if(S<E&&(o.idx(S,"end")>-1||o.idx(S,"start")>-1)&&(p.lines[S]>0||o.idx(t,"template_")>-1)){k.push(r);if(w(t))_();}else if(p.lines[S]===0){k.push(-20);if(w(t))_();}else if(p.lines[S]===1){k.push(-10);}else {k.push(r);if(w(t))_();}}else if(o.is(t,"start")||o.is(t,"template_start")){r=r+1;if(o.is(t,"template_start")&&o.is(S,"template_else")){r=r+1;}if(l===true&&N.is(t+1,"{")){if(p.lines[S]===0){k.push(-20);}else if(p.lines[S]>1){k.push(r);}else {k.push(-10);}}else if(o.is(t,"start")&&o.is(S,"end")||o.is(t,"template_start")&&o.is(S,"template_end")){k.push(-20);}else if(o.is(t,"start")&&o.is(S,"script_start")){k.push(-10);}else if(e.forceIndent===true){k.push(r);}else if(p.lines[S]===0&&(o.is(S,"content")||o.is(S,"singleton")||o.is(t,"start")&&o.is(S,"template"))){k.push(-20);}else {k.push(r);}}else if(e.forceIndent===false&&p.lines[S]===0&&(o.is(S,"content")||o.is(S,"singleton"))){k.push(-20);}else if(o.is(t+2,"script_end")){k.push(-20);}else if(o.is(t,"template_else")){k[t-1]=r-1;if(o.is(S,"template_end")){k[t-1]=r-1;}k.push(r);}else if(e.forceIndent===true&&(o.is(t,"content")&&(o.is(S,"template")||o.is(S,"content"))||o.is(t,"template")&&(o.is(S,"content")||o.is(S,"template")))){if(p.lines[S]<1){k.push(-20);}else if(p.lines[S]>1){k.push(r);}else {k.push(-10);}}else {k.push(r);}}if(o.not(t,"content")&&o.not(t,"singleton")&&o.not(t,"template")&&o.not(t,"attribute")){Z=0;}}else {Z=0;h();}t=t+1;}while(t<E);return k}();return function(){const k=[];const d=function(){const _=[s.indentChar];const w=s.indentSize-1;let m=0;if(m<w){do{_.push(s.indentChar);m=m+1;}while(m<w)}return _.join(y)}();function P(_){const w=[];const m=s.preserveLine+1;const g=Math.min(p.lines[t+1]-1,m);let v=0;if(_<0)_=0;do{w.push(x);v=v+1;}while(v<g);if(_>0){v=0;do{w.push(d);v=v+1;}while(v<_)}return w.join(y)}function ee(){let _=p.token[t].split(x);const w=p.lines[t+1];if(o.is(t,"comment")&&s.preserveComment===false){_=_.map(j=>j.trimStart());}const m=U[t-1]>-1?o.is(t,"attribute")?U[t-1]+1:U[t-1]:(()=>{let j=t-1;let L=j>-1&&o.idx(j,"start")>-1;if(U[t]>-1&&o.is(t,"attribute"))return U[t]+1;do{j=j-1;if(U[j]>-1)return o.is(t,"content")&&L===false?U[j]:U[j]+1;if(o.idx(j,"start")>-1)L=true;}while(j>0);return j===-2?0:1})();let g=0;p.lines[t+1]=0;const v=_.length-1;do{if(o.is(t,"comment")){if(g===0&&e.commentNewline){if(s.preserveLine===0){k.push(P(m));}else {if(k.length>0&&k[k.length-1].lastIndexOf(fe)+1<2){k.push(P(m));}}}if(_[g]!==y){if(g>0&&s.commentIndent)k.push(d);if(_[g+1].trimStart()!==y){k.push(_[g],P(m));}else {k.push(_[g],fe);}}else {if(_[g+1].trimStart()===y){k.push(fe);}else {k.push(P(m));}}}else {k.push(_[g]);k.push(P(m));}g=g+1;}while(g<v);p.lines[t+1]=w;k.push(_[v]);if(o.is(t,"comment")&&(o.is(t+1,"template_end")||o.is(t-1,"template_end"))){k.push(P(U[t]));}else if(U[t]===-10){k.push(se);}else if(U[t]>1){k.push(P(U[t]));}}function K(){const _=/(?!=)\/?>$/;const w=p.token[t];const m=_.exec(w);if(m===null)return;let g=t+1;let v=false;let j=e.selfCloseSpace===true&&m!==null&&m[0]==="/>"?se:y;p.token[t]=w.replace(_,y);do{if(o.is(g,"jsx_attribute_end")&&p.begin[p.begin[g]]===t){v=false;}else if(p.begin[g]===t){if(o.is(g,"jsx_attribute_start")){v=true;}else if(o.idx(g,"attribute")<0&&v===false){break}}else if(v===false&&(p.begin[g]<t||o.idx(g,"attribute")<0)){break}g=g+1;}while(g<E);if(o.is(g-1,"comment_attribute"))j=P(U[g-2]-1);if(!i.attributes.has(t)){p.token[g-1]=`${p.token[g-1]}${j}${m[0]}`;}if(o.is(g,"comment")&&p.lines[t+1]<2)U[t]=-10;}t=M.start;let h=s.indentLevel;let C=y;do{if(p.lexer[t]===a){if((o.is(t,"start")||o.is(t,"singleton")||o.is(t,"xml"))&&o.idx(t,"attribute")<0&&t<E-1&&p.types[t+1]!==void 0&&o.idx(t+1,"attribute")>-1){K();}if(N.not(t,void 0)&&p.token[t].indexOf(x)>0&&(o.is(t,"content")&&e.preserveText===false||o.is(t,"comment")||o.is(t,"attribute"))){ee();}else if(s.preserveComment===false&&o.is(t,"comment")&&e.commentNewline&&(s.preserveLine===0||k[k.length-1].lastIndexOf(fe)+1<2)){k.push(P(U[t]),p.token[t],P(U[t]));}else {k.push(p.token[t]);if(U[t]===-10&&t<E-1){k.push(se);}else if(U[t]>-1){h=U[t];k.push(P(U[t]));}}}else {M.start=t;M.end=u[t];s.indentLevel=h;const _=s.language;const w=c(p.token[t],123)?"liquid":"html";const m=ht(p.stack[t]);let g=false;if(w==="liquid"&&m in pe[w].embed&&"language"in pe[w].embed[m]){g=pe[w].embed[m].language==="json";if(g)s.language="json";}C=M.beautify[p.lexer[t]](s).replace($e,y);k.push(C);if(C.endsWith(fe)){if(h-1>0)k.push(Be(h-1,d));}else {if(e.forceIndent===true||U[M.iterator]>-1&&u[t]>t){k.push(P(U[M.iterator]));}}t=M.iterator;s.indentLevel=0;if(g)s.language=_;}t=t+1;}while(t<E);M.iterator=E-1;if(k[0]===x||c(k[0],32))k[0]=y;return k.join(y)}()};M.beautify.style=s=>{const u=[];const a=M.data;const p=s.crlf===true?"\r\n":"\n";const l=M.end>0?M.end+1:a.token.length;const x=s.preserveLine+1;const e=(()=>{let S=0;const Z=[];do{Z.push(s.indentChar);S=S+1;}while(S<s.indentSize);return Z.join(y)})();let $=s.indentLevel;let E=s.wrap>0?s.wrap:0;let o=M.start;let N=[y,y];function t(S){const Z=[];const r=(()=>{if(o===l-1)return 1;if(a.lines[o+1]-1>x)return x;if(a.lines[o+1]>1)return a.lines[o+1]-1;return 1})();let U=0;if(S<0)S=0;do{Z.push(p);U=U+1;E=$;}while(U<r);if(S>0){U=0;do{Z.push(e);U=U+1;}while(U<S)}u.push(Z.join(y));}function n(){const S=a.begin[o];const Z=a.token[S];const r=a.token[o];const U=[];let k=o;let d=0;let P;let ee=0;if(S<0||k<=S)return;do{k=k-1;if(a.begin[k]===S){if(c(a.token[k],58)){P=[k-1,0];do{k=k-1;if((c(a.token[k],59)&&Z==="{"||c(a.token[k],44)&&Z==="(")&&a.begin[k]===S||a.token[k]===r&&a.begin[a.begin[k]]===S){break}if(a.types[k]!=="comment"&&a.types[k]!=="selector"&&a.token[k]!==Z&&a.begin[k]===S){P[1]=a.token[k].length+P[1];}}while(k>S+1);if(P[1]>ee)ee=P[1];U.push(P);}}else if(a.types[k]==="end"){if(k<a.begin[k])break;k=a.begin[k];}}while(k>S);k=U.length;if(k<2)return;do{k=k-1;if(U[k][1]<ee){d=U[k][1];do{a.token[U[k][0]]=a.token[U[k][0]]+" ";d=d+1;}while(d<ee)}}while(k>0)}if(s.script.vertical===true&&s.style.compressCSS===false){o=l;do{o=o-1;if(c(a.token[o],125)||c(a.token[o],41))n();}while(o>0);o=M.start;}do{if(a.types[o]==="property")E=$+a.token[o].length;if(a.types[o+1]==="end"||a.types[o+1]==="template_end"||a.types[o+1]==="template_else"){$=$-1;}if(a.types[o]==="template"&&a.lines[o]===0){u.push(a.token[o]);if(a.types[o+1]==="template"&&a.lines[o+1]>0)t($);}else if(a.types[o]==="template"&&a.lines[o]>0){if(a.types[o-2]!=="property"&&a.types[o-1]!=="colon"){E=$;u.push(a.token[o]);if(a.types[o+1]!=="separator"&&X(a.token[o+1],59)){t($);}}else if(a.types[o-2]==="property"&&a.types[o-1]==="colon"&&a.types[o+1]==="separator"&&c(a.token[o+1],44)){E=E+a.token[o].length;if(E>s.wrap)t($);u.push(a.token[o]);do{o=o+1;u.push(a.token[o]);if(a.lines[o+1]>0)t($);}while(a.types[o]!=="separator"&&X(a.token[o],59));if(c(a.token[o],59)&&a.types[o]==="separator"){u.push(a.token[o]);if(a.lines[o+1]>0)t($);o=o+1;continue}}else {E=E+a.token[o].length;if(s.wrap>0&&E>s.wrap){t($);u.push(a.token[o]);}else {u.push(a.token[o]);}}}else if(a.types[o]==="template_else"){u.push(a.token[o]);$=$+1;t($);}else if(a.types[o]==="start"||a.types[o]==="template_start"){$=$+1;u.push(a.token[o]);if(a.types[o+1]!=="end"&&a.types[o+1]!=="template_end"&&(s.style.compressCSS===false||s.style.compressCSS===true&&a.types[o+1]==="selector")){t($);}}else if(c(a.token[o],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&a.types[o+1]==="selector")||(a.types[o]==="end"||a.types[o]==="template_end"||a.types[o]==="comment")){u.push(a.token[o]);if(a.types[o+1]==="value"){if(a.lines[o+1]===1){u.push(" ");}else if(a.lines[o+1]>1){t($);}}else if(a.types[o+1]!=="separator"){if(a.types[o+1]!=="comment"||a.types[o+1]==="comment"&&a.lines[o+1]>1){t($);}else {u.push(se);}}}else if(c(a.token[o],58)){u.push(a.token[o]);if(s.style.compressCSS===false){if(a.types[o]!=="selector"&&X(a.token[o+1],44))u.push(se);}}else if(a.types[o]==="selector"){if(s.style.classPadding===true&&a.types[o-1]==="end"&&a.lines[o]<3){u.push(p);}if(a.token[o].indexOf("and(")>0){a.token[o]=a.token[o].replace(/and\(/,"and (");u.push(a.token[o]);}else if(a.token[o].indexOf("when(")>0){N=a.token[o].split("when(");u.push(N[0].replace(/\s+$/,y));t($+1);u.push(`when (${N[1]}`);}else {u.push(a.token[o]);}if(a.types[o+1]==="start"){if(s.style.compressCSS===false){u.push(" ");}}}else if(c(a.token[o],44)){u.push(a.token[o]);if(a.types[o+1]==="selector"||a.types[o+1]==="property"){t($);}else if(s.style.compressCSS===false){u.push(" ");}}else if(a.stack[o]==="map"&&c(a.token[o+1],41)&&o-a.begin[o]>5){u.push(a.token[o]);t($);}else if(a.token[o]==="x;"){t($);}else if((a.types[o]==="variable"||a.types[o]==="function")&&s.style.classPadding===true&&a.types[o-1]==="end"&&a.lines[o]<3){u.push(p);u.push(a.token[o]);}else if(X(a.token[o],59)||c(a.token[o],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&X(a.token[o+1],125))){u.push(a.token[o]);}o=o+1;}while(o<l);M.iterator=l-1;return u.join(y)};M.beautify.script=s=>{const u=Ne({},s.script);if(s.language==="json"){s.script=Ne(s.script,s.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}const a=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const x=Je(null);const e=M.data;const $="script";const E=M.scopes;const o=M.end<1||M.end>e.token.length?e.token.length:M.end+1;const N=(()=>{let n=M.start;let S=isNaN(s.indentLevel)?0:Number(s.indentLevel);let Z=false;let r=false;let U="";let k="";let d=e.types[0];let P=e.token[0];const ee=[-1];const K=[];const h=M.start>0?Array(M.start).fill(0,0,M.start):[];const C=[];const _=[[]];const w=[];const m=[];const g=[];const v=[false];const j=[];const L=[];function T(){ne(false,false);const I=s.commentIndent===true?S:0;if(Z===false&&/\/\u002a\s*global\s/.test(e.token[n])){const b=e.token[n].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let f=b.length;do{f=f-1;b[f]=b[f].replace(/\s+/g,"");if(b[f]!=="")E.push([b[f],-1]);}while(f>0)}if(e.types[n-1]==="comment"||e.types[n+1]==="comment"){h[n-1]=I;}else if(e.lines[n]<2){let b=n+1;if(e.types[b]==="comment"){do{b=b+1;}while(b<o&&e.types[b]==="comment")}if(n<o-1&&e.stack[b]!=="block"&&(e.token[b]==="{"||e.token[b]==="x{")){let f=E.length;e.begin.splice(n,0,e.begin[b]);e.ender.splice(n,0,e.ender[b]);e.lexer.splice(n,0,e.lexer[b]);e.lines.splice(n,0,e.lines[b]);e.stack.splice(n,0,e.stack[b]);e.token.splice(n,0,e.token[b]);e.types.splice(n,0,e.types[b]);if(f>0){do{f=f-1;if(E[f][1]===b){E[f][1]=n;}else if(E[f][1]<n){break}}while(f>0)}b=b+1;e.begin.splice(b,1);e.ender.splice(b,1);e.lexer.splice(b,1);e.lines.splice(b,1);e.stack.splice(b,1);e.token.splice(b,1);e.types.splice(b,1);f=n+1;do{e.begin[f]=n;e.stack[f]=e.stack[b];f=f+1;}while(f<b);f=f+1;do{if(e.begin[f]===e.begin[b]){e.begin[f]=n;if(e.types[f]==="end"){break}}f=f+1;}while(f<o-1);e.begin[b]=n;n=n-1;}else {h[n-1]=-10;if(e.stack[n]==="paren"||e.stack[n]==="method"){h.push(S+2);}else {h.push(S);}if(s.commentIndent===true&&h[n]>-1&&e.lines[n]<3){e.lines[n]=3;}}if(e.types[n+1]!=="comment")Z=true;return}else if(e.token[n-1]===","){h[n-1]=I;}else if(P==="="&&e.types[n-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(k)===true){h[n-1]=-10;}else if(P==="{"&&e.types[n-1]!=="comment"&&e.lines[0]<2){if(e.stack[n]==="function"){h[n-1]=I;}else {h[n-1]=/\n/.test(k)?I:-10;}}else {h[n-1]=I;}if(e.types[n+1]!=="comment")Z=true;if(e.token[e.begin[n]]==="("){h.push(S+1);}else {h.push(S);}if(h[n]>-1&&e.lines[n]<3){if(e.types[n-1]==="comment"&&k.startsWith("//")){e.lines[n]=2;}else {e.lines[n]=3;}}if(s.script.commentNewline===true&&k.startsWith("//")===false&&e.lines[n]>=3){e.lines[n]=2;}}function ne(I,b){let f=n-1;let O=I===true?0:1;const R=_[_.length-1]===void 0?[]:_[_.length-1];const A=b===false&&e.stack[n]==="array"&&I===true&&k!=="[";if(m[m.length-1]===false||e.stack[n]==="array"&&s.script.arrayFormat==="inline"||e.stack[n]==="object"&&s.script.objectIndent==="inline"){return}m[m.length-1]=false;do{if(e.types[f]==="end"){O=O+1;}else if(e.types[f]==="start"){O=O-1;}if(e.stack[f]==="global")break;if(O===0){if(e.stack[n]==="class"||e.stack[n]==="map"||A===false&&(I===false&&e.token[f]!=="("&&e.token[f]!=="x("||I===true&&e.token[f]===",")){if(e.types[f+1]==="template_start"){if(e.lines[f]<1){h[f]=-20;}else {h[f]=S-1;}}else if(R.length>0&&R[R.length-1]>-1){h[f]=S-1;}else {h[f]=S;}}else if(e.stack[n]==="array"&&e.types[n]==="operator"){if(e.token[f]===",")h[f]=S;if(f===e.begin[n])break}if(I===false)break}if(O<0){if(e.types[f+1]==="template_start"||e.types[f+1]==="template_string_start"){if(e.lines[f]<1){h[f]=-20;}else {h[f]=S-1;}}else if(R.length>0&&R[R.length-1]>-1){h[f]=S-1;}else {h[f]=S;}break}f=f-1;}while(f>-1)}function G(){const I=_[_.length-1]===void 0?[]:_[_.length-1];const b=()=>{let f=n;let O=false;const R=e.begin[f];do{f=f-1;if(e.lexer[f]==="markup"){O=true;break}if(e.begin[f]!==R)f=e.begin[f];}while(f>R);if(O===true){f=n;do{f=f-1;if(e.begin[f]!==R){f=e.begin[f];}else if(e.token[f]===","){h[f]=S+1;}}while(f>R);h[R]=S+1;h[n-1]=S;}else {h[n-1]=-20;}};if(k===")"&&e.token[n+1]==="."&&I[I.length-1]>-1&&e.token[I[0]]!==":"){let f=e.begin[n];let O=false;let R=false;do{f=f-1;}while(f>0&&h[f]<-9);O=h[f]===S;f=n+1;do{f=f+1;if(e.token[f]==="{"){R=true;break}if(e.begin[f]===e.begin[n+1]&&(e.types[f]==="separator"||e.types[f]==="end")){break}}while(f<o);if(O===false&&R===true&&_.length>1){_[_.length-2].push(e.begin[n]);S=S+1;}}if(d!=="separator")Q();if(e.token[n+1]===","&&(e.stack[n]==="object"||e.stack[n]==="array")){ne(true,false);}if(e.token[e.begin[n]-1]===","&&(e.token[n+1]==="}"||e.token[n+1]==="]")&&(e.stack[n]==="object"||e.stack[n]==="array")){ne(true,false);}if(e.stack[n]!=="attribute"){if(k!==")"&&k!=="x)"&&(e.lexer[n-1]!=="markup"||e.lexer[n-1]==="markup"&&e.token[n-2]!=="return")){S=S-1;}if(k==="}"&&e.stack[n]==="switch"&&s.script.noCaseIndent===false){S=S-1;}}if(k==="}"||k==="x}"){if(e.types[n-1]!=="comment"&&P!=="{"&&P!=="x{"&&d!=="end"&&d!=="string"&&d!=="number"&&d!=="separator"&&P!=="++"&&P!=="--"&&(n<2||e.token[n-2]!==";"||e.token[n-2]!=="x;"||P==="break"||P==="return")){let f=n-1;let O=false;const R=e.begin[n];const A=K.length;do{if(e.begin[f]===R){if(e.token[f]==="="||e.token[f]===";"||e.token[f]==="x;"){O=true;}if(e.token[f]==="."&&h[f-1]>-1){m[m.length-1]=false;h[R]=S+1;h[n-1]=S;break}if(f>0&&e.token[f]==="return"&&(e.token[f-1]===")"||e.token[f-1]==="x)"||e.token[f-1]==="{"||e.token[f-1]==="x{"||e.token[f-1]==="}"||e.token[f-1]==="x}"||e.token[f-1]===";"||e.token[f-1]==="x;")){S=S-1;h[n-1]=S;break}if(e.token[f]===":"&&C.length===0||e.token[f]===","&&O===false){break}if(f===0||e.token[f-1]==="{"||e.token[f-1]==="x{"||e.token[f]==="for"||e.token[f]==="if"||e.token[f]==="do"||e.token[f]==="function"||e.token[f]==="while"||e.token[f]==="var"||e.token[f]==="let"||e.token[f]==="const"||e.token[f]==="with"){if(K[A-1]===false&&A>1&&(n===o-1||e.token[n+1]!==")"&&e.token[n+1]!=="x)")&&e.stack[n]!=="object"){S=S-1;}break}}else {f=e.begin[f];}f=f-1;}while(f>R)}ee.pop();}if(s.script.bracePadding===false&&k!=="}"&&d!=="markup"){h[n-1]=-20;}if(s.script.bracePadding===true&&d!=="start"&&P!==";"&&(h[e.begin[n]]<-9||m[m.length-1]===true)){h[e.begin[n]]=-10;h[n-1]=-10;h.push(-20);}else if(e.stack[n]==="attribute"){h[n-1]=-20;h.push(S);}else if(e.stack[n]==="array"&&(I.length>0||w[w.length-1]===true)){ae();m[m.length-1]=false;h[e.begin[n]]=S+1;h[n-1]=S;h.push(-20);}else if((e.stack[n]==="object"||e.begin[n]===0&&k==="}")&&I.length>0){ae();m[m.length-1]=false;h[e.begin[n]]=S+1;h[n-1]=S;h.push(-20);}else if(k===")"||k==="x)"){const f=k===")"&&P!=="("&&L.length>0?L.pop()+1:0;const O=e.token[e.begin[n]-1]==="if"?(()=>{let R=n;do{R=R-1;if(e.token[R]===")"&&h[R-1]>-1)return f}while(R>e.begin[n]);return f+5})():f;if(f>0&&(s.language!=="jsx"||s.language==="jsx"&&e.token[e.begin[n]-1]!=="render")){const R=s.wrap;const A=e.begin[n];const Y=L.length;let q=n-2;if(O>R){h[e.begin[n]]=S+1;h[n-1]=S;do{if(e.begin[q]===A){if(e.token[q]==="&&"||e.token[q]==="||"){h[q]=S+1;}else if(h[q]>-1&&e.types[q]!=="comment"&&e.token[q+1]!=="."){h[q]=h[q]+1;}}else if(h[q]>-1&&e.token[q+1]!=="."){h[q]=h[q]+1;}q=q-1;}while(q>A)}else if(Y>0){L[Y-1]=L[Y-1]+f;}}else if(k===")"&&n>e.begin[n]+2&&e.lexer[e.begin[n]+1]===$&&e.token[e.begin[n]+1]!=="function"){const R=e.begin[n]<0?0:e.begin[n];const A=s.wrap;const Y=I.length;let q=0;let D=0;let W=0;let B=0;let H=0;let J=false;let le=false;let oe=S+1;let te=false;let F=false;let ue=false;if(h[R]<-9){D=R;do{D=D+1;}while(D<n&&h[D]<-9);B=D;do{q=q+e.token[D].length;if(h[D]===-10)q=q+1;if(e.token[D]==="("&&W>0&&W<A-1&&B===n){W=-1;}if(e.token[D]===")"){H=H-1;}else if(e.token[D]==="("){H=H+1;}if(D===R&&H>0)W=q;D=D-1;}while(D>R&&h[D]<-9);if(e.token[D+1]===".")oe=h[D]+1;if(q>A-1&&A>0&&P!=="("&&W!==-1&&m[m.length-2]===false){if(e.token[R-1]==="if"&&K[K.length-1]===true||e.token[R-1]!=="if"){h[R]=oe;if(e.token[R-1]==="for"){D=R;do{D=D+1;if(e.token[D]===";"&&e.begin[D]===R){h[D]=oe;}}while(D<n)}}}}D=n;q=0;do{D=D-1;if(e.stack[D]==="function"){D=e.begin[D];}else if(e.begin[D]===R){if(e.token[D]==="?"){ue=true;}else if(e.token[D]===","&&J===false){J=true;if(q>=A&&A>0)te=true;}else if(e.types[D]==="markup"&&F===false){F=true;}if(h[D]>-9&&e.token[D]!==","&&e.types[D]!=="markup"){q=0;}else {if(h[D]===-10)q=q+1;q=q+e.token[D].length;if(q>=A&&A>0&&(J===true||F===true)){te=true;}}}else {if(h[D]>-9){q=0;}else {q=q+e.token[D].length;if(q>=A&&A>0&&(J===true||F===true)){te=true;}}}}while(D>R&&te===false);if(J===false&&e.token[e.begin[n]+1].charAt(0)==="`"){h[e.begin[n]]=-20;h[n-1]=-20;}else if((J===true||F===true)&&q>=A&&A>0||h[R]>-9){if(ue===true){oe=h[R];if(e.token[R-1]==="["){D=n;do{D=D+1;if(e.types[D]==="end"||e.token[D]===","||e.token[D]===";"){break}}while(D<o);if(e.token[D]==="]"){oe=oe-1;le=true;}}}else if(Y>0&&I[Y-1]>D){oe=oe-Y;}m[m.length-1]=false;D=n;do{D=D-1;if(e.begin[D]===R){if(e.token[D].indexOf("=")>-1&&e.types[D]==="operator"&&e.token[D].indexOf("!")<0&&e.token[D].indexOf("==")<0&&e.token[D]!=="<="&&e.token[D].indexOf(">")<0){q=D;do{q=q-1;if(e.begin[q]===R&&(e.token[q]===";"||e.token[q]===","||q===R)){break}}while(q>R)}else if(e.token[D]===","){h[D]=oe;}else if(h[D]>-9&&le===false&&(e.token[R-1]!=="for"||e.token[D+1]==="?"||e.token[D+1]===":")&&(e.token[e.begin[n]]!=="("||e.token[D]!=="+")){h[D]=h[D]+1;}}else if(h[D]>-9&&le===false){h[D]=h[D]+1;}}while(D>R);h[R]=oe;h[n-1]=oe-1;}else {h[n-1]=-20;}if(e.token[e.begin[n]-1]==="+"&&h[e.begin[n]]>-9){h[e.begin[n]-1]=-10;}}else if(s.language==="jsx"){b();}else {h[n-1]=-20;}h.push(-20);}else if(m[m.length-1]===true){if(k==="]"&&e.begin[n]-1>0&&e.token[e.begin[e.begin[n]-1]]==="["){m[m.length-2]=false;}if(e.begin[n]<h.length)h[e.begin[n]]=-20;if(s.language==="jsx"){b();}else if(k==="]"&&h[e.begin[n]]>-1){h[n-1]=h[e.begin[n]]-1;}else {h[n-1]=-20;}h.push(-20);}else if(e.types[n-1]==="comment"&&e.token[n-1].substring(0,2)==="//"){if(e.token[n-2]==="x}")h[n-3]=S+1;h[n-1]=S;h.push(-20);}else if(e.types[n-1]!=="comment"&&(P==="{"&&k==="}"||P==="["&&k==="]")){h[n-1]=-20;h.push(-20);}else if(k==="]"){if(K[K.length-1]===true&&m[m.length-1]===false&&s.script.arrayFormat!=="inline"||P==="]"&&h[n-2]===S+1){h[n-1]=S;h[e.begin[n]]=S+1;}else if(h[n-1]===-10){h[n-1]=-20;}if(e.token[e.begin[n]+1]==="function"){h[n-1]=S;}else if(K[K.length-1]===false){if(P==="}"||P==="x}")h[n-1]=S;let f=n-1;let O=1;do{if(e.token[f]==="]")O=O+1;if(e.token[f]==="["){O=O-1;if(O===0){if(f>0&&(e.token[f+1]==="{"||e.token[f+1]==="x{"||e.token[f+1]==="[")){h[f]=S+1;break}if(e.token[f+1]!=="["||r===false){h[f]=-20;break}break}}if(O===1&&e.token[f]==="+"&&h[f]>1){h[f]=h[f]-1;}f=f-1;}while(f>-1)}else if(s.language==="jsx"){b();}if(s.script.arrayFormat==="inline"){let f=n;const O=e.begin[n];do{f=f-1;if(e.types[f]==="end")break}while(f>O);if(f>O){h[e.begin[n]]=S+1;h[n-1]=S;}else {h[e.begin[n]]=-20;h[n-1]=-20;}}else if(h[e.begin[n]]>-1){h[n-1]=h[e.begin[n]]-1;}h.push(-20);}else if(k==="}"||k==="x}"||K[K.length-1]===true){if(k==="}"&&P==="x}"&&e.token[n+1]==="else"){h[n-2]=S+2;h.push(-20);}else {h.push(S);}h[n-1]=S;}else {h.push(-20);}if(e.types[n-1]==="comment")h[n-1]=S;ae();r=K[K.length-1];K.pop();_.pop();w.pop();g.pop();j.pop();m.pop();v.pop();}function ae(){let I=0;const b=_[_.length-1];if(b===void 0)return;I=b.length-1;if(I<1&&b[I]<0&&(k===";"||k==="x;"||k===")"||k==="x)"||k==="}"||k==="x}")){b.pop();return}if(I<0||b[I]<0)return;if(k===":"){if(e.token[b[I]]!=="?"){do{b.pop();I=I-1;S=S-1;}while(I>-1&&b[I]>-1&&e.token[b[I]]!=="?")}b[I]=n;h[n-1]=S;}else {do{b.pop();I=I-1;S=S-1;}while(I>-1&&b[I]>-1)}if((e.stack[n]==="array"||k===",")&&b.length<1)b.push(-1);}function we(){const I=n;do{if(e.lexer[n+1]===$&&e.begin[n+1]<I)break;if(e.token[I-1]==="return"&&e.types[n]==="end"&&e.begin[n]===I)break;h.push(0);n=n+1;}while(n<o);x[I]=n;h.push(S-1);}function Q(){let I=n-1;const b=e.begin[n];if(S<1)return;do{if(b!==e.begin[I]){I=e.begin[I];}else {if(e.types[I]==="separator"||e.types[I]==="operator"){if(e.token[I]==="."&&h[I-1]>0){if(e.token[b-1]==="if"){S=S-2;}else {S=S-1;}}break}}I=I-1;}while(I>0&&I>b)}function he(){if(e.token[n+1]!==","&&k.indexOf("/>")!==k.length-2||e.token[n+1]===","&&e.token[e.begin[n]-3]!=="React"){ne(false,false);}if(P==="return"||P==="?"||P===":"){h[n-1]=-10;h.push(-20);}else if(d==="start"||e.token[n-2]==="return"&&e.stack[n-1]==="method"){h.push(S);}else {h.push(-20);}}function Ce(){const I=_[_.length-1]===void 0?[]:_[_.length-1];function b(){const f=e.token[n+1];let O=0;let R=0;let A=n;let Y=k==="+"?S+2:S;let q=0;if(s.wrap<1){h.push(-10);return}do{A=A-1;if(e.token[e.begin[n]]==="("){if(A===e.begin[n]){q=O;}if(e.token[A]===","&&e.begin[A]===e.begin[n]&&K[K.length-1]===true){break}}if(O>s.wrap-1)break;if(h[A]>-9)break;if(e.types[A]==="operator"&&e.token[A]!=="="&&e.token[A]!=="+"&&e.begin[A]===e.begin[n]){break}O=O+e.token[A].length;if(A===e.begin[n]&&e.token[A]==="["&&O<s.wrap-1){break}if(e.token[A]==="."&&h[A]>-9)break;if(h[A]===-10)O=O+1;}while(A>0);if(q>0)q=q+f.length;O=O+f.length;R=A;if(O>s.wrap-1&&h[A]<-9){do{R=R-1;}while(R>0&&h[R]<-9)}if(e.token[R+1]==="."&&e.begin[n]<=e.begin[R]){Y=Y+1;}else if(e.types[R]==="operator"){Y=h[R];}R=f.length;if(O+R<s.wrap){h.push(-10);return}if(e.token[e.begin[n]]==="("&&(e.token[I[0]]===":"||e.token[I[0]]==="?")){Y=S+3;}else if(e.stack[n]==="method"){h[e.begin[n]]=S;if(K[K.length-1]===true){Y=S+3;}else {Y=S+1;}}else if(e.stack[n]==="object"||e.stack[n]==="array"){ne(true,false);}if(e.token[A]==="var"||e.token[A]==="let"||e.token[A]==="const"){O=O-s.indentSize*s.indentChar.length*2;}if(q>0){A=s.wrap-q;}else {A=s.wrap-O;}if(A>0&&A<5){h.push(Y);if(e.token[n].charAt(0)==='"'||e.token[n].charAt(0)==="'"){n=n+1;h.push(-10);}return}if(e.token[e.begin[n]]!=="("||q>s.wrap-1||q===0){if(q>0)O=q;if(O-f.length<s.wrap-1&&(f.charAt(0)==='"'||f.charAt(0)==="'")){n=n+1;O=O+3;if(O-f.length>s.wrap-4){h.push(Y);return}h.push(-10);return}h.push(Y);return}h.push(-10);}Q();if(I.length>0&&I[I.length-1]>-1&&e.stack[n]==="array"){w[w.length-1]=true;}if(k!==":"){if(e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("&&m.length>0){ne(true,false);}if(k!=="?"&&e.token[I[I.length-1]]==="."){let f=0;let O=n;const R=e.begin[O];do{if(e.begin[O]===R){if(e.token[O+1]==="{"||e.token[O+1]==="["||e.token[O]==="function"){break}if(e.token[O]===","||e.token[O]===";"||e.types[O]==="end"||e.token[O]===":"){I.pop();S=S-1;break}if(e.token[O]==="?"||e.token[O]===":"){if(e.token[I[I.length-1]]==="."&&f<2)I[I.length-1]=R+1;break}if(e.token[O]===".")f=f+1;}O=O+1;}while(O<o)}}if(k==="!"||k==="..."){if(P==="}"||P==="x}")h[n-1]=S;h.push(-20);return}if(P===";"||P==="x;"){if(e.token[e.begin[n]-1]!=="for")h[n-1]=S;h.push(-20);return}if(k==="*"){if(P==="function"||P==="yield"){h[n-1]=-20;}else {h[n-1]=-10;}h.push(-10);return}if(k==="?"){if(e.lines[n]===0&&e.types[n-2]==="word"&&e.token[n-2]!=="return"&&e.token[n-2]!=="in"&&e.token[n-2]!=="instanceof"&&e.token[n-2]!=="typeof"&&(d==="reference"||d==="word")){if(e.types[n+1]==="word"||e.types[n+1]==="reference"||(e.token[n+1]==="("||e.token[n+1]==="x(")&&e.token[n-2]==="new"){h[n-1]=-20;if(e.types[n+1]==="word"||e.types[n+1]==="reference"){h.push(-10);return}h.push(-20);return}}if(e.token[n+1]===":"){h[n-1]=-20;h.push(-20);return}C.push(n);if(s.script.ternaryLine===true){h[n-1]=-10;}else {let f=n-1;do{f=f-1;}while(f>-1&&h[f]<-9);I.push(n);S=S+1;if(h[f]===S&&e.token[f+1]!==":"){S=S+1;I.push(n);}h[n-1]=S;if(e.token[e.begin[n]]==="("&&(I.length<2||I[0]===I[1])){m[m.length-1]=false;if(n-2===e.begin[n]){h[e.begin[n]]=S-1;}else {h[e.begin[n]]=S;}f=n-2;do{if(e.types[f]==="end"&&h[f-1]>-1)break;if(h[f]>-1)h[f]=h[f]+1;f=f-1;}while(f>e.begin[n])}}h.push(-10);return}if(k===":"){if(e.stack[n]==="map"||e.types[n+1]==="type"||e.types[n+1]==="type_start"){h[n-1]=-20;h.push(-10);return}if(C.length>0&&e.begin[C[C.length-1]]===e.begin[n]){let f=n;const O=e.begin[n];do{f=f-1;if(e.begin[f]===O){if(e.token[f]===","||e.token[f]===";"){h[n-1]=-20;break}if(e.token[f]==="?"){C.pop();ae();if(s.script.ternaryLine===true)h[n-1]=-10;h.push(-10);return}}else if(e.types[f]==="end"){f=e.begin[f];}}while(f>O)}if(e.token[n-2]==="where"&&e.stack[n-2]===e.stack[n]){h[n-1]=-10;h.push(-10);return}if(d==="reference"&&e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("){h[n-1]=-20;h.push(-10);return}if((P===")"||P==="x)")&&e.token[e.begin[n-1]-2]==="function"){h[n-1]=-20;h.push(-10);return}if(e.stack[n]==="attribute"){h[n-1]=-20;h.push(-10);return}if(e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("&&(d==="reference"||P===")"||P==="]"||P==="?")&&(e.stack[n]==="map"||e.stack[n]==="class"||e.types[n+1]==="reference")&&(C.length===0||C[C.length-1]<e.begin[n])&&("mapclassexpressionmethodglobalparen".indexOf(e.stack[n])>-1||e.types[n-2]==="word"&&e.stack[n]!=="switch")){h[n-1]=-20;h.push(-10);return}if(e.stack[n]==="switch"&&(C.length<1||C[C.length-1]<e.begin[n])){h[n-1]=-20;if(s.script.caseSpace===true){h.push(-10);}else {h.push(S);}return}if(e.stack[n]==="object"){h[n-1]=-20;}else if(C.length>0){h[n-1]=S;}else {h[n-1]=-10;}h.push(-10);return}if(k==="++"||k==="--"){if(d==="number"||d==="reference"){h[n-1]=-20;h.push(-10);}else if(n<o-1&&(e.types[n+1]==="number"||e.types[n+1]==="reference")){h.push(-20);}else {h.push(-10);}return}if(k==="+"){if(d==="start"){h[n-1]=-20;}else {h[n-1]=-10;}if(s.wrap<1||e.token[e.begin[n]]==="x("){h.push(-10);return}const f=e.token[n+1];if(f===void 0){h.push(-10);return}if(e.types[n-1]==="operator"||e.types[n-1]==="start"){if(e.types[n+1]==="reference"||f==="("||f==="["){h.push(-20);return}if(Number(f.slice(1,-1))>-1&&(/\d/.test(f.charAt(1))===true||f.charAt(1)==="."||f.charAt(1)==="-"||f.charAt(1)==="+")){h.push(-20);return}}return b()}if(e.types[n-1]!=="comment"){if(P==="("){h[n-1]=-20;}else if(k==="*"&&e.stack[n]==="object"&&e.types[n+1]==="reference"&&(P==="{"||P===",")){h[n-1]=S;}else if(k!=="?"||C.length===0){h[n-1]=-10;}}if(k.indexOf("=")>-1&&k!=="=="&&k!=="==="&&k!=="!="&&k!=="!=="&&k!==">="&&k!=="<="&&k!=="=>"&&e.stack[n]!=="method"&&e.stack[n]!=="object"){let f=n+1;let O=0;let R=false;let A="";if((e.token[e.begin[n]]==="("||e.token[e.begin[n]]==="x(")&&e.token[n+1]!=="function"){return}do{if(e.types[f]==="start"){if(R===true&&e.token[f]!=="["){if(v[v.length-1]===true){v[v.length-1]=false;}break}O=O+1;}if(e.types[f]==="end")O=O-1;if(O<0){if(v[v.length-1]===true){v[v.length-1]=false;}break}if(O===0){A=e.token[f];if(R===true){if(e.types[f]==="operator"||e.token[f]===";"||e.token[f]==="x;"||e.token[f]==="?"||e.token[f]==="var"||e.token[f]==="let"||e.token[f]==="const"){if(A!==void 0&&(A==="?"||A.indexOf("=")>-1&&A!=="=="&&A!=="==="&&A!=="!="&&A!=="!=="&&A!==">="&&A!=="<=")){if(v[v.length-1]===false){v[v.length-1]=true;}}if((A===";"||A==="x;"||A==="var"||A==="let"||A==="const")&&v[v.length-1]===true){v[v.length-1]=false;}break}if(v[v.length-1]===true&&(A==="return"||A==="break"||A==="continue"||A==="throw")){v[v.length-1]=false;}}if(A===";"||A==="x;"||A===",")R=true;}f=f+1;}while(f<o);h.push(-10);return}if(k==="-"&&P==="return"||P==="="){h.push(-20);return}if(d==="operator"&&e.types[n+1]==="reference"&&P!=="--"&&P!=="++"&&k!=="&&"&&k!=="||"){h.push(-20);return}return b()}function ie(){const I=()=>{let b=e.begin[n];if(b<0){E.push([e.token[n],-1]);}else {if(e.stack[b+1]!=="function"){do{b=e.begin[b];}while(b>-1&&e.stack[b+1]!=="function")}E.push([e.token[n],b]);}};if(e.types[n-1]==="comment"){h[n-1]=S;}else if(d==="end"&&P!==")"&&e.token[e.begin[n-1]-1]!==")"){h[n-1]=-10;}else if(d!=="separator"&&d!=="start"&&d!=="end"&&d.indexOf("template_string")<0){if(d==="word"||d==="operator"||d==="property"||d==="type"||d==="reference"){h[n-1]=-10;}else {h[n-1]=-20;}}if(P==="var"&&e.lexer[n-1]===$){I();}else if(P==="function"){E.push([e.token[n],n]);}else if(P==="let"||P==="const"){E.push([e.token[n],n]);}else if(e.stack[n]==="arguments"){E.push([e.token[n],n]);}else if(P===","){let b=n;do{b=b-1;}while(b>e.begin[n]&&e.token[b]!=="var"&&e.token[b]!=="let"&&e.token[b]!=="const");if(e.token[b]==="var"){I();}else if(e.token[b]==="let"||e.token[b]==="const"){E.push([e.token[n],n]);}}h.push(-10);}function V(){const I=_[_.length-1]===void 0?[]:_[_.length-1];const b=()=>{if(s.script.methodChain>0){let f=n;let O=e.begin[n];const R=[n];const A=e.token[O-1]==="if";do{f=f-1;if(e.types[f]==="end")f=e.begin[f];if(e.begin[f]===O){if(e.types[f]==="string"&&e.token[f].indexOf("${")===e.token[f].length-2){break}if(e.token[f]==="."){if(h[f-1]>0){h[n-1]=A===true?S+1:S;return}R.push(f);}else if(e.token[f]===";"||e.token[f]===","||e.types[f]==="operator"||(e.types[f]==="word"||e.types[f]==="reference")&&(e.types[f-1]==="word"||e.types[f-1]==="reference")){break}}}while(f>O);if(R.length<s.script.methodChain){h[n-1]=-20;return}f=0;O=R.length;do{h[R[f]-1]=A===true?S+1:S;f=f+1;}while(f<O);f=R[R.length-1]-1;do{if(h[f]>-1)h[f]=h[f]+1;f=f+1;}while(f<n);S=A===true?S+2:S+1;}h[n-1]=S;};if(k==="::"){h[n-1]=-20;h.push(-20);return}if(k==="."){if(e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("&&I.length>0){if(e.stack[n]==="object"||e.stack[n]==="array"){ne(true,false);}else {ne(false,false);}}if(s.script.methodChain===0){h[n-1]=-20;}else if(s.script.methodChain<0){if(e.lines[n]>0){b();}else {h[n-1]=-20;}}else {b();}h.push(-20);return}if(k===","){Q();if(K[K.length-1]===false&&(e.stack[n]==="object"||e.stack[n]==="array"||e.stack[n]==="paren"||e.stack[n]==="expression"||e.stack[n]==="method")){K[K.length-1]=true;if(e.token[e.begin[n]]==="("){let f=n;do{f=f-1;if(e.begin[f]===e.begin[n]&&e.token[f]==="+"&&h[f]>-9){h[f]=h[f]+2;}}while(f>e.begin[n])}}if(e.stack[n]==="array"&&s.script.arrayFormat==="indent"){h[n-1]=-20;h.push(S);return}if(e.stack[n]==="array"&&s.script.arrayFormat==="inline"){h[n-1]=-20;h.push(-10);return}if(e.stack[n]==="object"&&s.script.objectIndent==="indent"){h[n-1]=-20;h.push(S);return}if(e.stack[n]==="object"&&s.script.objectIndent==="inline"){h[n-1]=-20;h.push(-10);return}if(I.length>0){if(I[I.length-1]>-1)ae();h[n-1]=-20;h.push(S);return}if(e.token[n-2]===":"&&e.token[n-4]==="where"){h[n-1]=-20;h.push(-10);return}h[n-1]=-20;if(e.types[n+1]!=="end"){g[g.length-1]=g[g.length-1]+1;}if((e.token[e.begin[n]]==="("||e.token[e.begin[n]]==="x(")&&s.language!=="jsx"&&e.stack[n]!=="global"&&(e.types[n-1]!=="string"&&e.types[n-1]!=="number"||e.token[n-2]!=="+"||e.types[n-1]==="string"&&e.types[n-1]!=="number"&&e.token[n-2]==="+"&&e.types[n-3]!=="string"&&e.types[n-3]!=="number")){h.push(-10);return}if(d==="reference"&&e.types[n-2]==="word"&&"var-let-const-from".indexOf(e.token[n-2])<0&&(e.types[n-3]==="end"||e.token[n-3]===";")){j[j.length-1]=true;h.push(-10);return}if(j[j.length-1]===true||e.stack[n]==="notation"){h.push(-10);return}if(g[g.length-1]>3&&(e.stack[n]==="array"||e.stack[n]==="object")){if(m[m.length-1]===true)ne(true,true);h[n-1]=-20;if(w[w.length-1]===true){h.push(S);return}const f=e.begin[n];let O=n;do{if(e.types[O]==="end"){O=e.begin[O];}else {if(e.token[O]===","&&e.types[O+1]!=="comment"){h[O]=S;}}O=O-1;}while(O>f);h[f]=S;w[w.length-1]=true;return}if(e.stack[n]==="object"){if(m[m.length-1]===true&&e.types[e.begin[n]-1]!=="word"&&e.types[e.begin[n]-1]!=="reference"&&e.token[e.begin[n]-1]!=="("&&e.token[e.begin[n]-1]!=="x("){const f=e.begin[n];let O=n-1;do{if(e.begin[O]===f){if(e.token[O]===",")break;if(e.token[O]===":"){ne(true,false);break}}O=O-1;}while(O>f)}}if(m[m.length-1]===false||e.token[n-2]==="+"&&(d==="string"||d==="number")&&h[n-2]>0&&(P.charAt(0)==='"'||P.charAt(0)==="'")){if(e.stack[n]==="method"){if(e.token[n-2]==="+"&&(P.charAt(0)==='"'||P.charAt(0)==="'")&&(e.token[n-3].charAt(0)==='"'||e.token[n-3].charAt(0)==="'")){h.push(S+2);return}if(e.token[n-2]!=="+"){h.push(-10);return}}h.push(S);return}if(m[m.length-1]===true&&e.stack[n]!=="object"){h.push(-10);return}if(g[g.length-1]<4&&(e.stack[n]==="array"||e.stack[n]==="object")){h.push(-10);return}h.push(S);return}if(k===";"||k==="x;"){Q();if(e.token[n+1]!==void 0&&e.types[n+1].indexOf("attribute")>0&&e.types[n+1].indexOf("end")>0){h[n-1]=-20;h.push(S-1);return}if(ee[ee.length-1]>-1&&e.stack[ee[ee.length-1]]!=="expression"){let f=n;do{f=f-1;if(e.token[f]===";")break;if(e.token[f]===","){S=S-1;break}if(e.types[f]==="end")f=e.begin[f];}while(f>0&&f>e.begin[n])}ee[ee.length-1]=-1;ae();if(e.token[e.begin[n]-1]!=="for")ne(false,false);j[j.length-1]=false;h[n-1]=-20;if(e.begin[n]>0&&e.token[e.begin[n]-1]==="for"&&e.stack[n]!=="for"){h.push(-10);return}h.push(S);return}h.push(-20);}function z(){const I=e.stack[n+1];const b=n===0?e.stack[n]:e.stack[n-1];if(P===")"||(b==="object"||b==="array")&&P!=="]"){if(I!=="method"||I==="method"&&e.token[n+1]!==")"&&e.token[n+2]!==")"){if(P===")"&&(I!=="function"||e.token[e.begin[e.begin[n-1]-1]]==="("||e.token[e.begin[e.begin[n-1]-1]]==="x(")){ne(false,false);}else if(e.types[n+1]!=="end"&&e.types[n+2]!=="end"){ne(true,false);}}}K.push(false);_.push([]);v.push(false);w.push(false);j.push(false);g.push(0);if(s.script.neverFlatten===true||I==="array"&&s.script.arrayFormat==="indent"||I==="attribute"||d==="generic"||I==="class"&&P!=="("&&P!=="x("||k==="["&&e.token[n+1]==="function"){m.push(false);}else {if(I==="expression"||I==="method"){m.push(true);}else if((I==="object"||I==="class")&&(P==="("||P==="x("||d==="word"||d==="reference")){m.push(true);}else if(I==="array"||k==="("||k==="x("){m.push(true);}else if(k==="{"&&I==="object"&&d!=="operator"&&d!=="start"&&d!=="string"&&d!=="number"&&b!=="object"&&b!=="array"&&n>0){m.push(true);}else {m.push(false);}}if(k!=="("&&k!=="x("&&e.stack[n+1]!=="attribute"){S=S+1;}if(k==="{"||k==="x{"){ee.push(-1);if(e.types[n-1]!=="comment"){if(d==="markup"){h[n-1]=S;}else if(s.script.braceAllman===true&&d!=="operator"&&P!=="return"){h[n-1]=S-1;}else if(e.stack[n+1]!=="block"&&(I==="function"||P===")"||P==="x)"||P===","||P==="}"||d==="markup")){h[n-1]=-10;}else if(P==="{"||P==="x{"||P==="["||P==="}"||P==="x}"){h[n-1]=S-1;}}if(I==="object"){if(s.script.objectIndent==="indent"){m[m.length-1]=false;h.push(S);return}if(s.script.objectIndent==="inline"){m[m.length-1]=true;h.push(-20);return}}if(I==="switch"){if(s.script.noCaseIndent===true){h.push(S-1);return}S=S+1;h.push(S);return}if(m[m.length-1]===true){if(d!=="word"&&d!=="reference"){h.push(-20);return}}h.push(S);return}if(k==="("||k==="x("){if(s.wrap>0&&k==="("&&e.token[n+1]!==")"){L.push(1);}if(P==="-"&&(e.token[n-2]==="("||e.token[n-2]==="x(")){h[n-2]=-20;}if(d==="end"&&b!=="if"&&b!=="for"&&b!=="catch"&&b!=="else"&&b!=="do"&&b!=="try"&&b!=="finally"&&b!=="catch"){if(e.types[n-1]==="comment"){h[n-1]=S;}else {h[n-1]=-20;}}if(P==="async"){h[n-1]=-10;}else if(I==="method"||e.token[n-2]==="function"&&d==="reference"){if(P==="import"||P==="in"||s.script.functionNameSpace===true){h[n-1]=-10;}else if(P==="}"&&e.stack[n-1]==="function"||d==="word"||d==="reference"||d==="property"){h[n-1]=-20;}else if(b!=="method"&&I!=="method"){h[n-1]=S;}}if(P==="+"&&(e.token[n-2].charAt(0)==='"'||e.token[n-2].charAt(0)==="'")){h.push(S);return}if(P==="}"||P==="x}"){h.push(-20);return}if(P==="-"&&(n<2||e.token[n-2]!==")"&&e.token[n-2]!=="x)"&&e.token[n-2]!=="]"&&e.types[n-2]!=="reference"&&e.types[n-2]!=="string"&&e.types[n-2]!=="number")||s.script.functionSpace===false&&P==="function"){h[n-1]=-20;}h.push(-20);return}if(k==="["){if(P==="[")K[K.length-2]=true;if(P==="return"||P==="var"||P==="let"||P==="const"){h[n-1]=-10;}else if(e.types[n-1]!=="comment"&&e.stack[n-1]!=="attribute"&&(d==="end"||d==="word"||d==="reference")){h[n-1]=-20;}else if(P==="["||P==="{"||P==="x{"){h[n-1]=S-1;}if(e.stack[n]==="attribute"){h.push(-20);return}if(s.script.arrayFormat==="indent"){m[m.length-1]=false;h.push(S);return}if(s.script.arrayFormat==="inline"){m[m.length-1]=true;h.push(-20);return}if(I==="method"||m[m.length-1]===true){h.push(-20);return}let f=n+1;do{if(e.token[f]==="]"){h.push(-20);return}if(e.token[f]===","){h.push(S);return}f=f+1;}while(f<o);h.push(-20);}}function ke(){if(k.length===1){h.push(-20);if(e.lines[n]===0)h[n-1]=-20;}else if(k.indexOf("#!/")===0){h.push(S);}else {h.push(-10);}if((P===","||d==="start")&&(e.stack[n]==="object"||e.stack[n]==="array")&&m[m.length-1]===false&&n>0){h[n-1]=S;}}function je(){if(s.language!=="json"&&e.types[n-1]!=="string"){if(U==="template_else"){h[n-1]=S-1;h.push(S);}else if(U==="template_start"){S=S+1;if(e.lines[n-1]<1)h[n-1]=-20;if(e.lines[n]>0||P.length===1&&d==="string"){h.push(S);}else {h.push(-20);}}else if(U==="template_end"){S=S-1;if(d==="template_start"||e.lines[n-1]<1){h[n-1]=-20;}else {h[n-1]=S;}if(e.lines[n]>0){h.push(S);}else {h.push(-20);}}else if(U==="template"){if(e.lines[n]>0){h.push(S);}else {h.push(-20);}}}}function We(){if(U==="template_string_start"){S=S+1;h.push(S);}else if(U==="template_string_else"){Q();h[n-1]=S-1;h.push(S);}else {Q();S=S-1;h[n-1]=S;h.push(-10);}if(n>2&&(e.types[n-2]==="template_string_else"||e.types[n-2]==="template_string_start")){if(s.script.bracePadding===true){h[n-2]=-10;h[n-1]=-10;}else {h[n-2]=-20;h[n-1]=-20;}}}function qe(){if(e.token[n-1]===","||e.token[n-1]===":"&&e.stack[n-1]!=="data_type"){h[n-1]=-10;}else {h[n-1]=-20;}if(e.types[n]==="type"||e.types[n]==="type_end"){h.push(-10);}if(e.types[n]==="type_start"){h.push(-20);}}function Qe(){if((P===")"||P==="x)")&&e.stack[n]==="class"&&(e.token[e.begin[n-1]-1]==="static"||e.token[e.begin[n-1]-1]==="final"||e.token[e.begin[n-1]-1]==="void")){h[n-1]=-10;h[e.begin[n-1]-1]=-10;}if(P==="]")h[n-1]=-10;if(k==="else"&&P==="}"){if(e.token[n-2]==="x}")h[n-3]=h[n-3]-1;if(s.script.braceAllman===true||s.script.elseNewline===true){h[n-1]=S;}}if(k==="new"&&a.has(e.token[n+1]));if(k==="from"&&d==="end"&&n>0&&(e.token[e.begin[n-1]-1]==="import"||e.token[e.begin[n-1]-1]===",")){h[n-1]=-10;}if(k==="function"){if(s.script.functionSpace===false&&n<o-1&&(e.token[n+1]==="("||e.token[n+1]==="x(")){h.push(-20);return}h.push(-10);return}if(P==="-"&&n>1){if(e.types[n-2]==="operator"||e.token[n-2]===","){h[n-1]=-20;}else if(e.types[n-2]==="start"){h[n-2]=-20;h[n-1]=-20;}}else if(k==="while"&&(P==="}"||P==="x}")){let I=n-1;let b=0;do{if(e.token[I]==="}"||e.token[I]==="x}")b=b+1;if(e.token[I]==="{"||e.token[I]==="x{")b=b-1;if(b===0){if(e.token[I-1]==="do"){h[n-1]=-10;break}h[n-1]=S;break}I=I-1;}while(I>-1)}else if(k==="in"||(k==="else"&&s.script.elseNewline===false&&s.script.braceAllman===false||k==="catch")&&(P==="}"||P==="x}")){h[n-1]=-10;}else if(k==="var"||k==="let"||k==="const"){ee[ee.length-1]=n;if(d==="end")h[n-1]=S;if(e.token[e.begin[n]-1]!=="for"){let I=n+1;let b=0;do{if(e.types[I]==="end")b=b-1;if(e.types[I]==="start")b=b+1;if(b<0||b===0&&(e.token[I]===";"||e.token[I]===",")){break}I=I+1;}while(I<o);if(e.token[I]===",")S=S+1;}h.push(-10);return}if((k==="default"||k==="case")&&d!=="word"&&e.stack[n]==="switch"){h[n-1]=S-1;h.push(-10);return}if(k==="catch"&&P==="."){h[n-1]=-20;h.push(-20);return}if(k==="catch"||k==="finally"){h[n-1]=-10;h.push(-10);return}if(s.script.bracePadding===false&&n<o-1&&e.token[n+1].charAt(0)==="}"){h.push(-20);return}if(e.stack[n]==="object"&&(P==="{"||P===",")&&(e.token[n+1]==="("||e.token[n+1]==="x(")){h.push(-20);return}if(e.types[n-1]==="comment"&&e.token[e.begin[n]]==="("){h[n-1]=S+1;}h.push(-10);}do{if(e.lexer[n]===$){U=e.types[n];k=e.token[n];if(U==="comment"){T();}else if(U==="regex"){h.push(-20);}else if(U==="string"){ke();}else if(U.indexOf("template_string")===0){We();}else if(U==="separator"){V();}else if(U==="start"){z();}else if(U==="end"){G();}else if(U==="type"||U==="type_start"||U==="type_end"){qe();}else if(U==="operator"){Ce();}else if(U==="word"){Qe();}else if(U==="reference"){ie();}else if(U==="markup"){he();}else if(U.indexOf("template")===0){je();}else if(U==="generic"){if(P!=="return"&&P.charAt(0)!=="#"&&d!=="operator"&&P!=="public"&&P!=="private"&&P!=="static"&&P!=="final"&&P!=="implements"&&P!=="class"&&P!=="void"){h[n-1]=-20;}if(e.token[n+1]==="("||e.token[n+1]==="x("){h.push(-20);}else {h.push(-10);}}else {h.push(-10);}if(U!=="comment"){d=U;P=k;}if(L.length>0&&e.token[n]!==")"){if(e.types[n]==="comment"&&L[L.length-1]>-1){L[L.length-1]=s.wrap+1;}else if(h[n]>-1||e.token[n].charAt(0)==="`"&&e.token[n].indexOf(fe)>0){L[L.length-1]=-1;}else if(L[L.length-1]>-1){L[L.length-1]=L[L.length-1]+e.token[n].length;if(h[n]===-10)L[L.length-1]=L[L.length-1]+1;}}}else {we();}n=n+1;}while(n<o);return h})();const t=(()=>{const n=[];const S=(()=>{const h=[];const C=s.indentChar;let _=s.indentSize;if(typeof _!=="number"||_<1)return "";do{h.push(C);_=_-1;}while(_>0);return h.join("")})();const Z=s.crlf===true?"\r\n":fe;const r=s.preserveLine+1;const U=["x;","x}","x{","x(","x)"];let k=M.start;let d="";let P=s.indentLevel;function ee(h){const C=[];const _=(()=>{if(k===o-1)return 1;if(e.lines[k+1]-1>r)return r;if(e.lines[k+1]>1)return e.lines[k+1]-1;return 1})();let w=0;if(h<0)h=0;do{C.push(Z);w=w+1;}while(w<_);if(h>0){w=0;do{C.push(S);w=w+1;}while(w<h)}return C.join(y)}if(s.script.vertical===true){let h=function(C){let _=0;let w=0;let m=C-1;let g=0;let v=0;const j=e.begin[k];const L=[];do{if((e.begin[m]===j||e.token[m]==="]"||e.token[m]===")")&&(e.token[m+1]===":"&&e.stack[m]==="object"||e.token[m+1]==="=")){g=m;w=0;do{if(e.begin[g]===j){if(e.token[g]===","||e.token[g]===";"||e.token[g]==="x;"||N[g]>-1&&e.types[g]!=="comment"){if(e.token[g+1]==="."){w=w+s.indentSize*s.indentChar.length;}break}}else if(N[g]>-1){break}if(e.types[g]!=="comment"){if(N[g-1]===-10)w=w+1;w=e.token[g].length+w;}g=g-1;}while(g>j);v=g;if(e.token[v]===","&&e.token[m+1]==="="){do{if(e.types[v]==="end")v=e.begin[v];if(e.begin[v]===j){if(e.token[v]===";"||e.token[v]==="x;")break;if(e.token[v]==="var"||e.token[v]==="const"||e.token[v]==="let"){w=w+s.indentSize*s.indentChar.length;break}}v=v-1;}while(v>j)}if(w>_)_=w;L.push([m,w]);m=g;}else if(e.types[m]==="end"){m=e.begin[m];}m=m-1;}while(m>j);m=L.length;if(m>0){do{m=m-1;g=L[m][1];if(g<_){do{e.token[L[m][0]]=e.token[L[m][0]]+se;g=g+1;}while(g<_)}}while(m>0)}};k=o;do{k=k-1;if(e.lexer[k]==="script"){if(e.token[k]==="}"&&e.token[k-1]!=="{"&&N[e.begin[k]]>0){h(k);}}else {k=e.begin[k];}}while(k>0)}k=M.start;do{if(e.lexer[k]===$||M.beautify[e.lexer[k]]===void 0){if(e.types[k]==="comment"&&s.commentIndent===true){if(/\n/.test(e.token[k])){const h=e.begin[k]>-1?e.token[k].charAt(2)==="*"?Be(N[k],S)+s.indentChar:Be(N[k],S):s.indentChar;const C=e.token[k].split(/\n/);let _=1;do{C[_]=h+C[_].trimStart();_=_+1;}while(_<C.length);e.token.splice(k,1,C.join(fe));}}if(U.indexOf(e.token[k])<0){if(e.token[k]!==";"||s.script.noSemicolon===false){n.push(e.token[k]);}else if(N[k]<0&&e.types[k+1]!=="comment"){n.push(";");}}if(k<o-1&&e.lexer[k+1]!==$&&e.begin[k]===e.begin[k+1]&&e.types[k+1].indexOf("end")<0&&e.token[k]!==","){n.push(se);}else if(N[k]>-1){if((N[k]>-1&&e.token[k]==="{"||N[k]>-1&&e.token[k+1]==="}")&&e.lines[k]<3&&s.script.braceNewline===true){if(e.lines[k+1]<3)n.push(ee(0));}n.push(ee(N[k]));P=N[k];}else if(N[k]===-10){n.push(se);if(e.lexer[k+1]!==$)P=P+1;}}else {if(x[k]===k){n.push(e.token[k]);}else {M.end=x[k];M.start=k;s.indentLevel=P;d=M.beautify[e.lexer[k]](s).replace($e,y);n.push(d);k=M.iterator;if(N[k]===-10){n.push(se);}else if(N[k]>-1){n.push(ee(N[k]));}s.indentLevel=0;}}k=k+1;}while(k<o);M.iterator=o-1;return n.join(y)})();if(s.language==="json"){s.script=Ne(s.script,u);}return t};var ft={};Lt(ft,{definitions:()=>Ee,format:()=>tt,formatSync:()=>Pt,language:()=>Ge,options:()=>Ue,parse:()=>Ot,parseSync:()=>Bt});var Ee={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeCasing:{default:"preserve",description:"Controls the casing of attribute values and keys.",type:"select",lexer:"markup",values:[{rule:"preserve",description:"All tag attribute keys/values are preserved and left intact."},{rule:"lowercase",description:"All tag attribute keys/values are converted to lowercase"},{rule:"lowercase-name",description:"Only attribute keys are converted to lowercase"},{rule:"lowercase-value",description:"Only attribute values are converted to lowercase"}]},delimiterTrims:{default:"preserve",description:"How delimiter whitespace trim dashes should handled on Liquid tokens. You should avoid setting this to force in order to avoid stripping whitespace between text content.",lexer:"markup",type:"select",values:[{rule:"preserve",description:"All trim dash occurances of trims intact"},{rule:"strip",description:"Removes all trim dash occurances for tags and output tokens"},{rule:"force",description:"Applies trime dashes to all tags and output tokens"},{rule:"tags",description:"Applies trim dashes to tags tokens only"},{rule:"output",description:"Applies trim dashes to output object tokens only"}]},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},normalizeSpacing:{default:true,description:"Whether or not to normalize the distributed spacing contained in Liquid tokens.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},lineBreakSeparator:{default:"default",description:"Controls the placement of Liquid tag separator type characters in newline structures.",lexer:"markup",type:"select",values:[{rule:"default",description:"Leave line break character intace"},{rule:"before",description:"Place line break character at the start of expressions"},{rule:"after",description:"Place line break character at the end of expressions"}]},ignoreScripts:{default:false,description:"Whether to ignore embedded regions of tags identified to contain JavaScript",lexer:"markup",type:"boolean"},ignoreStyles:{default:false,description:"Whether to ignore embedded regions of tags identified to contain CSS",lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};function St(s){const u=s.source.search(kt);const a=s.source.search(mt);const p=Fe(Ee);const l=p.length;let x=0;if(a>-1&&s.source.slice(0,a).trimStart()===y)return false;if(u>-1&&(u===0||`"':`.indexOf(s.source.charAt(u-1))<0)){let h=function(){if(N.charAt(n-1)!=="\\")return false;let C=n;do{C=C-1;}while(C>0&&N.charAt(C)==="\\");return (n-C)%2===0};const E=[];const o=u;const N=s.source;const t=N.length;let n=o;let S=0;let Z=y;let r=y;let U=y;let k=y;let d=[];let P=[];let ee;let K;if(c(N[n],60)){K="<!--";}else if(c(N[n+1],47)){K="//";}else if(c(N[n+1],37)){ee=N.indexOf("}",n+1);if(c(N[ee-1],37))K=N.slice(n,ee+1);}else {K="/*";}do{if(N.slice(n-9,n)==="@prettify")break;n=n+1;}while(n<t);do{if(h()===false){if(Z===y){if(c(N[n],34)||c(N[n],39)||c(N[n],96)){Z=N.charAt(n);if(E.length>0&&E[E.length-1].charAt(E[E.length-1].length-1)===":")S=n;}else if(/\s/.test(N.charAt(n))===false&&S===0){S=n;}else if(c(N[n],44)||be(N.charAt(n))===true&&S>0){r=N.slice(S,n);if(E.length>0){if(E.length>0&&c(r,58)&&E[E.length-1].indexOf(":")<0){E[E.length-1]=E[E.length-1]+r;S=n;}else if(E.length>0&&E[E.length-1].charAt(E[E.length-1].length-1)===":"){E[E.length-1]=E[E.length-1]+r;S=0;}else {E.push(r);S=0;}}else {E.push(r);S=0;}}if(K==="<!--"&&N.slice(n-2,n+1)==="-->")break;if(K==="//"&&N.charAt(n)==="\n")break;if(K==="/*"&&N.slice(n-1,n+1)==="*/")break;if(K.charCodeAt(1)===37&&N.slice(n-1,n+1)==="%"&&N.indexOf("endcomment",N.indexOf("{%",ee))>0)break}else if(N.charAt(n)===Z&&Z!=="${"){Z=y;}else if(Z==="`"&&N.slice(n,n+2)==="${"){Z="${";}else if(Z==="${"&&N.charAt(n)==="}"){Z="`";}}n=n+1;}while(n<t);if(S>0){Z=N.slice(S,n+1);if(K==="<!--")Z=Z.replace(/\s*-+>$/,y);else if(K==="//")Z=Z.replace(/\s+$/,y);else Z=Z.replace(/\s*\u002a\/$/,y);E.push(Z);}n=E.length;if(n>0){do{n=n-1;if(E[n].indexOf(":")>0){P=[E[n].slice(0,E[n].indexOf(":")),E[n].slice(E[n].indexOf(":")+1)];}else if(Ee[E[n]]!==void 0&&Ee[E[n]].type==="boolean"){s.options[E[n]]=true;}if(P.length===2&&Ee[P[0]]!==void 0){if(P[1].charAt(P[1].length-1)===P[1].charAt(0)&&(P[1].charAt(0)==='"'||P[1].charAt(0)==="'"||P[1].charAt(0)==="`")){P[1]=P[1].slice(1,P[1].length-1);}if(Ee[P[0]].type==="number"&&isNaN(Number(P[1]))===false){s.options[P[0]]=Number(P[1]);}else if(Ee[P[0]].type==="boolean"){s.options[P[0]]=P[1]==="true";}else {if(Ee[P[0]].values!==void 0){d=Fe(Ee[P[0]].values);S=d.length;do{S=S-1;if(d[S]===P[1]){s.options[P[0]]=P[1];break}}while(S>0)}else {if(P[0]==="language"){U=P[1];}else if(P[0]==="lexer"){k=P[1];}s.options[P[0]]=P[1];}}}}while(n>0);if(k===y&&U!==y)k=ct(U);}}if(s.options.lexer==="script"){if(s.options.script.styleGuide!==void 0){switch(s.options.script.styleGuide){case"airbnb":s.options.wrap=80;s.options.indentChar=" ";s.options.indentSize=2;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.endComma="always";s.options.script.bracePadding=true;break;case"crockford":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"google":s.options.wrap=-1;s.options.indentChar=" ";s.options.indentSize=4;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.vertical=false;break;case"jquery":s.options.wrap=80;s.options.indentChar="	";s.options.indentSize=1;s.options.script.correct=true;s.options.script.bracePadding=true;s.options.script.quoteConvert="double";s.options.script.variableList="each";break;case"jslint":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"standard":s.options.wrap=0;s.options.indentChar=" ";s.options.indentSize=2;s.options.endNewline=false;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.noSemicolon=true;s.options.script.endComma="never";s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.quoteConvert="single";s.options.script.functionSpace=true;s.options.script.ternaryLine=false;s.options.script.variableList="each";s.options.script.vertical=false;break;case"yandex":s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.vertical=false;break}}if(s.options.script.braceStyle!==void 0){switch(s.options.script.braceStyle){case"collapse":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break;case"collapse-preserve-inline":s.options.script.braceNewline=false;s.options.script.bracePadding=true;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=false;break;case"expand":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=true;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break}}if(s.options.language==="json")s.options.wrap=0;}do{if(s.options[Fe[x]]!==void 0){Ee[Fe[x]].lexer.length;}x=x+1;}while(x<l)}function Rt(s){const{source:u,options:a}=s;const{lexer:p,language:l}=a;if(typeof s.lexers[p]==="function"){s.lexers[p](`${u} `);}else {i.error=`Specified lexer, ${p}, is not a function.`;}let x=0;let e=0;const $=Fe(i.data);const E=$.length;do{e=x+1;do{if(i.data[$[x]].length!==i.data[$[e]].length){i.error=`"${$[x]}" array is of different length than "${$[e]}"`;break}e=e+1;}while(e<E);x=x+1;}while(x<E-1);if(i.data.begin.length>0){if(p==="script"&&(l==="json"&&a.json.objectSort===true||a.language!=="json"&&a.script.objectSort===true)){i.sortCorrect(0,i.count+1);}else if(p==="style"&&a.style.sortProperties===true){i.sortCorrect(0,i.count+1);}}return i.data}function Ct(s){const u=Date.now();const a={language:s,chars:-1};return p=>{a.chars=p;a.size=pt(p);a.time=(Date.now()-u).toFixed(1);return a}}function Nt(s){const{languageName:u}=Se(s.options.language);const a=s.options.crlf===true?"\r\n":"\n";const p=s.source.match(/\n/g);const l=Ct(u);let x=y;if(p===null){if(s.options.endNewline)x=a;s.stats=l(x.length);}else {x=p[0].length>s.options.preserveLine?Be(s.options.preserveLine,a):Be(p[0].length,a);if(s.options.endNewline)x+=a;s.stats=l(x.length);}return x}function Ye(s){s.data=i.full();if(!/\S/.test(s.source))return Nt(s);if(s.options.language==="text"){s.options.language="text";s.options.languageName="Plain Text";s.options.lexer="markup";}else if(s.options.language==="auto"||s.options.language===void 0){const{lexer:x,language:e,languageName:$}=Ge(s.source);if(e==="unknown"){console.warn("Prettify: unknown and/or unsupport language");console.info("Prettify: define a support language (fallback is HTML)");}s.options.lexer=x;s.options.language=e;s.options.languageName=$;}else {const{lexer:x,language:e,languageName:$}=Se(s.options.language);if(e==="unknown"){console.warn(`Prettify: unsupport ${s.options.language}`);console.info("Prettify: language is not supported (fallback is HTML)");}s.options.lexer=x;s.options.language=e;s.options.languageName=$;}const u=Ct(s.options.languageName);const a=s.mode;const p=s.options.crlf===true?"\r\n":"\n";let l=s.source;if(St(s)===false){s.stats=u(l.length);return l}s.data=Rt(s);if(a==="parse"){s.stats=u(l.length);return i.data}l=s.beautify[s.options.lexer](s.options);l=s.options.endNewline===true?l.replace(/\s*$/,p):l.replace(/\s+$/,y);s.stats=u(l.length);s.end=0;s.start=0;return l}tt.before=s=>M.hooks.before.push(s);tt.after=s=>M.hooks.after.push(s);Ue.listen=s=>M.hooks.rules.push(s);Ke(tt,"stats",{get(){return M.stats}});Ke(Ot,"stats",{get(){return M.stats}});Ke(Ue,"rules",{get(){return M.options}});function Pt(s,u){M.source=s;if(typeof u==="object")M.options=Ue(u);if(M.hooks.before.length>0){for(const p of M.hooks.before){if(p(M.options,s)===false)return s}}const a=Ye(M);if(M.hooks.after.length>0){for(const p of M.hooks.after){if(p.call(i.data,a,M.options)===false)return s}}if(i.error.length)throw new Error(i.error);return a}function tt(s,u){M.source=s;if(typeof u==="object")M.options=Ue(u);if(M.hooks.before.length>0){for(const p of M.hooks.before){if(p(M.options,s)===false)return s}}const a=Ye(M);if(M.hooks.after.length>0){for(const p of M.hooks.after){if(p.call(i.data,a,M.options)===false)return s}}return new Promise((p,l)=>{if(i.error.length)return l(i.error);return p(a)})}function Ue(s){for(const u of Fe(s)){if(u in Ee&&Ee[u].lexer==="auto"){M.options[u]=s[u];}else if(u==="markup"){Ne(M.options.markup,s.markup);}else if(u==="script"){Ne(M.options.script,s.script);}else if(u==="style"){Ne(M.options.style,s.style);}else if(u==="json"){Ne(M.options.json,s.json);}else if(u==="grammar"){pe.extend(s.grammar);}else if(u in M.options){M.options[u]=s[u];}}if(M.hooks.rules.length>0){for(const u of M.hooks.rules)u(M.options);}return M.options}function Ot(s,u){M.source=s;M.mode="parse";if(typeof u==="object")M.options=Ue(u);const a=Ye(M);return new Promise((p,l)=>{if(i.error.length)return l(i.error);return p(a)})}function Bt(s,u){M.source=s;M.mode="parse";if(typeof u==="object")M.options=Ue(u);const a=Ye(M);if(i.error.length)throw new Error(i.error);return a}

export { ft as default };
