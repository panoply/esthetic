var et=Object.defineProperty;var tt=(l,u)=>{for(var p in u)et(l,p,{get:u[p],enumerable:true});};var D=function(){const l=typeof process!=="undefined"&&process.versions!=null?"node":"browser";let u="";return {env:l,mode:"beautify",end:0,iterator:0,start:0,scopes:[],beautify:{},lexers:{},get source(){return l==="node"&&Buffer.isBuffer(u)?u.toString():u},set source(p){u=l==="node"?Buffer.isBuffer(p)?p:Buffer.from(p):p;},data:{begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]},hooks:{before:[],language:[],rules:[],after:[]},stats:{chars:-1,time:-1,size:"",language:""},options:{lexer:"auto",language:"text",languageName:"Plain Text",mode:"beautify",indentLevel:0,crlf:false,commentIndent:true,endNewline:false,indentChar:" ",indentSize:2,preserveComment:false,preserveLine:2,wrap:0,grammar:{html:{tags:[],voids:[],embedded:{}},liquid:{tags:[],else:[],singletons:[],embedded:{}},script:{keywords:[]},style:{units:[]}},markup:{correct:false,commentNewline:false,attributeValues:"preserve",attributeSort:false,attributeSortList:[],forceAttribute:false,forceLeadAttribute:false,forceIndent:false,preserveText:false,preserveAttributes:false,selfCloseSpace:false,quoteConvert:"none"},style:{correct:false,compressCSS:false,classPadding:false,noLeadZero:false,sortSelectors:false,sortProperties:false,quoteConvert:"none",forceValue:"preserve"},script:{correct:false,braceNewline:false,bracePadding:false,braceStyle:"none",braceAllman:false,commentNewline:false,caseSpace:false,inlineReturn:true,elseNewline:false,endComma:"never",arrayFormat:"default",objectSort:false,objectIndent:"default",functionNameSpace:false,functionSpace:false,styleGuide:"none",ternaryLine:false,methodChain:4,neverFlatten:false,noCaseIndent:false,noSemicolon:false,quoteConvert:"none",variableList:"none",vertical:false},json:{arrayFormat:"default",braceAllman:false,bracePadding:false,objectIndent:"default",objectSort:false}}}}();var C="";var ve=Object.assign;var we=Object.create;var Oe=Object.keys;var qe=Object.defineProperty;var Ne=Array.isArray;var ye;var oe=new(ye=class{constructor(){this.html={};this.liquid={};this.script={};this.style={};this.script.keywords=new Set(ye.defaults.script.keywords);this.style.units=new Set(ye.defaults.style.units);this.html.tags=new Set(ye.defaults.html.tags);this.html.voids=new Set(ye.defaults.html.voids);this.html.embed={};this.liquid.tags=new Set(ye.defaults.liquid.tags);this.liquid.else=new Set(ye.defaults.liquid.else);this.liquid.singletons=new Set(ye.defaults.liquid.singletons);this.liquid.embed={};this.defaults();}embed(u,p){return p in this[u].embed}defaults(){for(const u in ye.defaults.html.embedded){this.html.embed[u]={};for(const{language:p,attribute:n=null}of ye.defaults.html.embedded[u]){this.html.embed[u].language=p;if(typeof n==="object"){for(const o in n){this.html.embed[u].attribute=o;if(Array.isArray(n[o])){this.html.embed[u].value=t=>new Set(n[o]).has(t);}else {this.html.embed[u].value=t=>new RegExp(n[o]).test(t);}}}else {this.html.embed[u].attribute=null;}}}for(const u in ye.defaults.liquid.embedded){this.liquid.embed[u]={end:p=>new RegExp(`^{%-?\\s*end${u}`).test(p)};for(const{language:p,argument:n}of ye.defaults.liquid.embedded[u]){this.liquid.embed[u].language=p;if(n){if(Array.isArray(n)){this.liquid.embed[u].attribute=o=>new Set(n).has(o);}else {this.liquid.embed[u].attribute=o=>new RegExp(n).test(o);}}else {this.liquid.embed[u].attribute=null;}}}}extend(u){for(const p in u){if(p==="html"){if("tags"in u[p]&&Array.isArray(u[p].tags)){for(const n of u[p].tags){if(!this.html.tags.has(n))this.html.tags.add(n);}}if("voids"in u[p]&&Array.isArray(u[p].voids)){for(const n of u[p].voids){if(!this.html.voids.has(n))this.html.voids.add(n);}}if("embedded"in u[p]);}if(p==="liquid"){if("tags"in u[p]&&Array.isArray(u[p].tags)){for(const n of u[p].tags){if(!this.liquid.tags.has(n))this.liquid.tags.add(n);}}if("else"in u[p]&&Array.isArray(u[p].else)){for(const n of u[p].else){if(!this.liquid.else.has(n))this.liquid.else.add(n);}}if("singletons"in u[p]&&Array.isArray(u[p].singletons)){for(const n of u[p].singletons){if(!this.liquid.singletons.has(n))this.liquid.singletons.add(n);}}if("embedded"in u[p]&&typeof u[p].embedded==="object"){for(const n in u[p].embedded){if(!(n in this.liquid.embed)){this.liquid.embed[n]={end:o=>new RegExp(`{%-?\\s*end${n}`).test(o)};}for(const{language:o,argument:t}of u[p].embedded[n]){if(this.liquid.embed[n].language!==o){this.liquid.embed[n].language=o;}if(t){if(this.liquid.embed[n].attribute===null){if(Array.isArray(t)){this.liquid.embed[n].attribute=P=>new Set(t).has(P);}else {this.liquid.embed[n].attribute=P=>new RegExp(t).test(P);}}else {const P=[];for(const W of ye.defaults.liquid.embedded[n]){if(Array.isArray(W.argument)){for(const S of W.argument){if(t!==S)P.push(t);else P.push(S);}this.liquid.embed[n].attribute=S=>new Set(P).has(S);}else {if(W.argument!==t){this.liquid.embed[n].attribute=S=>new RegExp(t).test(S);}}}}}}}}}if(p==="style"){if("units"in u[p]&&Array.isArray(u[p].units)){for(const n of u[p].units){if(!this.style.units.has(n))this.style.units.add(n);}}}if(p==="script"){if("keywords"in u[p]&&Array.isArray(u[p].keywords)){for(const n of u[p].keywords){if(!this.script.keywords.has(n))this.script.keywords.add(n);}}}}}},ye.defaults={script:{keywords:["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]},style:{units:["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"]},html:{embedded:{script:[{language:"javascript"},{language:"json",attribute:{type:["application/json","application/ld+json"]}},{language:"jsx",attribute:{type:["text/jsx","application/jsx"]}}],style:[{language:"css"}]},voids:["area","base","basefont","br","col","embed","eventsource","frame","hr","image","img","input","isindex","keygen","link","meta","path","param","progress","source","wbr","use"],tags:["body","colgroup","dd","dt","head","html","li","option","p","tbody","td","tfoot","th","thead","tr"]},liquid:{embedded:{schema:[{language:"json"}],style:[{language:"css"}],stylesheet:[{language:"css"},{language:"scss",argument:/\s*['"]scss['"]/}],javascript:[{language:"javascript"}]},tags:["case","capture","comment","embed","filter","for","form","if","macro","paginate","raw","switch","tablerow","unless","verbatim","schema","style","javascript","highlight","stylesheet"],else:["default","else","when","elsif"],singletons:["assign","increment","decrement","render","include"]}},ye);function He(l){const u=we(null);if(l)return ve(u,l);return u}function je(l,u=" "){if(l===0)return u;let p=C;let n=1;do{p+=u;}while(n++<l);return p}function g(l,u){if(!l)return false;return l.charCodeAt(0)===u}function Y(l,u){return g(l,u)===false}function ae(l){return /\s/.test(l)}function Ue(l){const u=1024;const p=1048576;const n=1073741824;if(l<u)return l+" B";else if(l<p)return (l/u).toFixed(1)+" KB";else if(l<n)return (l/p).toFixed(1)+" MB";else return (l/n).toFixed(1)+" GB"}function Ze(l){return `\\${l}`}function Ie(l){const u=l.indexOf("{");const p=g(l[u+2],45)?l.slice(u+3).trimStart():l.slice(u+2).trimStart();return p.slice(0,p.search(/\s/))}function Ve(l){const u=l.indexOf("{");if(g(l[u+1],37)){let p=g(l[u+2],45)?l.slice(u+3).trimStart():l.slice(u+2).trimStart();p=p.slice(0,p.search(/\s/));if(p.startsWith("end"))return false;return oe.liquid.tags.has(p)}return false}function Pe(l){let u=l;if(Array.isArray(l))u=l.join("");const p=u.indexOf("{");if(g(u[p+1],37)){if(g(u[p+2],45))return u.slice(p+3).trimStart().startsWith("end");return u.slice(p+2).trimStart().startsWith("end")}return false}function Ce(l,u){if(u===1){return g(l[0],123)&&(g(l[1],37)||g(l[1],123))}else if(u===2){return g(l[l.length-1],125)&&(g(l[l.length-2],37)||g(l[l.length-2],123))}else if(u===3){return g(l[0],123)&&(g(l[1],37)||g(l[1],123))&&(g(l[l.length-1],125)&&(g(l[l.length-2],37)||g(l[l.length-2],123)))}else if(u===4){return /{[{%}]/.test(l)}else if(u===5){return /{[{%]/.test(l)&&/[%}]}/.test(l)}}function Te(l){let u=0;const p=l.length;const n=l;const o=()=>{let P=0;const W=n.length;if(P<W){do{if(Ne(n[P])===true)n[P]=Te.apply(this,n[P]);P=P+1;}while(P<W)}};const t=P=>{let W=u;let S=0;let k=0;let a=0;let e=[];let m=n[u];let z="";const r=typeof m;if(W<p){do{z=typeof n[W];if(n[W]<m||z<r){m=n[W];e=[W];}else if(n[W]===m){e.push(W);}W=W+1;}while(W<p)}k=e.length;W=u;S=k+u;if(W<S){do{n[e[a]]=n[W];n[W]=m;a=a+1;W=W+1;}while(W<S)}u=u+k;if(u<p){t("");}else {if(this.recursive===true)o();l=n;}return P};t("");return l}function De(l){let u=0;const p=l.length;const n=l;const o=()=>{let P=0;const W=n.length;if(P<W){do{if(Ne(n[P]))n[P]=De.apply(this,n[P]);P=P+1;}while(P<W)}};const t=P=>{let W=u;let S=0;let k=0;let a=0;let e=n[u];let m=[];let z="";const r=typeof e;if(W<p){do{z=typeof n[W];if(n[W]>e||z>r){e=n[W];m=[W];}else if(n[W]===e){m.push(W);}W=W+1;}while(W<p)}k=m.length;W=u;S=k+u;if(W<S){do{n[m[a]]=n[W];n[W]=e;a=a+1;W=W+1;}while(W<S)}u=u+k;if(u<p){t("");}else {if(this.recursive===true)o();l=n;}return P};t("");return l}function Me(l){let u=l;const p=[l[0]];const n=()=>{let t=0;const P=u.length;if(t<P){do{if(Ne(u[t]))u[t]=Me.apply(this,u[t]);t=t+1;}while(t<P)}};const o=t=>{let P=0;const W=[];const S=u.length;if(P<S){do{if(u[P]!==t)W.push(u[P]);P=P+1;}while(P<S)}u=W;if(W.length>0){p.push(W[0]);o(W[0]);}else {if(this.recursive===true)n();l=u;}};o(this.array[0]);return l}var s=new class yt{constructor(){this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.data={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};this.structure=[["global",-1]];this.references=[[]];this.count=-1;this.lineNumber=1;this.linesSpace=0;this.error="";}get current(){const{begin:u,ender:p,lexer:n,lines:o,stack:t,token:P,types:W}=this.data;return {begin:u[u.length-1],ender:p[p.length-1],lexer:n[n.length-1],lines:o[o.length-1],stack:t[t.length-1],token:P[u.length-1],types:W[u.length-1]}}init(){this.error="";this.count=-1;this.linesSpace=0;this.lineNumber=1;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const u=this.structure.length-1;const p=this.structure[u];if(u>0)this.structure.splice(u,1);return p};return this.data}concat(u,p){for(const n of this.datanames)u[n]=u[n].concat(p[n]);if(u===this.data)this.count=u.token.length-1;}objectSort(u){let p=this.count;let n=this.structure[this.structure.length-1][1];let o=0;let t=0;let P=0;let W=0;let S=true;let k=0;let a=0;let e=0;const m=[];const z=n;const r=D.options.language==="json";const $=u.lexer[p]==="style"&&this.structure[this.structure.length-1][0]==="global";const x=u.lexer[p]==="style";const h=x===true?[";","separator"]:[",","separator"];const N=this.linesSpace;const Z=this.count;const X=$===true?"global":this.structure[this.structure.length-1][0];function f(y,b){let A=y[0];let E=b[0];if(u.types[A]==="comment"){do{A=A+1;}while(A<Z&&u.types[A]==="comment");if(u.token[A]===void 0){return 1}}if(u.types[E]==="comment"){do{E=E+1;}while(E<Z&&u.types[E]==="comment");if(u.token[E]===void 0)return 1}if(x===true){if(u.token[A].indexOf("@import")===0||u.token[E].indexOf("@import")===0){return A<E?-1:1}if(u.types[A]!==u.types[E]){if(u.types[A]==="function")return 1;if(u.types[A]==="variable")return -1;if(u.types[A]==="selector")return 1;if(u.types[A]==="property"&&u.types[E]!=="variable")return -1;if(u.types[A]==="mixin"&&u.types[E]!=="property"&&u.types[E]!=="variable")return -1}}if(u.token[A].toLowerCase()>u.token[E].toLowerCase())return 1;return -1}const d={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};W=p;do{if(u.begin[p]===n||$===true&&p<W&&u.token[p]==="}"&&u.begin[u.begin[p]]===-1){if(u.types[p].indexOf("template")>-1)return;if(u.token[p]===h[0]||x===true&&u.token[p]==="}"&&u.token[p+1]!==";"){S=true;k=p+1;}else if(x===true&&u.token[p-1]==="}"){S=true;k=p;}if(k===0&&u.types[0]==="comment"){do{k=k+1;}while(u.types[k]==="comment")}else if(u.types[k]==="comment"&&u.lines[k]<2){k=k+1;}if(S===true&&(u.token[p]===h[0]||x===true&&u.token[p-1]==="}")&&k<=W){if(x===true&&"};".indexOf(u.token[W])<0){W=W+1;}else if(x===false&&u.token[W]!==","){W=W+1;}m.push([k,W]);if(x===true&&u.token[k]==="}"){W=k;}else {W=k-1;}}}p=p-1;}while(p>n);if(m.length>0&&m[m.length-1][0]>p+1){o=m[m.length-1][0]-1;if(u.types[o]==="comment"&&u.lines[o]>1){do{o=o-1;}while(o>0&&u.types[o]==="comment");m[m.length-1][0]=o+1;}if(u.types[p+1]==="comment"&&p===-1){do{p=p+1;}while(u.types[p+1]==="comment")}m.push([p+1,o]);}if(m.length>1){if(r===true||x===true||u.token[p-1]==="="||u.token[p-1]===":"||u.token[p-1]==="("||u.token[p-1]==="["||u.token[p-1]===","||u.types[p-1]==="word"||p===0){m.sort(f);e=m.length;S=false;n=0;do{a=m[n][1];if(x===true){P=a;if(u.types[P]==="comment")P=P-1;if(u.token[P]==="}"){a=a+1;h[0]="}";h[1]="end";}else {h[0]=";";h[1]="separator";}}o=m[n][0];if(x===true&&u.types[a-1]!=="end"&&u.types[a]==="comment"&&u.types[a+1]!=="comment"&&n<e-1){a=a+1;}if(o<a){do{if(x===false&&n===e-1&&o===a-2&&u.token[o]===","&&u.lexer[o]==="script"&&u.types[o+1]==="comment"){t=t+1;}else {this.push(d,{begin:u.begin[o],ender:u.ender[o],lexer:u.lexer[o],lines:u.lines[o],stack:u.stack[o],token:u.token[o],types:u.types[o]});t=t+1;}if(u.token[o]===h[0]&&(x===true||u.begin[o]===u.begin[m[n][0]])){S=true;}else if(u.token[o]!==h[0]&&u.types[o]!=="comment"){S=false;}o=o+1;}while(o<a)}if(S===false&&d.token[d.token.length-1]!=="x;"&&(x===true||n<e-1)){o=d.types.length-1;if(d.types[o]==="comment"){do{o=o-1;}while(o>0&&d.types[o]==="comment")}o=o+1;this.splice({data:d,howmany:0,index:o,record:{begin:z,stack:X,ender:this.count,lexer:d.lexer[o-1],lines:0,token:h[0],types:h[1]}});t=t+1;}n=n+1;}while(n<e);this.splice({data:u,howmany:t,index:p+1});this.linesSpace=N;this.concat(u,d);}}}pop(u){const p={begin:u.begin.pop(),ender:u.ender.pop(),lexer:u.lexer.pop(),lines:u.lines.pop(),stack:u.stack.pop(),token:u.token.pop(),types:u.types.pop()};if(u===this.data)this.count=this.count-1;return p}push(u,p,n=""){const o=()=>{let t=this.count;const P=u.begin[t];if(u.lexer[t]==="style"&&D.options.style.sortProperties===true||u.lexer[t]==="script"&&(D.options.script.objectSort===true||D.options.json.objectSort===true)){return}do{if(u.begin[t]===P||u.begin[u.begin[t]]===P&&u.types[t].indexOf("attribute")>-1&&u.types[t].indexOf("attribute_end")<0){u.ender[t]=this.count;}else {t=u.begin[t];}t=t-1;}while(t>P);if(t>-1)u.ender[t]=this.count;};this.datanames.forEach(t=>u[t].push(p[t]));if(u===this.data){this.count=this.count+1;this.linesSpace=0;if(p.lexer!=="style"){if(n.replace(/(\{|\}|@|<|>|%|#|)/g,"")===""){n=p.types==="else"?"else":n=p.token;}}if(p.types==="start"||p.types.indexOf("_start")>0){this.structure.push([n,this.count]);}else if(p.types==="end"||p.types.indexOf("_end")>0){let t=0;if(this.structure.length>2&&(u.types[this.structure[this.structure.length-1][1]]==="else"||u.types[this.structure[this.structure.length-1][1]].indexOf("_else")>0)&&(u.types[this.structure[this.structure.length-2][1]]==="start"||u.types[this.structure[this.structure.length-2][1]].indexOf("_start")>0)&&(u.types[this.structure[this.structure.length-2][1]+1]==="else"||u.types[this.structure[this.structure.length-2][1]+1].indexOf("_else")>0)){this.structure.pop();u.begin[this.count]=this.structure[this.structure.length-1][1];u.stack[this.count]=this.structure[this.structure.length-1][0];u.ender[this.count-1]=this.count;t=u.ender[u.begin[this.count]+1];}o();if(t>0)u.ender[u.begin[this.count]+1]=t;this.structure.pop();}else if(p.types==="else"||p.types.indexOf("_else")>0){if(n==="")n="else";if(this.count>0&&(u.types[this.count-1]==="start"||u.types[this.count-1].indexOf("_start")>0)){this.structure.push([n,this.count]);}else {o();if(n===""){this.structure[this.structure.length-1]=["else",this.count];}else {this.structure[this.structure.length-1]=[n,this.count];}}}}}safeSort(u,p,n){if(Ne(u)===false)return u;if(p==="normal"){return Me.call({array:u,recursive:n},u)}else if(p==="descend"){return De.call({recursive:n},u)}return Te.call({recursive:n},u)}sortCorrection(u,p){let n=u;let o=-1;const t=this.data;const P=[];const W=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(n>0&&t.types[n].indexOf("attribute")>-1&&t.types[n].indexOf("end")<0&&t.types[n-1].indexOf("start")<0&&t.types[n-1].indexOf("attribute")<0&&t.lexer[n]==="markup"){W.push(n-1);}if(n>0&&t.types[n-1].indexOf("attribute")>-1&&t.types[n].indexOf("attribute")<0&&t.lexer[W[W.length-1]]==="markup"&&t.types[W[W.length-1]].indexOf("start")<0){W.pop();}if(t.begin[n]!==W[W.length-1]){if(W.length>0){t.begin[n]=W[W.length-1];}else {t.begin[n]=-1;}}if(t.types[n].indexOf("else")>-1){if(W.length>0){W[W.length-1]=n;}else {W.push(n);}}if(t.types[n].indexOf("end")>-1)W.pop();if(t.types[n].indexOf("start")>-1)W.push(n);n=n+1;}while(n<p);n=p;do{n=n-1;if(t.types[n].indexOf("end")>-1){P.push(n);o=o+1;}t.ender[n]=o>-1?P[o]:-1;if(t.types[n].indexOf("start")>-1){P.pop();o=o-1;}}while(n>u)}spacer(u){this.linesSpace=1;do{if(u.array[u.index]==="\n"){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(ae(u.array[u.index+1])===false)break;u.index=u.index+1;}while(u.index<u.end);return u.index}splice(u){const p=[this.data.begin[this.count],this.data.token[this.count]];if(u.record!==void 0&&u.record.token!==""){for(const n of this.datanames){u.data[n].splice(u.index,u.howmany,u.record[n]);}if(u.data===this.data){this.count=this.count-u.howmany+1;if(p[0]!==this.data.begin[this.count]||p[1]!==this.data.token[this.count]){this.linesSpace=0;}}return}for(const n of this.datanames){u.data[n].splice(u.index,u.howmany);}if(u.data===this.data){this.count=this.count-u.howmany;this.linesSpace=0;}}wrapCommentBlock(u){const{wrap:p,crlf:n,preserveComment:o}=D.options;const t=[];const P=[];const W=n===true?"\r\n":"\n";const S=/(\/|\\|\||\*|\[|\]|\{|\})/g;const k=/{%-?\s*|\s*-?%}/g;let a=u.start;let e=0;let m=0;let z=0;let r=0;let $=[];let x="";let h="";let N=false;let Z=false;let X=false;let f=false;let d="";let y=u.terminator.length-1;let b=u.terminator.charAt(y);let A=0;let E;const R=u.opening.replace(S,Ze);const I=new RegExp(`^(${R}\\s*@prettify-ignore-start)`);const j=new RegExp(`(${R}\\s*)`);const ne=g(u.opening[0],123)&&g(u.opening[1],37);if(ne){E=new RegExp(`\\s*${u.terminator.replace(k,V=>{if(V.charCodeAt(0)===123)return "{%-?\\s*";return "\\s*-?%}"})}$`);}const H=()=>{if(/^\s+$/.test($[e+1])||$[e+1]===""){do{e=e+1;}while(e<r&&(/^\s+$/.test($[e+1])||$[e+1]===""))}if(e<r-1)P.push("");};do{t.push(u.chars[a]);if(u.chars[a]==="\n")this.lineNumber=this.lineNumber+1;if(u.chars[a]===b&&u.chars.slice(a-y,a+1).join("")===u.terminator)break;a=a+1;}while(a<u.end);d=t.join("");if(I.test(d)===true){let V="\n";a=a+1;do{t.push(u.chars[a]);if(t.slice(t.length-20).join("")==="@prettify-ignore-end"){if(ne){const se=u.chars.indexOf("{",a);if(g(u.chars[se+1],37)){const T=u.chars.slice(se,u.chars.indexOf("}",se+1)+1).join("");if(E.test(T))u.terminator=T;}}a=a+1;break}a=a+1;}while(a<u.end);e=a;y=u.opening.length-1;b=u.opening.charAt(y);do{if(u.opening==="/*"&&u.chars[e-1]==="/"&&(u.chars[e]==="*"||u.chars[e]==="/"))break;if(u.opening!=="/*"&&u.chars[e]===b&&u.chars.slice(e-y,e+1).join("")===u.opening)break;e=e-1;}while(e>u.start);if(u.opening==="/*"&&u.chars[e]==="*"){V="*/";}else if(u.opening!=="/*"){V=u.terminator;}y=V.length-1;b=V.charAt(y);if(V!=="\n"||u.chars[a]!=="\n"){do{t.push(u.chars[a]);if(V==="\n"&&u.chars[a+1]==="\n")break;if(u.chars[a]===b&&u.chars.slice(a-y,a+1).join("")===V)break;a=a+1;}while(a<u.end)}if(u.chars[a]==="\n")a=a-1;d=t.join("").replace(/\s+$/,"");return [d,a]}if(o===true||p<1||a===u.end||d.length<=p&&d.indexOf("\n")<0||u.opening==="/*"&&d.indexOf("\n")>0&&d.replace("\n","").indexOf("\n")>0&&/\n(?!(\s*\*))/.test(d)===false){return [d,a]}e=u.start;if(e>0&&u.chars[e-1]!=="\n"&&ae(u.chars[e-1])){do{e=e-1;}while(e>0&&u.chars[e-1]!=="\n"&&ae(u.chars[e-1]))}x=u.chars.slice(e,u.start).join("");const G=new RegExp("\n"+x,"g");$=d.replace(/\r\n/g,"\n").replace(G,"\n").split("\n");r=$.length;$[0]=$[0].replace(j,"");$[r-1]=$[r-1].replace(E,"");if(r<2)$=$[0].split(" ");if($[0]===""){$[0]=u.opening;}else {$.splice(0,0,u.opening);}r=$.length;e=0;do{h=e<r-1?$[e+1].replace(/^\s+/,""):"";if(/^\s+$/.test($[e])===true||$[e]===""){H();}else if($[e].slice(0,4)==="    "){P.push($[e]);}else if($[e].replace(/^\s+/,"").length>p&&$[e].replace(/^\s+/,"").indexOf(" ")>p){$[e]=$[e].replace(/^\s+/,"");m=$[e].indexOf(" ");P.push($[e].slice(0,m));$[e]=$[e].slice(m+1);e=e-1;}else {$[e]=u.opening==="/*"&&$[e].indexOf("/*")!==0?`   ${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`:`${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`;A=e<1?p-(u.opening.length+1):p;m=$[e].length;z=$[e].replace(/^\s+/,"").indexOf(" ");if(m>A&&z>0&&z<A){m=A;do{m=m-1;if(ae($[e].charAt(m))&&m<=p)break}while(m>0);if($[e].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[e])===true&&/^\s*(\*|-)\s/.test($[e+1])===false){$.splice(e+1,0,"* ");}if($[e].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[e])===true&&/^\s*\d+\.\s/.test($[e+1])===false){$.splice(e+1,0,"1. ");}if(m<4){P.push($[e]);f=true;}else if(e===r-1){P.push($[e].slice(0,m));$[e]=$[e].slice(m+1);f=true;e=e-1;}else if(/^\s+$/.test($[e+1])===true||$[e+1]===""){P.push($[e].slice(0,m));$[e]=$[e].slice(m+1);N=true;e=e-1;}else if($[e+1].slice(0,4)!=="    "&&/^\s*(\*|-)\s/.test($[e+1])){P.push($[e].slice(0,m));$[e]=$[e].slice(m+1);Z=true;e=e-1;}else if($[e+1].slice(0,4)!=="    "&&/^\s*\d+\.\s/.test($[e+1])){P.push($[e].slice(0,m));$[e]=$[e].slice(m+1);X=true;e=e-1;}else if($[e+1].slice(0,4)==="    "){P.push($[e].slice(0,m));$[e]=$[e].slice(m+1);f=true;e=e-1;}else if(m+h.length>p&&h.indexOf(" ")<0){P.push($[e].slice(0,m));$[e]=$[e].slice(m+1);f=true;e=e-1;}else if($[e].replace(/^\s+/,"").indexOf(" ")<p){$[e+1]=$[e].length>p?$[e].slice(m+1)+W+$[e+1]:`${$[e].slice(m+1)} ${$[e+1]}`;}if(N===false&&Z===false&&X===false&&f===false){$[e]=$[e].slice(0,m);}}else if($[e+1]!==void 0&&($[e].length+h.indexOf(" ")>p&&h.indexOf(" ")>0||$[e].length+h.length>p&&h.indexOf(" ")<0)){P.push($[e]);e=e+1;}else if($[e+1]!==void 0&&/^\s+$/.test($[e+1])===false&&$[e+1]!==""&&$[e+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[e+1])===false){$[e+1]=`${$[e]} ${$[e+1]}`;N=true;}if(f===false&&Z===false&&X===false){if(N===true){N=false;}else if(/^\s*(\*|-|(\d+\.))\s*$/.test($[e])===false){if(e<r-1&&$[e+1]!==""&&/^\s+$/.test($[e])===false&&$[e+1].slice(0,4)!=="    "&&/^\s*(\*|-|(\d+\.))\s/.test($[e+1])===false){$[e]=`${$[e]} ${$[e+1]}`;$.splice(e+1,1);r=r-1;e=e-1;}else {if(u.opening==="/*"&&$[e].indexOf("/*")!==0){P.push(`   ${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}else {P.push(`${$[e].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}`);}}}}f=false;Z=false;X=false;}e=e+1;}while(e<r);if(P.length>0){if(P[P.length-1].length>p-(u.terminator.length+1)){P.push(u.terminator);}else {P[P.length-1]=`${P[P.length-1]} ${u.terminator}`;}d=P.join(W);}else {$[$.length-1]=$[$.length-1]+u.terminator;d=$.join(W);}return [d,a]}wrapCommentLine(u){let p=u.start;let n=0;let o="";let t=[];const{wrap:P,preserveComment:W}=D.options;function S(){let a="";do{n=n+1;if(u.chars[n+1]==="\n")return}while(n<u.end&&ae(u.chars[n])===true);if(u.chars[n]+u.chars[n+1]==="//"){t=[];do{t.push(u.chars[n]);n=n+1;}while(n<u.end&&u.chars[n]!=="\n");a=t.join("");if(/^\/\/ (\*|-|(\d+\.))/.test(a)===false&&a.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(a)===false){o=`${o} ${a.replace(/(^\/\/\s*)/,"").replace(/\s+$/,"")}`;p=n-1;S();}}}const k=()=>{const a=[];const e={ender:-1,types:"comment",lexer:u.lexer,lines:this.linesSpace};if(this.count>-1){e.begin=this.structure[this.structure.length-1][1];e.stack=this.structure[this.structure.length-1][0];e.token=this.data.token[this.count];}else {e.begin=-1;e.stack="global";e.token="";}let m=0;let z=0;o=o.replace(/\s+/g," ").replace(/\s+$/,"");z=o.length;if(P>z)return;do{m=P;if(o.charAt(m)!==" "){do{m=m-1;}while(m>0&&o.charAt(m)!==" ");if(m<3){m=P;do{m=m+1;}while(m<z-1&&o.charAt(m)!==" ")}}a.push(o.slice(0,m));o=`// ${o.slice(m).replace(/^\s+/,"")}`;z=o.length;}while(P<z);m=0;z=a.length;do{e.token=a[m];this.push(this.data,e,C);e.lines=2;this.linesSpace=2;m=m+1;}while(m<z)};do{t.push(u.chars[p]);p=p+1;}while(p<u.end&&u.chars[p]!=="\n");if(p===u.end){u.chars.push("\n");}else {p=p-1;}o=t.join("").replace(/\s+$/,"");if(/^(\/\/\s*@prettify-ignore-start\b)/.test(o)===true){let a="\n";p=p+1;do{t.push(u.chars[p]);p=p+1;}while(p<u.end&&(u.chars[p-1]!=="d"||u.chars[p-1]==="d"&&t.slice(t.length-20).join("")!=="@prettify-ignore-end"));n=p;do{}while(n>u.start&&u.chars[n-1]==="/"&&(u.chars[n]==="*"||u.chars[n]==="/"));if(u.chars[n]==="*")a="*/";if(a!=="\n"||u.chars[p]!=="\n"){do{t.push(u.chars[p]);if(a==="\n"&&u.chars[p+1]==="\n")break;p=p+1;}while(p<u.end&&(a==="\n"||a==="*/"&&(u.chars[p-1]!=="*"||u.chars[p]!=="/")))}if(u.chars[p]==="\n")p=p-1;o=t.join("").replace(/\s+$/,"");return [o,p]}if(o==="//"||o.slice(0,6)==="//    "||W===true){return [o,p]}o=o.replace(/(\/\/\s*)/,"// ");if(P<1||p===u.end-1&&this.data.begin[this.count]<1)return [o,p];n=p+1;S();k();return [o,p]}};D.lexers.style=function l(u){const{options:p}=D;const n=p.style;const{data:o}=s;const t=u.split(C);const P=u.length;const W=[];const S=[];let k=0;let a=C;let e=C;function m(f){const d=we(null);d.begin=s.structure[s.structure.length-1][1];d.ender=-1;d.lexer="style";d.lines=s.linesSpace;d.stack=s.structure[s.structure.length-1][0];d.token=e;d.types=a;s.push(o,d,f);}function z(f){const d=f;do{f=f-1;}while(t[f]==="\\"&&f>0);return (d-f)%2===1}function r(f){const d=f.replace(/\s*!important/," !important").split(C);const y=/-?transition$/.test(o.token[s.count-2]);const b=[];const A=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const E=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let R=0;let I=0;let j=C;let ne=d.length;let H=[];const G=B=>{return B};const V=B=>{B=B.replace(/\s*/g,C);return /\/\d/.test(B)&&f.indexOf("url(")===0?B:` ${B.charAt(0)} ${B.charAt(1)}`};const se=B=>{if(n.noLeadZero===true){return B.replace(/^-?\D0+(\.|\d)/,U=>U.replace(/0+/,C))}else if(/0*\./.test(B)){return B.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(B)[0])){return /^\D*0+\D*$/.test(B)?B.replace(/0+/,"0"):B.replace(/\d+/.exec(B)[0],/\d+/.exec(B)[0].replace(/^0+/,C))}return B};const T=B=>B.replace(",",", ");const re=B=>`${B} `;const ke=()=>{const B=R-1;let U=B;if(B<1)return true;do{U=U-1;}while(U>0&&d[U]==="\\");return (B-U)%2===1};if(R<ne){do{H.push(d[R]);if(d[R-1]!=="\\"||ke()===false){if(j===C){if(g(d[R],34)){j='"';I=I+1;}else if(g(d[R],39)){j="'";I=I+1;}else if(g(d[R],40)){j=")";I=I+1;}else if(g(d[R],91)){j="]";I=I+1;}}else if(g(d[R],40)&&g(j,41)||g(d[R],91)&&g(j,93)){I=I+1;}else if(d[R]===j){I=I-1;if(I===0)j=C;}}if(j===C&&d[R]===" "){H.pop();b.push(G(H.join(C)));H=[];}R=R+1;}while(R<ne)}b.push(G(H.join(C)));ne=b.length;R=0;if(R<ne){do{if(n.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(b[R])===true){b[R]=b[R].replace(/0+\./,".");}else if(n.noLeadZero===false&&/^-?\.\d+[a-z]/.test(b[R])){b[R]=b[R].replace(".","0.");}else if(A.test(b[R])||E.test(b[R])){b[R]=b[R].replace(A,se).replace(E,se);}else if(/^(0+([a-z]{2,3}|%))$/.test(b[R])&&y===false){b[R]="0";}else if(/^(0+)/.test(b[R])){b[R]=b[R].replace(/0+/,"0");if(/\d/.test(b[R].charAt(1)))b[R]=b[R].substr(1);}else if(/^url\((?!('|"))/.test(b[R])&&b[R].charCodeAt(b[R].length-1)===41){j=b[R].charAt(b[R].indexOf("url(")+4);if(j!=="@"&&Y(j,40)&&Y(j,60)){if(n.quoteConvert==="double"){b[R]=b[R].replace(/url\(/,'url("').replace(/\)$/,'")');}else {b[R]=b[R].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(b[R])){if(!oe.style.units.has(b[R].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,C))){b[R]=b[R].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,re);}}if(/^\w+\(/.test(b[R])&&b[R].charAt(b[R].length-1)===")"&&(b[R].indexOf("url(")!==0||b[R].indexOf("url(")===0&&b[R].indexOf(" ")>0)){b[R]=b[R].replace(/,\S/g,T);}R=R+1;}while(R<ne)}j=b.join(" ");return j.charAt(0)+j.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,V)}function $(){const f=[];const d=[];const y=n.quoteConvert;let b=k;let A=0;let E=C;let R=null;const I=()=>{d.push(t[b]);if(ae(t[b+1])){do{b=b+1;}while(b<P&&ae(t[b+1]))}};if(b<P){do{if(g(t[b],34)||g(t[b],39)){if(R===null)R=false;if(f[f.length-1]===t[b]&&(t[b-1]!=="\\"||z(b-1)===false)){f.pop();if(y==="double"){t[b]='"';}else if(y==="single"){t[b]="'";}}else if(Y(f[f.length-1],34)&&Y(f[f.length-1],39)&&(t[b-1]!=="\\"||z(b-1)===false)){f.push(t[b]);if(y==="double"){t[b]='"';}else if(y==="single"){t[b]="'";}}else if(t[b-1]==="\\"&&y!=="none"){if(z(b-1)===true){if(y==="double"&&g(t[b],39)){d.pop();}else if(y==="single"&&g(t[b],34)){d.pop();}}}else if(y==="double"&&g(t[b],34)){t[b]='\\"';}else if(y==="single"&&g(t[b],39)){t[b]="\\'";}d.push(t[b]);}else if(t[b-1]!=="\\"||z(b-1)===false){if(g(t[b],40)){if(R===null)R=true;f.push(")");I();}else if(g(t[b],91)){R=false;f.push("]");I();}else if((g(t[b],35)||g(t[b],64))&&g(t[b+1],123)){R=false;d.push(t[b]);b=b+1;f.push("}");I();}else if(t[b]===f[f.length-1]){d.push(t[b]);f.pop();}else {d.push(t[b]);}}else {d.push(t[b]);}if(s.structure[s.structure.length-1][0]==="map"&&f.length===0&&(g(t[b+1],44)||g(t[b+1],41))){if(g(t[b+1],41)&&g(o.token[s.count],40)){s.pop(o);s.structure.pop();d.splice(0,0,"(");}else {break}}if(g(t[b+1],58)){A=b;if(ae(t[A]))do{A=A-1;}while(ae(t[A]));E=t.slice(A-6,A+1).join(C);if(E.indexOf("filter")===E.length-6||E.indexOf("progid")===E.length-6){E="filter";}}if(f.length===0){if(g(t[b+1],59)&&z(b+1)===true||g(t[b+1],58)&&Y(t[b],58)&&Y(t[b+2],58)&&E!=="filter"&&E!=="progid"||(g(t[b+1],125)||g(t[b+1],123))||g(t[b+1],47)&&(g(t[b+2],42)||g(t[b+2],47))){A=d.length-1;if(ae(d[A])){do{A=A-1;b=b-1;d.pop();}while(ae(d[A]))}break}if(g(t[b+1],44))break}b=b+1;}while(b<P)}k=b;if(s.structure[s.structure.length-1][0]==="map"&&g(d[0],40)){W[W.length-1]=W[W.length-1]-1;}e=d.join(C).replace(/\s+/g," ").replace(/^\s/,C).replace(/\s$/,C);if(R===true){e=e.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(s.count>-1&&o.token[s.count].indexOf("extend(")===0){a="pseudo";}else if(R===true&&/\d/.test(e.charAt(0))===false&&/^rgba?\(/.test(e)===false&&e.indexOf("url(")!==0&&(e.indexOf(" ")<0||e.indexOf(" ")>e.indexOf("("))&&e.charAt(e.length-1)===")"){if(g(o.token[s.count],58)){a="value";}else {e=e.replace(/,\u0020?/g,", ");a="function";}e=r(e);}else if(s.count>-1&&`"'`.indexOf(o.token[s.count].charAt(0))>-1&&o.types[s.count]==="variable"){a="item";}else if(g(d[0],64)||d[0]==="$"){if(o.types[s.count]==="colon"&&p.language==="css"&&(o.types[s.count-1]==="property"||o.types[s.count-1]==="variable")){a="value";}else if(s.count>-1){a="item";E=o.token[s.count];b=E.indexOf("(");if(g(E[E.length-1],41)&&b>0){E=E.slice(b+1,E.length-1);o.token[s.count]=o.token[s.count].slice(0,b+1)+r(E)+")";}}e=r(e);}else {a="item";}m(C);}function x(f){let d=s.count;let y=0;let b=C;const A=[];const E=()=>{if(s.count<0)return;if(d>0&&(o.types[d]==="comment"||o.types[d]==="ignore")){do{d=d-1;A.push(o.token[d]);}while(d>0&&o.lexer[d]==="style"&&(o.types[d]==="comment"||o.types[d]==="ignore"))}y=d-1;if(y>0&&(o.types[y]==="comment"||o.types[y]==="ignore")){do{y=y-1;}while(y>0&&o.lexer[d]==="style"&&(o.types[y]==="comment"||o.types[y]==="ignore"))}if(y<0)y=0;if(d<0)d=0;b=o.token[d].charAt(0);};function R(I){let j=I;const ne=o.begin[j];o.token[I]=o.token[I].replace(/\s*&/," &").replace(/(\s*>\s*)/g," > ").replace(/(\s*\+\s*)/g," + ").replace(/:\s+/g,": ").replace(/^(\s+)/,C).replace(/(\s+)$/,C).replace(/\s+::\s+/,"::");if(g(o.token[j-1],44)||g(o.token[j-1],58)||o.types[j-1]==="comment"||o.types[j-1]==="pseudo"){if(o.types[j-1]==="pseudo"){o.token[j-1]=`${o.token[j-1]}${o.token[j]}`;o.types[j-1]="selector";s.splice({data:o,howmany:1,index:j});}else {do{j=j-1;if(o.begin[j]===ne){if(g(o.token[j],59)||o.types[j].indexOf("template")>-1)break;if(Y(o.token[j],44)&&o.types[j]!=="comment"){o.types[j]="selector";}if(g(o.token[j],58)){if(Y(o.token[j-1],58)&&o.stack[d]==="global"&&(o.types[j-1]==="comment"||o.types[j-1]==="ignore"||o.types[j-1].indexOf("template")>-1)){o.token[j]=`${o.token[j]}${o.token[j+1]}`;s.pop(o);}else if(s.count===1){o.token[j]=`${o.token[j]}${o.token[j+1]}`;s.pop(o);}else if(o.types[j]==="selector"&&o.types[j+1]==="item"){o.token[j]=`${o.token[j]}${o.token[j+1]}`;s.pop(o);}else {o.token[j]=`${o.token[j-1]}:${o.token[j+1]}`;o.lines[j]=o.lines[j-1];s.splice({data:o,howmany:2,index:j});}}}else {break}}while(j>0)}}j=s.count;if(n.sortSelectors===true&&g(o.token[j-1],44)){const H=[o.token[j]];do{j=j-1;if(o.types[j]==="comment"||o.types[j]==="ignore"){do{j=j-1;}while(j>0&&(o.types[j]==="comment"||o.types[j]==="ignore"))}if(g(o.token[j],44))j=j-1;H.push(o.token[j]);}while(j>0&&(g(o.token[j-1],44)||o.types[j-1]==="selector"||o.types[j-1]==="comment"||o.types[j-1]==="ignore"));H.sort();j=s.count;o.token[j]=H.pop();do{j=j-1;if(o.types[j]==="comment"||o.types[j]==="ignore"){do{j=j-1;}while(j>0&&(o.types[j]==="comment"||o.types[j]==="ignore"))}if(g(o.token[j],44))j=j-1;o.token[j]=H.pop();}while(j>0&&(g(o.token[j-1],44)||o.token[j-1]==="selector"||o.types[j-1]==="comment"||o.types[j-1]==="ignore"))}d=s.count;E();}E();if(f==="start"&&(o.types[d]==="value"||o.types[d]==="variable")){o.types[d]="item";}if(o.lexer[s.count-1]!=="style"||y<0){if(f==="colon"){if(b==="$"||g(b,64)){o.types[d]="variable";}else {if(o.stack[d]!=="global"&&(o.types[d]!=="comment"||o.types[d]!=="ignore")){o.types[d]="property";}}}else if(o.lexer[d]==="style"){o.types[d]="selector";R(d);}}else if(f==="start"&&o.types[d]==="function"&&o.lexer[d]==="style"){o.types[d]="selector";R(d);}else if(o.types[d]==="item"&&o.lexer[d]==="style"){if(f==="start"){R(d);o.types[d]="selector";if(g(o.token[d],58))o.types[y]="selector";if(o.token[d].indexOf("=\u201C")>0){s.error=`Invalid Quote (\u201C, \\201c) used on line number ${s.lineNumber}`;}else if(o.token[d].indexOf("=\u201D")>0){s.error=`Invalid Quote (\u201D, \\201d) used on line number ${s.lineNumber}`;}}else if(f==="end"){if(b==="$"||g(b,64)){o.types[d]="variable";}else {o.types[d]="value";}o.token[d]=r(o.token[d]);}else if(f==="separator"){if(o.types[y]==="colon"||g(o.token[y],44)||g(o.token[y],123)){if(Y(t[k],59)&&(o.types[y]==="selector"||g(o.token[y],123))){o.types[d]="selector";R(d);}else if(o.token[d].charAt(0)==="$"||g(o.token[d],64)){o.types[d]="variable";}else {o.types[d]="value";}o.token[d]=r(o.token[d]);if(o.token[d].charAt(0)==="\u201C"){s.error=`Invalid Quote (\u201C, \\201c) used on line number ${s.lineNumber}`;}else if(o.token[d].charAt(0)==="\u201D"){s.error=`Invalid (\u201D, \\201d) used on line number ${s.lineNumber}`;}}else {if(b==="$"||g(b,64)){o.types[d]="variable";}else if(o.types[y]==="value"||o.types[y]==="variable"){o.token[y]=o.token[y]+o.token[d];s.pop(o);}else {o.types[d]="value";}}}else if(f==="colon"){if(b==="$"||g(b,64)){o.types[d]="variable";}else {o.types[d]="property";}}else if(g(o.token[y],64)&&(o.types[y-2]!=="variable"&&o.types[y-2]!=="property"||o.types[y-1]==="separator")){o.types[y]="variable";a="variable";o.token[y]=r(o.token[y]);}}}function h(){let f=s.count;do{f=f-1;}while(f>0&&o.types[f]==="comment");if(o.token[f]===";")return;s.splice({data:o,howmany:0,index:f+1,record:{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"style",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:";",types:"separator"}});}function N(f,d){const y=[];let b=C;let A=C;let E=0;let R=f.length;const I=j=>{const ne=o.types[s.count-1];if(a==="item"){if(ne==="colon"){o.types[s.count]="value";}else {x(ne);}}a=j;if(a.indexOf("start")>-1||a.indexOf("else")>-1){m(e);}else {m(C);}};S[S.length-1]=true;if(k<P){do{y.push(t[k]);if(b===C){if(t[k]==='"'){b='"';}else if(t[k]==="'"){b="'";}else if(t[k]==="/"){if(t[k+1]==="/"){b="/";}else if(t[k+1]==="*"){b="*";}}else if(t[k+1]===d.charAt(0)){do{E=E+1;k=k+1;y.push(t[k]);}while(k<P&&E<d.length&&t[k+1]===d.charAt(E));if(E===d.length){b=y.join(C);if(ae(b.charAt(R))){do{R=R+1;}while(ae(b.charAt(R)))}E=R;do{E=E+1;}while(E<d.length&&!ae(b.charAt(E)));if(E===b.length)E=E-d.length;if(f==="{%"){if(b.indexOf("{%-")===0){b=b.replace(/^({%-\s*)/,"{%- ").replace(/(\s*-%})$/," -%}").replace(/(\s*%})$/," %}");A=b.slice(4);}else {b=b.replace(/^({%\s*)/,"{% ").replace(/(\s*%})$/," %}").replace(/(\s*-%})$/," -%}");A=b.slice(3);}}if(f==="{{"){b=b.replace(/^({{\s*)/,"{{ ").replace(/^({{-\s*)/,"{{- ").replace(/(\s*-}})$/," -}}").replace(/(\s*}})$/," }}");}if(a==="item"&&o.types[s.count-1]==="colon"&&(o.types[s.count-2]==="property"||o.types[s.count-2]==="variable")){a="value";o.types[s.count]="value";if(Number.isNaN(Number(o.token[s.count]))===true&&o.token[s.count].charAt(o.token[s.count].length-1)!==")"){o.token[s.count]=o.token[s.count]+b;}else {o.token[s.count]=o.token[s.count]+" "+b;}return}e=b;if(f==="{%"){const j=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];let ne=j.length-1;A=A.slice(0,A.indexOf(" "));if(A.indexOf("(")>0){A=A.slice(0,A.indexOf("("));}if(A==="else"||A==="elseif"||A==="when"||A==="elsif"){I("template_else");return}ne=j.length-1;if(ne>-1){do{if(A===j[ne]){I("template_start");return}if(A==="end"+j[ne]){I("template_end");return}ne=ne-1;}while(ne>-1)}}else if(f==="{{"){let j=b.slice(2);const ne=j.length;let H=0;do{H=H+1;}while(H<ne&&ae(j.charAt(H))===false&&j.charCodeAt(R)!==40);j=j.slice(0,H);if(j.charAt(j.length-2)==="}"){j=j.slice(0,j.length-2);}if(j==="end"){I("template_end");return}if(j==="block"||j==="define"||j==="form"||j==="if"||j==="range"||j==="with"){I("template_start");return}}I("template");return}E=0;}}else if(b===t[k]){if(g(b,34)||g(b,39)){b=C;}else if(g(b,47)&&(t[k]==="\r"||g(t[k],10))){b=C;}else if(g(b,42)&&g(t[k+1],47)){b=C;}}k=k+1;}while(k<P)}}function Z(f){let d;if(f){d=s.wrapCommentLine({chars:t,end:P,lexer:"style",opening:"//",start:k,terminator:"\n"});e=d[0];a=/^(\/\/\s*@prettify-ignore-start)/.test(e)?"ignore":"comment";}else {d=s.wrapCommentBlock({chars:t,end:P,lexer:"style",opening:"/*",start:k,terminator:"*/"});e=d[0];a=/^(\/\*\s*@prettify-ignore-start)/.test(e)?"ignore":"comment";}m(C);k=d[1];}function X(){const f=s.linesSpace;const d=we(null);d.data=we(null);d.data.margin=[C,C,C,C,false];d.data.padding=[C,C,C,C,false];d.last=we(null);d.last.margin=0;d.last.padding=0;d.removes=[];const y=s.structure[s.structure.length-1][1];function b(I){if(o.token[E-2]===I){const j=o.token[E].replace(/\s*!important\s*/g,C).split(" ");const ne=j.length;if(o.token[E].indexOf("!important")>-1)d.data[I[4]]=true;if(ne>3){if(d.data[I][0]===C)d.data[I][0]=j[0];if(d.data[I][1]===C)d.data[I][1]=j[1];if(d.data[I][2]===C)d.data[I][2]=j[2];if(d.data[I][3]===C)d.data[I][3]=j[3];}else if(ne>2){if(d.data[I][0]===C)d.data[I][0]=j[0];if(d.data[I][1]===C)d.data[I][1]=j[1];if(d.data[I][2]===C)d.data[I][2]=j[2];if(d.data[I][3]===C)d.data[I][3]=j[1];}else if(ne>1){if(d.data[I][0]===C)d.data[I][0]=j[0];if(d.data[I][1]===C)d.data[I][1]=j[1];if(d.data[I][2]===C)d.data[I][2]=j[0];if(d.data[I][3]===C)d.data[I][3]=j[1];}else {if(d.data[I][0]===C)d.data[I][0]=j[0];if(d.data[I][1]===C)d.data[I][1]=j[0];if(d.data[I][2]===C)d.data[I][2]=j[0];if(d.data[I][3]===C)d.data[I][3]=j[0];}}else if(o.token[E-2]===`${I}-bottom`){if(d.data[I][2]===C)d.data[I][2]=o.token[E];}else if(o.token[E-2]===`${I}-left`){if(d.data[I][3]===C)d.data[I][3]=o.token[E];}else if(o.token[E-2]===`${I}-right`){if(d.data[I][1]===C)d.data[I][1]=o.token[E];}else if(o.token[E-2]===`${I}-top`){if(d.data[I][0]===C)d.data[I][0]=o.token[E];}else {return}d.removes.push([E,I]);d.last[I]=E;}function A(){let I=0;let j=C;const ne=/^(0+([a-z]+|%))/;const H=d.removes.length;const G=d.data.margin[0]!==C&&d.data.margin[1]!==C&&d.data.margin[2]!==C&&d.data.margin[3]!==C;const V=d.data.padding[0]!==C&&d.data.padding[1]!==C&&d.data.padding[2]!==C&&d.data.padding[3]!==C;function se(T){if(ne.test(d.data[T][0])===true)d.data[T][0]="0";if(ne.test(d.data[T][1])===true)d.data[T][1]="0";if(ne.test(d.data[T][2])===true)d.data[T][2]="0";if(ne.test(d.data[T][3])===true)d.data[T][3]="0";if(d.data[T][0]===d.data[T][1]&&d.data[T][0]===d.data[T][2]&&d.data[T][0]===d.data[T][3]){j=d.data[T][0];}else if(d.data[T][0]===d.data[T][2]&&d.data[T][1]===d.data[T][3]&&d.data[T][0]!==d.data[T][1]){j=`${d.data[T][0]} ${d.data[T][1]}`;}else if(d.data[T][1]===d.data[T][3]&&d.data[T][0]!==d.data[T][2]){j=`${d.data[T][0]} ${d.data[T][1]} ${d.data[T][2]}`;}else {j=`${d.data[T][0]} ${d.data[T][1]} ${d.data[T][2]} ${d.data[T][3]}`;}if(d.data[T[4]]===true)j=`${j.replace(" !important",C)} !important`;if(d.last[T]>s.count){I=y<1?1:y+1;do{if(o.begin[I]===y&&o.types[I]==="value"&&o.token[I-2].indexOf(T)===0){d.last[T]=I;break}I=I+1;}while(I<s.count)}o.token[d.last[T]]=j;o.token[d.last[T]-2]=T;}if(H>1&&(G===true||V===true)){do{if(d.removes[I][0]!==d.last.margin&&d.removes[I][0]!==d.last.padding&&(G===true&&d.removes[I][1]==="margin"||V===true&&d.removes[I][1]==="padding")){s.splice({data:o,howmany:o.types[d.removes[I][0]+1]==="separator"?4:3,index:d.removes[I][0]-2});}I=I+1;}while(I<H-1)}if(G===true)se("margin");if(V===true)se("padding");if(R===true){if(y<0){s.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {s.sortCorrection(y,s.count+1);}}}let E=s.count;let R=false;do{E=E-1;if(o.begin[E]===y){if(o.types[E]==="value"&&o.types[E-2]==="property"){if(o.token[E-2].indexOf("margin")===0){b("margin");}else if(o.token[E-2].indexOf("padding")===0){b("padding");}}}else {R=true;E=o.begin[E];}}while(E>y);A();s.linesSpace=f;}do{if(ae(t[k])){k=s.spacer({array:t,end:P,index:k});}else if(g(t[k],47)&&g(t[k+1],42)){Z(false);}else if(g(t[k],47)&&g(t[k+1],47)){Z(true);}else if(g(t[k],123)&&g(t[k+1],37)){N("{%","%}");}else if(g(t[k],123)&&g(t[k+1],123)){N("{{","}}");}else if(g(t[k],123)||g(t[k],40)&&g(o.token[s.count],58)&&o.types[s.count-1]==="variable"){x("start");a="start";e=t[k];if(g(t[k],40)){m("map");W.push(0);}else if(o.types[s.count]==="selector"||o.types[s.count]==="variable"){m(o.token[s.count]);}else if(o.types[s.count]==="colon"){m(o.token[s.count-1]);}else {m("block");}S.push(false);}else if(g(t[k],125)||t[k]===")"&&s.structure[s.structure.length-1][0]==="map"&&W[W.length-1]===0){if(g(t[k],125)&&g(o.token[s.count-1],123)&&o.types[s.count]==="item"&&o.token[s.count-2]!==void 0&&o.token[s.count-2].charAt(o.token[s.count-2].length-1)==="@"){o.token[s.count-2]=o.token[s.count-2]+"{"+o.token[s.count]+"}";s.pop(o);s.pop(o);s.structure.pop();}else {if(g(t[k],41))W.pop();x("end");if(g(t[k],125)&&Y(o.token[s.count],59)){if(o.types[s.count]==="value"||o.types[s.count]==="function"||o.types[s.count]==="variable"&&(g(o.token[s.count-1],58)||g(o.token[s.count-1],59))){if(n.correct===true){e=";";}else {e="x;";}a="separator";m(C);}else if(o.types[s.count]==="comment"){h();}}S.pop();e=t[k];a="end";if(g(t[k],125))X();if(n.sortProperties===true&&g(t[k],125))s.objectSort(o);m(C);}}else if(g(t[k],59)||g(t[k],44)){if(o.types[s.count-1]==="selector"||o.types[s.count]!=="function"&&g(o.token[s.count-1],125)){x("start");}else {x("separator");}if(o.types[s.count]!=="separator"&&z(k)===true){e=t[k];a="separator";m(C);}}else if(g(t[k],58)&&o.types[s.count]!=="end"){if(g(t[k+1],58)){k=k+1;x("pseudo");e="::";a="pseudo";m(C);}else {x("colon");e=":";a="colon";m(C);}}else {if(s.structure[s.structure.length-1][0]==="map"&&g(t[k],40)){W[W.length-1]=W[W.length-1]+1;}$();}k=k+1;}while(k<P);if(n.sortProperties===true)s.objectSort(o);return o};D.lexers.script=function l(u){const{options:p}=D;if(p.language==="json")p.script.quoteConvert="double";let n=0;let o="";let t="";let P=[];let W=0;let S=-1;let k=-1;let a=[];let e;let m;let z;const{data:r}=s;const{references:$}=s;const x=u.length;const h=u.split("");const N=[];const Z=[];const X=[];const f=[0,""];const d=[false];const y=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const b=we(null);b.count=[];b.index=[];b.len=-1;b.word=[];function A(c){let i=0;const w=T(1,false);const O=s.structure.length===0?"":s.structure[s.structure.length-1][0];const v=we(null);v.begin=r.begin[s.count];v.ender=r.begin[s.count];v.lexer=r.lexer[s.count];v.lines=r.lines[s.count];v.stack=r.stack[s.count];v.token=r.token[s.count];v.types=r.types[s.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(o))return;if(t==="start"||t==="type_start")return;if(p.language==="json")return;if(g(v.token,59)||g(v.token,44)||v.stack==="class"||v.stack==="map"||v.stack==="attribute"||r.types[v.begin-1]==="generic"||w==="{"||O==="initializer"){return}if(g(v.token,125)&&r.stack[v.begin-1]==="global"&&r.types[v.begin-1]!=="operator"&&v.stack===r.stack[s.count-1]){return}if(v.stack==="array"&&v.token!=="]")return;if(r.token[r.begin[s.count]]==="{"&&v.stack==="data_type")return;if(v.types!==void 0&&v.types.indexOf("template")>-1&&v.types.indexOf("template_string")<0){return}if(g(w,59)&&c===false)return;if(r.lexer[s.count-1]!=="script"&&(n<x&&x===D.source.length-1||x<D.source.length-1)){return}if(g(v.token,125)&&(v.stack==="function"||v.stack==="if"||v.stack==="else"||v.stack==="for"||v.stack==="do"||v.stack==="while"||v.stack==="switch"||v.stack==="class"||v.stack==="try"||v.stack==="catch"||v.stack==="finally"||v.stack==="block")){if(v.stack==="function"&&(r.stack[v.begin-1]==="data_type"||r.types[v.begin-1]==="type")){i=v.begin;do{i=i-1;}while(i>0&&r.token[i]!==")"&&r.stack[i]!=="arguments");i=r.begin[i];}else {i=r.begin[v.begin-1];}if(g(r.token[i],40)){i=i-1;if(r.token[i-1]==="function")i=i-1;if(r.stack[i-1]==="object"||r.stack[i-1]==="switch")return;if(r.token[i-1]!=="="&&r.token[i-1]!=="return"&&r.token[i-1]!==":"){return}}else {return}}if(v.types==="comment"||O==="method"||O==="paren"||O==="expression"||O==="array"||O==="object"||O==="switch"&&v.stack!=="method"&&r.token[r.begin[s.count]]==="("&&r.token[r.begin[s.count]-1]!=="return"&&r.types[r.begin[s.count]-1]!=="operator"){return}if(r.stack[s.count]==="expression"&&(r.token[r.begin[s.count]-1]!=="while"||r.token[r.begin[s.count]-1]==="while"&&r.stack[r.begin[s.count]-2]!=="do")){return}if(w!==""&&"=<>+*?|^:&%~,.()]".indexOf(w)>-1&&c===false)return;if(v.types==="comment"){i=s.count;do{i=i-1;}while(i>0&&r.types[i]==="comment");if(i<1)return;v.token=r.token[i];v.types=r.types[i];v.stack=r.stack[i];}if(v.token===void 0||v.types==="start"||v.types==="separator"||v.types==="operator"&&v.token!=="++"&&v.token!=="--"||v.token==="x}"||v.token==="var"||v.token==="let"||v.token==="const"||v.token==="else"||v.token.indexOf("#!/")===0||v.token==="instanceof"){return}if(v.stack==="method"&&(r.token[v.begin-1]==="function"||r.token[v.begin-2]==="function")){return}if(p.script.variableList==="list")b.index[b.len]=s.count;o=p.script.correct===true?";":"x;";t="separator";i=s.linesSpace;s.linesSpace=0;U("");s.linesSpace=i;j();}function E(){let c=s.count;do{c=c-1;}while(c>-1&&r.token[c]==="x}");if(r.stack[c]==="else")return U("");c=c+1;s.splice({data:r,howmany:0,index:c,record:{begin:r.begin[c],ender:-1,lexer:"script",lines:s.linesSpace,stack:r.stack[c],token:o,types:t}});U("");}function R(){let c=s.count;if(r.types[c]==="comment"){do{c=c-1;}while(c>0&&r.types[c]==="comment")}if(r.token[c]==="from")c=c-2;if(r.token[c]==="x;"){s.splice({data:r,howmany:1,index:c});}}function I(){A(false);if(S>-1)L();z=s.wrapCommentBlock({chars:h,end:x,lexer:"script",opening:"/*",start:n,terminator:"*/"});n=z[1];if(r.token[s.count]==="var"||r.token[s.count]==="let"||r.token[s.count]==="const"){e=s.pop(r);U("");s.push(r,e,"");if(r.lines[s.count-2]===0)r.lines[s.count-2]=r.lines[s.count];r.lines[s.count]=0;}else if(z[0]!==""){o=z[0];t=/^\/\*\s*@ignore\s*\bstart\b/.test(o)?"ignore":"comment";if(o.indexOf("# sourceMappingURL=")===2){f[0]=s.count+1;f[1]=o;}s.push(r,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"script",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:o,types:t},"");}if(/\/\*\s*global\s+/.test(r.token[s.count])===true&&r.types.indexOf("word")<0){$[0]=r.token[s.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function j(){let c="";const i=T(5,false);const w=s.count;const O=s.linesSpace;if(p.language==="json"||Z.length<1||Z[Z.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(o)===false){return}if(r.stack[s.count]==="do"&&i==="while"&&r.token[s.count]==="}"){return}if(o===";"&&r.token[w-1]==="x{"){c=r.token[r.begin[w-2]-1];if(r.token[w-2]==="do"||r.token[w-2]===")"&&"ifforwhilecatch".indexOf(c)>-1){e=s.pop(r);o=p.script.correct===true?"}":"x}";t="end";m=s.structure[s.structure.length-1];U("");Z.pop();s.linesSpace=O;return}e=s.pop(r);o=p.script.correct===true?"}":"x}";t="end";m=s.structure[s.structure.length-1];U("");Z.pop();o=";";t="end";s.push(r,e,"");s.linesSpace=O;return}o=p.script.correct===true?"}":"x}";t="end";if(r.token[s.count]==="x}")return;if(r.stack[s.count]==="if"&&(r.token[s.count]===";"||r.token[s.count]==="x;")&&i==="else"){m=s.structure[s.structure.length-1];U("");Z.pop();s.linesSpace=O;return}do{m=s.structure[s.structure.length-1];U("");Z.pop();if(r.stack[s.count]==="do")break}while(Z[Z.length-1]==="x{");s.linesSpace=O;}function ne(){let c=s.count;if(r.stack[c]==="object"&&p.script.objectSort===true){o=",";t="separator";R();U("");}else {do{c=c-1;}while(c>0&&r.types[c-1]==="comment");s.splice({data:r,howmany:0,index:c,record:{begin:r.begin[c],ender:-1,lexer:"script",lines:s.linesSpace,stack:r.stack[c],token:",",types:"separator"}});U("");}}function H(c){let i=false;let w=false;const O=T(1,false);const v=r.token[s.count]==="("?s.count:r.begin[s.count];function q(){let _=0;const Q=r.token[v-1]==="Array";const te=Q===true?"[":"{";const F=Q===true?"]":"}";const J=Q===true?"array":"object";if(Q===true&&r.types[s.count]==="number"){_=Number(r.token[s.count]);e=s.pop(r);}e=s.pop(r);e=s.pop(r);e=s.pop(r);s.structure.pop();o=te;t="start";U(J);if(_>0){o=",";t="separator";do{U("");_=_-1;}while(_>0)}o=F;t="end";U("");}if(S>-1)L();if(X.length>0){if(X[X.length-1]===0){X.pop();}else {X[X.length-1]=X[X.length-1]-1;}}if(g(c,41)||c==="x)"||g(c,93)){if(p.script.correct===true)B();R();}if(g(c,41)||c==="x)")A(false);if(b.len>-1){if(g(c,125)&&(p.script.variableList==="list"&&b.count[b.len]===0||r.token[s.count]==="x;"&&p.script.variableList==="each")){M();}b.count[b.len]=b.count[b.len]-1;if(b.count[b.len]<0)M();}if(g(o,44)&&r.stack[s.count]!=="initializer"&&(g(c,93)&&g(r.token[s.count-1],91)||g(c,125))){e=s.pop(r);}if(g(c,41)||c==="x)"){o=c;if(N.length>0){P=N[N.length-1];if(P.length>1&&Y(O,123)&&(P[0]==="if"||P[0]==="for"||P[0]==="with"||P[0]==="while"&&r.stack[P[1]-2]!==void 0&&r.stack[P[1]-2]!=="do")){i=true;}}}else if(g(c,93)){o="]";}else if(g(c,125)){if(Y(o,44)&&p.script.correct===true)B();if(s.structure.length>0&&s.structure[s.structure.length-1][0]!=="object")A(true);if((p.script.objectSort===true||p.language==="json"&&p.json.objectSort===true)&&s.structure[s.structure.length-1][0]==="object"){s.objectSort(r);}if(t==="comment"){o=r.token[s.count];t=r.types[s.count];}o="}";}if(s.structure[s.structure.length-1][0]==="data_type"){t="type_end";}else {t="end";}N.pop();m=s.structure[s.structure.length-1];if(g(c,41)&&p.script.correct===true&&v-s.count<2&&(g(r.token[s.count],40)||r.types[s.count]==="number")&&(r.token[v-1]==="Array"||r.token[v-1]==="Object")&&r.token[v-2]==="new"){q();w=true;}if(Z[Z.length-1]==="x{"&&g(c,125)){j();Z.pop();if(r.stack[s.count]!=="try"){if(Y(O,58)&&Y(O,59)&&r.token[r.begin[n]-1]!=="?")j();}o="}";}else {Z.pop();}if(p.script.endComma!==void 0&&p.script.endComma!=="none"&&s.structure[s.structure.length-1][0]==="array"||s.structure[s.structure.length-1][0]==="object"||s.structure[s.structure.length-1][0]==="data_type"){if(p.script.endComma==="always"&&r.token[s.count]!==","){const _=s.structure[s.structure.length-1][1];let Q=s.count;do{if(r.begin[Q]===_){if(g(r.token[Q],44))break}else {Q=r.begin[Q];}Q=Q-1;}while(Q>_);if(Q>_){const te=t;const F=o;o=",";t="separator";U("");o=F;t=te;}}else if(p.script.endComma==="never"&&g(r.token[s.count],44)){s.pop(r);}}if(w===false){U("");if(o==="}"&&r.stack[s.count]!=="object"&&r.stack[s.count]!=="class"&&r.stack[s.count]!=="data_type"){$.pop();j();}}if(i===true){o=p.script.correct===true?"{":"x{";t="start";U(P[0]);Z.push("x{");P[1]=s.count;}d.pop();if(s.structure[s.structure.length-1][0]!=="data_type")d[d.length-1]=false;}function G(c,i,w){let O=0;let v=false;let q=false;let _=[c];let Q;const te=i.split("");const F=te.length;const J=n;const le=n+c.length;const K=p.script.quoteConvert===void 0?"none":p.script.quoteConvert;function ee(){let ce=0;_=[];t=w;O=n;if(w==="string"&&/\s/.test(h[O+1])===true){ce=1;do{O=O+1;if(h[O]==="\n")ce=ce+1;}while(O<x&&/\s/.test(h[O+1])===true);s.linesSpace=ce;}}function ue(){let ce="";function be(fe){if(p.language!=="javascript"&&p.language!=="typescript"&&p.language!=="jsx"&&p.language!=="tsx"){const ie=pe=>pe.replace(/\s*$/," ");const xe=pe=>pe.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(fe)||/\}%(>|\])/.test(fe))return fe;fe=fe.replace(/\{((\{+)|%-?)\s*/g,ie);fe=fe.replace(/\s*((\}\}+)|(-?%\}))/g,xe);return fe}return fe}if(g(c,34)&&K==="single"){_[0]="'";_[_.length-1]="'";}else if(g(c,39)&&K==="double"){_[0]='"';_[_.length-1]='"';}else if(v===true){ce=_[_.length-1];_.pop();_.pop();_.push(ce);}n=O;if(i==="\n"){n=n-1;_.pop();}o=_.join("");if(g(c,34)||g(c,39)||c==="{{"||c==="{%"){o=be(o);}if(c==="{%"||c==="{{"){Q=$e(o);t=Q[0];U(Q[1]);return}if(w==="string"){t="string";if(p.language==="json"){o=o.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(c.indexOf("#!")===0){o=o.slice(0,o.length-1);s.linesSpace=2;}else if(s.structure[s.structure.length-1][0]!=="object"||s.structure[s.structure.length-1][0]==="object"&&T(1,false)!==":"&&Y(r.token[s.count],44)&&Y(r.token[s.count],123)){if(o.length>p.wrap&&p.wrap>0||p.wrap!==0&&r.token[s.count]==="+"&&(r.token[s.count-1].charAt(0)==='"'||r.token[s.count-1].charAt(0)==="'")){let fe=o;let ie="";let xe=K==="double"?'"':K==="single"?"'":fe.charAt(0);const pe=p.wrap;const Re=/u[0-9a-fA-F]{4}/;const Be=/x[0-9a-fA-F]{2}/;fe=fe.slice(1,fe.length-1);if(r.token[s.count]==="+"&&(r.token[s.count-1].charAt(0)==='"'||r.token[s.count-1].charAt(0)==="'")){s.pop(r);xe=r.token[s.count].charAt(0);fe=r.token[s.count].slice(1,r.token[s.count].length-1)+fe;s.pop(r);}if(fe.length>pe&&pe>0){do{ie=fe.slice(0,pe);if(ie.charAt(pe-5)==="\\"&&Re.test(fe.slice(pe-4,pe+1))){ie=ie.slice(0,pe-5);}else if(ie.charAt(pe-4)==="\\"&&Re.test(fe.slice(pe-3,pe+2))){ie=ie.slice(0,pe-4);}else if(ie.charAt(pe-3)==="\\"&&(Re.test(fe.slice(pe-2,pe+3))||Be.test(fe.slice(pe-2,pe+1)))){ie=ie.slice(0,pe-3);}else if(ie.charAt(pe-2)==="\\"&&(Re.test(fe.slice(pe-1,pe+4))||Be.test(fe.slice(pe-1,pe+2)))){ie=ie.slice(0,pe-2);}else if(ie.charAt(pe-1)==="\\"){ie=ie.slice(0,pe-1);}ie=xe+ie+xe;fe=fe.slice(ie.length-2);o=ie;t="string";U("");s.linesSpace=0;o="+";t="operator";U("");}while(fe.length>pe)}if(fe===""){o=xe+xe;}else {o=xe+fe+xe;}t="string";}}}else if(/\{\s*\?>$/.test(o)){t="template_start";}else {t=w;}if(o.length>0)U("");}if(S>-1)L();if(h[n-1]==="\\"&&me(n-1)===true&&(h[n]==='"'||h[n]==="'")){s.pop(r);if(r.token[0]==="{"){if(h[n]==='"'){c='"';i='\\"';_=['"'];}else {c="'";i="\\'";_=["'"];}v=true;}else {if(h[n]==='"'){_=['\\"'];ue();return}_=["\\'"];ue();return}}O=le;if(O<x){do{if(r.token[0]!=="{"&&r.token[0]!=="["&&K!=="none"&&(h[O]==='"'||h[O]==="'")){if(h[O-1]==="\\"){if(me(O-1)===true){if(K==="double"&&h[O]==="'"){_.pop();}else if(K==="single"&&h[O]==='"'){_.pop();}}}else if(K==="double"&&h[O]==='"'&&h[n]==="'"){h[O]='\\"';}else if(K==="single"&&h[O]==="'"&&h[n]==='"'){h[O]="\\'";}_.push(h[O]);}else if(O>J){q=true;if(h[O]==="{"&&h[O+1]==="%"&&h[O+2]!==c){ue();G("{%","%}","template");ee();}else if(h[O]==="{"&&h[O+1]==="{"&&h[O+2]!==c){ue();G("{{","}}","template");ee();}else {q=false;_.push(h[O]);}}else {_.push(h[O]);}if((c==='"'||c==="'")&&(q===true||O>J)&&p.language!=="json"&&h[O-1]!=="\\"&&h[O]!=='"'&&h[O]!=="'"&&(h[O]==="\n"||O===x-1)){s.error="Unterminated string in script on line number "+s.lineNumber;break}if(h[O]===te[F-1]&&(h[O-1]!=="\\"||me(O-1)===false)){if(F===1)break;if(_[O-le]===te[0]&&_.slice(O-le-F+2).join("")===i)break}O=O+1;}while(O<x)}ue();}function V(){A(false);j();if(S>-1)L();z=s.wrapCommentLine({chars:h,end:x,lexer:"script",opening:"//",start:n,terminator:"\n"});n=z[1];if(z[0]!==""){o=z[0];t=/^(\/\/\s*@prettify-ignore-start)/.test(o)?"ignore":"comment";if(o.indexOf("# sourceMappingURL=")===2){f[0]=s.count+1;f[1]=o;}s.push(r,{begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"script",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:o,types:t},"");}}function se(){let c=0;let i=false;let w=false;let O=0;let v=0;let q=0;let _="";let Q="";let te="";const F=[];const J=d[d.length-1];const le="0123456789=<>+-*?|^:&.,;%(){}[]~";function K(){if(o==="(")s.structure[s.structure.length-1]=["paren",s.count];D.lexers.markup(F.join(""));}if(S>-1)L();Q=s.count>0?r.token[s.count-1]:"";te=s.count>0?r.types[s.count-1]:"";_=T(1,false);if(p.language!=="jsx"&&p.language!=="tsx"&&/\d/.test(_)===false&&(o==="function"||Q==="=>"||Q==="void"||Q==="."||r.stack[s.count]==="arguments"||t==="type"&&Q==="type"||t==="reference"&&(te==="operator"||Q==="function"||Q==="class"||Q==="new")||t==="type"&&te==="operator"||o==="return"||t==="operator")){const ee=[];let ue=0;let ce=0;c=n;do{ee.push(h[c]);if(h[c]==="<"){ue=ue+1;}else if(h[c]===">"){ue=ue-1;if(ue<1)break}c=c+1;}while(c<x);ce=n;n=c;_=T(1,false);if(h[c]===">"&&(J===true||Q==="=>"||Q==="."||te!=="operator"||te==="operator"&&(_==="("||_==="="))){t="generic";o=ee.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");U("");return}n=ce;}c=s.count;if(r.types[c]==="comment"){do{c=c-1;}while(c>0&&r.types[c]==="comment")}if(J===false&&T(1,false)!==">"&&(h[n]!=="<"&&le.indexOf(h[n+1])>-1||r.token[c]==="++"||r.token[c]==="--"||/\s/.test(h[n+1])===true||/\d/.test(h[n+1])===true&&(t==="operator"||t==="string"||t==="number"||t==="reference"||t==="word"&&o!=="return"))){t="operator";o=ke();return U("")}if(p.language!=="typescript"&&(r.token[c]==="return"||r.types[c]==="operator"||r.types[c]==="start"||r.types[c]==="separator"||r.types[c]==="jsx_attribute_start"||r.token[c]==="}"&&s.structure[s.structure.length-1][0]==="global")){t="markup";p.language="jsx";do{F.push(h[n]);if(h[n]==="{"){v=v+1;i=true;}else if(h[n]==="}"){v=v-1;if(v===0)i=false;}else if(h[n]==="<"&&i===false){if(h[n+1]==="<"){do{F.push(h[n]);n=n+1;}while(n<x&&h[n+1]==="<")}O=O+1;if(T(1,false)==="/")w=true;}else if(h[n]===">"&&i===false){if(h[n+1]===">"){do{F.push(h[n]);n=n+1;}while(h[n+1]===">")}O=O-1;if(w===true){q=q-1;}else if(h[n-1]!=="/"){q=q+1;}if(O===0&&v===0&&q<1){_=T(2,false);if(_.charAt(0)!=="<")return K();if(_.charAt(0)==="<"&&le.indexOf(_.charAt(1))<0&&/\s/.test(_.charAt(1))===false){c=n+1;do{c=c+1;if(h[c]===">"||/\s/.test(h[c-1])&&le.indexOf(h[c])<0)break;if(le.indexOf(h[c])>-1)return K()}while(c<x)}else {return K()}}w=false;}n=n+1;}while(n<x);return K()}t="operator";o=ke();U("");}function T(c,i){let w=i===true?n:n+1;let O="";if(typeof c!=="number"||c<1)c=1;if(h[n]==="/"){if(h[n+1]==="/"){O="\n";}else if(h[n+1]==="*"){O="/";}}if(w<x){do{if(/\s/.test(h[w])===false){if(h[w]==="/"){if(O===""){if(h[w+1]==="/"){O="\n";}else if(h[w+1]==="*"){O="/";}}else if(O==="/"&&h[w-1]==="*"){O="";}}if(O===""&&h[w-1]+h[w]!=="*/")return h.slice(w,w+c).join("")}else if(O==="\n"&&h[w]==="\n"){O="";}w=w+1;}while(w<x)}return ""}function re(){const c=x;const i=[h[n]];let w=0;let O=/zz/;let v=i[0]===".";if(n<x-2&&h[n]==="0"){if(h[n+1]==="x"){O=/[0-9a-fA-F]/;}else if(h[n+1]==="o"){O=/[0-9]/;}else if(h[n+1]==="b"){O=/0|1/;}if(O.test(h[n+2])===true){i.push(h[n+1]);w=n+1;do{w=w+1;i.push(h[w]);}while(O.test(h[w+1])===true);n=w;return i.join("")}}w=n+1;if(w<c){do{if(/[0-9]/.test(h[w])||h[w]==="."&&v===false){i.push(h[w]);if(h[w]===".")v=true;}else {break}w=w+1;}while(w<c)}if(w<c-1&&(/\d/.test(h[w-1])===true||/\d/.test(h[w-2])===true&&(h[w-1]==="-"||h[w-1]==="+"))&&(h[w]==="e"||h[w]==="E")){i.push(h[w]);if(h[w+1]==="-"||h[w+1]==="+"){i.push(h[w+1]);w=w+1;}v=false;w=w+1;if(w<c){do{if(/[0-9]/.test(h[w])||h[w]==="."&&v===false){i.push(h[w]);if(h[w]===".")v=true;}else {break}w=w+1;}while(w<c)}}n=w-1;return i.join("")}function ke(){let c=0;let i=0;let w=x;let O="";const v=["=","<",">","+","*","?","|","^",":","&","%","~"];const q=v.length;if(S>-1)L();if(h[n]==="/"&&(s.count>-1&&(t!=="word"&&t!=="reference"||o==="typeof"||o==="return"||o==="else")&&t!=="number"&&t!=="string"&&t!=="end")){if(o==="return"||o==="typeof"||o==="else"||t!=="word"){o=ge();t="regex";}else {o="/";t="operator";}U("");return "regex"}if(h[n]==="?"&&("+-*/.?".indexOf(h[n+1])>-1||h[n+1]===":"&&v.join("").indexOf(h[n+2])<0)){if(h[n+1]==="."&&/\d/.test(h[n+2])===false){O="?.";}else if(h[n+1]==="?"){O="??";}if(O==="")return "?"}if(h[n]===":"&&"+-*/".indexOf(h[n+1])>-1)return ":";if(n<x-1){if(h[n]!=="<"&&h[n+1]==="<")return h[n];if(h[n]==="!"&&h[n+1]==="/")return "!";if(h[n]==="-"){d[d.length-1]=false;if(h[n+1]==="-"){O="--";}else if(h[n+1]==="="){O="-=";}else if(h[n+1]===">"){O="->";}if(O==="")return "-"}if(h[n]==="+"){d[d.length-1]=false;if(h[n+1]==="+"){O="++";}else if(h[n+1]==="="){O="+=";}if(O==="")return "+"}if(h[n]==="="&&h[n+1]!=="="&&h[n+1]!=="!"&&h[n+1]!==">"){d[d.length-1]=false;return "="}}if(h[n]===":"){if(p.language==="typescript"){if(r.stack[s.count]==="arguments"){if(r.token[s.count]==="?"){s.pop(r);O="?:";n=n-1;}d[d.length-1]=true;}else if(o===")"&&(r.token[r.begin[s.count]-1]==="function"||r.token[r.begin[s.count]-2]==="function")){d[d.length-1]=true;}else if(t==="reference"){c=s.count;let _=false;do{if(r.begin[c]===r.begin[s.count]){if(c<s.count&&r.token[c]===":"&&r.types[c+1]!=="type")_=true;if(r.token[c]==="?"&&_===false)break;if(r.token[c]===";"||r.token[c]==="x;")break;if(r.token[c]==="var"||r.token[c]==="let"||r.token[c]==="const"||r.types[c]==="type"){d[d.length-1]=true;break}}else {if(r.types[c]==="type_end"){d[d.length-1]=true;break}c=r.begin[c];}c=c-1;}while(c>r.begin[s.count])}}else if(r.token[s.count-1]==="["&&(r.types[s.count]==="word"||r.types[s.count]==="reference")){s.structure[s.structure.length-1][0]="attribute";r.stack[s.count]="attribute";}}if(O===""){if(h[n+1]==="+"&&h[n+2]==="+"||h[n+1]==="-"&&h[n+2]==="-"){O=h[n];}else {const _=[h[n]];c=n+1;if(c<w){do{if(h[c]==="+"&&h[c+1]==="+"||h[c]==="-"&&h[c+1]==="-")break;i=0;if(i<q){do{if(h[c]===v[i]){_.push(v[i]);break}i=i+1;}while(i<q)}if(i===q)break;c=c+1;}while(c<w)}O=_.join("");}}n=n+(O.length-1);if(O==="=>"&&o===")"){c=s.count;w=r.begin[c];do{if(r.begin[c]===w)r.stack[c]="method";c=c-1;}while(c>w-1)}return O}function B(){let c=true;let i="+";let w="";let O="";let v="";let q=0;let _=0;let Q=0;let te="";const F=[];function J(){Q=r.begin[Q]-1;if(r.types[Q]==="end"){J();}else if(r.token[Q-1]==="."){le();}}function le(){Q=Q-2;if(r.types[Q]==="end"){J();}else if(r.token[Q-1]==="."){le();}}function K(){let ue=0;const ce=F.length;if(ue<ce){do{s.push(r,F[ue],"");ue=ue+1;}while(ue<ce)}}function ee(ue){const ce=we(null);ce.begin=r.begin[ue];ce.ender=r.ender[ue];ce.lexer=r.lexer[ue];ce.lines=r.lines[ue];ce.stack=r.stack[ue];ce.token=r.token[ue];ce.types=r.types[ue];return ce}w=r.token[s.count];O=r.token[s.count-1];v=r.token[s.count-2];if(w!=="++"&&w!=="--"&&O!=="++"&&O!=="--"){Q=s.count;if(r.types[Q]==="end"){J();}else if(r.token[Q-1]==="."){le();}}if(r.token[Q-1]==="++"||r.token[Q-1]==="--"){if("startendoperator".indexOf(r.types[Q-2])>-1)return;q=Q;if(q<s.count+1){do{F.push(ee(q));q=q+1;}while(q<s.count+1);s.splice({data:r,howmany:s.count-Q,index:Q});}}else {if(p.script.correct===false||w!=="++"&&w!=="--"&&O!=="++"&&O!=="--"){return}te=T(1,false);if((w==="++"||w==="--")&&(h[n]===";"||te===";"||h[n]==="}"||te==="}"||h[n]===")"||te===")")){i=r.stack[s.count];if(i==="array"||i==="method"||i==="object"||i==="paren"||i==="notation"||r.token[r.begin[s.count]-1]==="while"&&i!=="while"){return}q=s.count;do{q=q-1;if(r.token[q]==="return")return;if(r.types[q]==="end"){do{q=r.begin[q]-1;}while(r.types[q]==="end"&&q>0)}}while(q>0&&(r.token[q]==="."||r.types[q]==="word"||r.types[q]==="reference"||r.types[q]==="end"));if(r.token[q]===","&&h[n]!==";"&&te!==";"&&h[n]!=="}"&&te!=="}"&&h[n]!==")"&&te!==")"){return}if(r.types[q]==="operator"){if(r.stack[q]==="switch"&&r.token[q]===":"){do{q=q-1;if(r.types[q]==="start"){_=_-1;if(_<0)break}else if(r.types[q]==="end"){_=_+1;}if(r.token[q]==="?"&&_===0)return}while(q>0)}else {return}}c=false;i=w==="--"?"-":"+";}else if(v==="["||v===";"||v==="x;"||v==="}"||v==="{"||v==="("||v===")"||v===","||v==="return"){if(w==="++"||w==="--"){if(v==="["||v==="("||v===","||v==="return")return;if(w==="--")i="-";c=false;}else if(O==="--"||w==="--"){i="-";}}else {return}if(c===false)e=s.pop(r);Q=s.count;if(r.types[Q]==="end"){J();}else if(r.token[Q-1]==="."){le();}q=Q;if(q<s.count+1){do{F.push(ee(q));q=q+1;}while(q<s.count+1)}}if(c===true){s.splice({data:r,howmany:1,index:Q-1});o="=";t="operator";U("");K();o=i;t="operator";U("");o="1";t="number";U("");}else {o="=";t="operator";U("");K();o=i;t="operator";U("");o="1";t="number";U("");}o=r.token[s.count];t=r.types[s.count];if(te==="}"&&h[n]!==";")A(false);}function U(c){const i=we(null);i.begin=s.structure[s.structure.length-1][1];i.ender=-1;i.lexer="script";i.lines=s.linesSpace;i.stack=s.structure[s.structure.length-1][0];i.token=o;i.types=t;s.push(r,i,c);}function ge(){let c=n+1;let i=0;let w=0;let O="";let v=false;const q=x;const _=["/"];if(c<q){do{_.push(h[c]);if(h[c-1]!=="\\"||h[c-2]==="\\"){if(h[c]==="["){v=true;}if(h[c]==="]"){v=false;}}if(h[c]==="/"&&v===false){if(h[c-1]==="\\"){w=0;i=c-1;if(i>0){do{if(h[i]==="\\"){w=w+1;}else {break}i=i-1;}while(i>0)}if(w%2===0){break}}else {break}}c=c+1;}while(c<q)}if(h[c+1]==="g"||h[c+1]==="i"||h[c+1]==="m"||h[c+1]==="y"||h[c+1]==="u"){_.push(h[c+1]);if(h[c+2]!==h[c+1]&&(h[c+2]==="g"||h[c+2]==="i"||h[c+2]==="m"||h[c+2]==="y"||h[c+2]==="u")){_.push(h[c+2]);if(h[c+3]!==h[c+1]&&h[c+3]!==h[c+2]&&(h[c+3]==="g"||h[c+3]==="i"||h[c+3]==="m"||h[c+3]==="y"||h[c+3]==="u")){_.push(h[c+3]);if(h[c+4]!==h[c+1]&&h[c+4]!==h[c+2]&&h[c+4]!==h[c+3]&&(h[c+4]==="g"||h[c+4]==="i"||h[c+4]==="m"||h[c+4]==="y"||h[c+4]==="u")){_.push(h[c+4]);if(h[c+5]!==h[c+1]&&h[c+5]!==h[c+2]&&h[c+5]!==h[c+3]&&h[c+5]!==h[c+4]&&(h[c+5]==="g"||h[c+5]==="i"||h[c+5]==="m"||h[c+5]==="y"||h[c+5]==="u")){_.push(h[c+4]);n=c+5;}else {n=c+4;}}else {n=c+3;}}else {n=c+2;}}else {n=c+1;}}else {n=c;}O=_.join("");return O}function me(c){const i=c;do{c=c-1;}while(h[c]==="\\"&&c>0);return (i-c)%2===1}function he(c){let i=s.count;let w="";let O="";let v="";let q=false;Z.push(c);if(c==="{"&&(r.types[s.count]==="type"||r.types[s.count]==="type_end"||r.types[s.count]==="generic")){let _=0;if(r.types[s.count]==="type_end")i=r.begin[s.count];_=i;do{i=i-1;if(r.begin[i]!==_&&r.begin[i]!==-1)break;if(r.token[i]===":")break}while(i>r.begin[i]);if(r.token[i]===":"&&r.stack[i-1]==="arguments"){d.push(false);q=true;}else {d.push(d[d.length-1]);}i=s.count;}else if(c==="["&&r.types[s.count]==="type_end"){d.push(true);}else {d.push(d[d.length-1]);}if(S>-1){L();i=s.count;}if(b.len>-1)b.count[b.len]=b.count[b.len]+1;if(r.token[i-1]==="function"){N.push(["function",i+1]);}else {N.push([o,i+1]);}o=c;if(d[d.length-1]===true){t="type_start";}else {t="start";}if(c==="("||c==="x("){R();}else if(c==="{"){if(k>-1){if(r.begin[k-1]===r.begin[r.begin[i]-1]||r.token[r.begin[i]]==="x("){k=-1;if(p.script.correct===true){H(")");}else {H("x)");}R();o="{";t="start";}}else if(o===")"){R();}if(t==="comment"&&r.token[i-1]===")"){o=r.token[i];r.token[i]="{";t=r.types[i];r.types[i]="start";}}w=(()=>{let _=s.count;if(r.types[_]==="comment"){do{_=_-1;}while(_>0&&r.types[_]==="comment")}return r.token[_]})();O=r.stack[i]===void 0?"":(()=>{let _=s.count;if(r.types[_]==="comment"){do{_=_-1;}while(_>0&&r.types[_]==="comment")}return r.token[r.begin[_]-1]})();if(g(o,123)&&(r.types[i]==="word"||r.token[i]==="]")){let _=i;if(r.token[_]==="]"){do{_=r.begin[_]-1;}while(r.token[_]==="]")}do{if(r.types[_]==="start"||r.types[_]==="end"||r.types[_]==="operator")break;_=_-1;}while(_>0);if(r.token[_]===":"&&r.stack[_-1]==="arguments"){v="function";$.push(a);a=[];}}if(t==="type_start"){v="data_type";}else if(v===""&&(g(o,123)||o==="x{")){if(w==="else"||w==="do"||w==="try"||w==="finally"||w==="switch"){v=w;}else if(X[X.length-1]===0&&w!=="return"){X.pop();v="class";}else if(r.token[i-1]==="class"){v="class";}else if(r.token[i]==="]"&&r.token[i-1]==="["){v="array";}else if((r.types[i]==="word"||r.types[i]==="reference")&&(r.types[i-1]==="word"||r.types[i-1]==="reference"||r.token[i-1]==="?"&&(r.types[i-2]==="word"||r.types[i-2]==="reference"))&&r.token[i]!=="in"&&r.token[i-1]!=="export"&&r.token[i-1]!=="import"){v="map";}else if(r.stack[i]==="method"&&r.types[i]==="end"&&(r.types[r.begin[i]-1]==="word"||r.types[r.begin[i]-1]==="reference")&&r.token[r.begin[i]-2]==="new"){v="initializer";}else if(g(o,123)&&(g(w,41)||w==="x)")&&(r.types[r.begin[i]-1]==="word"||r.types[r.begin[i]-1]==="reference"||r.token[r.begin[i]-1]==="]")){if(O==="if"){v="if";}else if(O==="for"){v="for";}else if(O==="while"){v="while";}else if(O==="class"){v="class";}else if(O==="switch"||r.token[r.begin[i]-1]==="switch"){v="switch";}else if(O==="catch"){v="catch";}else {v="function";}}else if(g(o,123)&&(w===";"||w==="x;")){v="block";}else if(g(o,123)&&r.token[i]===":"&&r.stack[i]==="switch"){v="block";}else if(r.token[i-1]==="import"||r.token[i-2]==="import"||r.token[i-1]==="export"||r.token[i-2]==="export"){v="object";}else if(g(w,41)&&(P[0]==="function"||P[0]==="if"||P[0]==="for"||P[0]==="class"||P[0]==="while"||P[0]==="switch"||P[0]==="catch")){v=P[0];}else if(r.stack[i]==="notation"){v="function";}else if((r.types[i]==="number"||r.types[i]==="string"||r.types[i]==="word"||r.types[i]==="reference")&&(r.types[i-1]==="word"||r.types[i-1]==="reference")&&r.token[r.begin[i]-1]!=="for"){v="function";}else if(s.structure.length>0&&r.token[i]!==":"&&s.structure[s.structure.length-1][0]==="object"&&(r.token[r.begin[i]-2]==="{"||r.token[r.begin[i]-2]===",")){v="function";}else if(r.types[P[1]-1]==="markup"&&r.token[P[1]-3]==="function"){v="function";}else if(w==="=>"){v="function";}else if(q===true||r.types[s.count]==="type_end"&&r.stack[r.begin[s.count]-2]==="arguments"){v="function";}else if(g(w,41)&&r.stack[i]==="method"&&(r.types[r.begin[i]-1]==="word"||r.types[r.begin[i]-1]==="property"||r.types[r.begin[i]-1]==="reference")){v="function";}else if(r.types[i]==="word"&&g(o,123)&&r.token[i]!=="return"&&r.token[i]!=="in"&&r.token[i]!=="import"&&r.token[i]!=="const"&&r.token[i]!=="let"&&r.token[i]!==""){v="block";}else if(g(o,123)&&"if|else|for|while|function|class|switch|catch|finally".indexOf(r.stack[i])>-1&&(r.token[i]==="x}"||r.token[i]==="}")){v="block";}else if(r.stack[i]==="arguments"){v="function";}else if(r.types[i]==="generic"){do{i=i-1;if(r.token[i]==="function"||r.stack[i]==="arguments"){v="function";break}if(r.token[i]==="interface"){v="map";break}if(r.token[i]===";"){v="object";break}}while(i>r.begin[s.count])}else {v="object";}if(v!=="object"&&v!=="class"){if(v==="function"){$.push(a);a=[];}else {$.push([]);}}}else if(o==="["){v="array";}else if(o==="("||o==="x("){if(w==="function"||r.token[i-1]==="function"||r.token[i-1]==="function*"||r.token[i-2]==="function"){v="arguments";}else if(r.token[i-1]==="."||r.token[r.begin[i]-2]==="."){v="method";}else if(r.types[i]==="generic"){v="method";}else if(r.token[i]==="}"&&r.stack[i]==="function"){v="method";}else if(w==="if"||w==="for"||w==="class"||w==="while"||w==="catch"||w==="finally"||w==="switch"||w==="with"){v="expression";}else if(r.types[i]==="word"||r.types[i]==="property"||r.types[i]==="reference"){v="method";}else {v="paren";}}U(v);if(X.length>0)X[X.length-1]=X[X.length-1]+1;}function Ae(){const c=[h[n]];n=n+1;if(n<x){do{c.push(h[n]);if(h[n]==="`"&&(h[n-1]!=="\\"||me(n-1)===false))break;if(h[n-1]==="$"&&h[n]==="{"&&(h[n-2]!=="\\"||me(n-2)===false))break;n=n+1;}while(n<x)}return c.join("")}function $e(c){let i=2;let w=0;let O="";const v=c.slice(0,2);const q=c.length;if(c.charAt(2)==="-")i=i+1;if(/\s/.test(c.charAt(i))===true){do{i=i+1;}while(/\s/.test(c.charAt(i))===true&&i<q)}w=i;do{w=w+1;}while(/\s/.test(c.charAt(w))===false&&c.charAt(w)!=="("&&w<q);if(w===q)w=c.length-2;O=c.slice(i,w);if(O==="else"||v==="{%"&&(O==="elseif"||O==="when"||O==="elif"||O==="elsif")){return ["template_else",`template_${O}`]}if(v==="{{"){if(O==="end")return ["template_end",""];if(O==="block"&&/\{%\s*\w/.test(u)===false||O==="define"||O==="form"||O==="if"||O==="unless"||O==="range"||O==="with"){return ["template_start",`template_${O}`]}return ["template",""]}w=y.length-1;if(w>-1){do{if(O===y[w]&&(O!=="block"||/\{%\s*\w/.test(u)===false)){return ["template_start",`template_${O}`]}if(O==="end"+y[w]){return ["template_end",""]}w=w-1;}while(w>-1)}return ["template",""]}function M(){b.count.pop();b.index.pop();b.word.pop();b.len=b.len-1;}function L(){let c=S;let i=1;let w="";let O="";let v=o;let q=t;const _=[];function Q(){Z.push("x{");s.splice({data:r,howmany:1,index:s.count-3});}function te(F,J,le){const K=r.begin[F];let ee=0;do{if(r.token[F]===J&&r.types[F]==="word"){if(le===true){r.types[F]="reference";}else if(r.begin[F]>K&&r.token[r.begin[F]]==="{"&&r.stack[F]!=="object"&&r.stack[F]!=="class"&&r.stack[F]!=="data_type"){if(r.stack[F]==="function"){r.types[F]="reference";}else {ee=r.begin[F];do{if(r.stack[ee]==="function"){r.types[F]="reference";break}ee=r.begin[ee];}while(ee>K)}}}F=F-1;}while(F>K)}do{_.push(h[c]);if(h[c]==="\\"){s.error=`Illegal escape in JavaScript on line number ${s.lineNumber}`;}c=c+1;}while(c<n);if(o.charAt(0)==="\u201C"){s.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${s.lineNumber}`;}else if(o.charAt(0)==="\u201D"){s.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${s.lineNumber}`;}w=_.join("");S=-1;if(s.count>0&&w==="function"&&r.token[s.count]==="("&&(r.token[s.count-1]==="{"||r.token[s.count-1]==="x{")){r.types[s.count]="start";}if(s.count>1&&w==="function"&&o==="("&&(r.token[s.count-1]==="}"||r.token[s.count-1]==="x}")){if(r.token[s.count-1]==="}"){c=s.count-2;if(c>-1){do{if(r.types[c]==="end"){i=i+1;}else if(r.types[c]==="start"||r.types[c]==="end"){i=i-1;}if(i===0)break;c=c-1;}while(c>-1)}if(r.token[c]==="{"&&r.token[c-1]===")"){i=1;c=c-2;if(c>-1){do{if(r.types[c]==="end"){i=i+1;}else if(r.types[c]==="start"||r.types[c]==="end"){i=i-1;}if(i===0)break;c=c-1;}while(c>-1)}if(r.token[c-1]!=="function"&&r.token[c-2]!=="function"){r.types[s.count]="start";}}}else {r.types[s.count]="start";}}if(p.script.correct===true&&(w==="Object"||w==="Array")&&h[n+1]==="("&&h[n+2]===")"&&r.token[s.count-1]==="="&&r.token[s.count]==="new"){if(w==="Object"){r.token[s.count]="{";o="}";r.stack[s.count]="object";s.structure[s.structure.length-1][0]="object";}else {r.token[s.count]="[";o="]";r.stack[s.count]="array";s.structure[s.structure.length-1][0]="array";}r.types[s.count]="start";t="end";h[n+1]="";h[n+2]="";n=n+2;}else {i=s.count;c=i;if(p.script.variableList!=="none"&&(w==="var"||w==="let"||w==="const")){if(r.types[i]==="comment"){do{i=i-1;}while(i>0&&r.types[i]==="comment")}if(p.script.variableList==="list"&&b.len>-1&&b.index[b.len]===i&&w===b.word[b.len]){o=",";t="separator";r.token[i]=o;r.types[i]=t;b.count[b.len]=0;b.index[b.len]=i;b.word[b.len]=w;return}b.len=b.len+1;b.count.push(0);b.index.push(i);b.word.push(w);i=c;}else if(b.len>-1&&w!==b.word[b.len]&&s.count===b.index[b.len]&&r.token[b.index[b.len]]===";"&&o!==b.word[b.len]&&p.script.variableList==="list"){M();}if(w==="from"&&r.token[s.count]==="x;"&&r.token[s.count-1]==="}"){R();}if(w==="while"&&r.token[s.count]==="x;"&&r.token[s.count-1]==="}"){let F=0;let J=s.count-2;if(J>-1){do{if(r.types[J]==="end"){F=F+1;}else if(r.types[J]==="start"){F=F-1;}if(F<0){if(r.token[J]==="{"&&r.token[J-1]==="do")R();return}J=J-1;}while(J>-1)}}if(q==="comment"){let F=s.count;do{F=F-1;}while(F>0&&r.types[F]==="comment");q=r.types[F];v=r.token[F];}O=T(2,false);if(w==="void"){if(v===":"&&r.stack[s.count-1]==="arguments"){t="type";}else {t="word";}}else if((s.structure[s.structure.length-1][0]==="object"||s.structure[s.structure.length-1][0]==="class"||s.structure[s.structure.length-1][0]==="data_type")&&(r.token[s.count]==="{"||r.token[r.begin[s.count]]==="{"&&r.token[s.count]===","||r.types[s.count]==="template_end"&&(r.token[r.begin[s.count]-1]==="{"||r.token[r.begin[s.count]-1]===","))){if(w==="return"||w==="break"){t="word";}else {t="property";}}else if(d[d.length-1]===true||(p.language==="typescript"||p.language==="flow")&&v==="type"){t="type";}else if($.length>0&&(v==="function"||v==="class"||v==="const"||v==="let"||v==="var"||v==="new"||v==="void")){t="reference";$[$.length-1].push(w);if(p.language==="javascript"||p.language==="jsx"||p.language==="typescript"||p.language==="tsx"){if(v==="var"||v==="function"&&r.types[s.count-1]!=="operator"&&r.types[s.count-1]!=="start"&&r.types[s.count-1]!=="end"){te(s.count,w,true);}else {te(s.count,w,false);}}else {te(s.count,w,false);}}else if(s.structure[s.structure.length-1][0]==="arguments"&&t!=="operator"){t="reference";a.push(w);}else if(v===","&&r.stack[s.count]!=="method"&&(r.stack[s.count]!=="expression"||r.token[r.begin[s.count]-1]==="for")){let F=s.count;const J=s.structure[s.structure.length-1][1];do{if(r.begin[F]===J){if(r.token[F]===";")break;if(r.token[F]==="var"||r.token[F]==="let"||r.token[F]==="const"||r.token[F]==="type"){break}}else if(r.types[F]==="end"){F=r.begin[F];}F=F-1;}while(F>J);if($.length>0&&r.token[F]==="var"){t="reference";$[$.length-1].push(w);if(p.language==="javascript"||p.language==="jsx"||p.language==="typescript"||p.language==="tsx"){te(F,w,true);}else {te(F,w,false);}}else if($.length>0&&(r.token[F]==="let"||r.token[F]==="const"||r.token[F]==="type"&&(p.language==="typescript"||p.language==="tsx"))){t="reference";$[$.length-1].push(w);te(F,w,false);}else {t="word";}}else if(s.structure[s.structure.length-1][0]!=="object"||s.structure[s.structure.length-1][0]==="object"&&o!==","&&o!=="{"){let F=$.length;let J=0;if(F>0){do{F=F-1;J=$[F].length;if(J>0){do{J=J-1;if(w===$[F][J])break}while(J>0);if(w===$[F][J])break}}while(F>0);if($[F][J]===w&&v!=="."){t="reference";}else {t="word";}}else {t="word";}}else {t="word";}o=w;if(w==="from"&&r.token[s.count]==="}")R();}U("");if(w==="class")X.push(0);if(w==="do"){O=T(1,true);if(O!=="{"){o=p.script.correct===true?"{":"x{";t="start";Z.push("x{");U("do");}}if(w==="else"){O=T(2,true);let F=s.count-1;if(r.types[F]==="comment"){do{F=F-1;}while(F>0&&r.types[F]==="comment")}if(r.token[F]==="x}"){if(r.token[s.count]==="else"){if(r.stack[s.count-1]!=="if"&&r.types[s.count-1]!=="comment"&&r.stack[s.count-1]!=="else"){Z.pop();s.splice({data:r,howmany:0,index:s.count-1,record:{begin:r.begin[r.begin[r.begin[s.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:p.script.correct===true?"}":"x}",types:"end"}});if(s.structure.length>1){s.structure.splice(s.structure.length-2,1);s.structure[s.structure.length-1][1]=s.count;}}else if(r.token[s.count-2]==="x}"&&m[0]!=="if"&&r.stack[s.count]==="else"){Q();}else if(r.token[s.count-2]==="}"&&r.stack[s.count-2]==="if"&&m[0]==="if"&&r.token[m[1]-1]!=="if"&&r.token[r.begin[s.count-1]]==="x{"){Q();}}else if(r.token[s.count]==="x}"&&r.stack[s.count]==="if"){Q();}}if(O!=="if"&&O.charAt(0)!=="{"){o=p.script.correct===true?"{":"x{";t="start";Z.push("x{");U("else");}}if((w==="for"||w==="if"||w==="switch"||w==="catch")&&r.token[s.count-1]!=="."){O=T(1,true);if(O!=="("){k=s.count;if(p.script.correct===true){he("(");}else {he("x(");}}}}do{if(/\s/.test(h[n])){if(S>-1)L();n=s.spacer({array:h,end:x,index:n});if(s.linesSpace>1&&o!==";"&&W<s.count&&h[n+1]!=="}"){A(false);W=s.count;}}else if(h[n]==="{"&&h[n+1]==="%"){G("{%","%}","template");}else if(h[n]==="{"&&h[n+1]==="{"){G("{{","}}","template");}else if(h[n]==="<"&&h[n+1]==="!"&&h[n+2]==="-"&&h[n+3]==="-"){G("<!--","-->","comment");}else if(h[n]==="<"){se();}else if(h[n]==="/"&&(n===x-1||h[n+1]==="*")){I();}else if((s.count<0||r.lines[s.count]>0)&&h[n]==="#"&&h[n+1]==="!"&&(h[n+2]==="/"||h[n+2]==="[")){G("#!"+h[n+2],"\n","string");}else if(h[n]==="/"&&(n===x-1||h[n+1]==="/")){V();}else if(g(h[n],96)||g(h[n],125)&&s.structure[s.structure.length-1][0]==="template_string"){if(S>-1)L();o=Ae();if(g(o,125)&&o.slice(o.length-2)==="${"){t="template_string_else";U("template_string");}else if(o.slice(o.length-2)==="${"){t="template_string_start";U("template_string");}else if(g(o,125)){t="template_string_end";U("");}else {t="string";U("");}}else if(h[n]==='"'||h[n]==="'"){G(h[n],h[n],"string");}else if(h[n]==="-"&&(n<x-1&&h[n+1]!=="="&&h[n+1]!=="-")&&(t==="number"||t==="word"||t==="reference")&&o!=="return"&&(o===")"||o==="]"||t==="word"||t==="reference"||t==="number")){if(S>-1)L();o="-";t="operator";U("");}else if(S===-1&&(h[n]!=="0"||h[n]==="0"&&h[n+1]!=="b")&&(/\d/.test(h[n])||n!==x-2&&h[n]==="-"&&h[n+1]==="."&&/\d/.test(h[n+2])||n!==x-1&&(h[n]==="-"||h[n]===".")&&/\d/.test(h[n+1]))){if(S>-1)L();if(t==="end"&&h[n]==="-"){o="-";t="operator";}else {o=re();t="number";}U("");}else if(h[n]===":"&&h[n+1]===":"){if(S>-1)L();if(p.script.correct===true)B();R();n=n+1;o="::";t="separator";U("");}else if(h[n]===","){if(S>-1)L();if(p.script.correct===true)B();if(d[d.length-1]===true&&r.stack[s.count].indexOf("type")<0){d[d.length-1]=false;}if(t==="comment"){ne();}else if(b.len>-1&&b.count[b.len]===0&&p.script.variableList==="each"){R();o=";";t="separator";U("");o=b.word[b.len];t="word";U("");b.index[b.len]=s.count;}else {o=",";t="separator";R();U("");}}else if(h[n]==="."){if(S>-1)L();d[d.length-1]=false;if(h[n+1]==="."&&h[n+2]==="."){o="...";t="operator";n=n+2;}else {R();o=".";t="separator";}if(/\s/.test(h[n-1])===true)s.linesSpace=1;U("");}else if(h[n]===";"){if(S>-1)L();if(d[d.length-1]===true&&r.stack[s.count].indexOf("type")<0){d[d.length-1]=false;}if(X[X.length-1]===0)X.pop();if(b.len>-1&&b.count[b.len]===0){if(p.script.variableList==="each"){M();}else {b.index[b.len]=s.count+1;}}if(p.script.correct===true)B();o=";";t="separator";if(r.token[s.count]==="x}"){E();}else {U("");}j();}else if(h[n]==="("||h[n]==="["||h[n]==="{"){he(h[n]);}else if(h[n]===")"||h[n]==="]"||h[n]==="}"){H(h[n]);}else if(h[n]==="*"&&r.stack[s.count]==="object"&&S<0&&/\s/.test(h[n+1])===false&&h[n+1]!=="="&&/\d/.test(h[n+1])===false){S=n;}else if(h[n]==="="||h[n]==="&"||h[n]==="<"||h[n]===">"||h[n]==="+"||h[n]==="-"||h[n]==="*"||h[n]==="/"||h[n]==="!"||h[n]==="?"||h[n]==="|"||h[n]==="^"||h[n]===":"||h[n]==="%"||h[n]==="~"){o=ke();if(o==="regex"){o=r.token[s.count];}else if(o==="*"&&r.token[s.count]==="function"){r.token[s.count]="function*";}else {t="operator";if(o!=="!"&&o!=="++"&&o!=="--")R();U("");}}else if(S<0&&h[n]!==""){S=n;}if(b.len>-1&&s.count===b.index[b.len]+1&&r.token[b.index[b.len]]===";"&&o!==b.word[b.len]&&t!=="comment"&&p.script.variableList==="list"){M();}n=n+1;}while(n<x);if(S>-1)L();if((r.token[s.count]!=="}"&&r.token[0]==="{"||r.token[0]!=="{")&&(r.token[s.count]!=="]"&&r.token[0]==="["||r.token[0]!=="[")){A(false);}if(f[0]===s.count){o="\n"+f[1];t="string";U("");}if(r.token[s.count]==="x;"&&(r.token[s.count-1]==="}"||r.token[s.count-1]==="]")&&r.begin[s.count-1]===0){s.pop(r);}return r};var We={markup:"markup",html:"markup",liquid:"markup",xml:"markup",javascript:"script",typescript:"script",jsx:"script",tsx:"script",json:"script",less:"style",scss:"style",sass:"style",css:"style",text:"text"};var Xe={html:"HTML",xhtml:"XHTML",liquid:"Liquid",xml:"XML",jsx:"JSX",tsx:"TSX",json:"JSON",yaml:"YAML",css:"CSS",scss:"SCSS",sass:"SASS",less:"LESS",text:"Plain Text",javascript:"JavaScript",typescript:"TypeScript"};function Fe(l){return typeof l!=="string"||l.indexOf("html")>-1||We[l]===void 0?"markup":We[l]}function nt(l){if(typeof l!=="string"||Xe[l]===void 0)return l.toUpperCase();return Xe[l]}function de(l){const u={};if(l==="unknown"){u.language=l;u.languageName="Unknown";u.lexer="markup";}else if(l==="xhtml"||l==="markup"){u.language="xml";u.languageName="XHTML";u.lexer="markup";}else {u.language=l;u.languageName=nt(l);u.lexer=Fe(l);}if(D.hooks.language.length>0){for(const p of D.hooks.language){const n=p(u);if(typeof n==="object")ve(u,n);}}return u}_e.reference=de;_e.listen=function(l){D.hooks.language.push(l);};function _e(l){let u=[];let p=0;const n=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(l)&&/@import/.test(l)===false;const o=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(l);function t(){if(/\n\s*#+\s+/.test(l)||/^#+\s+/.test(l))return de("markdown");if(/\$[a-zA-Z]/.test(l)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(l)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(l)&&/:\s*@[a-zA-Z];/.test(l)===false)return de("scss");if(/@[a-zA-Z]:/.test(l)||/\.[a-zA-Z]\(\);/.test(l))return de("less");return de("css")}function P(){let S=1;let k=C;let a=false;let e=false;const m=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(l);function z(){if(l.indexOf("(")>-1||l.indexOf("=")>-1||l.indexOf(";")>-1&&l.indexOf("{")>-1){if(o===true||/\w<\w+(,\s+\w+)*>/.test(l))return de("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(l)||/=\s*<\w+/.test(l))return de("typescript");return de("javascript")}return de("unknown")}function r(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(l)||/(?:public|private)\s+/.test(l)||/(?:export|declare)\s+type\s+\w+\s*=/.test(l)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(l)||/(?:typeof|keyof|as)\s+\w+/.test(l)||/\w+\s+as\s+\w+/.test(l)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(l)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(l)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(l))return de("typescript");if(/\s(class|var|const|let)\s+\w/.test(l)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(l)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(l)&&(/\s?\{%/.test(l)||/{{/.test(l)))return de("liquid");if(/^(\s*[$@])/.test(l)===false&&/([}\]];?\s*)$/.test(l)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(l)||/module\.export\s+=\s+/.test(l)||/export\s+default\s+\{/.test(l)||/[?:]\s*[{[]/.test(l)||/^(?:\s*return;?(?:\s+[{[])?)/.test(l)){return de("javascript")}}if(/{%/.test(l)&&/{{/.test(l)&&/<\w/.test(l))return de("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(l))return de("less");if(/\$(\w|-)/.test(l))return de("scss");if(/[;{:]\s*@\w/.test(l)===true)return de("less");return de("css")}if(S<p){do{if(a===false){if(g(u[S],42)&&g(u[S-1],47)){u[S-1]=C;a=true;}else if(e===false&&S<p-6&&u[S].charCodeAt(0)===102&&u[S+1].charCodeAt(0)===105&&u[S+2].charCodeAt(0)===108&&u[S+3].charCodeAt(0)===116&&u[S+4].charCodeAt(0)===101&&u[S+5].charCodeAt(0)===114&&g(u[S+6],58)){e=true;}}else if(a===true&&g(u[S],42)&&S!==p-1&&g(u[S+1],47)){a=false;u[S]=C;u[S+1]=C;}else if(e===true&&g(u[S],59)){e=false;u[S]=C;}if(a===true||e===true)u[S]=C;S=S+1;}while(S<p)}k=u.join(C);if(/\s\/\//.test(l)===false&&/\/\/\s/.test(l)===false&&/^(\s*(\{|\[)(?!%))/.test(l)===true&&/((\]|\})\s*)$/.test(l)&&l.indexOf(",")!==-1)return de("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(l)===true&&(n===true||m===true||/console\.log\(/.test(l)===true||/export\s+default\s+class\s+/.test(l)===true||/export\s+(const|var|let|class)s+/.test(l)===true||/document\.get/.test(l)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(l)===true||l.indexOf("{")===-1||/^(\s*if\s+\()/.test(l)===true))return z();if(l.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(l)||/^(\s*\/(\*|\/))/.test(l)||/^(\s*\*\s*\{)/.test(l))&&/^(\s*if\s*\()/.test(l)===false&&/=\s*(\{|\[|\()/.test(k)===false&&(/(\+|-|=|\?)=/.test(k)===false||/\/\/\s*=+/.test(k)||/=+('|")?\)/.test(l)&&/;\s*base64/.test(l))&&/function(\s+\w+)*\s*\(/.test(k)===false)return r();return l.indexOf("{%")>-1?de("liquid"):de("unknown")}function W(){function S(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(l)||/{%-?\s*end\w+/.test(l)||/{{-?\s*content_for/.test(l)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(l)||/{%/.test(l)&&/%}/.test(l)&&/{{/.test(l)&&/}}/.test(l)?de("liquid"):de("html")}return /^(\s*<!doctype\s+html>)/i.test(l)||/^(\s*<html)/i.test(l)||/<form\s/i.test(l)&&/<label\s/i.test(l)&&/<input\s/i.test(l)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(l)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(l))||/<ul\s/i.test(l)&&/<li\s/i.test(l)&&/<\/li>/i.test(l)&&/<\/ul>/i.test(l)||/<head\s*>/.test(l)&&/<\/head>/.test(l)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(l)&&/XHTML\s+1\.1/.test(l)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(l)===false?S():/\s?{[{%]-?/.test(l)?de("liquid"):de("xml")}if(l===null||l.replace(/\s+/g,C)===C)return de("unknown");if((/\n\s*#{1,6}\s+/.test(l)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(l))&&(/\[( |x|X)\]/.test(l)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(l)||/\n\s*```[a-zA-Z]*?\s+/.test(l)||/-+\|(-+\|)+/.test(l)))return de("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(l))return W();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(l))return t();if(o===false&&/=(>|=|-|\+|\*)/.test(l)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(l)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(l)===false&&n===false&&/return\s*\w*\s*(;|\})/.test(l)===false&&(l===void 0||/^(?:\s*#(?!(!\/)))/.test(l)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(l)&&/>\s*<\w/.test(l)===false||(/^\s*:root\s*\{/.test(l)||/-{2}\w+\s*\{/.test(l)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(l))))return t();u=l.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,C).split(C);p=u.length;if(/^(\s*({{|{%|<))/.test(l))return W();if(o===true||/^(?:[\s\w-]*<)/.test(l)===false&&/(?:>[\s\w-]*)$/.test(l)===false)return P();return (/^(?:\s*<\?xml)/.test(l)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(l)||/^\s*</.test(l)&&/<\/\w+(\w|\d)+>\s*$/.test(l))&&(/^(?:[\s\w]*<)/.test(l)||/(?:>[\s\w]*)$/.test(l))||/^(?:\s*<s((cript)|(tyle)))/i.test(l)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(l)?/^(?:[\s\w]*<)/.test(l)===false||/(?:>[\s\w]*)$/.test(l)===false?P():W():de("unknown")}D.lexers.markup=function l(u){const{options:p}=D;const{data:n}=s;const o=p.language==="jsx"||p.language==="tsx";const t=p.language==="html"||p.language==="liquid";const P=p.markup;const W=P.attributeSortList.length;const S={end:0,index:-1,start:0,line:1};const k=u.split(C);const a=k.length;let e=0;let m=false;let z="javascript";let r=t?p.language:"html";let $=0;function x(d){if(t===true&&o===false){if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(d))return d;if(P.delimiterSpacing===true){d=d.replace(/{[{%]-?\s*/g,y=>y.replace(/\s*$/," "));d=d.replace(/\s*-?[%}]}/g,y=>y.replace(/^\s*/," "));}return d}return d}function h(d,y,b){if(d===n){if(y.types.indexOf("end")>-1){S.end=S.end+1;}else if(y.types.indexOf("start")>-1){S.start=S.start+1;}}S.index=s.count;S.line=s.lineNumber;s.push(d,y,b);}function N(d){let y=0;let b=C;const A=/^(?:<|{%-?|{{-?)=?\s*/;if(typeof d!=="string")return C;y=d.replace(A,"%").replace(/\s+/," ").indexOf(" ");b=d.replace(A," ");b=y<0?b.slice(1,d.length-1):b.slice(1,y);if(r==="html")b=b.toLowerCase();b=b.replace(/-?[%}]}$/,C);if(b.indexOf("(")>0)b=b.slice(0,b.indexOf("("));if(b==="?xml?")return "xml";return b}function Z(d,y){const b=N(d);const A=He({begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"markup",lines:n.lines[s.count]>0?1:0,stack:s.structure[s.structure.length-1][0],token:`</${s.structure[s.structure.length-1][0]}>`,types:"end"});h(n,A,C);if(oe.html.tags.has(s.structure[s.structure.length-1][0])&&(y===true&&s.structure.length>1||y===false&&`/${s.structure[s.structure.length-1][0]}`!==b)){do{A.begin=s.structure[s.structure.length-1][1];A.stack=s.structure[s.structure.length-1][0];A.token=`</${s.structure[s.structure.length-1][0]}>`;h(n,A,C);}while(oe.html.tags.has(s.structure[s.structure.length-1][0])&&(y===true&&s.structure.length>1||y===false&&`/${s.structure[s.structure.length-1][0]}`!==b))}}function X(d){const y={begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"markup",lines:s.linesSpace,stack:s.structure[s.structure.length-1][0],token:C,types:C};let b=0;let A=C;let E=C;let R=C;let I=C;let j=C;let ne=false;let H=false;let G=false;let V=false;let se=false;let T=false;let re=false;let B=[];let U=[C,0];function ge(M){const L=M.indexOf("=");if(L>0&&(L<M.indexOf('"')&&M.indexOf('"')>0||L<M.indexOf("'")&&M.indexOf("'")>0)){return [M.slice(0,L),M.slice(L+1)]}return [M,C]}function me(){const M=s.count;const L=I.replace(/(\/)$/,C);const c=P.quoteConvert;let i=0;let w=0;let O=0;let q=C;let _=C;let Q=[];let te=B.length;function F(){let J=Ce(y.token,5);if(G===true||c==="none"||y.types.indexOf("attribute")<0||J===false&&c==="single"&&y.token.indexOf('"')<0||J===false&&c==="double"&&y.token.indexOf("'")<0){h(n,y,C);}else {let le=0;let K=false;const ee=y.token.split(C);const ue=y.token.indexOf("=");const ce=ee.length-1;if(Y(ee[ue+1],34)&&Y(ee[ee.length-1],34)&&c==="single"&&J===false){h(n,y,C);}else if(Y(ee[ue+1],39)&&Y(ee[ee.length-1],39)&&c==="double"&&J===false){h(n,y,C);}else {le=ue+2;if(c==="double"){if(y.token.slice(ue+2,ce).indexOf('"')>-1)K=true;ee[ue+1]='"';ee[ee.length-1]='"';}else if(c==="single"){if(y.token.slice(ue+2,ce).indexOf("'")>-1)K=true;ee[ue+1]="'";ee[ee.length-1]="'";}if(K===true||J===true){J=false;do{if(g(ee[le-1],123)&&(g(ee[le],37)||g(ee[le],123))){J=true;}else if(g(ee[le],125)&&(g(ee[le-1],37)||g(ee[le-1],125))){J=false;}if(J===true){if(g(ee[le],34)&&c==="double"){ee[le]="'";}else if(g(ee[le],39)&&c==="single"){ee[le]='"';}}else {if(g(ee[le],39)&&c==="double"){ee[le]='"';}else if(g(ee[le],34)&&c==="single"){ee[le]="'";}}le=le+1;}while(le<ce)}y.token=ee.join(C);h(n,y,C);}}}if(B.length<1)return;if(g(B[B.length-1][0],47)){B.pop();A=A.replace(/>$/,"/>");}w=B.length;O=1;if(O<w){do{q=B[O-1][0];if(q.charCodeAt(q.length-1)===61&&B[O][0].indexOf("=")<0){B[O-1][0]=q+B[O][0];B.splice(O,1);w=w-1;O=O-1;}O=O+1;}while(O<w)}if(P.attributeSort===true&&o===false&&V===false&&se===false){if(W>0){const J=[];O=0;w=0;te=B.length;do{w=0;do{q=B[w][0].split("=")[0];if(P.attributeSortList[O]===q){J.push(B[w]);B.splice(w,1);te=te-1;break}w=w+1;}while(w<te);O=O+1;}while(O<W);B=s.safeSort(B,C,false);B=J.concat(B);te=B.length;}else {B=s.safeSort(B,C,false);}}y.begin=M;y.stack=L;y.types="attribute";Q=[];if(i<te){do{if(B[i]===void 0)break;y.lines=B[i][1];B[i][0]=B[i][0].replace(/\s+$/,C);if(o===true&&/^\/(\/|\*)/.test(B[i][0])){y.types="comment_attribute";y.token=B[i][0];F();i=i+1;continue}if(g(B[i][0][0],123)&&g(B[i][0][1],37)||g(B[i][0][B[i][0].length-1],125)&&g(B[i][0][B[i][0].length-2],37)){if(Pe(B[i][0])){y.token=B[i][0];y.types="template_attribute_end";y.ender=y.begin;}else {const J=Ie(B[i][0]);if(oe.liquid.tags.has(J)){y.types="template_attribute_start";y.begin=s.count;y.token=B[i][0];}else if(oe.liquid.else.has(J)){y.types="template_attribute_else";y.token=B[i][0];}else {y.types="template_attribute";y.token=B[i][0];}}F();i=i+1;continue}if(g(B[i][0][0],123)&&g(B[i][0][1],123)||g(B[i][0][B[i][0].length-1],125)&&g(B[i][0][B[i][0].length-2],125)){if(Pe(B[i][0])){y.token=B[i][0];y.types="template_attribute_end";y.ender=y.begin;}else {const J=Ie(B[i][0]);if(oe.liquid.tags.has(J)){y.types="template_attribute_start";y.begin=s.count;y.token=B[i][0];}else if(oe.liquid.else.has(J)){y.types="template_attribute_else";y.token=B[i][0];}else {y.types="template_attribute";y.token=B[i][0];}}F();i=i+1;continue}w=B[i][0].indexOf("=");O=B[i][0].indexOf('"');B[i][0].indexOf("'");if(w<0){y.types="attribute";if(g(B[i][0],35)||g(B[i][0],91)||g(B[i][0],123)||g(B[i][0],40)||o===true){y.token=B[i][0];}else {y.token=B[i][0].toLowerCase();}F();}else {q=B[i][0].slice(0,w);_=B[i][0].slice(w+1);if(P.correct&&(Y(_[0],60)||Y(_[0],123)||Y(_[0],61)||Y(_[0],34)||Y(_[0],39))){_='"'+_+'"';}if(o===true&&/^\s*{/.test(_)){y.token=q+"={";y.types="jsx_attribute_start";h(n,y,"jsx_attribute");D.lexers.script(_.slice(1,_.length-1));y.begin=s.count;console.log(n);if(/\s\}$/.test(_)){_=_.slice(0,_.length-1);_=/\s+$/.exec(_)[0];y.lines=_.indexOf("\n")<0?1:_.split("\n").length;}else {y.lines=0;}y.begin=s.structure[s.structure.length-1][1];y.stack=s.structure[s.structure.length-1][0];y.token="}";y.types="jsx_attribute_end";F();y.types="attribute";y.begin=M;y.stack=L;}else {if(Pe(q)||(Y(_,39)||Y(_,34))&&Pe(_)){y.token=B[i][0];y.types="template_attribute_end";y.ender=y.begin;}else if(Ce(q,5)&&(Y(_,39)||Y(_,34))&&Ce(q,5)){const J=Ie(B[i][0]);if(oe.liquid.tags.has(J)){y.types="template_attribute_start";y.begin=s.count;y.token=B[i][0];}else if(oe.liquid.else.has(J)){y.types="template_attribute_else";y.token=B[i][0];}else {y.types="template_attribute";y.token=B[i][0];}}else {y.types="attribute";if(g(B[i][0],35)||g(B[i][0],91)||g(B[i][0],123)||g(B[i][0],40)||o===true){y.token=B[i][0];}else {y.token=B[i][0].toLowerCase();}}F();}}i=i+1;}while(i<te)}if(Q.length>0){y.token=Q.join(" ");F();}}m=false;if(d==="---"){j="---";R="comment";}else if(g(k[e],60)){if(g(k[e+1],47)){d=">";R="end";}else if(g(k[e+1],33)){if((k[e+2].charCodeAt(0)===100||k[e+2].charCodeAt(0)===68)&&(k[e+3].charCodeAt(0)===111||k[e+3].charCodeAt(0)===79)&&(k[e+4].charCodeAt(0)===99||k[e+4].charCodeAt(0)===67)&&(k[e+5].charCodeAt(0)===116||k[e+5].charCodeAt(0)===84)&&(k[e+6].charCodeAt(0)===121||k[e+6].charCodeAt(0)===89)&&(k[e+7].charCodeAt(0)===112||k[e+7].charCodeAt(0)===80)&&(k[e+8].charCodeAt(0)===101||k[e+8].charCodeAt(0)===69)){d=">";R="doctype";T=true;}else if(g(k[e+2],45)&&g(k[e+3],45)){d="-->";R="comment";j="<!--";}else if(g(k[e+2],91)&&k[e+3].charCodeAt(0)===67&&k[e+4].charCodeAt(0)===68&&k[e+5].charCodeAt(0)===65&&k[e+6].charCodeAt(0)===84&&k[e+7].charCodeAt(0)===65&&g(k[e+8],91)){d="]]>";R="cdata";T=true;}}else if(k[e+1]==="?"){d="?>";if(k[e+2].charCodeAt(0)===120&&k[e+3].charCodeAt(0)===109&&k[e+4].charCodeAt(0)===109){R="xml";re=true;}else {T=true;R="template";}}else if(g(k[e+1],37)){T=true;}else if((k[e+1].charCodeAt(0)===112||k[e+1].charCodeAt(0)===80)&&(k[e+2].charCodeAt(0)===114||k[e+2].charCodeAt(0)===82)&&(k[e+3].charCodeAt(0)===101||k[e+3].charCodeAt(0)===69)&&(g(k[e+4],62)||ae(k[e+4]))){d="</pre>";R="ignore";T=true;}else {re=true;d=">";}}else if(g(k[e],123)){if(o){m=true;H=true;y.token="{";y.types="script_start";s.structure.push(["script",s.count]);h(n,y,C);return}if(g(k[e+1],123)){T=true;d="}}";R="template";}else if(g(k[e+1],37)){T=true;d="%}";R="template";const M=k.indexOf("}",e+2);if(k[M-1].charCodeAt(0)===37){let L=k.slice(e+2,M-1).join(C);if(L.charCodeAt(0)===45){j="{%-";L=L.slice(1).trimStart();}else {j="{%";L=L.trimStart();}if(L.charCodeAt(L.length-1)===45){d="-%}";L=L.slice(0,L.length-1).trimEnd();}else {d="%}";L=L.trimEnd();}if(L==="comment"){const c=u.indexOf("{%",M);let i=c;if(k[c+1].charCodeAt(0)===45)i=c+1;i=u.indexOf("endcomment",i);if(i>0){i=k.indexOf("}",i);if(i>0&&k[i-1].charCodeAt(0)===37){R="comment";j=k.slice(e,M+1).join(C);d=k.slice(c,i+1).join(C);}}}}else {T=true;d="%}";R="template";}}else {T=true;d=k[e+1]+"}";R="template";}}if(P.preserveAttributes===true)T=true;if(H)return;E=d.charAt(d.length-1);if(R==="comment"&&(g(k[e],60)||g(k[e],123)&&g(k[e+1],37))){U=s.wrapCommentBlock({chars:k,end:a,lexer:"markup",opening:j,start:e,terminator:d});A=U[0];e=U[1];if(A.replace(j,C).trimStart().startsWith("@prettify-ignore-start")){y.token=A;y.types="ignore";h(n,y,C);return}}else if(e<a){let ee=function(){if(te===false&&g(k[e-1],123)&&(g(k[e],123)||g(k[e],37))){return true}else if(te===true&&g(k[e],125)&&(g(k[e-1],125)||g(k[e-1],37))){return false}return te},ue=function(){let be=e;do{be=be-1;}while(k[be]==="\\");be=e-be;return be%2===1},ce=function(be){let fe;let ie=C;let xe=0;let pe=0;const Re="data-prettify-ignore";if(be===true){ie=K.join(C);fe=ge(ie);q=C;if(fe[0]===Re)G=true;}else {ie=K.join(C);if(o===false||o&&Y(ie[ie.length-1],125)){ie=ie.replace(/\s+/g," ");}fe=ge(ie);if(fe[0]===Re)G=true;if(o&&g(K[0],123)&&g(K[K.length-1],125))Q=0;}if(g(ie[0],123)&&g(ie[1],37))se=true;if(be===false){if(Ve(ie)){$=$+1;}else if(Pe(ie)){$=$-1;}}ie=ie.replace(/^\u0020/,C).replace(/\u0020$/,C);K=ie.replace(/\r\n/g,"\n").split("\n");pe=K.length;if(xe<pe){do{K[xe]=K[xe].replace(/(\s+)$/,C);xe=xe+1;}while(xe<pe)}ie=K.join(p.crlf===true?"\r\n":"\n");ie=x(ie);if($>=1||Ce(ie,1)){if(Ce(ie,5)===false){v=g(k[e+1],10)||g(k[e],10)?2:g(k[e],32)&&Y(k[e+1],32)?1:0;}else {v=g(k[e+1],10)?2:Y(k[e+1],32)?0:v;}}if(ie==="="){B[B.length-1][0]=`${B[B.length-1][0]}=`;}else if(g(ie[0],61)&&B.length>0&&B[B.length-1][0].indexOf("=")<0){B[B.length-1][0]=B[B.length-1][0]+ie;if($>=1||Ce(ie,5))B[B.length-1][1]=v;}else if(Y(ie[0],61)&&B.length>0&&B[B.length-1][0].indexOf("=")===B[B.length-1][0].length-1){B[B.length-1][0]=B[B.length-1][0]+ie;}else if(ie!==C&&ie!==" "){B.push([ie,v]);}if(B.length>0){const[Be]=B[B.length-1];if(Be.indexOf("=\u201C")>0){s.error=`Invalid quote character (\u201C, &#x201c) used on line number ${s.lineNumber}`;}else if(Be.indexOf("=\u201D")>0){s.error=`Invalid quote character (\u201D, &#x201d) used on line number ${s.lineNumber}`;}}K=[];v=k[e]==="\n"?2:1;};const M=[];let L=0;let c=0;let i=0;let w=0;let O=0;let v=0;let q=C;let _=C;let Q=0;let te=false;let F=false;let J=false;let le=false;let K=[];do{if(g(k[e],10)){v=v+1;s.lineNumber=s.lineNumber+1;}if(T===true||(ae(k[e])===false&&Y(q,125)||g(q,125))){te=ee();M.push(k[e]);if(g(M[0],60)&&g(M[1],62)&&g(d,62)){y.token="<>";y.types="start";h(n,y,"(empty)");return}if(g(M[0],60)&&g(M[1],47)&&g(M[2],62)&&g(d,62)){y.token="</>";y.types="end";h(n,y,C);return}}if(R==="cdata"&&g(k[e],62)&&g(k[e-1],93)&&Y(k[e-2],93)){s.error=`CDATA tag (${M.join(C)}) not properly terminated with "]]>"`;break}if(R==="comment"){q=C;if(k[e]===E&&M.length>d.length+1){c=M.length;L=d.length-1;if(L>-1){do{c=c-1;if(M[c]!==d.charAt(L))break;L=L-1;}while(L>-1)}if(L<0)break}}else {if(q===C){if(g(M[0],60)&&g(M[1],33)&&R!=="cdata"){if(R==="doctype"&&g(k[e],62))break;if(g(k[e],91)){if(g(k[e+1],60)){R="start";break}if(ae(k[e+1])){do{e=e+1;if(g(k[e],10))v=v+1;}while(e<a-1&&ae(k[e+1]))}if(g(k[e+1],60)){R="start";break}}}if(o){if(g(k[e],123)){Q=Q+1;}else if(g(k[e],125)){Q=Q-1;}}if(g(k[e],60)&&T===false&&M.length>1&&/>{2,3}/.test(d)===false&&re){s.error=`Parse error (line ${s.lineNumber}) on: ${M.join(C)}`;}if(F===true&&ae(k[e])===false&&k[e]!==E){F=false;b=0;q=_;M.pop();if(e<a){do{if(g(k[e],10))s.lineNumber=s.lineNumber+1;if(P.preserveAttributes===true){M.push(k[e]);}else {K.push(k[e]);}if(Y(q,34)||Y(q,39)){if(g(k[e-1],123)&&(g(k[e],37)||g(k[e],123))){te=true;}else if((g(k[e-1],125)||g(k[e-1],37))&&g(k[e],125)){te=false;}}if(o===false&&J===false&&te===true&&P.preserveAttributes===false){const be=g(K[0],61);do{e=e+1;if(g(k[e],10)){s.lineNumber=s.lineNumber+1;if(be){te=false;q=C;ce(false);break}}K.push(k[e]);if(be&&g(k[e+1],62)){te=false;q=C;B[B.length-1][0]+=K.join(C);K=[];break}if(be===false&&(g(k[e-1],125)||g(k[e-1],37))&&g(k[e],125)){te=false;q=C;ce(false);break}}while(e<a)}if(o===false&&(g(k[e],60)||g(k[e],62))&&(q===C||g(q,62))){if(q===C&&g(k[e],60)){q=">";i=1;}else if(g(q,62)){if(g(k[e],60)){i=i+1;}else if(g(k[e],62)){i=i-1;if(i===0){q=C;b=0;ce(false);break}}}}else if(q===C){if(k[e+1]===E){if(g(K[K.length-1],47)||g(K[K.length-1],63)&&R==="xml"){K.pop();if(T===true)M.pop();e=e-1;}if(K.length>0)ce(false);break}if(o===false&&g(k[e],123)&&g(k[e-1],61)){q="}";}else if(g(k[e],34)||g(k[e],39)){q=k[e];if(J===false&&te===false)J=true;if(g(k[e-1],61)&&(g(k[e+1],60)||g(k[e+1],123)&&g(k[e+2],37)||ae(k[e+1])&&Y(k[e-1],61))){b=e;}}else if(g(k[e],40)){q=")";O=1;}else if(o){if((g(k[e-1],61)||ae(k[e-1]))&&g(k[e],123)){q="}";w=1;}else if(g(k[e],47)){if(g(k[e+1],42)){q="*/";}else if(k[e+1]==="/"){q="\n";}}}else if(g(M[0],123)&&g(k[e],123)&&(g(k[e+1],123)||g(k[e+1],37))){q=g(k[e+1],123)?"}}":k[e+1]+"}";}if(ae(k[e])&&q===C){if(g(K[K.length-2],61)){L=e+1;if(L<a){do{if(ae(k[L])===false){if(g(k[L],34)||g(k[L],39)){e=L-1;le=true;K.pop();}break}L=L+1;}while(L<a)}}if(le===true){le=false;}else if(Q===0||Q===1&&g(K[0],123)){K.pop();if(K.length>0)ce(false);F=true;break}}}else if(g(k[e],40)&&g(q,41)){O=O+1;}else if(g(k[e],41)&&g(q,41)){O=O-1;if(O===0){q=C;if(k[e+1]===d.charAt(0)){ce(false);break}}}else if(o&&(g(q,125)||g(q,10)&&g(k[e],10)||q==="*/"&&g(k[e-1],42)&&g(k[e],47))){if(g(k[e],96)){e=e+1;do{K.push(k[e]);if(g(k[e],96))break;e=e+1;}while(e<k.length)}if(g(q,125)){if(g(k[e],125)&&k[e]!==q){w=w+1;}else if(k[e]===q){w=w-1;if(w===0){Q=0;q=C;A=K.join(C);if(P.preserveAttributes===false){if(o){if(!/^\s*$/.test(A))B.push([A,v]);}else {A=A.replace(/\s+/g," ");if(A!==" ")B.push([A,v]);}}K=[];v=1;break}}}else {_=C;V=true;A=K.join(C);if(A!==" ")B.push([A,v]);K=[];v=g(q,10)?2:1;q=C;break}}else if(g(k[e],123)&&g(k[e+1],37)&&g(k[b-1],61)&&(g(q,34)||g(q,39))){q=q+"{%";b=0;}else if(g(k[e-1],37)&&g(k[e],125)&&(q==='"{%'||q==="'{%")){q=q.charAt(0);b=0;}else if(g(k[e],60)&&g(d,62)&&g(k[b-1],61)&&(g(q,34)||g(q,39))){q=q+"<";b=0;}else if(g(k[e],62)&&(q==='"<'||q==="'<")){q=q.charAt(0);b=0;}else if(b===0&&Y(q,62)&&(q.length<2||Y(q,34)&&Y(q,39))){c=0;L=q.length-1;if(L>-1){do{if(k[e-c].charCodeAt(0)!==q.charCodeAt(L))break;c=c+1;L=L-1;}while(L>-1)}if(L<0&&te===false&&J===true){J=false;ce(true);if(k[e+1]===E)break}}else if(b>0&&ae(k[e])===false){b=0;}e=e+1;}while(e<a)}}else if(g(d,10)===false&&(g(k[e],34)||g(k[e],39))){q=k[e];}else if(R!=="comment"&&Y(d,10)&&g(k[e],60)&&g(k[e+1],33)&&g(k[e+2],45)&&g(k[e+3],45)&&n.types[s.count]!=="conditional"){q="-->";}else if(g(k[e],123)&&Y(M[0],123)&&Y(d,10)&&(g(k[e+1],123)||g(k[e+1],37))){if(g(k[e+1],123)){q="}}";}else {q=k[e+1]+"}";if(K.length<1&&(B.length<1||ae(k[e-1]))){M.pop();do{if(g(k[e],10))v=v+1;K.push(k[e]);e=e+1;}while(e<a&&k[e-1]+k[e]!==q);K.push("}");B.push([K.join(C),v]);K=[];v=1;q=C;}}if(q===d)q=C;}else if(re&&Y(d,10)&&ae(k[e])&&Y(k[e-1],60)){F=true;}else if(re&&o&&g(k[e],47)&&(g(k[e+1],42)||g(k[e+1],47))){F=true;M[M.length-1]=" ";_=g(k[e+1],42)?"*/":"\n";K.push(k[e]);}else if(te===false&&(k[e]===E||g(d,10)&&g(k[e+1],60))&&(M.length>d.length+1||g(M[0],93))&&(o===false||Q===0)){if(g(d,10)){if(ae(M[M.length-1])){do{M.pop();e=e-1;}while(ae(M[M.length-1]))}break}c=M.length;L=d.length-1;if(L>-1){do{c=c-1;if(M[c]!==d.charAt(L))break;L=L-1;}while(L>-1)}if(L<0){if(g(M[c],62)&&g(k[e],62)&&B.length>0){if(B[B.length-1][1]===0&&g(k[e-1],125)&&ae(k[e+1])){B[B.length-1][1]=g(k[e+1],32)?1:2;}}break}}}else if(k[e].charCodeAt(0)===q.charCodeAt(q.length-1)&&(o&&g(d,125)&&(k[e-1]!=="\\"||ue()===false)||(o===false||Y(d,125)))){c=0;L=q.length-1;if(L>-1){do{if(k[e-c]!==q.charAt(L))break;c=c+1;L=L-1;}while(L>-1)}if(L<0)q=C;}}e=e+1;}while(e<a);if(P.correct===true){if(g(k[e+1],62)&&g(M[0],60)&&Y(M[0],60)){do{e=e+1;}while(g(k[e+1],62))}else if(g(M[0],60)&&g(M[1],60)&&Y(k[e+1],62)&&Y(M[M.length-2],62)){do{M.splice(1,1);}while(g(M[1],60))}}b=0;A=M.join(C);I=N(A);A=x(A);if(I==="xml"){r="xml";}else if(r===C&&I==="html"){r="html";}}y.token=A;y.types=R;I=N(A);if(T===false&&o===false)A=A.replace(/\s+/g," ");if(I==="comment"&&Ce(A,2)){const M=A.slice(0,A.indexOf("%}")+2);const L=A.slice(A.indexOf("%}")+2,A.lastIndexOf("{%"));const c=A.slice(A.lastIndexOf("{%"));let i=0;let w=0;const O=q=>{i=q===C?0:q.split("\n").length;return C};const v=q=>{w=q===C?0:q.split("\n").length;return C};y.begin=s.structure[s.structure.length-1][1];y.ender=s.count+3;y.stack=s.structure[s.structure.length-1][0];y.types="template_start";y.token=M;h(n,y,"comment");A=L.replace(/^\s*/,O);A=A.replace(/\s*$/,v);y.begin=s.count;y.lines=i;y.stack="comment";y.token=A;y.types="comment";h(n,y,C);y.types="template_end";y.stack="comment";y.lines=w;y.token=c;h(n,y,C);return}y.types=R;ne=(()=>{const M=/(\/>)$/;const L=(i,w)=>{if(!oe.html.tags.has(i))return false;if(i===w)return true;if(i==="dd"&&w==="dt")return true;if(i==="dt"&&w==="dd")return true;if(i==="td"&&w==="th")return true;if(i==="th"&&w==="td")return true;if(i==="colgroup"&&(w==="tbody"||w==="tfoot"||w==="thead"||w==="tr"))return true;if(i==="tbody"&&(w==="colgroup"||w==="tfoot"||w==="thead"))return true;if(i==="tfoot"&&(w==="colgroup"||w==="tbody"||w==="thead"))return true;if(i==="thead"&&(w==="colgroup"||w==="tbody"||w==="tfoot"))return true;if(i==="tr"&&w==="colgroup")return true;return false};const c=i=>{y.lines=n.lines[s.count]>0?1:0;y.token=`</${s.structure[s.structure.length-1][0]}>`;y.types="end";h(n,y,C);if(i>0){do{y.begin=s.structure[s.structure.length-1][1];y.stack=s.structure[s.structure.length-1][0];y.token=`</${s.structure[s.structure.length-1][0]}>`;h(n,y,C);i=i-1;}while(i>0)}y.begin=s.structure[s.structure.length-1][1];y.lines=s.linesSpace;y.stack=s.structure[s.structure.length-1][0];y.token=A;y.types="end";n.lines[s.count-1]=0;};if(R==="end"){const i=n.token[s.count];if(n.types[s.count-1]==="singleton"&&i.charCodeAt(i.length-2)!==47&&`/${N(i)}`===I){n.types[s.count-1]="start";}}if(r==="html"){if(g(A[0],60)&&Y(A[1],33)&&Y(A[1],63)&&(s.count<0||n.types[s.count].indexOf("template")<0))A=A.toLowerCase();if(oe.html.tags.has(s.structure[s.structure.length-1][0])&&L(I.slice(1),s.structure[s.structure.length-2][0])){c(0);}else if(s.structure.length>3&&oe.html.tags.has(s.structure[s.structure.length-1][0])&&oe.html.tags.has(s.structure[s.structure.length-2][0])&&oe.html.tags.has(s.structure[s.structure.length-3][0])&&L(I,s.structure[s.structure.length-4][0])){c(3);}else if(s.structure.length>2&&oe.html.tags.has(s.structure[s.structure.length-1][0])&&oe.html.tags.has(s.structure[s.structure.length-2][0])&&L(I,s.structure[s.structure.length-3][0])){c(2);}else if(s.structure.length>1&&oe.html.tags.has(s.structure[s.structure.length-1][0])&&L(I,s.structure[s.structure.length-2][0])){c(1);}else if(L(I,s.structure[s.structure.length-1][0])){c(0);}else if(g(I[0],47)&&oe.html.tags.has(s.structure[s.structure.length-1][0])&&s.structure[s.structure.length-1][0]!==I.slice(1)){Z(A,false);y.begin=s.structure[s.structure.length-1][1];y.lines=s.linesSpace;y.stack=s.structure[s.structure.length-1][0];y.token=A;y.types="end";n.lines[s.count-1]=0;}if(o===false&&oe.html.voids.has(I)){if(P.correct===true&&M.test(A)===false)A=A.slice(0,A.length-1)+" />";return true}}return false})();if(oe.embed("html",I)&&A.slice(A.length-2)!=="/>"||oe.embed("liquid",I)&&A.slice(A.length-2)==="%}"){const M=Ce(A,3);let L=B.length-1;let c=C;let i=[];if(L>-1){do{i=ge(B[L][0]);if(i[0]==="type"){c=i[1];if(c.charCodeAt(0)===34||c.charCodeAt(0)===39){c=c.slice(1,c.length-1);}break}L=L-1;}while(L>-1)}if(M===false&&oe.embed("html",I)){m=true;if(c===C){z=oe.html.embed[I].language;}else if(oe.html.embed[I].value(c)){z=oe.html.embed[I].language;}}else if(M===true&&oe.embed("liquid",I)){m=true;if(c===C){z=oe.liquid.embed[I].language;}else {z=oe.liquid.embed[I].language;}}if(m===true){L=e+1;if(L<a){do{if(ae(k[L])===false){if(g(k[L],60)){if(k.slice(L+1,L+4).join(C)==="!--"){L=L+4;if(L<a){do{if(ae(k[L])===false){m=false;break}if(k[L]==="\n"||k[L]==="\r")break;L=L+1;}while(L<a)}}else {m=false;}}break}L=L+1;}while(L<a)}}}if(re&&G===false&&R!=="xml"){if(ne===true||A.slice(A.length-2)==="/>"){R="singleton";}else {R="start";}y.types=R;}if(re&&T===false&&G&&g(d,62)&&A.slice(A.length-2)!=="/>"){const M=[];const L=[];if(ne===true){R="singleton";}else {B.forEach(c=>L.push(c[0]));T=true;R="ignore";e=e+1;if(e<a){let c=C;let i=0;let w=0;let O=false;do{if(g(k[e],10))s.lineNumber=s.lineNumber+1;M.push(k[e]);if(c===C){if(g(k[e],34)){c='"';}else if(g(k[e],39)){c="'";}else if(Y(M[0],123)&&g(k[e],123)&&(g(k[e+1],123)||g(k[e+1],37))){if(g(k[e+1],123)){c="}}";}else {c=k[e+1]+"}";}}else if(g(k[e],60)&&re===true){if(g(k[e+1],47)){O=true;}else {O=false;}}else if(k[e]===E&&Y(k[e-1],47)){if(O===true){b=b-1;if(b<0)break}else {b=b+1;}}}else if(g(k[e],c.charCodeAt(c.length-1))){w=0;i=c.length-1;if(i>-1){do{if(Y(k[e-w],c.charCodeAt(i)))break;w=w+1;i=i-1;}while(i>-1)}if(i<0)c=C;}e=e+1;}while(e<a)}}A=A+M.join(C);A=A.replace(">",` ${L.join(" ")}>`);y.token=A;y.types="content-ignore";B=[];}if(y.types.indexOf("template")>-1){if(g(A[0],123)&&g(A[1],37)){if((I==="case"||I==="default")&&(s.structure[s.structure.length-1][0]==="switch"||s.structure[s.structure.length-1][0]==="case")){y.types="template_else";}else if(oe.liquid.else.has(I)){y.types="template_else";}else {if(oe.liquid.tags.has(I)){y.types="template_start";}else if(I.charCodeAt(0)===101&&I.charCodeAt(1)===110&&I.charCodeAt(2)===100&&oe.liquid.tags.has(I.slice(3))){y.types="template_end";}else if(I.charCodeAt(0)===101&&I.charCodeAt(1)===110&&I.charCodeAt(2)===100){y.types="template_end";y.stack=I.slice(3);let M=0;do{if(n.types[M]==="template"&&n.stack[M]===y.stack){n.types[M]="template_start";S.start=S.start+1;break}else {M=n.stack.indexOf(y.stack,M+1);}}while(M>-1)}else {y.stack=I;}}}else if(y.types==="template"){if(A.indexOf("else")>2)y.types="template_else";}if(y.types==="template_start"||y.types==="template_else"){if(I===C||g(I,37)){I=I+A.slice(1).replace(I,C).replace(/^\s+/,C);I=I.slice(0,I.indexOf("(")).replace(/\s+/,C);}}if(P.quoteConvert==="double"){y.token=y.token.replace(/'/g,'"');}else if(P.quoteConvert==="single"){y.token=y.token.replace(/"/g,"'");}}if(R==="cdata"&&(y.stack==="script"||y.stack==="style")){let M=s.count;let L=s.count;const c=y.stack;if(n.types[L]==="attribute"){do{M=M-1;L=L-1;}while(n.types[L]==="attribute"&&L>-1)}y.begin=M;y.token="<![CDATA[";y.types="cdata_start";A=A.replace(/^(\s*<!\[cdata\[)/i,C).replace(/(\]\]>\s*)$/,C);h(n,y,C);s.structure.push(["cdata",s.count]);if(c==="script"){D.lexers.script(A);}else {D.lexers.style(A);}y.begin=s.structure[s.structure.length-1][1];y.token="]]>";y.types="cdata_end";h(n,y,C);s.structure.pop();}else {h(n,y,I);}me();if(p.wrap>0&&o===true){let M=0;let L=s.count;let c=0;if(n.types[L].indexOf("attribute")>-1){do{M=M+n.token[L].length+1;L=L-1;}while(n.lexer[L]!=="markup"||n.types[L].indexOf("attribute")>-1);if(n.lines[L]===1)M=M+n.token[L].length+1;}else if(n.lines[L]===1){M=n.token[L].length+1;}c=L-1;if(M>0&&n.types[c]!=="script_end"){if(n.types[c].indexOf("attribute")>-1){do{M=M+n.token[c].length+1;c=c-1;}while(n.lexer[c]!=="markup"||n.types[c].indexOf("attribute")>-1);if(n.lines[c]===1)M=M+n.token[c].length+1;}else if(n.lines[c]===1){M=n.token[c].length+1;}}}s.linesSpace=0;}function f(){const d=[];const y=e;const b=g(n.token[s.count],123)&&o===true;let A=C;let E=s.linesSpace;let R=C;if(m===true){if(b===true){R="script";}else if(s.structure[s.structure.length-1][1]>-1){R=N(n.token[s.structure[s.structure.length-1][1]].toLowerCase());}else if(n.begin[s.count]>1){R=N(n.token[n.begin[s.count]].toLowerCase());}else {R=N(n.token[n.begin[s.count]].toLowerCase());}}const I=n.types[s.count]==="template_start"&&n.token[s.count].indexOf("<!")===0&&n.token[s.count].indexOf("<![")<0&&n.token[s.count].charCodeAt(n.token[s.count].length-1)===91;const j={begin:s.structure[s.structure.length-1][1],ender:-1,lexer:"markup",lines:E,stack:s.structure[s.structure.length-1][0],token:C,types:"content"};function ne(){let H=e-1;let G=0;if(k[e-1]!=="\\")return false;if(H>-1){do{if(k[H]!=="\\")break;G=G+1;H=H-1;}while(H>-1)}return G%2===1}if(e<a){let H=C;let G=C;let V=C;let se=0;do{if(g(k[e],10))s.lineNumber=s.lineNumber+1;if(m===true){if(G===C){if(g(k[e],47)){if(g(k[e+1],42)){G="*";}else if(g(k[e+1],47)){G="/";}else if(R==="script"&&"([{!=,;.?:&<>".indexOf(k[e-1])>-1){if(o===false||Y(k[e-1],60))G="reg";}}else if((g(k[e],34)||g(k[e],39)||g(k[e],96))&&ne()===false){G=k[e];}else if(g(k[e],123)&&b===true){se=se+1;}else if(g(k[e],125)&&b===true){if(se===0){V=d.join(C).replace(/^\s+/,C).replace(/\s+$/,C);D.lexers.script(V);s.structure[s.structure.length-1][1]+=1;if(n.types[s.count]==="end"&&n.lexer[n.begin[s.count]-1]==="script"){j.lexer="script";j.token=P.correct===true?";":"x;";j.types="separator";h(n,j,C);j.lexer="markup";}j.token="}";j.types="script_end";h(n,j,C);s.structure.pop();break}se=se-1;}if(Ce(n.token[s.count],3)===false){H=k.slice(e,e+10).join(C).toLowerCase();if(R==="script"){H=e===a-9?H.slice(0,H.length-1):H.slice(0,H.length-2);if(H==="<\/script"){V=d.join(C).replace(/^\s+/,C).replace(/\s+$/,C);e=e-1;if(d.length<1)break;if(/^<!--+/.test(V)&&/--+>$/.test(V)){j.token="<!--";j.types="comment";h(n,j,C);V=V.replace(/^<!--+/,C).replace(/--+>$/,C);D.lexers.script(V);j.token="-->";h(n,j,C);}else {D.options.language=z;D.lexers.script(V);if(z==="json"&&p.json.objectSort===true||z!=="json"&&p.script.objectSort===true)s.sortCorrection(0,s.count+1);D.options.language="html";}break}}if(R==="style"){if(e===a-8){H=H.slice(0,H.length-1);}else if(e===a-9){H=H.slice(0,H.length-2);}else {H=H.slice(0,H.length-3);}if(H==="</style"){let T=d.join(C).replace(/^\s+/,C).replace(/\s+$/,C);e=e-1;if(d.length<1)break;if(/^<!--+/.test(T)&&/--+>$/.test(T)){j.token="<!--";j.types="comment";h(n,j,C);T=T.replace(/^<!--+/,C).replace(/--+>$/,C);D.lexers.style(T);j.token="-->";h(n,j,C);}else {D.options.language=z;D.lexers.style(T);if(p.style.sortProperties===true)s.sortCorrection(0,s.count+1);D.options.language="html";}break}}}else {if(oe.embed("liquid",R)){H=k.slice(e).join(C).toLowerCase();if(oe.liquid.embed[R].end(H)){H=H.slice(0,H.indexOf("%}")+2);V=d.join(C).replace(/^\s+/,C).replace(/\s+$/,C);e=e+H.length-1;if(d.length<1)break;const T=We[oe.liquid.embed[R].language];if(/^<!--+/.test(V)&&/--+>$/.test(V)){j.token="<!--";j.types="comment";h(n,j,C);V=V.replace(/^<!--+/,C).replace(/--+>$/,C);D.lexers[T](V);j.token="-->";h(n,j,C);}else {D.options.language=oe.liquid.embed[R].language;D.lexers[T](V);if(z==="json"&&p.json.objectSort===true||z==="javascript"&&p.script.objectSort===true||(z==="css"||z==="scss")&&p.style.sortProperties===true)s.sortCorrection(0,s.count+1);D.options.language="liquid";j.token=H;j.types="template_end";h(n,j,C);}break}}}}else if(G===k[e]&&(g(G,34)||g(G,39)||g(G,96)||g(G,42)&&g(k[e+1],47))&&ne()===false){G=C;}else if(g(G,96)&&k[e]==="$"&&g(k[e+1],123)&&ne()===false){G="}";}else if(g(G,125)&&g(k[e],125)&&ne()===false){G="`";}else if(g(G,47)&&(g(k[e],10)||k[e]==="\r")){G=C;}else if(G==="reg"&&g(k[e],47)&&ne()===false){G=C;}else if(g(G,47)&&g(k[e],60)&&g(k[e-1],45)&&g(k[e-2],45)){H=k.slice(e+1,e+11).join(C).toLowerCase();H=H.slice(0,H.length-2);if(R==="script"&&H==="<\/script")G=C;H=H.slice(0,H.length-1);if(R==="style"&&H==="</style")G=C;}}if(I===true&&g(k[e],93)){e=e-1;E=0;A=d.join(C);A=A.replace(/\s+$/,C);j.token=A;h(n,j,C);break}if(m===false&&d.length>0&&(g(k[e],60)&&Y(k[e+1],61)&&!/\s|\d/.test(k[e+1])||g(k[e],91)&&g(k[e+1],37)||g(k[e],123)&&(o===true||g(k[e+1],123)||g(k[e+1],37)))){e=e-1;if(s.structure[s.structure.length-1][0]==="comment"){A=d.join(C);}else {A=d.join(C).replace(/\s+$/,C);}A=x(A);E=0;j.token=A;if(p.wrap>0&&P.preserveText===false){const{wrap:T}=p;const re=C;const ke=C;const B=[];let U=T;let ge=A.length;const me=()=>{if(A.charCodeAt(U)===32){B.push(A.slice(0,U));A=A.slice(U+1);ge=A.length;U=T;return}do{U=U-1;}while(U>0&&A.charCodeAt(U)!==32);if(U>0){B.push(A.slice(0,U));A=A.slice(U+1);ge=A.length;U=T;}else {U=T;do{U=U+1;}while(U<ge&&A.charCodeAt(U)!==32);B.push(A.slice(0,U));A=A.slice(U+1);ge=A.length;U=T;}};if(n.token[n.begin[s.count]]==="<a>"&&n.token[n.begin[n.begin[s.count]]]==="<li>"&&n.lines[n.begin[s.count]]===0&&s.linesSpace===0&&A.length<p.wrap){h(n,j,C);break}if(ge<T){h(n,j,C);break}if(s.linesSpace<1){let he=s.count;do{U=U-n.token[he].length;if(n.types[he].indexOf("attribute")>-1)U=U-1;if(n.lines[he]>0&&n.types[he].indexOf("attribute")<0)break;he=he-1;}while(he>0&&U>0);if(U<1)U=A.indexOf(" ");}A=d.join(C);A=A.replace(/^\s+/,C).replace(/\s+$/,C).replace(/\s+/g," ");do{me();}while(U<ge);if(A!==C&&Y(A,32))B.push(A);A=p.crlf===true?B.join("\r\n"):B.join("\n");A=re+A+ke;}E=0;j.token=A;h(n,j,C);break}d.push(k[e]);e=e+1;}while(e<a)}if(e>y&&e<a){if(ae(k[e])){let H=e;s.linesSpace=1;do{if(k[H]==="\n")s.linesSpace=s.linesSpace+1;H=H-1;}while(H>y&&ae(k[H]))}else {s.linesSpace=0;}}else if(e!==y||e===y&&m===false){A=d.join(C).replace(/\s+$/,C);E=0;if(j.token!==A){j.token=A;h(n,j,C);s.linesSpace=0;}}m=false;}if(W>0){do{P.attributeSortList[e]=P.attributeSortList[e].replace(/^\s+/,C).replace(/\s+$/,C);e=e+1;}while(e<W);e=0;}if(p.language==="html"||p.language==="liquid")r="html";do{if(ae(k[e])){if(n.types[s.count]==="template_start"&&s.structure[s.structure.length-1][0]==="comment"){f();}else {e=s.spacer({array:k,end:a,index:e});}}else if(m){f();}else if(g(k[e],60)){X(C);}else if(g(k[e],91)&&g(k[e+1],37)){X("%]");}else if(g(k[e],123)&&(o||g(k[e+1],123)||g(k[e+1],37))){X(C);}else if(g(k[e],45)&&g(k[e+1],45)&&g(k[e+2],45)){X("---");}else {f();}e=e+1;}while(e<a);if(Y(n.token[s.count][0],47)&&oe.html.tags.has(s.structure[s.structure.length-1][0]))Z(n.token[s.count],true);if(S.end!==S.start&&s.error===C){if(S.end>S.start){const d=S.end-S.start;const y=d===1?C:"s";s.error=["Prettify Error:","",`${d} more end type${y} than start types`].join("\n");}else {const d=S.start-S.end;const y=d===1?C:"s";s.error=["Prettify Error:","",`${d} more start type${y} than end types`].join("\n");}}return n};D.beautify.markup=l=>{const u={};const p="markup";const{data:n}=s;const o=l.language==="jsx"||l.language==="tsx";const t=l.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const P=l.markup;const W=D.end<1||D.end>n.token.length?n.token.length:D.end+1;const S={is:(x,h)=>n.types[x]===h,not:(x,h)=>n.types[x]!==h,idx:(x,h)=>x>-1&&(n.types[x]||C).indexOf(h)};const k={is:(x,h)=>n.token[x]===h,not:(x,h)=>n.token[x]!==h};let a=D.start;let e=-1;let m=0;let z=0;let r=isNaN(l.indentLevel)?0:Number(l.indentLevel);const $=(()=>{const x=D.start>0?Array(D.start).fill(0,0,D.start):[];function h(){let y=a+1;let b=0;if(S.is(y,void 0))return y-1;if(S.is(y,"comment")||a<W-1&&S.idx(y,"attribute")>-1){do{if(S.is(y,"jsx_attribute_start")){b=y;do{if(S.is(y,"jsx_attribute_end")&&n.begin[y]===b)break;y=y+1;}while(y<W)}else if(S.not(y,"comment")&&S.idx(y,"attribute")<0)return y;y=y+1;}while(y<W)}return y}function N(){const y=n.begin[a];let b=a;do{b=b-1;if(k.is(b,"</li>")&&k.is(b-1,"</a>")&&n.begin[n.begin[b]]===y&&n.begin[b-1]===n.begin[b]+1){b=n.begin[b];}else {return}}while(b>y+1);b=a;do{b=b-1;if(S.is(b+1,"attribute")){x[b]=-10;}else if(k.not(b,"</li>")){x[b]=-20;}}while(b>y+1)}function Z(){let y=a;let b=false;if(n.lines[a+1]===0&&P.forceIndent===false){do{if(n.lines[y]>0){b=true;break}y=y-1;}while(y>e);y=a;}else {b=true;}if(b===true){const A=S.is(m,"comment")||S.is(m,"end")||S.is(m,"template_end")?r+1:r;do{x.push(A);y=y-1;}while(y>e);if(A===r+1)x[a]=r;if(S.is(y,"attribute")||S.is(y,"template_attribute")||S.is(y,"jsx_attribute_start")){x[n.begin[y]]=A;}else {x[y]=A;}}else {do{x.push(-20);y=y-1;}while(y>e);x[y]=-20;}e=-1;}function X(){let y=r;if(P.forceIndent===true||P.forceAttribute===true){x.push(r);return}if(m<W&&(S.idx(m,"end")>-1||S.idx(m,"start")>-1)&&n.lines[m]>0){x.push(r);y=y+1;if(S.is(a,"singleton")&&a>0&&S.idx(a-1,"attribute")>-1&&S.is(n.begin[a-1],"singleton")){if(n.begin[a]<0||S.is(n.begin[a-1],"singleton")&&n.begin[n.ender[a]-1]!==a){x[a-1]=r;}else {x[a-1]=r+1;}}}else if(a>0&&S.is(a,"singleton")&&S.idx(a-1,"attribute")>-1){x[a-1]=r;z=n.token[a].length;x.push(-10);}else if(n.lines[m]===0){x.push(-20);}else if((l.wrap===0||a<W-2&&n.token[a]!==void 0&&n.token[a+1]!==void 0&&n.token[a+2]!==void 0&&n.token[a].length+n.token[a+1].length+n.token[a+2].length+1>l.wrap&&S.idx(a+2,"attribute")>-1||n.token[a]!==void 0&&n.token[a+1]!==void 0&&n.token[a].length+n.token[a+1].length>l.wrap)&&(S.is(a+1,"singleton")||S.is(a+1,"template"))){x.push(r);}else {z=z+1;x.push(-10);}if(a>0&&S.idx(a-1,"attribute")>-1&&n.lines[a]<1){x[a-1]=-20;}if(z>l.wrap){let b=a;let A=Math.max(n.begin[a],0);if(S.is(a,"content")&&P.preserveText===false){let E=0;const R=n.token[a].replace(/\s+/g," ").split(" ");do{b=b-1;if(x[b]<0){E=E+n.token[b].length;if(x[b]===-10)E=E+1;}else {break}}while(b>0);b=0;A=R.length;do{if(R[b].length+E>l.wrap){R[b]=t+R[b];E=R[b].length;}else {R[b]=` ${R[b]}`;E=E+R[b].length;}b=b+1;}while(b<A);if(g(R[0],32)){n.token[a]=R.join(C).slice(1);}else {x[a-1]=y;n.token[a]=R.join(C).replace(t,C);}if(n.token[a].indexOf(t)>0){z=n.token[a].length-n.token[a].lastIndexOf(t);}}else {do{b=b-1;if(x[b]>-1){z=n.token[a].length;if(n.lines[a+1]>0)z=z+1;return}if(S.idx(b,"start")>-1){z=0;return}if(n.lines[b+1]>0&&(S.not(b,"attribute")||S.is(b,"attribute")&&S.is(b+1,"attribute"))){if(S.not(b,"singleton")||S.is(b,"attribute")&&S.is(b+1,"attribute")){z=n.token[a].length;if(n.lines[a+1]>0)z=z+1;break}}}while(b>A);x[b]=y;}}}function f(){const y=a;if(n.types[y-1]==="script_start"&&g(n.token[y-1],123)){x[y-1]=-20;}do{if(n.lexer[a+1]===p&&n.begin[a+1]<y&&S.not(a+1,"start")&&S.not(a+1,"singleton"))break;x.push(0);a=a+1;}while(a<W);u[y]=a;if(n.types[a+1]==="script_end"&&n.token[a+1]==="}"){x.push(-20);}else {x.push(r-1);}m=h();if(n.lexer[m]===p&&n.stack[a].indexOf("attribute")<0&&(n.types[m]==="end"||n.types[m]==="template_end")){r=r-1;}}function d(){function y(V){const se=V.indexOf("=");if(se>0&&(se<V.indexOf('"')&&V.indexOf('"')>0||se<V.indexOf("'")&&V.indexOf("'")>0)){return [V.slice(0,se),V.slice(se+1)]}return [V,C]}function b(V){const se=y(V);if(se[1]===C||se[0]==="href"||se[0].charCodeAt(0)===111&&se[0].charCodeAt(1)===110){return V}else if(P.attributeValues==="preserve"){return se[0]+"="+se[1]}else if(P.attributeValues==="strip"){return `${se[0].trimStart()}=${se[1].replace(/\s+/g," ").replace(/^["']\s+/,'"')}`}const T=P.attributeValues;const re=[];const ke=l.wrap>0?se[1].length>l.wrap:false;let B;let U=false;let ge=C;let me=C;let he=0;let Ae=0;if(T==="collapse"){B=se[1].replace(/\s+/g," ");}else if(T==="wrap"){B=se[1].replace(/\s+/g,$e=>/\n/.test($e)?"\n":$e.replace(/\s+/," "));}do{if(g(B[he],123)&&(g(B[he+1],123)||g(B[he+1],37))){if(T==="collapse"){if(ae(B[he-1])===true&&re[re.length-1]!=="\n"){re.push("\n");}}if(g(B[he+1],37)){Ae=B.indexOf("%}",he+1);ge=B.slice(he,Ae+2);me=g(ge[2],45)?ge.slice(3).trimStart():ge.slice(2).trimStart();he=Ae+2;if(me.startsWith("end")){U=false;if(T==="collapse"&&re[re.length-1]!=="\n"){re.push("\n");}}else if(oe.liquid.tags.has(me.slice(0,me.search(/\s/)))){U=true;if(T==="collapse"&&re[re.length-1]!=="\n"){re.push("\n");}}re.push(ge);}else {if(U&&T==="collapse"&&re[re.length-1]!=="\n"){re.push("\n");}Ae=B.indexOf("}}",he+1);ge=B.slice(he,Ae+2);he=Ae+2;re.push(ge);}if(T==="collapse"){if(ae(B[he])===true&&re[re.length-1]!=="\n"&&he<B.length-1){re.push("\n");}}}else {if(B[he]===" "){if(T==="collapse"){if(re[re.length-1]!=="\n"){re.push("\n");}}else if(ke&&T==="wrap"){if(U===false){re.push("\n");}}}else {re.push(B[he]);}he=he+1;}}while(he<B.length);return se[0]+"="+re.join(C)}function A(V){if(S.is(V,"attribute")||S.idx(V,"template_attribute")>-1){n.token[V]=b(n.token[V]);}else {const se=n.token[V].replace(/\s+/g," ").split(" ");const T=se.length;let re=1;let ke=se[0].length;do{if(ke+se[re].length>l.wrap){ke=se[re].length;se[re]=t+se[re];}else {se[re]=` ${se[re]}`;ke=ke+se[re].length;}re=re+1;}while(re<T);n.token[V]=se.join(C);}}let E=a;const R=a-1;let I=false;let j=false;let ne=0;let H=n.token[R].length+1;let G=(()=>{if(S.idx(a,"start")>0){let V=a;do{if(n.types[V].indexOf("end")>0&&n.begin[V]===a){if(V<W-1&&S.idx(V+1,"attribute")>-1){I=true;break}}V=V+1;}while(V<W)}else if(a<W-1&&S.idx(a+1,"attribute")>-1){I=true;}if(S.is(m,"end")||S.is(m,"template_end")){return r+(S.is(R,"singleton")?2:1)}if(S.is(R,"singleton"))return r+1;return r})();if(I===false&&S.is(a,"comment_attribute")){x.push(r);x[R]=n.types[R]==="singleton"?r+1:r;return}if(G<1)G=1;do{z=z+n.token[a].length+1;if(n.types[a].indexOf("attribute")>0){if(n.types[a]==="template_attribute_start"){if(P.preserveAttributes===true){x.push(-10);}else {let V=1;do{if(n.lines[a]===0){x.push(-20);}else if(n.lines[a]===1){if(P.forceAttribute===true){x.push(G);}else {x.push(-10);}}else {x.push(G);}if(V===0)break;a=a+1;if(S.is(a,"template_attribute_start")){V=V+1;}else if(S.is(a,"template_attribute_end")){V=V-1;}ne=ne+1;if(n.token[a]!==void 0){z=z+n.token[a].length+1;H=H+n.token[a].length+1;}}while(a<W)}}else if(n.types[a]==="template_attribute"){if(P.forceAttribute===true){x.push(G);}else {x.push(-10);}}else if(n.types[a]==="comment_attribute"){x.push(G);}else if(n.types[a].indexOf("start")>0){j=true;if(a<W-2&&n.types[a+2].indexOf("attribute")>0){x.push(-20);a=a+1;u[a]=a;}else {if(R===a-1&&I===false){if(o){x.push(-20);}else {x.push(G);}}else {if(o){x.push(-20);}else {x.push(G+1);}}if(n.lexer[a+1]!==p){a=a+1;f();}}}else if(n.types[a].indexOf("end")>0&&n.types[a].indexOf("template")<0){if(x[a-1]!==-20)x[a-1]=x[n.begin[a]]-1;if(n.lexer[a+1]!==p){x.push(-20);}else {x.push(G);}}else {x.push(G);}}else if(S.is(a,"attribute")){H=H+n.token[a].length+1;if(P.preserveAttributes===true){x.push(-10);}else if(P.forceAttribute===true||P.forceAttribute>=1||j===true||a<W-1&&(S.idx(a+1,"template_attribute_")>-1&&n.lines[a+1]!==-20||S.idx(a+1,"attribute")>0)){n.token[a]=b(n.token[a]);if(P.forceAttribute===false&&n.lines[a]===1){if(S.is(a+1,"template_attribute_start")&&n.lines[a+1]>1){x.push(G);}else {x.push(-10);}}else {x.push(G);}}else {x.push(-10);}}else if(n.begin[a]<R+1){break}a=a+1;ne=ne+1;}while(a<W);a=a-1;if(S.idx(a,"template")<0&&S.idx(a,"end")>0&&S.idx(a,"attribute")>0&&S.not(R,"singleton")&&x[a-1]>0&&I===true){x[a-1]=x[a-1]-1;}if(x[a]!==-20){if(o===true&&S.idx(R,"start")>-1&&S.is(a+1,"script_start")){x[a]=G;}else {if(k.is(a,"/")&&x[a-1]!==10){x[a-1]=-10;}else {x[a]=x[R];}}}if(P.forceAttribute===true){z=0;x[R]=G;}else if(P.forceAttribute>=1){if(ne>=P.forceAttribute){x[R]=G;}else {x[R]=-10;}}else {x[R]=-10;}if(P.preserveAttributes===true||k.is(R,"<%xml%>")||k.is(R,"<?xml?>")){z=0;return}E=a;if(E>R+1){if(P.selfCloseSpace===false)H=H-1;if(H>l.wrap&&l.wrap>0&&P.forceAttribute===false){if(P.forceLeadAttribute===true){x[R]=G;E=E-1;}z=n.token[a].length;do{if(n.token[E].length>l.wrap&&ae(n.token[E]))A(E);if(S.idx(E,"template")>-1&&x[E]===-10){x[E]=G;}else if(S.is(E,"attribute")&&x[E]===-10){x[E]=G;}E=E-1;}while(E>R)}}else if(l.wrap>0&&S.is(a,"attribute")&&n.token[a].length>l.wrap&&ae(n.token[a])){A(a);}}do{if(n.lexer[a]===p){if(n.token[a].toLowerCase().indexOf("<!doctype")===0)x[a-1]=r;if(n.types[a].indexOf("attribute")>-1){d();}else if(S.is(a,"comment")){if(e<0)e=a;if(S.not(a+1,"comment")||a>0&&S.idx(a-1,"end")>-1)Z();}else if(S.not(a,"comment")){m=h();if(S.is(m,"end")||S.is(m,"template_end")){r=r-1;if(S.is(m,"template_end")&&S.is(n.begin[m]+1,"template_else"))r=r-1;if(k.is(a,"</ol>")||k.is(a,"</ul>")||k.is(a,"</dl>"))N();}if(S.is(a,"script_end")&&S.is(a+1,"end")){if(n.lines[m]<1){x.push(-20);}else if(n.lines[m]>1){x.push(r);}else {x.push(-10);}}else if((P.forceIndent===false||P.forceIndent===true&&S.is(m,"script_start"))&&(S.is(a,"content")||S.is(a,"singleton")||S.is(a,"template"))){z=z+n.token[a].length;if(S.is(a,"template")){x.push(r);const y=n.token[a].indexOf(t);if(y>0){const b=[];const A=x[a-1]*l.indentSize+n.token[a].charCodeAt(2)===45?l.indentSize:l.indentSize-1;let E=0;do{b.push(" ");E=E+1;}while(E<A);n.token[a]=n.token[a].replace(/^\s+/gm,C).replace(/\n/g,R=>`${R}${b.join(C)}`);}}else if(n.lines[m]>0&&S.is(m,"script_start")){x.push(-10);}else if(l.wrap>0&&(S.idx(a,"template")<0||m<W&&S.idx(a,"template")>-1&&S.idx(a,"template")<0)){X();}else if(m<W&&(S.idx(m,"end")>-1||S.idx(m,"start")>-1)&&(n.lines[m]>0||S.idx(a,"template_")>-1)){x.push(r);}else if(n.lines[m]===0){x.push(-20);}else {x.push(r);}}else if(S.is(a,"start")||S.is(a,"template_start")){r=r+1;if(S.is(a,"template_start")&&S.is(a+1,"template_else")){r=r+1;}if(o===true&&k.is(a+1,"{")){if(n.lines[m]===0){x.push(-20);}else if(n.lines[m]>1){x.push(r);}else {x.push(-10);}}else if(S.is(a,"start")&&S.is(m,"end")){x.push(-20);}else if(S.is(a,"start")&&S.is(m,"script_start")){x.push(-10);}else if(P.forceIndent===true){x.push(r);}else if(S.is(a,"template_start")&&S.is(m,"template_end")){x.push(-20);}else if(n.lines[m]===0&&(S.is(m,"content")||S.is(m,"singleton")||S.is(m,"start")&&S.is(m,"template"))){x.push(-20);}else {x.push(r);}}else if(P.forceIndent===false&&n.lines[m]===0&&(S.is(m,"content")||S.is(m,"singleton"))){x.push(-20);}else if(S.is(a+2,"script_end")){x.push(-20);}else if(S.is(a,"template_else")){if(S.is(m,"template_end")){x[a-1]=r+1;}else {x[a-1]=r-1;}x.push(r);}else {x.push(r);}}if(S.not(a,"content")&&S.not(a,"singleton")&&S.not(a,"template")&&S.not(a,"attribute")){z=0;}}else {z=0;f();}a=a+1;}while(a<W);return x})();return (()=>{const x=[];const h=(()=>{const d=[l.indentChar];const y=l.indentSize-1;let b=0;if(b<y){do{d.push(l.indentChar);b=b+1;}while(b<y)}return d.join(C)})();function N(d){const y=[];const b=l.preserveLine+1;const A=Math.min(n.lines[a+1]-1,b);let E=0;if(d<0)d=0;do{y.push(t);E=E+1;}while(E<A);if(d>0){E=0;do{y.push(h);E=E+1;}while(E<d)}return y.join(C)}function Z(){let d=n.token[a].split(t);const y=n.lines[a+1];if(S.is(a,"comment"))d=d.map(R=>R.trimStart());const b=$[a-1]>-1?S.is(a,"attribute")?$[a-1]+1:$[a-1]:(()=>{let R=a-1;let I=R>-1&&S.idx(R,"start")>-1;if($[a]>-1&&S.is(a,"attribute")){return $[a]+1}do{R=R-1;if($[R]>-1){return S.is(a,"content")&&I===false?$[R]:$[R]+1}if(S.idx(R,"start")>-1)I=true;}while(R>0);return R===-2?0:1})();let A=0;n.lines[a+1]=0;const E=d.length-1;do{if(S.is(a,"comment")){if(d[A]!==C){if(d[A+1].trimStart()!==C){x.push(d[A],N(b));}else {x.push(d[A],"\n");}}else {if(d[A+1].trimStart()===C){x.push("\n");}else {x.push(N(b));}}}else {x.push(d[A]);x.push(N(b));}A=A+1;}while(A<E);n.lines[a+1]=y;x.push(d[E]);if($[a]===-10){x.push(" ");}else if($[a]>1){x.push(N($[a]));}}function X(){const d=/\/?>$/;const y=n.token[a];const b=d.exec(y);if(b===null)return;let A=a+1;let E=false;let R=P.selfCloseSpace===true&&b!==null&&b[0]==="/>"?" ":C;n.token[a]=y.replace(d,C);do{if(S.is(A,"jsx_attribute_end")&&n.begin[n.begin[A]]===a){E=false;}else if(n.begin[A]===a){if(S.is(A,"jsx_attribute_start")){E=true;}else if(S.idx(A,"attribute")<0&&E===false){break}}else if(E===false&&(n.begin[A]<a||S.idx(A,"attribute")<0)){break}A=A+1;}while(A<W);if(S.is(A-1,"comment_attribute"))R=N($[A-2]-1);n.token[A-1]=`${n.token[A-1]}${R}${b[0]}`;if(S.is(A,"comment")&&n.lines[a+1]<2)$[a]=-10;}a=D.start;let f=l.indentLevel;do{if(n.lexer[a]===p){if((S.is(a,"start")||S.is(a,"singleton")||S.is(a,"xml"))&&S.idx(a,"attribute")<0&&a<W-1&&n.types[a+1]!==void 0&&S.idx(a+1,"attribute")>-1){X();}if(k.not(a,void 0)&&n.token[a].indexOf(t)>0&&(S.is(a,"content")&&P.preserveText===false||S.is(a,"comment")||S.is(a,"attribute"))){Z();}else {x.push(n.token[a]);if($[a]===-10&&a<W-1){x.push(" ");}else if($[a]>-1){f=$[a];x.push(N($[a]));}}}else {if(u[a]===a&&S.not(a,"reference")){x.push(n.token[a]);}else {D.end=u[a];l.indentLevel=f;D.start=a;x.push(D.beautify[n.lexer[a]](l).replace(/\s+$/,C));if($[D.iterator]>-1&&u[a]>a){x.push(N($[D.iterator]));}a=D.iterator;l.indentLevel=0;}}a=a+1;}while(a<W);D.iterator=W-1;if(x[0]===t||g(x[0],32))x[0]=C;return x.join(C)})()};D.beautify.style=l=>{const u=[];const p=D.data;const n=l.crlf===true?"\r\n":"\n";const o=D.end>0?D.end+1:p.token.length;const t=l.preserveLine+1;const P=je(l.indentSize);const W=(()=>{let r=0;const $=[];do{$.push(l.indentChar);r=r+1;}while(r<l.indentSize);return $.join(C)})();let S=l.indentLevel;let k=l.style.forceValue==="wrap"&&l.wrap>0?l.wrap:0;let a=D.start;let e=[C,C];function m(r){const $=[];const x=(()=>{if(a===o-1)return 1;if(p.lines[a+1]-1>t)return t;if(p.lines[a+1]>1)return p.lines[a+1]-1;return 1})();let h=0;if(r<0)r=0;do{$.push(n);h=h+1;k=S;}while(h<x);if(r>0){h=0;do{$.push(W);h=h+1;}while(h<r)}u.push($.join(C));}function z(){const r=p.begin[a];const $=p.token[r];const x=p.token[a];const h=[];let N=a;let Z=0;let X;let f=0;if(r<0||N<=r)return;do{N=N-1;if(p.begin[N]===r){if(g(p.token[N],58)){X=[N-1,0];do{N=N-1;if((g(p.token[N],59)&&$==="{"||g(p.token[N],44)&&$==="(")&&p.begin[N]===r||p.token[N]===x&&p.begin[p.begin[N]]===r){break}if(p.types[N]!=="comment"&&p.types[N]!=="selector"&&p.token[N]!==$&&p.begin[N]===r){X[1]=p.token[N].length+X[1];}}while(N>r+1);if(X[1]>f)f=X[1];h.push(X);}}else if(p.types[N]==="end"){if(N<p.begin[N])break;N=p.begin[N];}}while(N>r);N=h.length;if(N<2)return;do{N=N-1;if(h[N][1]<f){Z=h[N][1];do{p.token[h[N][0]]=p.token[h[N][0]]+" ";Z=Z+1;}while(Z<f)}}while(N>0)}if(l.script.vertical===true&&l.style.compressCSS===false){a=o;do{a=a-1;if(g(p.token[a],125)||g(p.token[a],41))z();}while(a>0);a=D.start;}do{if(p.types[a]==="property")k=S+p.token[a].length;if(p.types[a+1]==="end"||p.types[a+1]==="template_end"||p.types[a+1]==="template_else"){S=S-1;}if(p.types[a]==="template"&&p.lines[a]===0){u.push(p.token[a]);if(p.types[a+1]==="template"&&p.lines[a+1]>0)m(S);}else if(p.types[a]==="template"&&p.lines[a]>0){if(p.types[a-2]!=="property"&&p.types[a-1]!=="colon"){k=S;u.push(p.token[a]);m(S);}else if(p.types[a-2]==="property"&&p.types[a-1]==="colon"&&p.types[a+1]==="separator"&&g(p.token[a+1],44)){k=k+p.token[a].length;if(k>l.wrap)m(S);u.push(p.token[a]);do{a=a+1;u.push(p.token[a]);if(p.lines[a+1]>0)m(S);}while(p.types[a]!=="separator"&&Y(p.token[a],59));if(g(p.token[a],59)&&p.types[a]==="separator"){u.push(p.token[a]);if(p.lines[a+1]>0)m(S);a=a+1;continue}}else {k=k+p.token[a].length;if(k>l.wrap||l.style.forceValue==="collapse"){m(S);if(Y(p.token[a][2],45)){u.push(P,p.token[a].replace("{{","{{-"));}else {u.push(P,p.token[a]);}}else {u.push(p.token[a]);}}}else if(p.types[a]==="template_else"){u.push(p.token[a]);S=S+1;m(S);}else if(p.types[a]==="start"||p.types[a]==="template_start"){S=S+1;u.push(p.token[a]);if(p.types[a+1]!=="end"&&p.types[a+1]!=="template_end"&&(l.style.compressCSS===false||l.style.compressCSS===true&&p.types[a+1]==="selector")){m(S);}}else if(g(p.token[a],59)&&(l.style.compressCSS===false||l.style.compressCSS===true&&p.types[a+1]==="selector")||(p.types[a]==="end"||p.types[a]==="template_end"||p.types[a]==="comment")){u.push(p.token[a]);if(p.types[a+1]==="value"){if(p.lines[a+1]===1){u.push(" ");}else if(p.lines[a+1]>1){m(S);}}else if(p.types[a+1]!=="separator"){if(p.types[a+1]!=="comment"||p.types[a+1]==="comment"&&p.lines[a+1]>1){m(S);}else {u.push(" ");}}}else if(g(p.token[a],58)){u.push(p.token[a]);if(l.style.compressCSS===false)u.push(" ");}else if(p.types[a]==="selector"){if(l.style.classPadding===true&&p.types[a-1]==="end"&&p.lines[a]<3){u.push(n);}if(p.token[a].indexOf("and(")>0){p.token[a]=p.token[a].replace(/and\(/,"and (");u.push(p.token[a]);}else if(p.token[a].indexOf("when(")>0){e=p.token[a].split("when(");u.push(e[0].replace(/\s+$/,C));m(S+1);u.push(`when (${e[1]}`);}else {u.push(p.token[a]);}if(p.types[a+1]==="start"){if(l.script.braceAllman===true){m(S);}else if(l.style.compressCSS===false){u.push(" ");}}}else if(g(p.token[a],44)){u.push(p.token[a]);if(p.types[a+1]==="selector"||p.types[a+1]==="property"){m(S);}else if(l.style.compressCSS===false){u.push(" ");}}else if(p.stack[a]==="map"&&g(p.token[a+1],41)&&a-p.begin[a]>5){u.push(p.token[a]);m(S);}else if(p.token[a]==="x;"){m(S);}else if((p.types[a]==="variable"||p.types[a]==="function")&&l.style.classPadding===true&&p.types[a-1]==="end"&&p.lines[a]<3){u.push(n);u.push(p.token[a]);}else if(Y(p.token[a],59)||g(p.token[a],59)&&(l.style.compressCSS===false||l.style.compressCSS===true&&Y(p.token[a+1],125))){u.push(p.token[a]);}a=a+1;}while(a<o);D.iterator=o-1;return u.join(C)};D.beautify.script=l=>{const u=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const o=we(null);const t=D.parsed;const P="script";const W=D.scopes;const S=D.end<1||D.end>t.token.length?t.token.length:D.end+1;const k=(()=>{let e=D.start;let m=isNaN(l.indentLevel)?0:Number(l.indentLevel);let z=false;let r=false;let $="";let x="";let h=t.types[0];let N=t.token[0];const Z=[-1];const X=[];const f=D.start>0?Array(D.start).fill(0,0,D.start):[];const d=[];const y=[[]];const b=[];const A=[];const E=[];const R=[false];const I=[];const j=[];function ne(){H(false,false);const L=l.commentIndent===true?m:0;if(z===false&&/\/\u002a\s*global\s/.test(t.token[e])){const c=t.token[e].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let i=c.length;do{i=i-1;c[i]=c[i].replace(/\s+/g,"");if(c[i]!=="")W.push([c[i],-1]);}while(i>0)}if(t.types[e-1]==="comment"||t.types[e+1]==="comment"){f[e-1]=L;}else if(t.lines[e]<2){let c=e+1;if(t.types[c]==="comment"){do{c=c+1;}while(c<S&&t.types[c]==="comment")}if(e<S-1&&t.stack[c]!=="block"&&(t.token[c]==="{"||t.token[c]==="x{")){let i=W.length;t.begin.splice(e,0,t.begin[c]);t.ender.splice(e,0,t.ender[c]);t.lexer.splice(e,0,t.lexer[c]);t.lines.splice(e,0,t.lines[c]);t.stack.splice(e,0,t.stack[c]);t.token.splice(e,0,t.token[c]);t.types.splice(e,0,t.types[c]);if(i>0){do{i=i-1;if(W[i][1]===c){W[i][1]=e;}else if(W[i][1]<e){break}}while(i>0)}c=c+1;t.begin.splice(c,1);t.ender.splice(c,1);t.lexer.splice(c,1);t.lines.splice(c,1);t.stack.splice(c,1);t.token.splice(c,1);t.types.splice(c,1);i=e+1;do{t.begin[i]=e;t.stack[i]=t.stack[c];i=i+1;}while(i<c);i=i+1;do{if(t.begin[i]===t.begin[c]){t.begin[i]=e;if(t.types[i]==="end"){break}}i=i+1;}while(i<S-1);t.begin[c]=e;e=e-1;}else {f[e-1]=-10;if(t.stack[e]==="paren"||t.stack[e]==="method"){f.push(m+2);}else {f.push(m);}if(l.commentIndent===true&&f[e]>-1&&t.lines[e]<3){t.lines[e]=3;}}if(t.types[e+1]!=="comment")z=true;return}else if(t.token[e-1]===","){f[e-1]=L;}else if(N==="="&&t.types[e-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(x)===true){f[e-1]=-10;}else if(N==="{"&&t.types[e-1]!=="comment"&&t.lines[0]<2){if(t.stack[e]==="function"){f[e-1]=L;}else {f[e-1]=/\n/.test(x)?L:-10;}}else {f[e-1]=L;}if(t.types[e+1]!=="comment")z=true;if(t.token[t.begin[e]]==="("){f.push(m+1);}else {f.push(m);}if(f[e]>-1&&t.lines[e]<3){if(t.types[e-1]==="comment"&&x.startsWith("//")){t.lines[e]=2;}else {t.lines[e]=3;}}if(l.script.commentNewline===true&&x.startsWith("//")===false&&t.lines[e]>=3){t.lines[e]=2;}}function H(L,c){let i=e-1;let w=L===true?0:1;const O=y[y.length-1]===void 0?[]:y[y.length-1];const v=c===false&&t.stack[e]==="array"&&L===true&&x!=="[";if(A[A.length-1]===false||t.stack[e]==="array"&&l.script.arrayFormat==="inline"||t.stack[e]==="object"&&l.script.objectIndent==="inline"){return}A[A.length-1]=false;do{if(t.types[i]==="end"){w=w+1;}else if(t.types[i]==="start"){w=w-1;}if(t.stack[i]==="global")break;if(w===0){if(t.stack[e]==="class"||t.stack[e]==="map"||v===false&&(L===false&&t.token[i]!=="("&&t.token[i]!=="x("||L===true&&t.token[i]===",")){if(t.types[i+1]==="template_start"){if(t.lines[i]<1){f[i]=-20;}else {f[i]=m-1;}}else if(O.length>0&&O[O.length-1]>-1){f[i]=m-1;}else {f[i]=m;}}else if(t.stack[e]==="array"&&t.types[e]==="operator"){if(t.token[i]===",")f[i]=m;if(i===t.begin[e])break}if(L===false)break}if(w<0){if(t.types[i+1]==="template_start"||t.types[i+1]==="template_string_start"){if(t.lines[i]<1){f[i]=-20;}else {f[i]=m-1;}}else if(O.length>0&&O[O.length-1]>-1){f[i]=m-1;}else {f[i]=m;}break}i=i-1;}while(i>-1)}function G(){const L=y[y.length-1]===void 0?[]:y[y.length-1];const c=()=>{let i=e;let w=false;const O=t.begin[i];do{i=i-1;if(t.lexer[i]==="markup"){w=true;break}if(t.begin[i]!==O)i=t.begin[i];}while(i>O);if(w===true){i=e;do{i=i-1;if(t.begin[i]!==O){i=t.begin[i];}else if(t.token[i]===","){f[i]=m+1;}}while(i>O);f[O]=m+1;f[e-1]=m;}else {f[e-1]=-20;}};if(x===")"&&t.token[e+1]==="."&&L[L.length-1]>-1&&t.token[L[0]]!==":"){let i=t.begin[e];let w=false;let O=false;do{i=i-1;}while(i>0&&f[i]<-9);w=f[i]===m;i=e+1;do{i=i+1;if(t.token[i]==="{"){O=true;break}if(t.begin[i]===t.begin[e+1]&&(t.types[i]==="separator"||t.types[i]==="end")){break}}while(i<S);if(w===false&&O===true&&y.length>1){y[y.length-2].push(t.begin[e]);m=m+1;}}if(h!=="separator")T();if(t.token[e+1]===","&&(t.stack[e]==="object"||t.stack[e]==="array")){H(true,false);}if(t.token[t.begin[e]-1]===","&&(t.token[e+1]==="}"||t.token[e+1]==="]")&&(t.stack[e]==="object"||t.stack[e]==="array")){H(true,false);}if(t.stack[e]!=="attribute"){if(x!==")"&&x!=="x)"&&(t.lexer[e-1]!=="markup"||t.lexer[e-1]==="markup"&&t.token[e-2]!=="return")){m=m-1;}if(x==="}"&&t.stack[e]==="switch"&&l.script.noCaseIndent===false){m=m-1;}}if(x==="}"||x==="x}"){if(t.types[e-1]!=="comment"&&N!=="{"&&N!=="x{"&&h!=="end"&&h!=="string"&&h!=="number"&&h!=="separator"&&N!=="++"&&N!=="--"&&(e<2||t.token[e-2]!==";"||t.token[e-2]!=="x;"||N==="break"||N==="return")){let i=e-1;let w=false;const O=t.begin[e];const v=X.length;do{if(t.begin[i]===O){if(t.token[i]==="="||t.token[i]===";"||t.token[i]==="x;"){w=true;}if(t.token[i]==="."&&f[i-1]>-1){A[A.length-1]=false;f[O]=m+1;f[e-1]=m;break}if(i>0&&t.token[i]==="return"&&(t.token[i-1]===")"||t.token[i-1]==="x)"||t.token[i-1]==="{"||t.token[i-1]==="x{"||t.token[i-1]==="}"||t.token[i-1]==="x}"||t.token[i-1]===";"||t.token[i-1]==="x;")){m=m-1;f[e-1]=m;break}if(t.token[i]===":"&&d.length===0||t.token[i]===","&&w===false){break}if(i===0||t.token[i-1]==="{"||t.token[i-1]==="x{"||t.token[i]==="for"||t.token[i]==="if"||t.token[i]==="do"||t.token[i]==="function"||t.token[i]==="while"||t.token[i]==="var"||t.token[i]==="let"||t.token[i]==="const"||t.token[i]==="with"){if(X[v-1]===false&&v>1&&(e===S-1||t.token[e+1]!==")"&&t.token[e+1]!=="x)")&&t.stack[e]!=="object"){m=m-1;}break}}else {i=t.begin[i];}i=i-1;}while(i>O)}Z.pop();}if(l.script.bracePadding===false&&x!=="}"&&h!=="markup"){f[e-1]=-20;}if(l.script.bracePadding===true&&h!=="start"&&N!==";"&&(f[t.begin[e]]<-9||A[A.length-1]===true)){f[t.begin[e]]=-10;f[e-1]=-10;f.push(-20);}else if(t.stack[e]==="attribute"){f[e-1]=-20;f.push(m);}else if(t.stack[e]==="array"&&(L.length>0||b[b.length-1]===true)){V();A[A.length-1]=false;f[t.begin[e]]=m+1;f[e-1]=m;f.push(-20);}else if((t.stack[e]==="object"||t.begin[e]===0&&x==="}")&&L.length>0){V();A[A.length-1]=false;f[t.begin[e]]=m+1;f[e-1]=m;f.push(-20);}else if(x===")"||x==="x)"){const i=x===")"&&N!=="("&&j.length>0?j.pop()+1:0;const w=t.token[t.begin[e]-1]==="if"?(()=>{let O=e;do{O=O-1;if(t.token[O]===")"&&f[O-1]>-1)return i}while(O>t.begin[e]);return i+5})():i;if(i>0&&(l.language!=="jsx"||l.language==="jsx"&&t.token[t.begin[e]-1]!=="render")){const O=l.wrap;const v=t.begin[e];const q=j.length;let _=e-2;if(w>O){f[t.begin[e]]=m+1;f[e-1]=m;do{if(t.begin[_]===v){if(t.token[_]==="&&"||t.token[_]==="||"){f[_]=m+1;}else if(f[_]>-1&&t.types[_]!=="comment"&&t.token[_+1]!=="."){f[_]=f[_]+1;}}else if(f[_]>-1&&t.token[_+1]!=="."){f[_]=f[_]+1;}_=_-1;}while(_>v)}else if(q>0){j[q-1]=j[q-1]+i;}}else if(x===")"&&e>t.begin[e]+2&&t.lexer[t.begin[e]+1]===P&&t.token[t.begin[e]+1]!=="function"){const O=t.begin[e]<0?0:t.begin[e];const v=l.wrap;const q=L.length;let _=0;let Q=0;let te=0;let F=0;let J=0;let le=false;let K=false;let ee=m+1;let ue=false;let ce=false;let be=false;if(f[O]<-9){Q=O;do{Q=Q+1;}while(Q<e&&f[Q]<-9);F=Q;do{_=_+t.token[Q].length;if(f[Q]===-10)_=_+1;if(t.token[Q]==="("&&te>0&&te<v-1&&F===e){te=-1;}if(t.token[Q]===")"){J=J-1;}else if(t.token[Q]==="("){J=J+1;}if(Q===O&&J>0)te=_;Q=Q-1;}while(Q>O&&f[Q]<-9);if(t.token[Q+1]===".")ee=f[Q]+1;if(_>v-1&&v>0&&N!=="("&&te!==-1&&A[A.length-2]===false){if(t.token[O-1]==="if"&&X[X.length-1]===true||t.token[O-1]!=="if"){f[O]=ee;if(t.token[O-1]==="for"){Q=O;do{Q=Q+1;if(t.token[Q]===";"&&t.begin[Q]===O){f[Q]=ee;}}while(Q<e)}}}}Q=e;_=0;do{Q=Q-1;if(t.stack[Q]==="function"){Q=t.begin[Q];}else if(t.begin[Q]===O){if(t.token[Q]==="?"){be=true;}else if(t.token[Q]===","&&le===false){le=true;if(_>=v&&v>0)ue=true;}else if(t.types[Q]==="markup"&&ce===false){ce=true;}if(f[Q]>-9&&t.token[Q]!==","&&t.types[Q]!=="markup"){_=0;}else {if(f[Q]===-10)_=_+1;_=_+t.token[Q].length;if(_>=v&&v>0&&(le===true||ce===true)){ue=true;}}}else {if(f[Q]>-9){_=0;}else {_=_+t.token[Q].length;if(_>=v&&v>0&&(le===true||ce===true)){ue=true;}}}}while(Q>O&&ue===false);if(le===false&&t.token[t.begin[e]+1].charAt(0)==="`"){f[t.begin[e]]=-20;f[e-1]=-20;}else if((le===true||ce===true)&&_>=v&&v>0||f[O]>-9){if(be===true){ee=f[O];if(t.token[O-1]==="["){Q=e;do{Q=Q+1;if(t.types[Q]==="end"||t.token[Q]===","||t.token[Q]===";"){break}}while(Q<S);if(t.token[Q]==="]"){ee=ee-1;K=true;}}}else if(q>0&&L[q-1]>Q){ee=ee-q;}A[A.length-1]=false;Q=e;do{Q=Q-1;if(t.begin[Q]===O){if(t.token[Q].indexOf("=")>-1&&t.types[Q]==="operator"&&t.token[Q].indexOf("!")<0&&t.token[Q].indexOf("==")<0&&t.token[Q]!=="<="&&t.token[Q].indexOf(">")<0){_=Q;do{_=_-1;if(t.begin[_]===O&&(t.token[_]===";"||t.token[_]===","||_===O)){break}}while(_>O)}else if(t.token[Q]===","){f[Q]=ee;}else if(f[Q]>-9&&K===false&&(t.token[O-1]!=="for"||t.token[Q+1]==="?"||t.token[Q+1]===":")&&(t.token[t.begin[e]]!=="("||t.token[Q]!=="+")){f[Q]=f[Q]+1;}}else if(f[Q]>-9&&K===false){f[Q]=f[Q]+1;}}while(Q>O);f[O]=ee;f[e-1]=ee-1;}else {f[e-1]=-20;}if(t.token[t.begin[e]-1]==="+"&&f[t.begin[e]]>-9){f[t.begin[e]-1]=-10;}}else if(l.language==="jsx"){c();}else {f[e-1]=-20;}f.push(-20);}else if(A[A.length-1]===true){if(x==="]"&&t.begin[e]-1>0&&t.token[t.begin[t.begin[e]-1]]==="["){A[A.length-2]=false;}if(t.begin[e]<f.length)f[t.begin[e]]=-20;if(l.language==="jsx"){c();}else if(x==="]"&&f[t.begin[e]]>-1){f[e-1]=f[t.begin[e]]-1;}else {f[e-1]=-20;}f.push(-20);}else if(t.types[e-1]==="comment"&&t.token[e-1].substring(0,2)==="//"){if(t.token[e-2]==="x}")f[e-3]=m+1;f[e-1]=m;f.push(-20);}else if(t.types[e-1]!=="comment"&&(N==="{"&&x==="}"||N==="["&&x==="]")){f[e-1]=-20;f.push(-20);}else if(x==="]"){if(X[X.length-1]===true&&A[A.length-1]===false&&l.script.arrayFormat!=="inline"||N==="]"&&f[e-2]===m+1){f[e-1]=m;f[t.begin[e]]=m+1;}else if(f[e-1]===-10){f[e-1]=-20;}if(t.token[t.begin[e]+1]==="function"){f[e-1]=m;}else if(X[X.length-1]===false){if(N==="}"||N==="x}")f[e-1]=m;let i=e-1;let w=1;do{if(t.token[i]==="]")w=w+1;if(t.token[i]==="["){w=w-1;if(w===0){if(i>0&&(t.token[i+1]==="{"||t.token[i+1]==="x{"||t.token[i+1]==="[")){f[i]=m+1;break}if(t.token[i+1]!=="["||r===false){f[i]=-20;break}break}}if(w===1&&t.token[i]==="+"&&f[i]>1){f[i]=f[i]-1;}i=i-1;}while(i>-1)}else if(l.language==="jsx"){c();}if(l.script.arrayFormat==="inline"){let i=e;const w=t.begin[e];do{i=i-1;if(t.types[i]==="end")break}while(i>w);if(i>w){f[t.begin[e]]=m+1;f[e-1]=m;}else {f[t.begin[e]]=-20;f[e-1]=-20;}}else if(f[t.begin[e]]>-1){f[e-1]=f[t.begin[e]]-1;}f.push(-20);}else if(x==="}"||x==="x}"||X[X.length-1]===true){if(x==="}"&&N==="x}"&&t.token[e+1]==="else"){f[e-2]=m+2;f.push(-20);}else {f.push(m);}f[e-1]=m;}else {f.push(-20);}if(t.types[e-1]==="comment")f[e-1]=m;if(l.script.inlineReturn&&l.script.correct===false&&x==="x}"&&(t.stack[e]==="if"||t.stack[e]==="else")&&t.token[t.begin[t.begin[e-1]-1]-2]!=="else"){f[e-1]=-20;}V();r=X[X.length-1];X.pop();y.pop();b.pop();E.pop();I.pop();A.pop();R.pop();}function V(){let L=0;const c=y[y.length-1];if(c===void 0)return;L=c.length-1;if(L<1&&c[L]<0&&(x===";"||x==="x;"||x===")"||x==="x)"||x==="}"||x==="x}")){c.pop();return}if(L<0||c[L]<0)return;if(x===":"){if(t.token[c[L]]!=="?"){do{c.pop();L=L-1;m=m-1;}while(L>-1&&c[L]>-1&&t.token[c[L]]!=="?")}c[L]=e;f[e-1]=m;}else {do{c.pop();L=L-1;m=m-1;}while(L>-1&&c[L]>-1)}if((t.stack[e]==="array"||x===",")&&c.length<1)c.push(-1);}function se(){const L=e;do{if(t.lexer[e+1]===P&&t.begin[e+1]<L)break;if(t.token[L-1]==="return"&&t.types[e]==="end"&&t.begin[e]===L)break;f.push(0);e=e+1;}while(e<S);o[L]=e;f.push(m-1);}function T(){let L=e-1;const c=t.begin[e];if(m<1)return;do{if(c!==t.begin[L]){L=t.begin[L];}else {if(t.types[L]==="separator"||t.types[L]==="operator"){if(t.token[L]==="."&&f[L-1]>0){if(t.token[c-1]==="if"){m=m-2;}else {m=m-1;}}break}}L=L-1;}while(L>0&&L>c)}function re(){if(t.token[e+1]!==","&&x.indexOf("/>")!==x.length-2||t.token[e+1]===","&&t.token[t.begin[e]-3]!=="React"){H(false,false);}if(N==="return"||N==="?"||N===":"){f[e-1]=-10;f.push(-20);}else if(h==="start"||t.token[e-2]==="return"&&t.stack[e-1]==="method"){f.push(m);}else {f.push(-20);}}function ke(){const L=y[y.length-1]===void 0?[]:y[y.length-1];function c(){const i=t.token[e+1];let w=0;let O=0;let v=e;let q=x==="+"?m+2:m;let _=0;if(l.wrap<1){f.push(-10);return}do{v=v-1;if(t.token[t.begin[e]]==="("){if(v===t.begin[e]){_=w;}if(t.token[v]===","&&t.begin[v]===t.begin[e]&&X[X.length-1]===true){break}}if(w>l.wrap-1)break;if(f[v]>-9)break;if(t.types[v]==="operator"&&t.token[v]!=="="&&t.token[v]!=="+"&&t.begin[v]===t.begin[e]){break}w=w+t.token[v].length;if(v===t.begin[e]&&t.token[v]==="["&&w<l.wrap-1){break}if(t.token[v]==="."&&f[v]>-9)break;if(f[v]===-10)w=w+1;}while(v>0);if(_>0)_=_+i.length;w=w+i.length;O=v;if(w>l.wrap-1&&f[v]<-9){do{O=O-1;}while(O>0&&f[O]<-9)}if(t.token[O+1]==="."&&t.begin[e]<=t.begin[O]){q=q+1;}else if(t.types[O]==="operator"){q=f[O];}O=i.length;if(w+O<l.wrap){f.push(-10);return}if(t.token[t.begin[e]]==="("&&(t.token[L[0]]===":"||t.token[L[0]]==="?")){q=m+3;}else if(t.stack[e]==="method"){f[t.begin[e]]=m;if(X[X.length-1]===true){q=m+3;}else {q=m+1;}}else if(t.stack[e]==="object"||t.stack[e]==="array"){H(true,false);}if(t.token[v]==="var"||t.token[v]==="let"||t.token[v]==="const"){w=w-l.indentSize*l.indentChar.length*2;}if(_>0){v=l.wrap-_;}else {v=l.wrap-w;}if(v>0&&v<5){f.push(q);if(t.token[e].charAt(0)==='"'||t.token[e].charAt(0)==="'"){e=e+1;f.push(-10);}return}if(t.token[t.begin[e]]!=="("||_>l.wrap-1||_===0){if(_>0)w=_;if(w-i.length<l.wrap-1&&(i.charAt(0)==='"'||i.charAt(0)==="'")){e=e+1;w=w+3;if(w-i.length>l.wrap-4){f.push(q);return}f.push(-10);return}f.push(q);return}f.push(-10);}T();if(L.length>0&&L[L.length-1]>-1&&t.stack[e]==="array"){b[b.length-1]=true;}if(x!==":"){if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&A.length>0){H(true,false);}if(x!=="?"&&t.token[L[L.length-1]]==="."){let i=0;let w=e;const O=t.begin[w];do{if(t.begin[w]===O){if(t.token[w+1]==="{"||t.token[w+1]==="["||t.token[w]==="function"){break}if(t.token[w]===","||t.token[w]===";"||t.types[w]==="end"||t.token[w]===":"){L.pop();m=m-1;break}if(t.token[w]==="?"||t.token[w]===":"){if(t.token[L[L.length-1]]==="."&&i<2)L[L.length-1]=O+1;break}if(t.token[w]===".")i=i+1;}w=w+1;}while(w<S)}}if(x==="!"||x==="..."){if(N==="}"||N==="x}")f[e-1]=m;f.push(-20);return}if(N===";"||N==="x;"){if(t.token[t.begin[e]-1]!=="for")f[e-1]=m;f.push(-20);return}if(x==="*"){if(N==="function"||N==="yield"){f[e-1]=-20;}else {f[e-1]=-10;}f.push(-10);return}if(x==="?"){if(t.lines[e]===0&&t.types[e-2]==="word"&&t.token[e-2]!=="return"&&t.token[e-2]!=="in"&&t.token[e-2]!=="instanceof"&&t.token[e-2]!=="typeof"&&(h==="reference"||h==="word")){if(t.types[e+1]==="word"||t.types[e+1]==="reference"||(t.token[e+1]==="("||t.token[e+1]==="x(")&&t.token[e-2]==="new"){f[e-1]=-20;if(t.types[e+1]==="word"||t.types[e+1]==="reference"){f.push(-10);return}f.push(-20);return}}if(t.token[e+1]===":"){f[e-1]=-20;f.push(-20);return}d.push(e);if(l.script.ternaryLine===true){f[e-1]=-10;}else {let i=e-1;do{i=i-1;}while(i>-1&&f[i]<-9);L.push(e);m=m+1;if(f[i]===m&&t.token[i+1]!==":"){m=m+1;L.push(e);}f[e-1]=m;if(t.token[t.begin[e]]==="("&&(L.length<2||L[0]===L[1])){A[A.length-1]=false;if(e-2===t.begin[e]){f[t.begin[e]]=m-1;}else {f[t.begin[e]]=m;}i=e-2;do{if(t.types[i]==="end"&&f[i-1]>-1)break;if(f[i]>-1)f[i]=f[i]+1;i=i-1;}while(i>t.begin[e])}}f.push(-10);return}if(x===":"){if(t.stack[e]==="map"||t.types[e+1]==="type"||t.types[e+1]==="type_start"){f[e-1]=-20;f.push(-10);return}if(d.length>0&&t.begin[d[d.length-1]]===t.begin[e]){let i=e;const w=t.begin[e];do{i=i-1;if(t.begin[i]===w){if(t.token[i]===","||t.token[i]===";"){f[e-1]=-20;break}if(t.token[i]==="?"){d.pop();V();if(l.script.ternaryLine===true)f[e-1]=-10;f.push(-10);return}}else if(t.types[i]==="end"){i=t.begin[i];}}while(i>w)}if(t.token[e-2]==="where"&&t.stack[e-2]===t.stack[e]){f[e-1]=-10;f.push(-10);return}if(h==="reference"&&t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("){f[e-1]=-20;f.push(-10);return}if((N===")"||N==="x)")&&t.token[t.begin[e-1]-2]==="function"){f[e-1]=-20;f.push(-10);return}if(t.stack[e]==="attribute"){f[e-1]=-20;f.push(-10);return}if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&(h==="reference"||N===")"||N==="]"||N==="?")&&(t.stack[e]==="map"||t.stack[e]==="class"||t.types[e+1]==="reference")&&(d.length===0||d[d.length-1]<t.begin[e])&&("mapclassexpressionmethodglobalparen".indexOf(t.stack[e])>-1||t.types[e-2]==="word"&&t.stack[e]!=="switch")){f[e-1]=-20;f.push(-10);return}if(t.stack[e]==="switch"&&(d.length<1||d[d.length-1]<t.begin[e])){f[e-1]=-20;if(l.script.caseSpace===true){f.push(-10);}else {f.push(m);}return}if(t.stack[e]==="object"){f[e-1]=-20;}else if(d.length>0){f[e-1]=m;}else {f[e-1]=-10;}f.push(-10);return}if(x==="++"||x==="--"){if(h==="number"||h==="reference"){f[e-1]=-20;f.push(-10);}else if(e<S-1&&(t.types[e+1]==="number"||t.types[e+1]==="reference")){f.push(-20);}else {f.push(-10);}return}if(x==="+"){if(h==="start"){f[e-1]=-20;}else {f[e-1]=-10;}if(l.wrap<1||t.token[t.begin[e]]==="x("){f.push(-10);return}const i=t.token[e+1];if(i===void 0){f.push(-10);return}if(t.types[e-1]==="operator"||t.types[e-1]==="start"){if(t.types[e+1]==="reference"||i==="("||i==="["){f.push(-20);return}if(Number(i.slice(1,-1))>-1&&(/\d/.test(i.charAt(1))===true||i.charAt(1)==="."||i.charAt(1)==="-"||i.charAt(1)==="+")){f.push(-20);return}}return c()}if(t.types[e-1]!=="comment"){if(N==="("){f[e-1]=-20;}else if(x==="*"&&t.stack[e]==="object"&&t.types[e+1]==="reference"&&(N==="{"||N===",")){f[e-1]=m;}else if(x!=="?"||d.length===0){f[e-1]=-10;}}if(x.indexOf("=")>-1&&x!=="=="&&x!=="==="&&x!=="!="&&x!=="!=="&&x!==">="&&x!=="<="&&x!=="=>"&&t.stack[e]!=="method"&&t.stack[e]!=="object"){let i=e+1;let w=0;let O=false;let v="";if((t.token[t.begin[e]]==="("||t.token[t.begin[e]]==="x(")&&t.token[e+1]!=="function"){return}do{if(t.types[i]==="start"){if(O===true&&t.token[i]!=="["){if(R[R.length-1]===true){R[R.length-1]=false;}break}w=w+1;}if(t.types[i]==="end")w=w-1;if(w<0){if(R[R.length-1]===true){R[R.length-1]=false;}break}if(w===0){v=t.token[i];if(O===true){if(t.types[i]==="operator"||t.token[i]===";"||t.token[i]==="x;"||t.token[i]==="?"||t.token[i]==="var"||t.token[i]==="let"||t.token[i]==="const"){if(v!==void 0&&(v==="?"||v.indexOf("=")>-1&&v!=="=="&&v!=="==="&&v!=="!="&&v!=="!=="&&v!==">="&&v!=="<=")){if(R[R.length-1]===false){R[R.length-1]=true;}}if((v===";"||v==="x;"||v==="var"||v==="let"||v==="const")&&R[R.length-1]===true){R[R.length-1]=false;}break}if(R[R.length-1]===true&&(v==="return"||v==="break"||v==="continue"||v==="throw")){R[R.length-1]=false;}}if(v===";"||v==="x;"||v===",")O=true;}i=i+1;}while(i<S);f.push(-10);return}if(x==="-"&&N==="return"||N==="="){f.push(-20);return}if(h==="operator"&&t.types[e+1]==="reference"&&N!=="--"&&N!=="++"&&x!=="&&"&&x!=="||"){f.push(-20);return}return c()}function B(){const L=()=>{let c=t.begin[e];if(c<0){W.push([t.token[e],-1]);}else {if(t.stack[c+1]!=="function"){do{c=t.begin[c];}while(c>-1&&t.stack[c+1]!=="function")}W.push([t.token[e],c]);}};if(t.types[e-1]==="comment"){f[e-1]=m;}else if(h==="end"&&N!==")"&&t.token[t.begin[e-1]-1]!==")"){f[e-1]=-10;}else if(h!=="separator"&&h!=="start"&&h!=="end"&&h.indexOf("template_string")<0){if(h==="word"||h==="operator"||h==="property"||h==="type"||h==="reference"){f[e-1]=-10;}else {f[e-1]=-20;}}if(N==="var"&&t.lexer[e-1]===P){L();}else if(N==="function"){W.push([t.token[e],e]);}else if(N==="let"||N==="const"){W.push([t.token[e],e]);}else if(t.stack[e]==="arguments"){W.push([t.token[e],e]);}else if(N===","){let c=e;do{c=c-1;}while(c>t.begin[e]&&t.token[c]!=="var"&&t.token[c]!=="let"&&t.token[c]!=="const");if(t.token[c]==="var"){L();}else if(t.token[c]==="let"||t.token[c]==="const"){W.push([t.token[e],e]);}}f.push(-10);}function U(){const L=y[y.length-1]===void 0?[]:y[y.length-1];const c=()=>{if(l.script.methodChain>0){let i=e;let w=t.begin[e];const O=[e];const v=t.token[w-1]==="if";do{i=i-1;if(t.types[i]==="end")i=t.begin[i];if(t.begin[i]===w){if(t.types[i]==="string"&&t.token[i].indexOf("${")===t.token[i].length-2){break}if(t.token[i]==="."){if(f[i-1]>0){f[e-1]=v===true?m+1:m;return}O.push(i);}else if(t.token[i]===";"||t.token[i]===","||t.types[i]==="operator"||(t.types[i]==="word"||t.types[i]==="reference")&&(t.types[i-1]==="word"||t.types[i-1]==="reference")){break}}}while(i>w);if(O.length<l.script.methodChain){f[e-1]=-20;return}i=0;w=O.length;do{f[O[i]-1]=v===true?m+1:m;i=i+1;}while(i<w);i=O[O.length-1]-1;do{if(f[i]>-1)f[i]=f[i]+1;i=i+1;}while(i<e);m=v===true?m+2:m+1;}f[e-1]=m;};if(x==="::"){f[e-1]=-20;f.push(-20);return}if(x==="."){if(t.token[t.begin[e]]!=="("&&t.token[t.begin[e]]!=="x("&&L.length>0){if(t.stack[e]==="object"||t.stack[e]==="array"){H(true,false);}else {H(false,false);}}if(l.script.methodChain===0){f[e-1]=-20;}else if(l.script.methodChain<0){if(t.lines[e]>0){c();}else {f[e-1]=-20;}}else {c();}f.push(-20);return}if(x===","){T();if(X[X.length-1]===false&&(t.stack[e]==="object"||t.stack[e]==="array"||t.stack[e]==="paren"||t.stack[e]==="expression"||t.stack[e]==="method")){X[X.length-1]=true;if(t.token[t.begin[e]]==="("){let i=e;do{i=i-1;if(t.begin[i]===t.begin[e]&&t.token[i]==="+"&&f[i]>-9){f[i]=f[i]+2;}}while(i>t.begin[e])}}if(t.stack[e]==="array"&&l.script.arrayFormat==="indent"){f[e-1]=-20;f.push(m);return}if(t.stack[e]==="array"&&l.script.arrayFormat==="inline"){f[e-1]=-20;f.push(-10);return}if(t.stack[e]==="object"&&l.script.objectIndent==="indent"){f[e-1]=-20;f.push(m);return}if(t.stack[e]==="object"&&l.script.objectIndent==="inline"){f[e-1]=-20;f.push(-10);return}if(L.length>0){if(L[L.length-1]>-1)V();f[e-1]=-20;f.push(m);return}if(t.token[e-2]===":"&&t.token[e-4]==="where"){f[e-1]=-20;f.push(-10);return}f[e-1]=-20;if(t.types[e+1]!=="end"){E[E.length-1]=E[E.length-1]+1;}if((t.token[t.begin[e]]==="("||t.token[t.begin[e]]==="x(")&&l.language!=="jsx"&&t.stack[e]!=="global"&&(t.types[e-1]!=="string"&&t.types[e-1]!=="number"||t.token[e-2]!=="+"||t.types[e-1]==="string"&&t.types[e-1]!=="number"&&t.token[e-2]==="+"&&t.types[e-3]!=="string"&&t.types[e-3]!=="number")){f.push(-10);return}if(h==="reference"&&t.types[e-2]==="word"&&"var-let-const-from".indexOf(t.token[e-2])<0&&(t.types[e-3]==="end"||t.token[e-3]===";")){I[I.length-1]=true;f.push(-10);return}if(I[I.length-1]===true||t.stack[e]==="notation"){f.push(-10);return}if(E[E.length-1]>3&&(t.stack[e]==="array"||t.stack[e]==="object")){if(A[A.length-1]===true)H(true,true);f[e-1]=-20;if(b[b.length-1]===true){f.push(m);return}const i=t.begin[e];let w=e;do{if(t.types[w]==="end"){w=t.begin[w];}else {if(t.token[w]===","&&t.types[w+1]!=="comment"){f[w]=m;}}w=w-1;}while(w>i);f[i]=m;b[b.length-1]=true;return}if(t.stack[e]==="object"){if(A[A.length-1]===true&&t.types[t.begin[e]-1]!=="word"&&t.types[t.begin[e]-1]!=="reference"&&t.token[t.begin[e]-1]!=="("&&t.token[t.begin[e]-1]!=="x("){const i=t.begin[e];let w=e-1;do{if(t.begin[w]===i){if(t.token[w]===",")break;if(t.token[w]===":"){H(true,false);break}}w=w-1;}while(w>i)}}if(A[A.length-1]===false||t.token[e-2]==="+"&&(h==="string"||h==="number")&&f[e-2]>0&&(N.charAt(0)==='"'||N.charAt(0)==="'")){if(t.stack[e]==="method"){if(t.token[e-2]==="+"&&(N.charAt(0)==='"'||N.charAt(0)==="'")&&(t.token[e-3].charAt(0)==='"'||t.token[e-3].charAt(0)==="'")){f.push(m+2);return}if(t.token[e-2]!=="+"){f.push(-10);return}}f.push(m);return}if(A[A.length-1]===true&&t.stack[e]!=="object"){f.push(-10);return}if(E[E.length-1]<4&&(t.stack[e]==="array"||t.stack[e]==="object")){f.push(-10);return}f.push(m);return}if(x===";"||x==="x;"){T();if(t.token[e+1]!==void 0&&t.types[e+1].indexOf("attribute")>0&&t.types[e+1].indexOf("end")>0){f[e-1]=-20;f.push(m-1);return}if(Z[Z.length-1]>-1&&t.stack[Z[Z.length-1]]!=="expression"){let i=e;do{i=i-1;if(t.token[i]===";")break;if(t.token[i]===","){m=m-1;break}if(t.types[i]==="end")i=t.begin[i];}while(i>0&&i>t.begin[e])}Z[Z.length-1]=-1;V();if(t.token[t.begin[e]-1]!=="for")H(false,false);I[I.length-1]=false;f[e-1]=-20;if(t.begin[e]>0&&t.token[t.begin[e]-1]==="for"&&t.stack[e]!=="for"){f.push(-10);return}f.push(m);return}f.push(-20);}function ge(){const L=t.stack[e+1];const c=e===0?t.stack[e]:t.stack[e-1];if(N===")"||(c==="object"||c==="array")&&N!=="]"){if(L!=="method"||L==="method"&&t.token[e+1]!==")"&&t.token[e+2]!==")"){if(N===")"&&(L!=="function"||t.token[t.begin[t.begin[e-1]-1]]==="("||t.token[t.begin[t.begin[e-1]-1]]==="x(")){H(false,false);}else if(t.types[e+1]!=="end"&&t.types[e+2]!=="end"){H(true,false);}}}X.push(false);y.push([]);R.push(false);b.push(false);I.push(false);E.push(0);if(l.script.neverFlatten===true||L==="array"&&l.script.arrayFormat==="indent"||L==="attribute"||h==="generic"||L==="class"&&N!=="("&&N!=="x("||x==="["&&t.token[e+1]==="function"){A.push(false);}else {if(L==="expression"||L==="method"){A.push(true);}else if((L==="object"||L==="class")&&(N==="("||N==="x("||h==="word"||h==="reference")){A.push(true);}else if(L==="array"||x==="("||x==="x("){A.push(true);}else if(x==="{"&&L==="object"&&h!=="operator"&&h!=="start"&&h!=="string"&&h!=="number"&&c!=="object"&&c!=="array"&&e>0){A.push(true);}else {A.push(false);}}if(x!=="("&&x!=="x("&&t.stack[e+1]!=="attribute"){m=m+1;}if(x==="{"||x==="x{"){Z.push(-1);if(t.types[e-1]!=="comment"){if(h==="markup"){f[e-1]=m;}else if(l.script.braceAllman===true&&h!=="operator"&&N!=="return"){f[e-1]=m-1;}else if(t.stack[e+1]!=="block"&&(L==="function"||N===")"||N==="x)"||N===","||N==="}"||h==="markup")){f[e-1]=-10;}else if(N==="{"||N==="x{"||N==="["||N==="}"||N==="x}"){f[e-1]=m-1;}}if(L==="object"){if(l.script.objectIndent==="indent"){A[A.length-1]=false;f.push(m);return}if(l.script.objectIndent==="inline"){A[A.length-1]=true;f.push(-20);return}}if(L==="switch"){if(l.script.noCaseIndent===true){f.push(m-1);return}m=m+1;f.push(m);return}if(A[A.length-1]===true){if(h!=="word"&&h!=="reference"){f.push(-20);return}}f.push(m);return}if(x==="("||x==="x("){if(l.wrap>0&&x==="("&&t.token[e+1]!==")"){j.push(1);}if(N==="-"&&(t.token[e-2]==="("||t.token[e-2]==="x(")){f[e-2]=-20;}if(h==="end"&&c!=="if"&&c!=="for"&&c!=="catch"&&c!=="else"&&c!=="do"&&c!=="try"&&c!=="finally"&&c!=="catch"){if(t.types[e-1]==="comment"){f[e-1]=m;}else {f[e-1]=-20;}}if(N==="async"){f[e-1]=-10;}else if(L==="method"||t.token[e-2]==="function"&&h==="reference"){if(N==="import"||N==="in"||l.script.functionNameSpace===true){f[e-1]=-10;}else if(N==="}"&&t.stack[e-1]==="function"||h==="word"||h==="reference"||h==="property"){f[e-1]=-20;}else if(c!=="method"&&L!=="method"){f[e-1]=m;}}if(N==="+"&&(t.token[e-2].charAt(0)==='"'||t.token[e-2].charAt(0)==="'")){f.push(m);return}if(N==="}"||N==="x}"){f.push(-20);return}if(N==="-"&&(e<2||t.token[e-2]!==")"&&t.token[e-2]!=="x)"&&t.token[e-2]!=="]"&&t.types[e-2]!=="reference"&&t.types[e-2]!=="string"&&t.types[e-2]!=="number")||l.script.functionSpace===false&&N==="function"){f[e-1]=-20;}f.push(-20);return}if(x==="["){if(N==="[")X[X.length-2]=true;if(N==="return"||N==="var"||N==="let"||N==="const"){f[e-1]=-10;}else if(t.types[e-1]!=="comment"&&t.stack[e-1]!=="attribute"&&(h==="end"||h==="word"||h==="reference")){f[e-1]=-20;}else if(N==="["||N==="{"||N==="x{"){f[e-1]=m-1;}if(t.stack[e]==="attribute"){f.push(-20);return}if(l.script.arrayFormat==="indent"){A[A.length-1]=false;f.push(m);return}if(l.script.arrayFormat==="inline"){A[A.length-1]=true;f.push(-20);return}if(L==="method"||A[A.length-1]===true){f.push(-20);return}let i=e+1;do{if(t.token[i]==="]"){f.push(-20);return}if(t.token[i]===","){f.push(m);return}i=i+1;}while(i<S);f.push(-20);}}function me(){if(x.length===1){f.push(-20);if(t.lines[e]===0)f[e-1]=-20;}else if(x.indexOf("#!/")===0){f.push(m);}else {f.push(-10);}if((N===","||h==="start")&&(t.stack[e]==="object"||t.stack[e]==="array")&&A[A.length-1]===false&&e>0){f[e-1]=m;}}function he(){if($==="template_else"){f[e-1]=m-1;f.push(m);}else if($==="template_start"){m=m+1;if(t.lines[e-1]<1)f[e-1]=-20;if(t.lines[e]>0||N.length===1&&h==="string"){f.push(m);}else {f.push(-20);}}else if($==="template_end"){m=m-1;if(h==="template_start"||t.lines[e-1]<1){f[e-1]=-20;}else {f[e-1]=m;}if(t.lines[e]>0){f.push(m);}else {f.push(-20);}}else if($==="template"){if(t.lines[e]>0){f.push(m);}else {f.push(-20);}}}function Ae(){if($==="template_string_start"){m=m+1;f.push(m);}else if($==="template_string_else"){T();f[e-1]=m-1;f.push(m);}else {T();m=m-1;f[e-1]=m;f.push(-10);}if(e>2&&(t.types[e-2]==="template_string_else"||t.types[e-2]==="template_string_start")){if(l.script.bracePadding===true){f[e-2]=-10;f[e-1]=-10;}else {f[e-2]=-20;f[e-1]=-20;}}}function $e(){if(t.token[e-1]===","||t.token[e-1]===":"&&t.stack[e-1]!=="data_type"){f[e-1]=-10;}else {f[e-1]=-20;}if(t.types[e]==="type"||t.types[e]==="type_end"){f.push(-10);}if(t.types[e]==="type_start"){f.push(-20);}}function M(){if((N===")"||N==="x)")&&t.stack[e]==="class"&&(t.token[t.begin[e-1]-1]==="static"||t.token[t.begin[e-1]-1]==="final"||t.token[t.begin[e-1]-1]==="void")){f[e-1]=-10;f[t.begin[e-1]-1]=-10;}if(N==="]")f[e-1]=-10;if(x==="else"&&N==="}"){if(t.token[e-2]==="x}")f[e-3]=f[e-3]-1;if(l.script.braceAllman===true||l.script.elseNewline===true){f[e-1]=m;}}if(x==="new"&&u.has(t.token[e+1]));if(x==="from"&&h==="end"&&e>0&&(t.token[t.begin[e-1]-1]==="import"||t.token[t.begin[e-1]-1]===",")){f[e-1]=-10;}if(x==="function"){if(l.script.functionSpace===false&&e<S-1&&(t.token[e+1]==="("||t.token[e+1]==="x(")){f.push(-20);return}f.push(-10);return}if(N==="-"&&e>1){if(t.types[e-2]==="operator"||t.token[e-2]===","){f[e-1]=-20;}else if(t.types[e-2]==="start"){f[e-2]=-20;f[e-1]=-20;}}else if(x==="while"&&(N==="}"||N==="x}")){let L=e-1;let c=0;do{if(t.token[L]==="}"||t.token[L]==="x}")c=c+1;if(t.token[L]==="{"||t.token[L]==="x{")c=c-1;if(c===0){if(t.token[L-1]==="do"){f[e-1]=-10;break}f[e-1]=m;break}L=L-1;}while(L>-1)}else if(x==="in"||(x==="else"&&l.script.elseNewline===false&&l.script.braceAllman===false||x==="catch")&&(N==="}"||N==="x}")){f[e-1]=-10;}else if(x==="var"||x==="let"||x==="const"){Z[Z.length-1]=e;if(h==="end")f[e-1]=m;if(t.token[t.begin[e]-1]!=="for"){let L=e+1;let c=0;do{if(t.types[L]==="end")c=c-1;if(t.types[L]==="start")c=c+1;if(c<0||c===0&&(t.token[L]===";"||t.token[L]===",")){break}L=L+1;}while(L<S);if(t.token[L]===",")m=m+1;}f.push(-10);return}if((x==="default"||x==="case")&&h!=="word"&&t.stack[e]==="switch"){f[e-1]=m-1;f.push(-10);return}if(x==="catch"&&N==="."){f[e-1]=-20;f.push(-20);return}if(x==="catch"||x==="finally"){f[e-1]=-10;f.push(-10);return}if(l.script.bracePadding===false&&e<S-1&&t.token[e+1].charAt(0)==="}"){f.push(-20);return}if(t.stack[e]==="object"&&(N==="{"||N===",")&&(t.token[e+1]==="("||t.token[e+1]==="x(")){f.push(-20);return}if(t.types[e-1]==="comment"&&t.token[t.begin[e]]==="("){f[e-1]=m+1;}if(l.script.inlineReturn){if(t.stack[e]==="if"&&x==="return"&&(N==="x{"||N==="{")){const L=t.begin.lastIndexOf(t.begin[e-1],e-3);if(t.token[L-2]==="else"){if(N==="x{")t.token[e-1]="{";if(t.token[t.ender[e]]==="x}")t.token[t.ender[e]]="}";t.lines[t.ender[e]]=t.lines[t.ender[e]]-1;}else {if(t.token[t.ender[e-1]+2]!=="if"&&t.token[t.ender[e-1]+1]!=="else"){f[e-1]=-20;if(N==="{")t.token[e-1]="x{";if(t.token[t.ender[e]]==="}")t.token[t.ender[e]]="x}";}else if(t.token[t.ender[e-1]+2]!=="if"&&t.token[t.ender[e-1]+1]!=="x{"){f[e-1]=-20;t.lines[t.ender[e-1]+2]=t.lines[t.ender[e-1]+2]-1;if(t.token[e-1]==="{")t.token[e-1]="x{";if(t.token[t.ender[e]]==="}")t.token[t.ender[e]]="x}";if(t.token[t.ender[e-1]+2]==="{")t.token[t.ender[e-1]+2]="x{";}}}if((N==="x}"||N==="}")&&(t.stack[e-1]==="if"&&x==="else"&&(t.token[e+1]==="{"||t.token[e+1]==="x{")&&t.token[e+2]==="return")){if(t.token[e-2]==="x;")t.token[e-2]=";";}if(N==="x{"&&x==="return"&&t.stack[e]==="else"){f[e-1]=-20;if(t.token[t.ender[e-1]-1]==="x;")t.token[t.ender[e-1]-1]=";";t.lines[t.ender[e-1]]=t.lines[t.ender[e-1]]-1;t.lines[t.ender[e]+1]=t.lines[t.ender[e]+1]-1;}if(N==="x}"&&x==="else"&&t.token[e+1]==="x{"&&t.token[e+2]==="return"&&t.token[t.ender[e]-1]==="}"){t.token[t.ender[e]-1]="x}";}}f.push(-10);}do{if(t.lexer[e]===P){$=t.types[e];x=t.token[e];if($==="comment"){ne();}else if($==="regex"){f.push(-20);}else if($==="string"){me();}else if($.indexOf("template_string")===0){Ae();}else if($==="separator"){U();}else if($==="start"){ge();}else if($==="end"){G();}else if($==="type"||$==="type_start"||$==="type_end"){$e();}else if($==="operator"){ke();}else if($==="word"){M();}else if($==="reference"){B();}else if($==="markup"){re();}else if($.indexOf("template")===0){he();}else if($==="generic"){if(N!=="return"&&N.charAt(0)!=="#"&&h!=="operator"&&N!=="public"&&N!=="private"&&N!=="static"&&N!=="final"&&N!=="implements"&&N!=="class"&&N!=="void"){f[e-1]=-20;}if(t.token[e+1]==="("||t.token[e+1]==="x("){f.push(-20);}else {f.push(-10);}}else {f.push(-10);}if($!=="comment"){h=$;N=x;}if(j.length>0&&t.token[e]!==")"){if(t.types[e]==="comment"&&j[j.length-1]>-1){j[j.length-1]=l.wrap+1;}else if(f[e]>-1||t.token[e].charAt(0)==="`"&&t.token[e].indexOf("\n")>0){j[j.length-1]=-1;}else if(j[j.length-1]>-1){j[j.length-1]=j[j.length-1]+t.token[e].length;if(f[e]===-10)j[j.length-1]=j[j.length-1]+1;}}}else {se();}e=e+1;}while(e<S);return f})();const a=(()=>{const e=[];const m=(()=>{const f=[];const d=l.indentChar;let y=l.indentSize;if(typeof y!=="number"||y<1)return "";do{f.push(d);y=y-1;}while(y>0);return f.join("")})();const z=l.crlf===true?"\r\n":"\n";const r=l.preserveLine+1;const $=["x;","x}","x{","x(","x)"];let x=D.start;let h="";let N=l.indentLevel;function Z(f){const d=[];const y=(()=>{if(x===S-1)return 1;if(t.lines[x+1]-1>r)return r;if(t.lines[x+1]>1)return t.lines[x+1]-1;return 1})();let b=0;if(f<0)f=0;do{d.push(z);b=b+1;}while(b<y);if(f>0){b=0;do{d.push(m);b=b+1;}while(b<f)}return d.join("")}if(l.script.vertical===true){let f=function(d){let y=0;let b=0;let A=d-1;let E=0;let R=0;const I=t.begin[x];const j=[];do{if((t.begin[A]===I||t.token[A]==="]"||t.token[A]===")")&&(t.token[A+1]===":"&&t.stack[A]==="object"||t.token[A+1]==="=")){E=A;b=0;do{if(t.begin[E]===I){if(t.token[E]===","||t.token[E]===";"||t.token[E]==="x;"||k[E]>-1&&t.types[E]!=="comment"){if(t.token[E+1]==="."){b=b+l.indentSize*l.indentChar.length;}break}}else if(k[E]>-1){break}if(t.types[E]!=="comment"){if(k[E-1]===-10)b=b+1;b=t.token[E].length+b;}E=E-1;}while(E>I);R=E;if(t.token[R]===","&&t.token[A+1]==="="){do{if(t.types[R]==="end")R=t.begin[R];if(t.begin[R]===I){if(t.token[R]===";"||t.token[R]==="x;")break;if(t.token[R]==="var"||t.token[R]==="const"||t.token[R]==="let"){b=b+l.indentSize*l.indentChar.length;break}}R=R-1;}while(R>I)}if(b>y)y=b;j.push([A,b]);A=E;}else if(t.types[A]==="end"){A=t.begin[A];}A=A-1;}while(A>I);A=j.length;if(A>0){do{A=A-1;E=j[A][1];if(E<y){do{t.token[j[A][0]]=t.token[j[A][0]]+" ";E=E+1;}while(E<y)}}while(A>0)}};x=S;do{x=x-1;if(t.lexer[x]==="script"){if(t.token[x]==="}"&&t.token[x-1]!=="{"&&k[t.begin[x]]>0){f(x);}}else {x=t.begin[x];}}while(x>0)}x=D.start;do{if(t.lexer[x]===P||D.beautify[t.lexer[x]]===void 0){if(t.types[x]==="comment"&&l.commentIndent===true){if(/\n/.test(t.token[x])){const f=t.begin[x]>-1?t.token[x].charAt(2)==="*"?je(k[x],m)+l.indentChar:je(k[x],m):l.indentChar;const d=t.token[x].split(/\n/);let y=1;do{d[y]=f+d[y].trimStart();y=y+1;}while(y<d.length);t.token.splice(x,1,d.join("\n"));}}if($.indexOf(t.token[x])<0){if(t.token[x]!==";"||l.script.noSemicolon===false){e.push(t.token[x]);}else if(k[x]<0&&t.types[x+1]!=="comment"){e.push(";");}}if(x<S-1&&t.lexer[x+1]!==P&&t.begin[x]===t.begin[x+1]&&t.types[x+1].indexOf("end")<0&&t.token[x]!==","){e.push(" ");}else if(k[x]>-1){if((k[x]>-1&&t.token[x]==="{"||k[x]>-1&&t.token[x+1]==="}")&&t.lines[x]<3&&l.script.braceNewline===true){if(t.lines[x+1]<3)e.push(Z(0));}e.push(Z(k[x]));N=k[x];}else if(k[x]===-10){e.push(" ");if(t.lexer[x+1]!==P)N=N+1;}}else {if(o[x]===x){e.push(t.token[x]);}else {D.end=o[x];D.start=x;l.indentLevel=N;h=D.beautify[t.lexer[x]](l);e.push(h.replace(/\s+$/,""));x=D.iterator;if(k[x]===-10){e.push(" ");}else if(k[x]>-1){e.push(Z(k[x]));}l.indentLevel=0;}}x=x+1;}while(x<S);D.iterator=S-1;return e.join("")})();return a};var Se={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeValues:{default:false,description:"Controls how attribute values should be formatter",type:"select",lexer:"markup",values:[{rule:"preserve",description:"Preserves attribute values, leaving them intact."},{rule:"collapse",description:"Collapsed all space separated attributes values onto newlines"},{rule:"wrap",description:"Collapase attribute values when then exceed wrap limit"},{rule:"strip",description:"Strips newlines and extraneous whitespaces from attribute values"}]},delimiterSpacing:{default:true,description:"Whether or not delimiter characters should apply a single space at the start and end point",lexer:"markup",type:"boolean"},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},forceValue:{lexer:"style",description:"If CSS selector property values should be indented onto newlines",default:"preserve",type:"select",values:[{rule:"preserve",description:"Preserves property values, output does not augment provided structures"},{rule:"collapse",description:"Collapsed all selector property values onto newlines"},{rule:"wrap",description:"Collapase only selector property values which exceed wrap limit"}]},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},inlineReturn:{lexer:"script",default:true,type:"boolean",description:"Inlines return statements contained within `if` and `else` conditions. This rules also augments code and will reason about your structure to output the best and most readable results."},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};var Ye={};tt(Ye,{format:()=>Qe,language:()=>_e,options:()=>Ee,parse:()=>Ke});function Ge(l){const u=l.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify\s+(\w+)?\s*{\s+/);const p=l.source.search(/((\/(\*|\/))|{%-?\s*comment\s*-?%}|<!--)\s*@prettify-ignore\b/);const n=Oe(Se);const o=n.length;let t=0;if(p>-1&&l.source.slice(0,p).trimStart()==="")return false;if(u>-1&&(u===0||`"':`.indexOf(l.source.charAt(u-1))<0)){let d=function(){if(a.charAt(m-1)!=="\\")return false;let y=m;do{y=y-1;}while(y>0&&a.charAt(y)==="\\");return (m-y)%2===0};const S=[];const k=u;const a=l.source;const e=a.length;let m=k;let z=0;let r="";let $="";let x="";let h="";let N=[];let Z=[];let X;let f;if(a.charAt(m)==="<"){f="<!--";}else if(a.charAt(m+1)==="/"){f="//";}else if(a.charAt(m+1)==="%"){X=a.indexOf("}",m+1);if(a[X-1].charCodeAt(0)===37)f=a.slice(m,X+1);}else {f="/*";}do{if(a.slice(m-9,m)==="@prettify")break;m=m+1;}while(m<e);do{if(d()===false){if(r===""){if(a.charAt(m)==='"'||a.charAt(m)==="'"||a.charAt(m)==="`"){r=a.charAt(m);if(S.length>0&&S[S.length-1].charAt(S[S.length-1].length-1)===":")z=m;}else if(/\s/.test(a.charAt(m))===false&&z===0){z=m;}else if(a.charAt(m)===","||/\s/.test(a.charAt(m))===true&&z>0){$=a.slice(z,m);if(S.length>0){if(S.length>0&&$===":"&&S[S.length-1].indexOf(":")<0){S[S.length-1]=S[S.length-1]+$;z=m;}else if(S.length>0&&S[S.length-1].charAt(S[S.length-1].length-1)===":"){S[S.length-1]=S[S.length-1]+$;z=0;}else {S.push($);z=0;}}else {S.push($);z=0;}}if(f==="<!--"&&a.slice(m-2,m+1)==="-->")break;if(f==="//"&&a.charAt(m)==="\n")break;if(f==="/*"&&a.slice(m-1,m+1)==="*/")break;if(f.charCodeAt(1)===37&&a.slice(m-1,m+1)==="%"&&a.indexOf("endcomment",a.indexOf("{%",X))>0)break}else if(a.charAt(m)===r&&r!=="${"){r="";}else if(r==="`"&&a.slice(m,m+2)==="${"){r="${";}else if(r==="${"&&a.charAt(m)==="}"){r="`";}}m=m+1;}while(m<e);if(z>0){r=a.slice(z,m+1);if(f==="<!--")r=r.replace(/\s*-+>$/,"");else if(f==="//")r=r.replace(/\s+$/,"");else r=r.replace(/\s*\u002a\/$/,"");S.push(r);}m=S.length;if(m>0){do{m=m-1;if(S[m].indexOf(":")>0){Z=[S[m].slice(0,S[m].indexOf(":")),S[m].slice(S[m].indexOf(":")+1)];}else if(Se[S[m]]!==void 0&&Se[S[m]].type==="boolean"){l.options[S[m]]=true;}if(Z.length===2&&Se[Z[0]]!==void 0){if(Z[1].charAt(Z[1].length-1)===Z[1].charAt(0)&&(Z[1].charAt(0)==='"'||Z[1].charAt(0)==="'"||Z[1].charAt(0)==="`")){Z[1]=Z[1].slice(1,Z[1].length-1);}if(Se[Z[0]].type==="number"&&isNaN(Number(Z[1]))===false){l.options[Z[0]]=Number(Z[1]);}else if(Se[Z[0]].type==="boolean"){l.options[Z[0]]=Z[1]==="true";}else {if(Se[Z[0]].values!==void 0){N=Oe(Se[Z[0]].values);z=N.length;do{z=z-1;if(N[z]===Z[1]){l.options[Z[0]]=Z[1];break}}while(z>0)}else {if(Z[0]==="language"){x=Z[1];}else if(Z[0]==="lexer"){h=Z[1];}l.options[Z[0]]=Z[1];}}}}while(m>0);if(h===""&&x!=="")h=Fe(x);}}if(l.options.lexer==="script"){if(l.options.script.styleGuide!==void 0){switch(l.options.script.styleGuide){case"airbnb":l.options.wrap=80;l.options.indentChar=" ";l.options.indentSize=2;l.options.preserveLine=1;l.options.script.correct=true;l.options.script.quoteConvert="single";l.options.script.variableList="each";l.options.script.endComma="always";l.options.script.bracePadding=true;break;case"crockford":l.options.indentChar=" ";l.options.indentSize=4;l.options.script.correct=true;l.options.script.bracePadding=false;l.options.script.elseNewline=false;l.options.script.endComma="never";l.options.script.noCaseIndent=true;l.options.script.functionSpace=true;l.options.script.variableList="each";l.options.script.vertical=false;break;case"google":l.options.wrap=-1;l.options.indentChar=" ";l.options.indentSize=4;l.options.preserveLine=1;l.options.script.correct=true;l.options.script.quoteConvert="single";l.options.script.vertical=false;break;case"jquery":l.options.wrap=80;l.options.indentChar="	";l.options.indentSize=1;l.options.script.correct=true;l.options.script.bracePadding=true;l.options.script.quoteConvert="double";l.options.script.variableList="each";break;case"jslint":l.options.indentChar=" ";l.options.indentSize=4;l.options.script.correct=true;l.options.script.bracePadding=false;l.options.script.elseNewline=false;l.options.script.endComma="never";l.options.script.noCaseIndent=true;l.options.script.functionSpace=true;l.options.script.variableList="each";l.options.script.vertical=false;break;case"standard":l.options.wrap=0;l.options.indentChar=" ";l.options.indentSize=2;l.options.endNewline=false;l.options.preserveLine=1;l.options.script.correct=true;l.options.script.noSemicolon=true;l.options.script.endComma="never";l.options.script.braceNewline=false;l.options.script.bracePadding=false;l.options.script.braceAllman=false;l.options.script.quoteConvert="single";l.options.script.functionSpace=true;l.options.script.ternaryLine=false;l.options.script.variableList="each";l.options.script.vertical=false;break;case"yandex":l.options.script.correct=true;l.options.script.bracePadding=false;l.options.script.quoteConvert="single";l.options.script.variableList="each";l.options.script.vertical=false;break}}if(l.options.script.braceStyle!==void 0){switch(l.options.script.braceStyle){case"collapse":l.options.script.braceNewline=false;l.options.script.bracePadding=false;l.options.script.braceAllman=false;l.options.script.objectIndent="indent";l.options.script.neverFlatten=true;break;case"collapse-preserve-inline":l.options.script.braceNewline=false;l.options.script.bracePadding=true;l.options.script.braceAllman=false;l.options.script.objectIndent="indent";l.options.script.neverFlatten=false;break;case"expand":l.options.script.braceNewline=false;l.options.script.bracePadding=false;l.options.script.braceAllman=true;l.options.script.objectIndent="indent";l.options.script.neverFlatten=true;break}}if(l.options.language==="json")l.options.wrap=0;}do{if(l.options[Oe[t]]!==void 0){Se[Oe[t]].lexer.length;}t=t+1;}while(t<o)}function it(l){const{source:u,options:p}=l;const{lexer:n,language:o}=p;if(typeof l.lexers[n]==="function"){l.lexers[n](`${u} `);}else {s.error=`Specified lexer, ${n}, is not a function.`;}let t=0;let P=0;const W=Oe(s.data);const S=W.length;do{P=t+1;do{if(s.data[W[t]].length!==s.data[W[P]].length){s.error=`"${W[t]}" array is of different length than "${W[P]}"`;break}P=P+1;}while(P<S);t=t+1;}while(t<S-1);if(s.data.begin.length>0){if(n==="script"&&(o==="json"&&p.json.objectSort===true||p.language!=="json"&&p.script.objectSort===true)){s.sortCorrection(0,s.count+1);}else if(n==="style"&&p.style.sortProperties){s.sortCorrection(0,s.count+1);}}return s.data}function Je(l){const u=Date.now();const p={language:l,chars:-1};return n=>{p.chars=n;p.size=Ue(n);p.time=(Date.now()-u).toFixed(1);return p}}function rt(l){const{languageName:u}=de(l.options.language);const p=l.options.crlf===true?"\r\n":"\n";const n=l.source.match(/\n/g);const o=Je(u);let t=C;if(n===null){if(l.options.endNewline)t=p;l.stats=o(t.length);}else {t=n[0].length>l.options.preserveLine?je(l.options.preserveLine,p):je(n[0].length,p);if(l.options.endNewline)t+=p;l.stats=o(t.length);}return t}function ze(l){l.data=s.init();if(!/\S/.test(l.source))return rt(l);if(l.options.language==="text"){l.options.language="text";l.options.languageName="Plain Text";l.options.lexer="markup";}else if(l.options.language==="auto"||l.options.language===void 0){const{lexer:t,language:P,languageName:W}=_e(l.source);if(P==="unknown"){console.warn("Prettify: unknown and/or unsupport language");console.info("Prettify: define a support language (fallback is HTML)");}l.options.lexer=t;l.options.language=P;l.options.languageName=W;}else {const{lexer:t,language:P,languageName:W}=de(l.options.language);if(P==="unknown"){console.warn(`Prettify: unsupport ${l.options.language}`);console.info("Prettify: language is not supported (fallback is HTML)");}l.options.lexer=t;l.options.language=P;l.options.languageName=W;}const u=Je(l.options.languageName);const p=l.mode;const n=l.options.crlf===true?"\r\n":"\n";let o=l.source;if(Ge(l)===false){l.stats=u(o.length);return o}l.data=it(l);if(p==="parse"){l.stats=u(o.length);return s.data}o=l.beautify[l.options.lexer](l.options);o=l.options.endNewline===true?o.replace(/\s*$/,n):o.replace(/\s+$/,C);l.stats=u(o.length);l.end=0;l.start=0;return o}Qe.before=l=>D.hooks.before.push(l);Qe.after=l=>D.hooks.after.push(l);Ee.listen=l=>D.hooks.rules.push(l);qe(Qe,"stats",{get(){return D.stats}});qe(Ke,"stats",{get(){return D.stats}});qe(Ee,"rules",{get(){return D.options}});function Qe(l,u){D.source=l;if(typeof u==="object")D.options=Ee(u);if(D.hooks.before.length>0){for(const n of D.hooks.before){if(n(D.options,l)===false)return l}}const p=ze(D);if(D.hooks.after.length>0){for(const n of D.hooks.after){if(n.call(s.data,p,D.options)===false)return l}}return new Promise((n,o)=>{if(s.error.length)return o(s.error);return n(p)})}function Ee(l){var u,p;for(const n of Oe(l)){if(((p=(u=Se)==null?void 0:u[n])==null?void 0:p.lexer)==="auto"){D.options[n]=l[n];}else if(n==="markup"){ve(D.options.markup,l.markup);}else if(n==="script"){ve(D.options.script,l.script);}else if(n==="style"){ve(D.options.style,l.style);}else if(n==="json"){ve(D.options.json,l.json);}else if(n==="grammar"){oe.extend(l.grammar);}else if(n in D.options){D.options[n]=l[n];}}if(D.hooks.rules.length>0){for(const n of D.hooks.rules)n(D.options);}return D.options}function Ke(l,u){D.source=l;D.mode="parse";if(typeof u==="object")D.options=Ee(u);const p=ze(D);return new Promise((n,o)=>{if(s.error.length)return o(s.error);return n(p)})}

export { Ye as default, Se as definitions };
