var vt=Object.defineProperty;var Lt=(s,f)=>{for(var c in f)vt(s,c,{get:f[c],enumerable:true});};var T=function(){const s=typeof process!=="undefined"&&process.versions!=null?"node":"browser";let f="";return {env:s,mode:"beautify",end:0,iterator:0,start:0,scopes:[],beautify:{},lexers:{},get source(){return s==="node"&&Buffer.isBuffer(f)?f.toString():f},set source(c){f=s==="node"?Buffer.isBuffer(c)?c:Buffer.from(c):c;},data:{begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]},hooks:{before:[],language:[],rules:[],after:[]},stats:{chars:-1,time:-1,size:"",language:""},options:{lexer:"auto",language:"text",languageName:"Plain Text",mode:"beautify",indentLevel:0,crlf:false,commentIndent:true,endNewline:false,indentChar:" ",indentSize:2,preserveComment:false,preserveLine:2,wrap:0,grammar:{},markup:{correct:false,commentNewline:false,delimiterTrims:"preserve",delimiterSpacing:false,attributeCasing:"preserve",attributeSort:false,attributeSortList:[],forceAttribute:3,forceLeadAttribute:true,forceIndent:false,ignoreJson:false,ignoreStyles:false,ignoreScripts:false,lineBreakSeparator:"default",preserveText:false,preserveAttributes:false,selfCloseSpace:true,quoteConvert:"none",normalizeSpacing:true,valueForce:"intent"},style:{correct:false,compressCSS:false,classPadding:false,noLeadZero:false,sortSelectors:false,sortProperties:false,quoteConvert:"none",forceValue:"preserve"},script:{correct:false,braceNewline:false,bracePadding:false,braceStyle:"none",braceAllman:false,commentNewline:false,caseSpace:false,elseNewline:false,endComma:"never",arrayFormat:"default",objectSort:false,objectIndent:"default",functionNameSpace:false,functionSpace:false,styleGuide:"none",ternaryLine:false,methodChain:4,neverFlatten:false,noCaseIndent:false,noSemicolon:false,quoteConvert:"none",variableList:"none",vertical:false},json:{useStringify:false,arrayFormat:"default",braceAllman:false,bracePadding:false,objectIndent:"default",objectSort:false}}}}();var Ne=Object.assign;var Je=Object.create;var Fe=Object.keys;var Ke=Object.defineProperty;var Le=Array.isArray;var y="";var se=" ";var fe="\n";var ye;var he=new(ye=class{constructor(){this.script={};this.style={};this.html={embed:{}};this.liquid={embed:{}};this.script.keywords=Pe(ye.script.keywords);this.style.units=Pe(ye.style.units);this.style.atrules=Pe(ye.style.atrules);this.style.pseudoFunctions=Pe(ye.style.pseudo.functions);this.style.pseudoClasses=Pe(ye.style.pseudo.classes);this.style.pseudoElements=Pe(ye.style.pseudo.elements);this.html.tags=Pe(ye.html.tags);this.html.voids=Pe(ye.html.voids);this.liquid.tags=Pe(ye.liquid.tags);this.liquid.control=Pe(ye.liquid.control);this.liquid.else=Pe(ye.liquid.else);this.liquid.singletons=Pe(ye.liquid.singletons);this.defaults();}defaults(){for(const f in ye.html.embedded){this.html.embed[f]={};for(const{language:c,attribute:p=null}of ye.html.embedded[f]){this.html.embed[f].language=c;if(typeof p==="object"){for(const l in p){this.html.embed[f].attribute=l;if(Le(p[l])){this.html.embed[f].value=x=>new Set(p[l]).has(x);}else {this.html.embed[f].value=x=>new RegExp(p[l]).test(x);}}}else {this.html.embed[f].attribute=null;}}}for(const f in ye.liquid.embedded){this.liquid.embed[f]={end:c=>new RegExp(`^{%-?\\s*end${f}`).test(c)};for(const{language:c,argument:p}of ye.liquid.embedded[f]){this.liquid.embed[f].language=c;if(p){if(Le(p)){this.liquid.embed[f].attribute=l=>new Set(p).has(l);}else {this.liquid.embed[f].attribute=l=>new RegExp(p).test(l);}}else {this.liquid.embed[f].attribute=null;}}}}embed(f,c){return c in this[f].embed}extend(f){for(const c in f){if(c==="html"){if("tags"in f[c]&&Le(f[c].tags)){for(const p of f[c].tags){if(!this.html.tags.has(p)){ye.html.tags.push(p);this.html.tags.add(p);}}}if("voids"in f[c]&&Le(f[c].voids)){for(const p of f[c].voids){if(!this.html.voids.has(p)){ye.html.voids.push(p);this.html.voids.add(p);}}}if("embedded"in f[c]);}if(c==="liquid"){if("tags"in f[c]&&Le(f[c].tags)){for(const p of f[c].tags){if(!this.liquid.tags.has(p)){ye.liquid.tags.push(p);this.liquid.tags.add(p);}}}if("else"in f[c]&&Le(f[c].else)){for(const p of f[c].else){if(!this.liquid.else.has(p)){ye.liquid.else.push(p);this.liquid.else.add(p);}}}if("singletons"in f[c]&&Le(f[c].singletons)){for(const p of f[c].singletons){if(!this.liquid.singletons.has(p)){ye.liquid.singletons.push(p);this.liquid.singletons.add(p);}}}if("embedded"in f[c]&&typeof f[c].embedded==="object"){for(const p in f[c].embedded){if(!(p in this.liquid.embed)){this.liquid.embed[p]={end:l=>new RegExp(`{%-?\\s*end${p}`).test(l)};}for(const{language:l,argument:x}of f[c].embedded[p]){if(this.liquid.embed[p].language!==l){this.liquid.embed[p].language=l;}if(x){if(this.liquid.embed[p].attribute===null){if(Le(x)){this.liquid.embed[p].attribute=e=>Pe(x).has(e);}else {this.liquid.embed[p].attribute=e=>new RegExp(x).test(e);}}else {const e=[];for(const $ of ye.liquid.embedded[p]){if(Le($.argument)){for(const E of $.argument){if(x!==E)e.push(x);else e.push(E);}this.liquid.embed[p].attribute=E=>Pe(e).has(E);}else {if($.argument!==x){this.liquid.embed[p].attribute=E=>new RegExp(x).test(E);}}}}}}}}}if(c==="style"){if("units"in f[c]&&Le(f[c].units)){for(const p of f[c].units){if(!this.style.units.has(p)){ye.style.units.push(p);this.style.units.add(p);}}}if("atrules"in f[c]&&Le(f[c].atrules)){for(const p of f[c].atrules){if(!this.style.atrules.has(p)){ye.style.atrules.push(p);this.style.atrules.add(p);}}}if("pseudo"in f[c]){if("classes"in f[c].pseudo&&Le(f[c].pseudo.classes)){for(const p of f[c].pseudo.classes){if(!this.style.pseudoClasses.has(p)){ye.style.pseudo.classes.push(p);this.style.pseudoClasses.add(p);}}}if("elements"in f[c].pseudo&&Le(f[c].pseudo.elements)){for(const p of f[c].pseudo.elements){if(!this.style.pseudoElements.has(p)){ye.style.pseudo.elements.push(p);this.style.pseudoElements.add(p);}}}}}if(c==="script"){if("keywords"in f[c]&&Le(f[c].keywords)){for(const p of f[c].keywords){if(!this.script.keywords.has(p)){ye.script.keywords.push(p);this.script.keywords.add(p);}}}}}}},ye.script={keywords:["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]},ye.html={embedded:{script:[{language:"javascript"},{language:"json",attribute:{type:["application/json","application/ld+json"]}},{language:"jsx",attribute:{type:["text/jsx","application/jsx"]}}],style:[{language:"css"}]},voids:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","path","circle","source","track","wbr"],tags:["body","colgroup","dd","dt","head","html","li","option","tbody","td","tfoot","th","thead","tr"]},ye.liquid={embedded:{schema:[{language:"json"}],style:[{language:"css"}],stylesheet:[{language:"css"},{language:"scss",argument:/\s*['"]scss['"]/}],javascript:[{language:"javascript"}]},tags:["form","paginate","capture","case","comment","for","if","raw","tablerow","unless","schema","style","script","stylesheet","javascript"],control:["if","unless","case"],else:["else","elsif"],singletons:["include","layout","section","assign","liquid","break","continue","cycle","decrement","echo","increment","render","when"]},ye.style={units:["%","cap","ch","cm","deg","dpcm","dpi","dppx","em","ex","fr","grad","Hz","ic","in","kHz","lh","mm","ms","mS","pc","pt","px","Q","rad","rem","rlh","s","turn","vb","vh","vi","vmax","vmin","vw"],atrules:["charset","color-profile","counter-style","font-face","font-feature-values","import","keyframes","layer","media","namespace","page","supports"],pseudo:{classes:["active","any-link","checked","default","defined","disabled","empty","enabled","first","first-child","first-of-type","fullscreen","focus","focus-visible","focus-within","host","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","modal","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","picture-in-picture","placeholder-shown","paused","playing","read-only","read-write","required","right","root","scope","target","valid","visited","where"],elements:["after","backdrop","before","cue","cue-region","first-letter","first-line","file-selector-button","marker","part","placeholder","selection","slotted"],functions:["after","before","first-letter","first-line","host","host-context","part","slotted","lang","not","nth-child","nth-col","nth-last-child","nth-last-of-type","nth-of-type","where"]}},ye);function Pe(s){return new Set(s)}function Be(s,f=se){if(s===0)return f;let c=y;let p=1;do{c+=f;}while(p++<s);return c}var a=(s,f)=>s?s.charCodeAt(0)===f:false;a.last=(s,f)=>a(s[s.length-1],f);var G=(s,f)=>a(s,f)===false;G.last=(s,f)=>a.last(s,f)===false;function ge(s){return /\s/.test(s)}function pt(s){const f=1024;const c=1048576;const p=1073741824;if(s<f)return s+" B";else if(s<c)return (s/f).toFixed(1)+" KB";else if(s<p)return (s/c).toFixed(1)+" MB";else return (s/p).toFixed(1)+" GB"}function nt(s){return `\\${s}`}function ht(s){const f=s.indexOf("{");const c=a(s[f+2],45)?s.slice(f+3).trimStart():s.slice(f+2).trimStart();return c.slice(0,c.search(/\s/))}function Re(s,f=NaN){if(typeof s!=="string")return y;if(G(s,60)&&G(s,123))return s;if(a(s,60)){const p=s.slice(1,s.search(/[\s>]/));return a(p,63)&&a.last(p,63)?"xml":isNaN(f)?p.toLowerCase():p.slice(f).toLowerCase()}let c=a(s[2],45)?s.slice(3).trimStart():s.slice(2).trimStart();c=c.slice(0,c.search(/[\s=|!<>,.[]|-?[%}]}/)).toLowerCase();return isNaN(f)?c:c.slice(f)}function dt(s){const f=s.indexOf("{");if(a(s[f+1],37)){let c;c=s.slice(f+(a(s[f+2],45)?3:2)).trimStart();c=c.slice(0,c.search(/[\s=|!<>,.[]|-?[%}]}/));return c.startsWith("end")?false:he.liquid.control.has(c)}return false}function gt(s){const f=s.indexOf("{");console.log(f);if(a(s[f+1],37)){let c;c=s.slice(f+(a(s[f+2],45)?3:2)).trimStart();c=c.slice(0,c.search(/[\s=|!<>,.[]|-?[%}]}/));return c.startsWith("end")?false:he.liquid.else.has(c)}return false}function bt(s){const f=s.indexOf("=");if(f>-1){if(a(s[f+1],34)||a(s[f+1],39)){return /{%-?\s*end\w+/.test(s.slice(f,s.lastIndexOf(s[f+1])))}}return false}function st(s){if(Xe(s))return /{%-?\s*end\w+/.test(s);return false}function Xe(s){const f=s.indexOf("{");if(a(s[f+1],37)){let c;c=s.slice(f+(a(s[f+2],45)?3:2)).trimStart();c=c.slice(0,c.search(/[\s=|!<>,.[]|-?[%}]}/));return c.startsWith("end")?false:he.liquid.tags.has(c)}return false}function Ve(s){let f=s;if(Array.isArray(s))f=s.join("");const c=f.indexOf("{");if(a(f[c+1],37)){if(a(f[c+2],45))return f.slice(c+3).trimStart().startsWith("end");return f.slice(c+2).trimStart().startsWith("end")}return false}function Me(s,f){if(f===1){return a(s[0],123)&&(a(s[1],37)||a(s[1],123))}else if(f===6){return a(s[0],123)&&a(s[1],37)}else if(f===7){return a(s[0],123)&&a(s[1],123)}else if(f===8){return a(s[s.length-2],37)&&a(s[s.length-1],125)}else if(f===9){return a(s[s.length-2],125)&&a(s[s.length-1],125)}else if(f===4){return /{[{%]/.test(s)}else if(f===5){return /{[{%]/.test(s)&&/[%}]}/.test(s)}else if(f===2){const c=s.length;return a(s[c-1],125)&&(a(s[c-2],37)||a(s[c-2],125))}else if(f===3){const c=s.length;return a(s[0],123)&&(a(s[1],37)||a(s[1],123))&&(a(s[c-1],125)&&(a(s[c-2],37)||a(s[c-2],125)))}}function it(s){let f=0;const c=s.length;const p=s;const l=()=>{let e=0;const $=p.length;if(e<$){do{if(Le(p[e])===true)p[e]=it.apply(this,p[e]);e=e+1;}while(e<$)}};const x=e=>{let $=f;let E=0;let o=0;let N=0;let t=[];let n=p[f];let S="";const Z=typeof n;if($<c){do{S=typeof p[$];if(p[$]<n||S<Z){n=p[$];t=[$];}else if(p[$]===n){t.push($);}$=$+1;}while($<c)}o=t.length;$=f;E=o+f;if($<E){do{p[t[N]]=p[$];p[$]=n;N=N+1;$=$+1;}while($<E)}f=f+o;if(f<c){x("");}else {if(this.recursive===true)l();s=p;}return e};x("");return s}function rt(s){let f=0;const c=s.length;const p=s;const l=()=>{let e=0;const $=p.length;if(e<$){do{if(Le(p[e]))p[e]=rt.apply(this,p[e]);e=e+1;}while(e<$)}};const x=e=>{let $=f;let E=0;let o=0;let N=0;let t=p[f];let n=[];let S="";const Z=typeof t;if($<c){do{S=typeof p[$];if(p[$]>t||S>Z){t=p[$];n=[$];}else if(p[$]===t){n.push($);}$=$+1;}while($<c)}o=n.length;$=f;E=o+f;if($<E){do{p[n[N]]=p[$];p[$]=t;N=N+1;$=$+1;}while($<E)}f=f+o;if(f<c){x("");}else {if(this.recursive===true)l();s=p;}return e};x("");return s}function lt(s){let f=s;const c=[s[0]];const p=()=>{let x=0;const e=f.length;if(x<e){do{if(Le(f[x]))f[x]=lt.apply(this,f[x]);x=x+1;}while(x<e)}};const l=x=>{let e=0;const $=[];const E=f.length;if(e<E){do{if(f[e]!==x)$.push(f[e]);e=e+1;}while(e<E)}f=$;if($.length>0){c.push($[0]);l($[0]);}else {if(this.recursive===true)p();s=f;}};l(this.array[0]);return s}var He=/^\s+/;var _e=/\s+$/;var Ie=/^[\t\v\f\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/;var $e=/[\t\v\f \u00a0\u2000-\u200b\u2028-\u2029\u3000]+$/;var ot=/[\t\v\r \u00a0\u2000-\u200b\u2028-\u2029\u3000]+/g;var kt=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify\s+/;var mt=/(\/[*/]|{%-?\s*(?:comment\s*-?%})|<!-{2})\s*@prettify-ignore\b/;var yt=/(\/[*/]|{%-?\s*(?:comment\s*-?%}|#)|<!-{2})\s*@prettify-ignore-next\b/;var xt=/{%-?\s*|\s*-?%}/g;var at=/(\/|\\|\||\*|\[|\]|\{|\})/g;var i=new class en{constructor(){this.datanames=["begin","ender","lexer","lines","stack","token","types"];this.data={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};this.structure=[["global",-1]];this.attributes=new Set;this.references=[[]];this.count=-1;this.lineStart=0;this.lineNumber=0;this.linesSpace=0;this.error=y;}get scope(){const[f,c]=this.structure[this.structure.length-1];return {token:f,index:c}}get current(){const{begin:f,ender:c,lexer:p,lines:l,stack:x,token:e,types:$}=this.data;return {begin:f[f.length-1],ender:c[c.length-1],lexer:p[p.length-1],lines:l[l.length-1],stack:x[x.length-1],token:e[f.length-1],types:$[f.length-1]}}full(){this.error=y;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const f=this.structure.length-1;const c=this.structure[f];if(f>0)this.structure.splice(f,1);return c};return this.data}increment(){this.error=y;this.count=-1;this.linesSpace=0;this.lineNumber=0;this.references=[[]];this.data.begin=[];this.data.ender=[];this.data.lexer=[];this.data.lines=[];this.data.stack=[];this.data.token=[];this.data.types=[];this.structure=[["global",-1]];this.structure.pop=()=>{const f=this.structure.length-1;const c=this.structure[f];if(f>0)this.structure.splice(f,1);return c};return this.data}pushEnder(f){let c=this.count;const p=f.begin[c];if(f.lexer[c]==="style"&&T.options.style.sortProperties===true||f.lexer[c]==="script"&&(T.options.script.objectSort===true||T.options.json.objectSort===true)){return}do{if(f.begin[c]===p||f.begin[f.begin[c]]===p&&f.types[c].indexOf("attribute")>-1&&f.types[c].indexOf("attribute_end")<0){f.ender[c]=this.count;}else {c=f.begin[c];}c=c-1;}while(c>p);if(c>-1)f.ender[c]=this.count;}push(f,c,p=y){f.begin.push(c.begin);f.ender.push(c.ender);f.lexer.push(c.lexer);f.stack.push(c.stack);f.token.push(c.token);f.types.push(c.types);f.lines.push(c.lines);if(f===this.data){this.count=this.count+1;this.linesSpace=0;if(c.lexer!=="style"&&p.replace(/[{}@<>%#]/g,y)===y){p=c.types==="else"?"else":Re(c.token);}if(c.types==="start"||c.types.indexOf("_start")>0){this.structure.push([p,this.count]);}else if(c.types==="end"||c.types.indexOf("_end")>0){let l=0;const x=this.structure.length;if(this.structure.length>2&&(f.types[this.structure[x-1][1]]==="else"||f.types[this.structure[x-1][1]].indexOf("_else")>0)&&(f.types[this.structure[x-2][1]]==="start"||f.types[this.structure[x-2][1]].indexOf("_start")>0)&&(f.types[this.structure[x-2][1]+1]==="else"||f.types[this.structure[x-2][1]+1].indexOf("_else")>0)){this.structure.pop();f.begin[this.count]=this.structure[this.structure.length-1][1];f.stack[this.count]=this.structure[this.structure.length-1][0];f.ender[this.count-1]=this.count;l=f.ender[f.begin[this.count]+1];}this.pushEnder(f);if(l>0)f.ender[f.begin[this.count]+1]=l;this.structure.pop();}else if(c.types==="else"||c.types.indexOf("_else")>0){if(p===y)p="else";if(this.count>0&&(f.types[this.count-1]==="start"||f.types[this.count-1].indexOf("_start")>0)){this.structure.push([p,this.count]);}else {this.pushEnder(f);this.structure[this.structure.length-1]=p===y?["else",this.count]:[p,this.count];}}}}pop(f){const c={begin:f.begin.pop(),ender:f.ender.pop(),lexer:f.lexer.pop(),lines:f.lines.pop(),stack:f.stack.pop(),token:f.token.pop(),types:f.types.pop()};if(f===this.data)this.count=this.count-1;return c}concat(f,c){f.begin=f.begin.concat(c.begin);f.ender=f.ender.concat(c.ender);f.lexer=f.lexer.concat(c.lexer);f.stack=f.stack.concat(c.stack);f.token=f.token.concat(c.token);f.types=f.types.concat(c.types);f.lines=f.lines.concat(c.lines);if(f===this.data)this.count=f.token.length-1;}sortObject(f){let c=this.count;let p=this.structure[this.structure.length-1][1];let l=0;let x=0;let e=0;let $=0;let E=0;let o=0;let N=0;let t=true;const n=[];const S=p;const Z=this.structure[this.structure.length-1][0];const r=this.linesSpace;const U=this.count;const k=T.options.language==="json";const d=f.lexer[c]==="style"&&Z==="global";const P=f.lexer[c]==="style";const ee=P===true?[";","separator"]:[",","separator"];const K=d===true?"global":Z;const h={begin:[],ender:[],lexer:[],lines:[],stack:[],token:[],types:[]};const C=(_,w)=>{let m=_[0];let g=w[0];if(f.types[m]==="comment"){do{m=m+1;}while(m<U&&f.types[m]==="comment");if(f.token[m]===void 0)return 1}if(f.types[g]==="comment"){do{g=g+1;}while(g<U&&f.types[g]==="comment");if(f.token[g]===void 0)return 1}if(P===true){if(f.token[m].indexOf("@import")===0||f.token[g].indexOf("@import")===0){return m<g?-1:1}if(f.types[m]!==f.types[g]){if(f.types[m]==="function")return 1;if(f.types[m]==="variable")return -1;if(f.types[m]==="selector")return 1;if(f.types[m]==="property"&&f.types[g]!=="variable")return -1;if(f.types[m]==="mixin"&&f.types[g]!=="property"&&f.types[g]!=="variable")return -1}}if(f.token[m].toLowerCase()>f.token[g].toLowerCase())return 1;return -1};$=c;do{if(f.begin[c]===p||d===true&&c<$&&a(f.token[c],125)&&f.begin[f.begin[c]]===-1){if(f.types[c].indexOf("template")>-1)return;if(f.token[c]===ee[0]||P===true&&a(f.token[c],125)&&G(f.token[c+1],59)){t=true;E=c+1;}else if(P===true&&a(f.token[c-1],125)){t=true;E=c;}if(E===0&&f.types[0]==="comment"){do{E=E+1;}while(f.types[E]==="comment")}else if(f.types[E]==="comment"&&f.lines[E]<2){E=E+1;}if(t===true&&(f.token[c]===ee[0]||P===true&&a(f.token[c-1],125))&&E<=$){if(P===true&&"};".indexOf(f.token[$])<0){$=$+1;}else if(P===false&&G(f.token[$],44)){$=$+1;}n.push([E,$]);if(P===true&&a(f.token[E],125)){$=E;}else {$=E-1;}}}c=c-1;}while(c>p);if(n.length>0&&n[n.length-1][0]>c+1){l=n[n.length-1][0]-1;if(f.types[l]==="comment"&&f.lines[l]>1){do{l=l-1;}while(l>0&&f.types[l]==="comment");n[n.length-1][0]=l+1;}if(f.types[c+1]==="comment"&&c===-1){do{c=c+1;}while(f.types[c+1]==="comment")}n.push([c+1,l]);}if(n.length>1){if(k===true||P===true||a(f.token[c-1],61)||a(f.token[c-1],58)||a(f.token[c-1],40)||a(f.token[c-1],91)||a(f.token[c-1],44)||f.types[c-1]==="word"||c===0){n.sort(C);N=n.length;t=false;p=0;do{o=n[p][1];if(P===true){e=o;if(f.types[e]==="comment")e=e-1;if(a(f.token[e],125)){o=o+1;ee[0]="}";ee[1]="end";}else {ee[0]=";";ee[1]="separator";}}l=n[p][0];if(P===true&&f.types[o-1]!=="end"&&f.types[o]==="comment"&&f.types[o+1]!=="comment"&&p<N-1){o=o+1;}if(l<o){do{if(P===false&&p===N-1&&l===o-2&&a(f.token[l],44)&&f.lexer[l]==="script"&&f.types[l+1]==="comment"){x=x+1;}else {this.push(h,{begin:f.begin[l],ender:f.ender[l],lexer:f.lexer[l],lines:f.lines[l],stack:f.stack[l],token:f.token[l],types:f.types[l]});x=x+1;}if(f.token[l]===ee[0]&&(P===true||f.begin[l]===f.begin[n[p][0]])){t=true;}else if(f.token[l]!==ee[0]&&f.types[l]!=="comment"){t=false;}l=l+1;}while(l<o)}if(t===false&&h.token[h.token.length-1]!=="x;"&&(P===true||p<N-1)){l=h.types.length-1;if(h.types[l]==="comment"){do{l=l-1;}while(l>0&&h.types[l]==="comment")}l=l+1;this.splice({data:h,howmany:0,index:l,record:{begin:S,stack:K,ender:this.count,lexer:h.lexer[l-1],lines:0,token:ee[0],types:ee[1]}});x=x+1;}p=p+1;}while(p<N);this.splice({data:f,howmany:x,index:c+1});this.linesSpace=r;this.concat(f,h);}}}sortSafe(f,c,p){if(Le(f)===false)return f;if(c==="normal")return lt.call({array:f,recursive:p},f);if(c==="descend")return rt.call({recursive:p},f);return it.call({recursive:p},f)}sortCorrect(f,c){let p=f;let l=-1;const x=this.data;const e=[];const $=this.structure.length<2?[-1]:[this.structure[this.structure.length-2][1]];do{if(p>0&&x.types[p].indexOf("attribute")>-1&&x.types[p].indexOf("end")<0&&x.types[p-1].indexOf("start")<0&&x.types[p-1].indexOf("attribute")<0&&x.lexer[p]==="markup"){$.push(p-1);}if(p>0&&x.types[p-1].indexOf("attribute")>-1&&x.types[p].indexOf("attribute")<0&&x.lexer[$[$.length-1]]==="markup"&&x.types[$[$.length-1]].indexOf("start")<0){$.pop();}if(x.begin[p]!==$[$.length-1]){x.begin[p]=$.length>0?$[$.length-1]:-1;}if(x.types[p].indexOf("else")>-1){if($.length>0){$[$.length-1]=p;}else {$.push(p);}}if(x.types[p].indexOf("end")>-1)$.pop();if(x.types[p].indexOf("start")>-1)$.push(p);p=p+1;}while(p<c);p=c;do{p=p-1;if(x.types[p].indexOf("end")>-1){e.push(p);l=l+1;}x.ender[p]=l>-1?e[l]:-1;if(x.types[p].indexOf("start")>-1){e.pop();l=l-1;}}while(p>f)}space(f,c){this.linesSpace=1;return p=>{do{if(a(f[p],10))this.lineNumber=this.lineNumber+1;if(ge(f[p])===false)break;this.linesSpace=this.linesSpace+1;p=p+1;}while(p<c);return p}}spacer(f){this.linesSpace=1;do{if(f.array[f.index]===fe){this.linesSpace=this.linesSpace+1;this.lineNumber=this.lineNumber+1;}if(ge(f.array[f.index+1])===false)break;f.index=f.index+1;}while(f.index<f.end);return f.index}splice(f){const{data:c}=this;const p=[c.begin[this.count],c.token[this.count]];if(f.record!==void 0&&f.record.token!==y){for(const l of this.datanames){f.data[l].splice(f.index,f.howmany,f.record[l]);}if(f.data===c){this.count=this.count-f.howmany+1;if(p[0]!==c.begin[this.count]||p[1]!==c.token[this.count]){this.linesSpace=0;}}return}for(const l of this.datanames){f.data[l].splice(f.index,f.howmany);}if(f.data===c){this.count=this.count-f.howmany;this.linesSpace=0;}}wrapCommentLine(f){let c=f.start;let p=0;let l=y;let x=[];const{wrap:e,preserveComment:$}=T.options;function E(){let N=y;do{p=p+1;if(a(f.chars[p+1],10))return}while(p<f.end&&ge(f.chars[p])===true);if(f.chars[p]+f.chars[p+1]==="//"){x=[];do{x.push(f.chars[p]);p=p+1;}while(p<f.end&&f.chars[p]!==fe);N=x.join(y);if(/^\/\/ (\*|-|(\d+\.))/.test(N)===false&&N.slice(0,6)!=="//    "&&/^\/\/\s*$/.test(N)===false){l=`${l} ${N.replace(/(^\/\/\s*)/,y).replace($e,y)}`;c=p-1;E();}}}const o=()=>{const N=[];const t={ender:-1,types:"comment",lexer:f.lexer,lines:this.linesSpace};if(this.count>-1){t.begin=this.structure[this.structure.length-1][1];t.stack=this.structure[this.structure.length-1][0];t.token=this.data.token[this.count];}else {t.begin=-1;t.stack="global";t.token=y;}let n=0;let S=0;l=l.replace(/\s+/g,se).replace($e,y);S=l.length;if(e>S)return;do{n=e;if(l.charAt(n)!==se){do{n=n-1;}while(n>0&&l.charAt(n)!==se);if(n<3){n=e;do{n=n+1;}while(n<S-1&&l.charAt(n)!==se)}}N.push(l.slice(0,n));l=`// ${l.slice(n).replace(Ie,y)}`;S=l.length;}while(e<S);n=0;S=N.length;do{t.token=N[n];this.push(this.data,t,y);t.lines=2;this.linesSpace=2;n=n+1;}while(n<S)};do{x.push(f.chars[c]);c=c+1;}while(c<f.end&&f.chars[c]!==fe);if(c===f.end){f.chars.push(fe);}else {c=c-1;}l=x.join(y).replace($e,y);if(/^(\/\/\s*@prettify-ignore-start\b)/.test(l)===true){let N=fe;c=c+1;do{x.push(f.chars[c]);c=c+1;}while(c<f.end&&(f.chars[c-1]!=="d"||f.chars[c-1]==="d"&&x.slice(x.length-20).join(y)!=="@prettify-ignore-end"));p=c;do{}while(p>f.start&&f.chars[p-1]==="/"&&(f.chars[p]==="*"||f.chars[p]==="/"));if(f.chars[p]==="*")N="*/";if(N!==fe||f.chars[c]!==fe){do{x.push(f.chars[c]);if(N===fe&&f.chars[c+1]===fe)break;c=c+1;}while(c<f.end&&(N===fe||N==="*/"&&(f.chars[c-1]!=="*"||f.chars[c]!=="/")))}if(f.chars[c]===fe)c=c-1;l=x.join(y).replace($e,y);return [l,c]}if(l==="//"||l.slice(0,6)==="//    "||$===true){return [l,c]}l=l.replace(/(\/\/\s*)/,"// ");if(e<1||c===f.end-1&&this.data.begin[this.count]<1)return [l,c];p=c+1;E();o();return [l,c]}};function Ze(s){const{options:f}=T;const c=[];const p=[];const l=f.crlf===true?"\r\n":fe;const x=s.begin.replace(at,nt);const e=a(s.begin[0],123)&&a(s.begin[1],37);const $=new RegExp(`^(${x}\\s*@prettify-ignore-start)`);const E=new RegExp(`(${x}\\s*)`);const o=e?new RegExp(`\\s*${s.ender.replace(xt,O=>a(O,123)?"{%-?\\s*":"\\s*-?%}")}$`):new RegExp(s.ender.replace(at,nt));let N=s.start;let t=0;let n=0;let S=0;let Z=0;let r=[];let U=y;let k=y;let d=false;let P=false;let ee=false;let K=y;let h=s.ender.length-1;let C=s.ender.charAt(h);let _=0;function w(){if(/^\s+$/.test(r[t+1])||r[t+1]===y){do t=t+1;while(t<Z&&(/^\s+$/.test(r[t+1])||r[t+1]===y))}if(t<Z-1)p.push(y);}function m(){let O=fe;N=N+1;do{c.push(s.chars[N]);if(c.slice(c.length-20).join(y)==="@prettify-ignore-end"){if(e){const j=s.chars.indexOf("{",N);if(a(s.chars[j+1],37)){const L=s.chars.slice(j,s.chars.indexOf("}",j+1)+1).join(y);if(o.test(L))s.ender=L;}}N=N+1;break}N=N+1;}while(N<s.end);t=N;h=s.begin.length-1;C=s.begin.charAt(h);do{if(s.begin==="/*"&&a(s.chars[t-1],47)&&(a(s.chars[t],42)||a(s.chars[t],47))){break}if(s.begin!=="/*"&&s.chars[t]===C&&s.chars.slice(t-h,t+1).join(y)===s.begin){break}t=t-1;}while(t>s.start);if(s.begin==="/*"&&a(s.chars[t],42)){O="*/";}else if(s.begin!=="/*"){O=s.ender;}h=O.length-1;C=O.charAt(h);if(O!==fe||s.chars[N]!==fe){do{c.push(s.chars[N]);if(O===fe&&s.chars[N+1]===fe){break}if(s.chars[N]===C&&s.chars.slice(N-h,N+1).join(y)===O){break}N=N+1;}while(N<s.end)}if(s.chars[N]===fe)N=N-1;K=c.join(y).replace($e,y);return [K,N]}do{c.push(s.chars[N]);if(s.chars[N]===fe)i.lineNumber=i.lineNumber+1;if(s.chars[N]===C&&s.chars.slice(N-h,N+1).join(y)===s.ender)break;N=N+1;}while(N<s.end);K=c.join(y);if($.test(K)===true)return m();if(f.preserveComment===true||f.wrap<1||N===s.end||K.length<=f.wrap&&K.indexOf(fe)<0||s.begin==="/*"&&K.indexOf(fe)>0&&K.replace(fe,y).indexOf(fe)>0&&/\n(?!(\s*\*))/.test(K)===false){return [K,N]}t=s.start;if(t>0&&G(s.chars[t-1],10)&&ge(s.chars[t-1])){do t=t-1;while(t>0&&G(s.chars[t-1],10)&&ge(s.chars[t-1]))}U=s.chars.slice(t,s.start).join(y);const g=new RegExp(fe+U,"g");r=K.replace(/\r\n/g,fe).replace(g,fe).split(fe);Z=r.length;r[0]=r[0].replace(E,y);r[Z-1]=r[Z-1].replace(o,y);if(Z<2)r=r[0].split(se);if(r[0]===y){r[0]=s.begin;}else {r.splice(0,0,s.begin);}Z=r.length;t=0;do{k=t<Z-1?r[t+1].replace(Ie,y):y;if(/^\s+$/.test(r[t])===true||r[t]===y){w();}else if(r[t].replace(Ie,y).length>f.wrap&&r[t].replace(Ie,y).indexOf(se)>f.wrap){r[t]=r[t].replace(Ie,y);n=r[t].indexOf(se);p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);t=t-1;}else {r[t]=s.begin==="/*"&&r[t].indexOf("/*")!==0?`   ${r[t].replace(Ie,y).replace($e,y).replace(/\s+/g,se)}`:`${r[t].replace(Ie,y).replace($e,y).replace(/\s+/g,se)}`;_=t<1?f.wrap-(s.begin.length+1):f.wrap;n=r[t].length;S=r[t].replace(Ie,y).indexOf(se);if(n>_&&S>0&&S<_){n=_;do{n=n-1;if(ge(r[t].charAt(n))&&n<=f.wrap)break}while(n>0);if(/^\s*\d+\.\s/.test(r[t])===true&&/^\s*\d+\.\s/.test(r[t+1])===false){r.splice(t+1,0,"1. ");}if(/^\s+$/.test(r[t+1])===true||r[t+1]===y){p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);d=true;t=t-1;}else if(/^\s*[*-]\s/.test(r[t+1])){p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);P=true;t=t-1;}else if(/^\s*\d+\.\s/.test(r[t+1])){p.push(r[t].slice(0,n));r[t]=r[t].slice(n+1);ee=true;t=t-1;}else if(r[t].replace(Ie,y).indexOf(se)<f.wrap){r[t+1]=r[t].length>f.wrap?r[t].slice(n+1)+l+r[t+1]:`${r[t].slice(n+1)} ${r[t+1]}`;}if(d===false&&P===false&&ee===false){r[t]=r[t].slice(0,n);}}else if(r[t+1]!==void 0&&(r[t].length+k.indexOf(se)>f.wrap&&k.indexOf(se)>0||r[t].length+k.length>f.wrap&&k.indexOf(se)<0)){p.push(r[t]);t=t+1;}else if(r[t+1]!==void 0&&/^\s+$/.test(r[t+1])===false&&r[t+1]!==y&&/^\s*(?:[*-]|\d+\.)\s/.test(r[t+1])===false){p.push(r[t]);d=true;}else {p.push(r[t]);d=true;}P=false;ee=false;}t=t+1;}while(t<Z);if(p.length>0){if(p[p.length-1].length>f.wrap-(s.ender.length+1)){p.push(s.ender);}else {p.push(s.ender);}K=p.join(l);}else {r[r.length-1]=r[r.length-1]+s.ender;K=r.join(l);}return [K,N]}T.lexers.style=function s(f){const{options:c}=T;const p=c.style;const{data:l}=i;const x=f.split(y);const e=f.length;const $=[];const E=[];const o=i.space(x,e);let N=0;let t=y;let n=y;function S(h){i.push(l,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"style",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:n,types:t},h);}function Z(h){const C=h;do{h=h-1;}while(x[h]==="\\"&&h>0);return (C-h)%2===1}function r(h){const C=h.replace(/\s*!important/," !important").split(y);const _=/-?transition$/.test(l.token[i.count-2]);const w=[];const m=/(\s|\(|,)-?0+\.?\d+([a-z]|\)|,|\s)/g;const g=/(\s|\(|,)-?\.?\d+([a-z]|\)|,|\s)/g;let O=0;let j=0;let L=y;let F=C.length;let ne=[];const X=ie=>{return ie};function re(ie){ie=ie.replace(/\s*/g,y);return /\/\d/.test(ie)&&h.indexOf("url(")===0?ie:` ${ie.charAt(0)} ${ie.charAt(1)}`}function we(ie){if(p.noLeadZero===true){return ie.replace(/^-?\D0+(\.|\d)/,V=>V.replace(/0+/,y))}else if(/0*\./.test(ie)){return ie.replace(/0*\./,"0.")}else if(/0+/.test(/\d+/.exec(ie)[0])){return /^\D*0+\D*$/.test(ie)?ie.replace(/0+/,"0"):ie.replace(/\d+/.exec(ie)[0],/\d+/.exec(ie)[0].replace(/^0+/,y))}return ie}function Q(ie){return ie.replace(",",", ")}function ue(ie){return `${ie} `}function Ce(){const ie=O-1;let V=ie;if(ie<1)return true;do{V=V-1;}while(V>0&&C[V]==="\\");return (ie-V)%2===1}if(O<F){do{ne.push(C[O]);if(C[O-1]!=="\\"||Ce()===false){if(L===y){if(a(C[O],34)){L='"';j=j+1;}else if(a(C[O],39)){L="'";j=j+1;}else if(a(C[O],40)){L=")";j=j+1;}else if(a(C[O],91)){L="]";j=j+1;}}else if(a(C[O],40)&&a(L,41)||a(C[O],91)&&a(L,93)){j=j+1;}else if(C[O]===L){j=j-1;if(j===0)L=y;}}if(L===y&&a(C[O],32)){ne.pop();w.push(X(ne.join(y)));ne=[];}O=O+1;}while(O<F)}w.push(X(ne.join(y)));F=w.length;O=0;if(O<F){do{if(p.noLeadZero===true&&/^-?0+\.\d+[a-z]/.test(w[O])===true){w[O]=w[O].replace(/0+\./,".");}else if(p.noLeadZero===false&&/^-?\.\d+[a-z]/.test(w[O])){w[O]=w[O].replace(".","0.");}else if(m.test(w[O])||g.test(w[O])){w[O]=w[O].replace(m,we).replace(g,we);}else if(/^(0+([a-z]{2,3}|%))$/.test(w[O])&&_===false){w[O]="0";}else if(/^(0+)/.test(w[O])){w[O]=w[O].replace(/0+/,"0");if(/\d/.test(w[O].charAt(1)))w[O]=w[O].substr(1);}else if(/^url\((?!('|"))/.test(w[O])&&w[O].charCodeAt(w[O].length-1)===41){L=w[O].charAt(w[O].indexOf("url(")+4);if(L!=="@"&&G(L,40)&&G(L,60)){if(p.quoteConvert==="double"){w[O]=w[O].replace(/url\(/,'url("').replace(/\)$/,'")');}else {w[O]=w[O].replace(/url\(/,"url('").replace(/\)$/,"')");}}}if(/^(\+|-)?\d+(\.\d+)?(e-?\d+)?\D+$/.test(w[O])){if(!he.style.units.has(w[O].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,y))){w[O]=w[O].replace(/(\+|-)?\d+(\.\d+)?(e-?\d+)?/,ue);}}if(/^\w+\(/.test(w[O])&&w[O].charAt(w[O].length-1)===")"&&(w[O].indexOf("url(")!==0||w[O].indexOf("url(")===0&&w[O].indexOf(se)>0)){w[O]=w[O].replace(/,\S/g,Q);}O=O+1;}while(O<F)}L=w.join(se);return L.charAt(0)+L.slice(1).replace(/\s*(\/|\+|\*)\s*(\d|\$)/,re)}function U(){const h=[];const C=[];const _=p.quoteConvert;let w=N;let m=0;let g=y;let O=null;function j(){C.push(x[w]);if(ge(x[w+1]))do{w=w+1;}while(w<e&&ge(x[w+1]))}if(w<e){do{if(a(x[w],34)||a(x[w],39)){if(O===null)O=false;if(h[h.length-1]===x[w]&&(x[w-1]!=="\\"||Z(w-1)===false)){h.pop();if(_==="double"){x[w]='"';}else if(_==="single"){x[w]="'";}}else if(G(h[h.length-1],34)&&G(h[h.length-1],39)&&(x[w-1]!=="\\"||Z(w-1)===false)){h.push(x[w]);if(_==="double"){x[w]='"';}else if(_==="single"){x[w]="'";}}else if(x[w-1]==="\\"&&_!=="none"){if(Z(w-1)===true){if(_==="double"&&a(x[w],39)){C.pop();}else if(_==="single"&&a(x[w],34)){C.pop();}}}else if(_==="double"&&a(x[w],34)){x[w]='\\"';}else if(_==="single"&&a(x[w],39)){x[w]="\\'";}C.push(x[w]);}else if(x[w-1]!=="\\"||Z(w-1)===false){if(a(x[w],40)){if(O===null)O=true;h.push(")");j();}else if(a(x[w],91)){O=false;h.push("]");j();}else if((a(x[w],35)||a(x[w],64))&&a(x[w+1],123)){O=false;C.push(x[w]);w=w+1;h.push("}");j();}else if(x[w]===h[h.length-1]){C.push(x[w]);h.pop();}else {C.push(x[w]);}}else {C.push(x[w]);}if(i.structure[i.structure.length-1][0]==="map"&&h.length===0&&(a(x[w+1],44)||a(x[w+1],41))){if(a(x[w+1],41)&&a(l.token[i.count],40)){i.pop(l);i.structure.pop();C.splice(0,0,"(");}else {break}}if(a(x[w+1],58)){m=w;if(/\s/.test(x[m]))do{m=m-1;}while(/\s/.test(x[m]));g=x.slice(m-6,m+1).join(y);if(g.indexOf("filter")===g.length-6||g.indexOf("progid")===g.length-6){g="filter";}}if(h.length===0){if(a(x[w+1],59)&&Z(w+1)===true||a(x[w+1],58)&&G(x[w],58)&&G(x[w+2],58)&&g!=="filter"&&g!=="progid"||(a(x[w+1],125)||a(x[w+1],123))||a(x[w+1],47)&&(a(x[w+2],42)||a(x[w+2],47))){m=C.length-1;if(/\s/.test(C[m])){do{m=m-1;w=w-1;C.pop();}while(/\s/.test(C[m]))}break}if(a(x[w+1],44))break}w=w+1;}while(w<e)}N=w;if(i.structure[i.structure.length-1][0]==="map"&&a(C[0],40)){$[$.length-1]=$[$.length-1]-1;}n=C.join(y).replace(/\s+/g,se).replace(/^\s/,y).replace(/\s$/,y);if(O===true){n=n.replace(/\s+\(/g,"(").replace(/\s+\)/g,")").replace(/,\(/g,", (");}if(i.count>-1&&l.token[i.count].indexOf("extend(")===0){t="pseudo";}else if(O===true&&/\d/.test(n.charAt(0))===false&&/^rgba?\(/.test(n)===false&&n.indexOf("url(")!==0&&(n.indexOf(se)<0||n.indexOf(se)>n.indexOf("("))&&n.charAt(n.length-1)===")"){if(a(l.token[i.count],58)){t="value";}else {n=n.replace(/,\u0020?/g,", ");t="function";}n=r(n);}else if(i.count>-1&&`"'`.indexOf(l.token[i.count].charAt(0))>-1&&l.types[i.count]==="variable"){t="item";}else if(a(C[0],64)||C[0]==="$"){if(l.types[i.count]==="colon"&&c.language==="css"&&(l.types[i.count-1]==="property"||l.types[i.count-1]==="variable")){t="value";}else if(i.count>-1){t="item";g=l.token[i.count];w=g.indexOf("(");if(a(g[g.length-1],41)&&w>0){g=g.slice(w+1,g.length-1);l.token[i.count]=l.token[i.count].slice(0,w+1)+r(g)+")";}}n=r(n);}else {t="item";}S(y);}function k(h){let C=i.count;let _=0;let w=y;const m=[];function g(){if(i.count<0)return;if(C>0&&(l.types[C]==="comment"||l.types[C]==="ignore")){do{C=C-1;m.push(l.token[C]);}while(C>0&&l.lexer[C]==="style"&&(l.types[C]==="comment"||l.types[C]==="ignore"))}_=C-1;if(_>0&&(l.types[_]==="comment"||l.types[_]==="ignore")){do{_=_-1;}while(_>0&&l.lexer[C]==="style"&&(l.types[_]==="comment"||l.types[_]==="ignore"))}if(_<0)_=0;if(C<0)C=0;w=l.token[C].charAt(0);}function O(j){let L=j;const F=l.begin[L];l.token[j]=l.token[j].replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ").replace(/:\s+/g,": ").replace(/^\s+/,y).replace(/\s+$/,y).replace(/\s+::\s+/,"::");if(G(l.token[L],44)&&l.types[L]!=="comment"){l.types[L]="selector";}if(a(l.token[L-1],44)||a(l.token[L-1],58)||l.types[L-1]==="comment"||l.types[L-1]==="pseudo"){if(l.types[L-1]==="colon"&&l.types[L]==="selector"&&(l.types[L-2]==="template"||l.types[L-2]==="template_start"||l.types[L-2]==="template_else"||l.types[L-2]==="template_end")){l.token[L-1]=":"+l.token[L]+se;l.types[L-1]="selector";i.splice({data:l,howmany:1,index:L});}else if(l.types[L-1]==="pseudo"){l.token[L-1]=`${l.token[L-1]}${l.token[L]}`;l.types[L-1]="selector";i.splice({data:l,howmany:1,index:L});}else {do{L=L-1;if(l.begin[L]===F){if(a(l.token[L],59))break;if(G(l.token[L],44)&&l.types[L]!=="comment")l.types[L]="selector";if(l.token[L]===":"&&G(l.token[L-1],59)){l.token[L-1]=`${l.token[L-1]}:${l.token[L+1]}`.replace(/\s*&/," &").replace(/\s*&\s*{/," & {").replace(/\s*>\s*/g," > ").replace(/\s*\+\s*/g," + ");i.splice({data:l,howmany:2,index:L});}}else {break}}while(L>0)}}L=i.count;if(p.sortSelectors===true&&a(l.token[L-1],44)){const ne=[l.token[L]];do{L=L-1;if(l.types[L]==="comment"||l.types[L]==="ignore"){do{L=L-1;}while(L>0&&(l.types[L]==="comment"||l.types[L]==="ignore"))}if(a(l.token[L],44))L=L-1;ne.push(l.token[L]);}while(L>0&&(a(l.token[L-1],44)||l.types[L-1]==="selector"||l.types[L-1]==="comment"||l.types[L-1]==="ignore"));ne.sort();L=i.count;l.token[L]=ne.pop();do{L=L-1;if(l.types[L]==="comment"||l.types[L]==="ignore"){do{L=L-1;}while(L>0&&(l.types[L]==="comment"||l.types[L]==="ignore"))}if(a(l.token[L],44))L=L-1;l.token[L]=ne.pop();}while(L>0&&(a(l.token[L-1],44)||l.token[L-1]==="selector"||l.types[L-1]==="comment"||l.types[L-1]==="ignore"))}C=i.count;g();}g();if(h==="start"&&(l.types[C]==="value"||l.types[C]==="variable")){l.types[C]="item";}if(l.lexer[i.count-1]!=="style"||_<0){if(h==="colon"){if(w==="$"||a(w,64)){l.types[C]="variable";}else if(l.stack[C]!=="global"&&(l.types[C]!=="comment"||l.types[C]!=="ignore")){l.types[C]="property";}}else if(l.lexer[C]==="style"){l.types[C]="selector";O(C);}}else if(h==="start"&&l.types[C]==="function"&&l.lexer[C]==="style"){l.types[C]="selector";O(C);}else if(l.types[C]==="item"&&l.lexer[C]==="style"){if(h==="start"){O(C);l.types[C]="selector";if(l.token[C]===":")l.types[_]="selector";if(l.token[C].indexOf("=\u201C")>0){i.error=`Invalid Quote (\u201C, \\201c) used on line number ${i.lineNumber}`;}else if(l.token[C].indexOf("=\u201D")>0){i.error=`Invalid Quote (\u201D, \\201d) used on line number ${i.lineNumber}`;}}else if(h==="end"){if(w==="$"||a(w,64)){l.types[C]="variable";}else {l.types[C]="value";}l.token[C]=r(l.token[C]);}else if(h==="separator"){if(l.types[_]==="colon"||a(l.token[_],44)||a(l.token[_],123)){if(G(x[N],59)&&(l.types[_]==="selector"||a(l.token[_],123))){l.types[C]="selector";O(C);}else if(l.token[C].charAt(0)==="$"||a(l.token[C],64)){l.types[C]="variable";}else {l.types[C]="value";}l.token[C]=r(l.token[C]);if(l.token[C].charAt(0)==="\u201C"){i.error=`Invalid Quote (\u201C, \\201c) used on line number ${i.lineNumber}`;}else if(l.token[C].charAt(0)==="\u201D"){i.error=`Invalid (\u201D, \\201d) used on line number ${i.lineNumber}`;}}else {if(w==="$"||a(w,64)){console.log(l.token[C]);l.types[C]="variable";}else if(l.types[_]==="value"||l.types[_]==="variable"){l.token[_]=l.token[_]+l.token[C];i.pop(l);}else {l.types[C]="value";}}}else if(h==="colon"){if(w==="$"||a(w,64)){l.types[C]="variable";}else {l.types[C]="property";}}else if(a(l.token[_],64)&&(l.types[_-2]!=="variable"&&l.types[_-2]!=="property"||l.types[_-1]==="separator")){l.types[_]="variable";t="variable";l.token[_]=r(l.token[_]);}}}function d(){let h=i.count;do{h=h-1;}while(h>0&&l.types[h]==="comment");if(l.token[h]===";")return;i.splice({data:l,howmany:0,index:h+1,record:{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"style",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:";",types:"separator"}});}function P(h,C){const _=[];let w=y;let m=y;let g=0;let O=h.length;function j(L){const F=l.types[i.count-1];if(t==="item"){if(F==="colon"){l.types[i.count]="value";}else {k(F);}}t=L;if(t.indexOf("start")>-1||t.indexOf("else")>-1){S(n);}else {S(y);}}E[E.length-1]=true;if(N<e){do{_.push(x[N]);if(w===y){if(a(x[N],34)){w='"';}else if(a(x[N],39)){w="'";}else if(a(x[N],47)){if(a(x[N+1],47)){w="/";}else if(a(x[N+1],42)){w="*";}}else if(x[N+1]===C.charAt(0)){do{g=g+1;N=N+1;_.push(x[N]);}while(N<e&&g<C.length&&x[N+1]===C.charAt(g));if(g===C.length){w=_.join(y);if(ge(w.charAt(O))){do{O=O+1;}while(ge(w.charAt(O)))}g=O;do{g=g+1;}while(g<C.length&&!ge(w.charAt(g)));if(g===w.length)g=g-C.length;if(h==="{%"){if(a(w[2],45)){w=w.replace(/^{%-\s*/,"{%- ");w=w.endsWith("-%}")?w.replace(/\s*-%}$/," -%}"):w.replace(/\s*%}$/," %}");m=w.slice(4);}else {w=w.replace(/^{%\s*/,"{% ");w=w.endsWith("-%}")?w.replace(/\s*-%}$/," -%}"):w.replace(/\s*%}$/," %}");m=w.slice(3);}}if(h==="{{"){if(a(w[2],45)){w=w.replace(/^{{-\s*/,"{{- ");w=w.endsWith("-}}")?w.replace(/\s*-}}$/," -}}"):w.replace(/\s*}}$/," }}");}else {w=w.replace(/^{{\s*/,"{{ ");w=w.endsWith("-}}")?w.replace(/\s*-}}$/," -}}"):w.replace(/\s*%}}$/," }}");}}if(t==="item"&&l.types[i.count-1]==="colon"&&(l.types[i.count-2]==="property"||l.types[i.count-2]==="variable")){t="value";l.types[i.count]="value";if(Number.isNaN(Number(l.token[i.count]))===true&&l.token[i.count].charAt(l.token[i.count].length-1)!==")"){l.token[i.count]=l.token[i.count]+w;}else {l.token[i.count]=l.token[i.count]+se+w;}return}n=w;if(h==="{%"){const L=Array.from(he.liquid.tags);let F=L.length-1;m=m.slice(0,m.indexOf(se));if(m.indexOf("(")>0){m=m.slice(0,m.indexOf("("));}if(he.liquid.else.has(m)){j("template_else");return}F=L.length-1;if(F>-1){do{if(m===L[F]){j("template_start");return}if(m==="end"+L[F]){j("template_end");return}F=F-1;}while(F>-1)}}else if(h==="{{"){let L=w.slice(2);const F=L.length;let ne=0;do{ne=ne+1;}while(ne<F&&ge(L.charAt(ne))===false&&L.charCodeAt(O)!==40);L=L.slice(0,ne);if(a(L[L.length-2],125))L=L.slice(0,L.length-2);if(L==="end"){j("template_end");return}}j("template");return}g=0;}}else if(w===x[N]){if(a(w,34)||a(w,39)){w=y;}else if(a(w,47)&&(x[N]==="\r"||a(x[N],10))){w=y;}else if(a(w,42)&&a(x[N+1],47)){w=y;}}N=N+1;}while(N<e)}}function ee(h){let C;if(h){C=i.wrapCommentLine({chars:x,start:N,end:e,lexer:"style",begin:"//",ender:"\n"});n=C[0];t=/^(\/\/\s*@prettify-ignore-start)/.test(n)?"ignore":"comment";}else {C=Ze({chars:x,start:N,end:e,lexer:"style",begin:"/*",ender:"*/"});n=C[0];t=/^(\/\*\s*@prettify-ignore-start)/.test(n)?"ignore":"comment";}S(y);N=C[1];}function K(){const h=i.linesSpace;const C={data:{margin:[y,y,y,y,false],padding:[y,y,y,y,false]},last:{margin:0,padding:0},removes:[]};const _=i.structure[i.structure.length-1][1];function w(j){if(l.token[g-2]===j){const L=l.token[g].replace(/\s*!important\s*/g,y).split(se);const F=L.length;if(l.token[g].indexOf("!important")>-1)C.data[j[4]]=true;if(F>3){if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[1];if(C.data[j][2]===y)C.data[j][2]=L[2];if(C.data[j][3]===y)C.data[j][3]=L[3];}else if(F>2){if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[1];if(C.data[j][2]===y)C.data[j][2]=L[2];if(C.data[j][3]===y)C.data[j][3]=L[1];}else if(F>1){if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[1];if(C.data[j][2]===y)C.data[j][2]=L[0];if(C.data[j][3]===y)C.data[j][3]=L[1];}else {if(C.data[j][0]===y)C.data[j][0]=L[0];if(C.data[j][1]===y)C.data[j][1]=L[0];if(C.data[j][2]===y)C.data[j][2]=L[0];if(C.data[j][3]===y)C.data[j][3]=L[0];}}else if(l.token[g-2]===`${j}-bottom`){if(C.data[j][2]===y)C.data[j][2]=l.token[g];}else if(l.token[g-2]===`${j}-left`){if(C.data[j][3]===y)C.data[j][3]=l.token[g];}else if(l.token[g-2]===`${j}-right`){if(C.data[j][1]===y)C.data[j][1]=l.token[g];}else if(l.token[g-2]===`${j}-top`){if(C.data[j][0]===y)C.data[j][0]=l.token[g];}else {return}C.removes.push([g,j]);C.last[j]=g;}function m(){let j=0;let L=y;const F=/^(0+([a-z]+|%))/;const ne=C.removes.length;const X=C.data.margin[0]!==y&&C.data.margin[1]!==y&&C.data.margin[2]!==y&&C.data.margin[3]!==y;const re=C.data.padding[0]!==y&&C.data.padding[1]!==y&&C.data.padding[2]!==y&&C.data.padding[3]!==y;function we(Q){if(F.test(C.data[Q][0])===true)C.data[Q][0]="0";if(F.test(C.data[Q][1])===true)C.data[Q][1]="0";if(F.test(C.data[Q][2])===true)C.data[Q][2]="0";if(F.test(C.data[Q][3])===true)C.data[Q][3]="0";if(C.data[Q][0]===C.data[Q][1]&&C.data[Q][0]===C.data[Q][2]&&C.data[Q][0]===C.data[Q][3]){L=C.data[Q][0];}else if(C.data[Q][0]===C.data[Q][2]&&C.data[Q][1]===C.data[Q][3]&&C.data[Q][0]!==C.data[Q][1]){L=`${C.data[Q][0]} ${C.data[Q][1]}`;}else if(C.data[Q][1]===C.data[Q][3]&&C.data[Q][0]!==C.data[Q][2]){L=`${C.data[Q][0]} ${C.data[Q][1]} ${C.data[Q][2]}`;}else {L=`${C.data[Q][0]} ${C.data[Q][1]} ${C.data[Q][2]} ${C.data[Q][3]}`;}if(C.data[Q[4]]===true)L=`${L.replace(" !important",y)} !important`;if(C.last[Q]>i.count){j=_<1?1:_+1;do{if(l.begin[j]===_&&l.types[j]==="value"&&l.token[j-2].indexOf(Q)===0){C.last[Q]=j;break}j=j+1;}while(j<i.count)}l.token[C.last[Q]]=L;l.token[C.last[Q]-2]=Q;}if(ne>1&&(X===true||re===true)){do{if(C.removes[j][0]!==C.last.margin&&C.removes[j][0]!==C.last.padding&&(X===true&&C.removes[j][1]==="margin"||re===true&&C.removes[j][1]==="padding")){i.splice({data:l,howmany:l.types[C.removes[j][0]+1]==="separator"?4:3,index:C.removes[j][0]-2});}j=j+1;}while(j<ne-1)}if(X===true)we("margin");if(re===true)we("padding");if(O===true){if(_<0){i.error="Brace mismatch. There appears to be more closing braces than starting braces.";}else {i.sortCorrect(_,i.count+1);}}}let g=i.count;let O=false;do{g=g-1;if(l.begin[g]===_){if(l.types[g]==="value"&&l.types[g-2]==="property"){if(l.token[g-2].indexOf("margin")===0){w("margin");}else if(l.token[g-2].indexOf("padding")===0){w("padding");}}}else {O=true;g=l.begin[g];}}while(g>_);m();i.linesSpace=h;}do{if(ge(x[N])){o(N);}else if(a(x[N],47)&&a(x[N+1],42)){ee(false);}else if(a(x[N],47)&&a(x[N+1],47)){ee(true);}else if(a(x[N],123)&&a(x[N+1],37)){P("{%","%}");}else if(a(x[N],123)&&a(x[N+1],123)){P("{{","}}");}else if(a(x[N],123)||a(x[N],40)&&a(l.token[i.count],58)&&l.types[i.count-1]==="variable"){k("start");t="start";n=x[N];if(a(x[N],40)){S("map");$.push(0);}else if(l.types[i.count]==="selector"||l.types[i.count]==="variable"){S(l.token[i.count]);}else if(l.types[i.count]==="colon"){S(l.token[i.count-1]);}else {S("block");}E.push(false);}else if(a(x[N],125)||x[N]===")"&&i.structure[i.structure.length-1][0]==="map"&&$[$.length-1]===0){if(a(x[N],125)&&a(l.token[i.count-1],123)&&l.types[i.count]==="item"&&l.token[i.count-2]!==void 0&&l.token[i.count-2].charAt(l.token[i.count-2].length-1)==="@"){l.token[i.count-2]=l.token[i.count-2]+"{"+l.token[i.count]+"}";i.pop(l);i.pop(l);i.structure.pop();}else {if(a(x[N],41))$.pop();k("end");if(a(x[N],125)&&G(l.token[i.count],59)){if(l.types[i.count]==="value"||l.types[i.count]==="function"||l.types[i.count]==="variable"&&(a(l.token[i.count-1],58)||a(l.token[i.count-1],59))){if(p.correct===true){n=";";}else {n="x;";}t="separator";S(y);}else if(l.types[i.count]==="comment"){d();}}E.pop();n=x[N];t="end";if(a(x[N],125))K();if(p.sortProperties===true&&a(x[N],125))i.sortObject(l);S(y);}}else if(a(x[N],59)||a(x[N],44)){if(l.types[i.count-1]==="selector"||l.types[i.count]!=="function"&&a(l.token[i.count-1],125)){k("start");}else {k("separator");}if(l.types[i.count]!=="separator"&&Z(N)===true){n=x[N];t="separator";S(y);}}else if(i.count>-1&&a(x[N],58)&&l.types[i.count]!=="end"){k("colon");n=":";t="colon";S(y);}else {if(i.structure[i.structure.length-1][0]==="map"&&a(x[N],40)){$[$.length-1]=$[$.length-1]+1;}U();}N=N+1;}while(N<e);if(p.sortProperties===true)i.sortObject(l);return l};T.lexers.script=function s(f){const{options:c}=T;const p=Ne({},c.script);if(c.language==="json"){c.script=Ne(c.script,c.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}let l=0;let x=y;let e=y;let $=[];let E=0;let o=-1;let N=-1;let t=[];let n;let S;let Z;const{data:r}=i;const{references:U}=i;const k=f.length;const d=f.split(y);const P=[];const ee=[];const K=[];const h=[0,y];const C=[false];const _=["autoescape","block","capture","case","comment","embed","filter","for","form","if","macro","paginate","raw","sandbox","spaceless","tablerow","unless","verbatim"];const w={};w.count=[];w.index=[];w.len=-1;w.word=[];function m(b){let u=0;const v=Q(1,false);const R=i.structure.length===0?"":i.structure[i.structure.length-1][0];const A=Je(null);A.begin=r.begin[i.count];A.ender=r.begin[i.count];A.lexer=r.lexer[i.count];A.lines=r.lines[i.count];A.stack=r.stack[i.count];A.token=r.token[i.count];A.types=r.types[i.count];if(/^(\/(\/|\*)\s*@prettify-ignore-start)/.test(x))return;if(e==="start"||e==="type_start")return;if(c.language==="json")return;if(a(A.token,59)||a(A.token,44)||A.stack==="class"||A.stack==="map"||A.stack==="attribute"||r.types[A.begin-1]==="generic"||v==="{"||R==="initializer"){return}if(a(A.token,125)&&r.stack[A.begin-1]==="global"&&r.types[A.begin-1]!=="operator"&&A.stack===r.stack[i.count-1]){return}if(A.stack==="array"&&A.token!=="]")return;if(r.token[r.begin[i.count]]==="{"&&A.stack==="data_type")return;if(A.types!==void 0&&A.types.indexOf("template")>-1&&A.types.indexOf("template_string")<0){return}if(a(v,59)&&b===false)return;if(r.lexer[i.count-1]!=="script"&&(l<k&&k===T.source.length-1||k<T.source.length-1)){return}if(a(A.token,125)&&(A.stack==="function"||A.stack==="if"||A.stack==="else"||A.stack==="for"||A.stack==="do"||A.stack==="while"||A.stack==="switch"||A.stack==="class"||A.stack==="try"||A.stack==="catch"||A.stack==="finally"||A.stack==="block")){if(A.stack==="function"&&(r.stack[A.begin-1]==="data_type"||r.types[A.begin-1]==="type")){u=A.begin;do{u=u-1;}while(u>0&&r.token[u]!==")"&&r.stack[u]!=="arguments");u=r.begin[u];}else {u=r.begin[A.begin-1];}if(a(r.token[u],40)){u=u-1;if(r.token[u-1]==="function")u=u-1;if(r.stack[u-1]==="object"||r.stack[u-1]==="switch")return;if(r.token[u-1]!=="="&&r.token[u-1]!=="return"&&r.token[u-1]!==":"){return}}else {return}}if(A.types==="comment"||R==="method"||R==="paren"||R==="expression"||R==="array"||R==="object"||R==="switch"&&A.stack!=="method"&&r.token[r.begin[i.count]]==="("&&r.token[r.begin[i.count]-1]!=="return"&&r.types[r.begin[i.count]-1]!=="operator"){return}if(r.stack[i.count]==="expression"&&(r.token[r.begin[i.count]-1]!=="while"||r.token[r.begin[i.count]-1]==="while"&&r.stack[r.begin[i.count]-2]!=="do")){return}if(v!==""&&"=<>+*?|^:&%~,.()]".indexOf(v)>-1&&b===false)return;if(A.types==="comment"){u=i.count;do{u=u-1;}while(u>0&&r.types[u]==="comment");if(u<1)return;A.token=r.token[u];A.types=r.types[u];A.stack=r.stack[u];}if(A.token===void 0||A.types==="start"||A.types==="separator"||A.types==="operator"&&A.token!=="++"&&A.token!=="--"||A.token==="x}"||A.token==="var"||A.token==="let"||A.token==="const"||A.token==="else"||A.token.indexOf("#!/")===0||A.token==="instanceof"){return}if(A.stack==="method"&&(r.token[A.begin-1]==="function"||r.token[A.begin-2]==="function")){return}if(c.script.variableList==="list")w.index[w.len]=i.count;x=c.script.correct===true?";":"x;";e="separator";u=i.linesSpace;i.linesSpace=0;V("");i.linesSpace=u;L();}function g(){let b=i.count;do{b=b-1;}while(b>-1&&r.token[b]==="x}");if(r.stack[b]==="else")return V("");b=b+1;i.splice({data:r,howmany:0,index:b,record:{begin:r.begin[b],ender:-1,lexer:"script",lines:i.linesSpace,stack:r.stack[b],token:x,types:e}});V("");}function O(){let b=i.count;if(r.types[b]==="comment"){do{b=b-1;}while(b>0&&r.types[b]==="comment")}if(r.token[b]==="from")b=b-2;if(r.token[b]==="x;"){i.splice({data:r,howmany:1,index:b});}}function j(){m(false);if(o>-1)I();Z=Ze({chars:d,end:k,lexer:"script",begin:"/*",start:l,ender:"*/"});l=Z[1];if(r.token[i.count]==="var"||r.token[i.count]==="let"||r.token[i.count]==="const"){n=i.pop(r);V("");i.push(r,n,"");if(r.lines[i.count-2]===0)r.lines[i.count-2]=r.lines[i.count];r.lines[i.count]=0;}else if(Z[0]!==""){x=Z[0];e=/^\/\*\s*@prettify-ignore-start/.test(x)?"ignore":"comment";if(x.indexOf("# sourceMappingURL=")===2){h[0]=i.count+1;h[1]=x;}i.push(r,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:x,types:e},"");}if(/\/\*\s*global\s+/.test(r.token[i.count])===true&&r.types.indexOf("word")<0){U[0]=r.token[i.count].replace(/\/\*\s*global\s+/,"").replace("*/","").replace(/,\s+/g,",").split(",");}}function L(){let b="";const u=Q(5,false);const v=i.count;const R=i.linesSpace;if(c.language==="json"||ee.length<1||ee[ee.length-1].charAt(0)!=="x"||/^x?(;|\}|\))$/.test(x)===false){return}if(r.stack[i.count]==="do"&&u==="while"&&r.token[i.count]==="}"){return}if(x===";"&&r.token[v-1]==="x{"){b=r.token[r.begin[v-2]-1];if(r.token[v-2]==="do"||r.token[v-2]===")"&&"ifforwhilecatch".indexOf(b)>-1){n=i.pop(r);x=c.script.correct===true?"}":"x}";e="end";S=i.structure[i.structure.length-1];V("");ee.pop();i.linesSpace=R;return}n=i.pop(r);x=c.script.correct===true?"}":"x}";e="end";S=i.structure[i.structure.length-1];V("");ee.pop();x=";";e="end";i.push(r,n,"");i.linesSpace=R;return}x=c.script.correct===true?"}":"x}";e="end";if(r.token[i.count]==="x}")return;if(r.stack[i.count]==="if"&&(r.token[i.count]===";"||r.token[i.count]==="x;")&&u==="else"){S=i.structure[i.structure.length-1];V("");ee.pop();i.linesSpace=R;return}do{S=i.structure[i.structure.length-1];V("");ee.pop();if(r.stack[i.count]==="do")break}while(ee[ee.length-1]==="x{");i.linesSpace=R;}function F(){let b=i.count;if(r.stack[b]==="object"&&c.script.objectSort===true){x=",";e="separator";O();V("");}else {do{b=b-1;}while(b>0&&r.types[b-1]==="comment");i.splice({data:r,howmany:0,index:b,record:{begin:r.begin[b],ender:-1,lexer:"script",lines:i.linesSpace,stack:r.stack[b],token:",",types:"separator"}});V("");}}function ne(b){let u=false;let v=false;const R=Q(1,false);const A=r.token[i.count]==="("?i.count:r.begin[i.count];function Y(){let q=0;const D=r.token[A-1]==="Array";const W=D===true?"[":"{";const B=D===true?"]":"}";const H=D===true?"array":"object";if(D===true&&r.types[i.count]==="number"){q=Number(r.token[i.count]);n=i.pop(r);}n=i.pop(r);n=i.pop(r);n=i.pop(r);i.structure.pop();x=W;e="start";V(H);if(q>0){x=",";e="separator";do{V("");q=q-1;}while(q>0)}x=B;e="end";V("");}if(o>-1)I();if(K.length>0){if(K[K.length-1]===0){K.pop();}else {K[K.length-1]=K[K.length-1]-1;}}if(a(b,41)||b==="x)"||a(b,93)){if(c.script.correct===true)ie();O();}if(a(b,41)||b==="x)")m(false);if(w.len>-1){if(a(b,125)&&(c.script.variableList==="list"&&w.count[w.len]===0||r.token[i.count]==="x;"&&c.script.variableList==="each")){De();}w.count[w.len]=w.count[w.len]-1;if(w.count[w.len]<0)De();}if(a(x,44)&&r.stack[i.count]!=="initializer"&&(a(b,93)&&a(r.token[i.count-1],91)||a(b,125))){n=i.pop(r);}if(a(b,41)||b==="x)"){x=b;if(P.length>0){$=P[P.length-1];if($.length>1&&G(R,123)&&($[0]==="if"||$[0]==="for"||$[0]==="with"||$[0]==="while"&&r.stack[$[1]-2]!==void 0&&r.stack[$[1]-2]!=="do")){u=true;}}}else if(a(b,93)){x="]";}else if(a(b,125)){if(G(x,44)&&c.script.correct===true)ie();if(i.structure.length>0&&i.structure[i.structure.length-1][0]!=="object")m(true);if((c.script.objectSort===true||c.language==="json"&&c.json.objectSort===true)&&i.structure[i.structure.length-1][0]==="object"){i.sortObject(r);}if(e==="comment"){x=r.token[i.count];e=r.types[i.count];}x="}";}if(i.structure[i.structure.length-1][0]==="data_type"){e="type_end";}else {e="end";}P.pop();S=i.structure[i.structure.length-1];if(a(b,41)&&c.script.correct===true&&A-i.count<2&&(a(r.token[i.count],40)||r.types[i.count]==="number")&&(r.token[A-1]==="Array"||r.token[A-1]==="Object")&&r.token[A-2]==="new"){Y();v=true;}if(ee[ee.length-1]==="x{"&&a(b,125)){L();ee.pop();if(r.stack[i.count]!=="try"){if(G(R,58)&&G(R,59)&&r.token[r.begin[l]-1]!=="?")L();}x="}";}else {ee.pop();}if(c.script.endComma!==void 0&&c.script.endComma!=="none"&&i.structure[i.structure.length-1][0]==="array"||i.structure[i.structure.length-1][0]==="object"||i.structure[i.structure.length-1][0]==="data_type"){if(c.script.endComma==="always"&&r.token[i.count]!==","){const q=i.structure[i.structure.length-1][1];let D=i.count;do{if(r.begin[D]===q){if(a(r.token[D],44))break}else {D=r.begin[D];}D=D-1;}while(D>q);if(D>q){const W=e;const B=x;x=",";e="separator";V("");x=B;e=W;}}else if(c.script.endComma==="never"&&a(r.token[i.count],44)){i.pop(r);}}if(v===false){V("");if(x==="}"&&r.stack[i.count]!=="object"&&r.stack[i.count]!=="class"&&r.stack[i.count]!=="data_type"){U.pop();L();}}if(u===true){x=c.script.correct===true?"{":"x{";e="start";V($[0]);ee.push("x{");$[1]=i.count;}C.pop();if(i.structure[i.structure.length-1][0]!=="data_type")C[C.length-1]=false;}function X(b,u,v){let R=0;let A=false;let Y=false;let q=[b];let D;const W=u.split(y);const B=W.length;const H=l;const J=l+b.length;const le=c.script.quoteConvert===void 0?"none":c.script.quoteConvert;function oe(){let M=0;q=[];e=v;R=l;if(v==="string"&&/\s/.test(d[R+1])===true){M=1;do{R=R+1;if(d[R]==="\n")M=M+1;}while(R<k&&/\s/.test(d[R+1])===true);i.linesSpace=M;}}function te(){let M=y;function ke(ce){if(c.language!=="javascript"&&c.language!=="typescript"&&c.language!=="jsx"&&c.language!=="tsx"){const de=me=>me.replace(/\s*$/," ");const Ae=me=>me.replace(/^\s*/," ");if(/\{(#|\/|(%>)|(%\]))/.test(ce)||/\}%(>|\])/.test(ce))return ce;ce=ce.replace(/\{((\{+)|%-?)\s*/g,de);ce=ce.replace(/\s*((\}\}+)|(-?%\}))/g,Ae);return ce}return ce}if(a(b,34)&&le==="single"){q[0]="'";q[q.length-1]="'";}else if(a(b,39)&&le==="double"){q[0]='"';q[q.length-1]='"';}else if(A===true){M=q[q.length-1];q.pop();q.pop();q.push(M);}l=R;if(u==="\n"){l=l-1;q.pop();}x=q.join(y);if(a(b,34)||a(b,39)||b==="{{"||b==="{%"){x=ke(x);}if(b==="{%"||b==="{{"){D=qe(x);e=D[0];V(D[1]);return}if(v==="string"){e="string";if(c.language==="json"){x=x.replace(/\u0000/g,"\\u0000").replace(/\u0001/g,"\\u0001").replace(/\u0002/g,"\\u0002").replace(/\u0003/g,"\\u0003").replace(/\u0004/g,"\\u0004").replace(/\u0005/g,"\\u0005").replace(/\u0006/g,"\\u0006").replace(/\u0007/g,"\\u0007").replace(/\u0008/g,"\\u0008").replace(/\u0009/g,"\\u0009").replace(/\u000a/g,"\\u000a").replace(/\u000b/g,"\\u000b").replace(/\u000c/g,"\\u000c").replace(/\u000d/g,"\\u000d").replace(/\u000e/g,"\\u000e").replace(/\u000f/g,"\\u000f").replace(/\u0010/g,"\\u0010").replace(/\u0011/g,"\\u0011").replace(/\u0012/g,"\\u0012").replace(/\u0013/g,"\\u0013").replace(/\u0014/g,"\\u0014").replace(/\u0015/g,"\\u0015").replace(/\u0016/g,"\\u0016").replace(/\u0017/g,"\\u0017").replace(/\u0018/g,"\\u0018").replace(/\u0019/g,"\\u0019").replace(/\u001a/g,"\\u001a").replace(/\u001b/g,"\\u001b").replace(/\u001c/g,"\\u001c").replace(/\u001d/g,"\\u001d").replace(/\u001e/g,"\\u001e").replace(/\u001f/g,"\\u001f");}else if(b.indexOf("#!")===0){x=x.slice(0,x.length-1);i.linesSpace=2;}else if(i.structure[i.structure.length-1][0]!=="object"||i.structure[i.structure.length-1][0]==="object"&&Q(1,false)!==":"&&G(r.token[i.count],44)&&G(r.token[i.count],123)){if(x.length>c.wrap&&c.wrap>0||c.wrap!==0&&r.token[i.count]==="+"&&(r.token[i.count-1].charAt(0)==='"'||r.token[i.count-1].charAt(0)==="'")){let ce=x;let de="";let Ae=le==="double"?'"':le==="single"?"'":ce.charAt(0);const me=c.wrap;const Qe=/u[0-9a-fA-F]{4}/;const ae=/x[0-9a-fA-F]{2}/;ce=ce.slice(1,ce.length-1);if(r.token[i.count]==="+"&&(r.token[i.count-1].charAt(0)==='"'||r.token[i.count-1].charAt(0)==="'")){i.pop(r);Ae=r.token[i.count].charAt(0);ce=r.token[i.count].slice(1,r.token[i.count].length-1)+ce;i.pop(r);}if(ce.length>me&&me>0){do{de=ce.slice(0,me);if(de.charAt(me-5)==="\\"&&Qe.test(ce.slice(me-4,me+1))){de=de.slice(0,me-5);}else if(de.charAt(me-4)==="\\"&&Qe.test(ce.slice(me-3,me+2))){de=de.slice(0,me-4);}else if(de.charAt(me-3)==="\\"&&(Qe.test(ce.slice(me-2,me+3))||ae.test(ce.slice(me-2,me+1)))){de=de.slice(0,me-3);}else if(de.charAt(me-2)==="\\"&&(Qe.test(ce.slice(me-1,me+4))||ae.test(ce.slice(me-1,me+2)))){de=de.slice(0,me-2);}else if(de.charAt(me-1)==="\\"){de=de.slice(0,me-1);}de=Ae+de+Ae;ce=ce.slice(de.length-2);x=de;e="string";V(y);i.linesSpace=0;x="+";e="operator";V(y);}while(ce.length>me)}if(ce===y){x=Ae+Ae;}else {x=Ae+ce+Ae;}e="string";}}}else if(/\{\s*\?>$/.test(x)){e="template_start";}else {e=v;}if(x.length>0)V(y);}if(o>-1)I();if(d[l-1]==="\\"&&be(l-1)===true&&(a(d[l],34)||a(d[l],39))){i.pop(r);if(a(r.token[0],123)){if(a(d[l],34)){b='"';u='\\"';q=['"'];}else {b="'";u="\\'";q=["'"];}A=true;}else {if(a(d[l],34)){q=['\\"'];te();return}q=["\\'"];te();return}}R=J;if(R<k){do{if(G(r.token[0],123)&&G(r.token[0],91)&&le!=="none"&&(a(d[R],34)||a(d[R],39))){if(d[R-1]==="\\"){if(be(R-1)===true){if(le==="double"&&a(d[R],39)){q.pop();}else if(le==="single"&&a(d[R],34)){q.pop();}}}else if(le==="double"&&a(d[R],34)&&a(d[l],39)){d[R]='\\"';}else if(le==="single"&&a(d[R],39)&&a(d[l],34)){d[R]="\\'";}q.push(d[R]);}else if(R>H){Y=true;if(a(d[R],123)&&a(d[R+1],37)&&d[R+2]!==b){te();X("{%","%}","template");oe();}else if(a(d[R],123)&&a(d[R+1],123)&&d[R+2]!==b){te();X("{{","}}","template");oe();}else {Y=false;q.push(d[R]);}}else {q.push(d[R]);}if(c.language!=="json"&&c.language!=="javascript"&&(a(b,34)||a(b,39))&&(Y===true||R>H)&&d[R-1]!=="\\"&&G(d[R],34)&&G(d[R],39)&&(a(d[R],10)||R===k-1===true)){i.error="Unterminated string in script on line number "+i.lineNumber;break}if(d[R]===W[B-1]&&(d[R-1]!=="\\"||be(R-1)===false)){if(B===1)break;if(q[R-J]===W[0]&&q.slice(R-J-B+2).join("")===u)break}R=R+1;}while(R<k)}te();}function re(){m(false);L();if(o>-1)I();Z=i.wrapCommentLine({chars:d,end:k,lexer:"script",opening:"//",start:l,terminator:"\n"});l=Z[1];if(Z[0]!==""){x=Z[0];e=/^(\/\/\s*@prettify-ignore-start)/.test(x)?"ignore":"comment";if(x.indexOf("# sourceMappingURL=")===2){h[0]=i.count+1;h[1]=x;}i.push(r,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:x,types:e},"");}}function we(){let b=0;let u=false;let v=false;let R=0;let A=0;let Y=0;let q="";let D="";let W="";const B=[];const H=C[C.length-1];const J="0123456789=<>+-*?|^:&.,;%(){}[]~";function le(){if(x==="(")i.structure[i.structure.length-1]=["paren",i.count];T.lexers.markup(B.join(""));}if(o>-1)I();D=i.count>0?r.token[i.count-1]:"";W=i.count>0?r.types[i.count-1]:"";q=Q(1,false);if(c.language!=="jsx"&&c.language!=="tsx"&&/\d/.test(q)===false&&(x==="function"||D==="=>"||D==="void"||D==="."||r.stack[i.count]==="arguments"||e==="type"&&D==="type"||e==="reference"&&(W==="operator"||D==="function"||D==="class"||D==="new")||e==="type"&&W==="operator"||x==="return"||e==="operator")){const oe=[];let te=0;let M=0;b=l;do{oe.push(d[b]);if(d[b]==="<"){te=te+1;}else if(d[b]===">"){te=te-1;if(te<1)break}b=b+1;}while(b<k);M=l;l=b;q=Q(1,false);if(d[b]===">"&&(H===true||D==="=>"||D==="."||W!=="operator"||W==="operator"&&(q==="("||q==="="))){e="generic";x=oe.join("").replace(/^<\s+/,"<").replace(/\s+>$/,">").replace(/,\s*/g,", ");V("");return}l=M;}b=i.count;if(r.types[b]==="comment"){do{b=b-1;}while(b>0&&r.types[b]==="comment")}if(H===false&&Q(1,false)!==">"&&(d[l]!=="<"&&J.indexOf(d[l+1])>-1||r.token[b]==="++"||r.token[b]==="--"||/\s/.test(d[l+1])===true||/\d/.test(d[l+1])===true&&(e==="operator"||e==="string"||e==="number"||e==="reference"||e==="word"&&x!=="return"))){e="operator";x=Ce();return V("")}if(c.language!=="typescript"&&(r.token[b]==="return"||r.types[b]==="operator"||r.types[b]==="start"||r.types[b]==="separator"||r.types[b]==="jsx_attribute_start"||r.token[b]==="}"&&i.structure[i.structure.length-1][0]==="global")){e="markup";c.language="jsx";do{B.push(d[l]);if(d[l]==="{"){A=A+1;u=true;}else if(d[l]==="}"){A=A-1;if(A===0)u=false;}else if(d[l]==="<"&&u===false){if(d[l+1]==="<"){do{B.push(d[l]);l=l+1;}while(l<k&&d[l+1]==="<")}R=R+1;if(Q(1,false)==="/")v=true;}else if(d[l]===">"&&u===false){if(d[l+1]===">"){do{B.push(d[l]);l=l+1;}while(d[l+1]===">")}R=R-1;if(v===true){Y=Y-1;}else if(d[l-1]!=="/"){Y=Y+1;}if(R===0&&A===0&&Y<1){q=Q(2,false);if(q.charAt(0)!=="<")return le();if(q.charAt(0)==="<"&&J.indexOf(q.charAt(1))<0&&/\s/.test(q.charAt(1))===false){b=l+1;do{b=b+1;if(d[b]===">"||/\s/.test(d[b-1])&&J.indexOf(d[b])<0)break;if(J.indexOf(d[b])>-1)return le()}while(b<k)}else {return le()}}v=false;}l=l+1;}while(l<k);return le()}e="operator";x=Ce();V("");}function Q(b,u){let v=u===true?l:l+1;let R="";if(typeof b!=="number"||b<1)b=1;if(d[l]==="/"){if(d[l+1]==="/"){R="\n";}else if(d[l+1]==="*"){R="/";}}if(v<k){do{if(/\s/.test(d[v])===false){if(d[v]==="/"){if(R===""){if(d[v+1]==="/"){R="\n";}else if(d[v+1]==="*"){R="/";}}else if(R==="/"&&d[v-1]==="*"){R="";}}if(R===""&&d[v-1]+d[v]!=="*/")return d.slice(v,v+b).join("")}else if(R==="\n"&&d[v]==="\n"){R="";}v=v+1;}while(v<k)}return ""}function ue(){const b=k;const u=[d[l]];let v=0;let R=/zz/;let A=u[0]===".";if(l<k-2&&d[l]==="0"){if(d[l+1]==="x"){R=/[0-9a-fA-F]/;}else if(d[l+1]==="o"){R=/[0-9]/;}else if(d[l+1]==="b"){R=/0|1/;}if(R.test(d[l+2])===true){u.push(d[l+1]);v=l+1;do{v=v+1;u.push(d[v]);}while(R.test(d[v+1])===true);l=v;return u.join("")}}v=l+1;if(v<b){do{if(/[0-9]/.test(d[v])||d[v]==="."&&A===false){u.push(d[v]);if(d[v]===".")A=true;}else {break}v=v+1;}while(v<b)}if(v<b-1&&(/\d/.test(d[v-1])===true||/\d/.test(d[v-2])===true&&(d[v-1]==="-"||d[v-1]==="+"))&&(d[v]==="e"||d[v]==="E")){u.push(d[v]);if(d[v+1]==="-"||d[v+1]==="+"){u.push(d[v+1]);v=v+1;}A=false;v=v+1;if(v<b){do{if(/[0-9]/.test(d[v])||d[v]==="."&&A===false){u.push(d[v]);if(d[v]===".")A=true;}else {break}v=v+1;}while(v<b)}}l=v-1;return u.join("")}function Ce(){let b=0;let u=0;let v=k;let R="";const A=["=","<",">","+","*","?","|","^",":","&","%","~"];const Y=A.length;if(o>-1)I();if(d[l]==="/"&&(i.count>-1&&(e!=="word"&&e!=="reference"||x==="typeof"||x==="return"||x==="else")&&e!=="number"&&e!=="string"&&e!=="end")){if(x==="return"||x==="typeof"||x==="else"||e!=="word"){x=z();e="regex";}else {x="/";e="operator";}V("");return "regex"}if(d[l]==="?"&&("+-*/.?".indexOf(d[l+1])>-1||d[l+1]===":"&&A.join("").indexOf(d[l+2])<0)){if(d[l+1]==="."&&/\d/.test(d[l+2])===false){R="?.";}else if(d[l+1]==="?"){R="??";}if(R==="")return "?"}if(d[l]===":"&&"+-*/".indexOf(d[l+1])>-1)return ":";if(l<k-1){if(d[l]!=="<"&&d[l+1]==="<")return d[l];if(d[l]==="!"&&d[l+1]==="/")return "!";if(d[l]==="-"){C[C.length-1]=false;if(d[l+1]==="-"){R="--";}else if(d[l+1]==="="){R="-=";}else if(d[l+1]===">"){R="->";}if(R==="")return "-"}if(d[l]==="+"){C[C.length-1]=false;if(d[l+1]==="+"){R="++";}else if(d[l+1]==="="){R="+=";}if(R==="")return "+"}if(d[l]==="="&&d[l+1]!=="="&&d[l+1]!=="!"&&d[l+1]!==">"){C[C.length-1]=false;return "="}}if(d[l]===":"){if(c.language==="typescript"){if(r.stack[i.count]==="arguments"){if(r.token[i.count]==="?"){i.pop(r);R="?:";l=l-1;}C[C.length-1]=true;}else if(x===")"&&(r.token[r.begin[i.count]-1]==="function"||r.token[r.begin[i.count]-2]==="function")){C[C.length-1]=true;}else if(e==="reference"){b=i.count;let q=false;do{if(r.begin[b]===r.begin[i.count]){if(b<i.count&&r.token[b]===":"&&r.types[b+1]!=="type")q=true;if(r.token[b]==="?"&&q===false)break;if(r.token[b]===";"||r.token[b]==="x;")break;if(r.token[b]==="var"||r.token[b]==="let"||r.token[b]==="const"||r.types[b]==="type"){C[C.length-1]=true;break}}else {if(r.types[b]==="type_end"){C[C.length-1]=true;break}b=r.begin[b];}b=b-1;}while(b>r.begin[i.count])}}else if(r.token[i.count-1]==="["&&(r.types[i.count]==="word"||r.types[i.count]==="reference")){i.structure[i.structure.length-1][0]="attribute";r.stack[i.count]="attribute";}}if(R===""){if(d[l+1]==="+"&&d[l+2]==="+"||d[l+1]==="-"&&d[l+2]==="-"){R=d[l];}else {const q=[d[l]];b=l+1;if(b<v){do{if(d[b]==="+"&&d[b+1]==="+"||d[b]==="-"&&d[b+1]==="-")break;u=0;if(u<Y){do{if(d[b]===A[u]){q.push(A[u]);break}u=u+1;}while(u<Y)}if(u===Y)break;b=b+1;}while(b<v)}R=q.join("");}}l=l+(R.length-1);if(R==="=>"&&x===")"){b=i.count;v=r.begin[b];do{if(r.begin[b]===v)r.stack[b]="method";b=b-1;}while(b>v-1)}return R}function ie(){let b=true;let u="+";let v="";let R="";let A="";let Y=0;let q=0;let D=0;let W="";const B=[];function H(){D=r.begin[D]-1;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}}function J(){D=D-2;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}}function le(){let te=0;const M=B.length;if(te<M){do{i.push(r,B[te],"");te=te+1;}while(te<M)}}function oe(te){const M=Je(null);M.begin=r.begin[te];M.ender=r.ender[te];M.lexer=r.lexer[te];M.lines=r.lines[te];M.stack=r.stack[te];M.token=r.token[te];M.types=r.types[te];return M}v=r.token[i.count];R=r.token[i.count-1];A=r.token[i.count-2];if(v!=="++"&&v!=="--"&&R!=="++"&&R!=="--"){D=i.count;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}}if(r.token[D-1]==="++"||r.token[D-1]==="--"){if("startendoperator".indexOf(r.types[D-2])>-1)return;Y=D;if(Y<i.count+1){do{B.push(oe(Y));Y=Y+1;}while(Y<i.count+1);i.splice({data:r,howmany:i.count-D,index:D});}}else {if(c.script.correct===false||v!=="++"&&v!=="--"&&R!=="++"&&R!=="--"){return}W=Q(1,false);if((v==="++"||v==="--")&&(d[l]===";"||W===";"||d[l]==="}"||W==="}"||d[l]===")"||W===")")){u=r.stack[i.count];if(u==="array"||u==="method"||u==="object"||u==="paren"||u==="notation"||r.token[r.begin[i.count]-1]==="while"&&u!=="while"){return}Y=i.count;do{Y=Y-1;if(r.token[Y]==="return")return;if(r.types[Y]==="end"){do{Y=r.begin[Y]-1;}while(r.types[Y]==="end"&&Y>0)}}while(Y>0&&(r.token[Y]==="."||r.types[Y]==="word"||r.types[Y]==="reference"||r.types[Y]==="end"));if(r.token[Y]===","&&d[l]!==";"&&W!==";"&&d[l]!=="}"&&W!=="}"&&d[l]!==")"&&W!==")"){return}if(r.types[Y]==="operator"){if(r.stack[Y]==="switch"&&r.token[Y]===":"){do{Y=Y-1;if(r.types[Y]==="start"){q=q-1;if(q<0)break}else if(r.types[Y]==="end"){q=q+1;}if(r.token[Y]==="?"&&q===0)return}while(Y>0)}else {return}}b=false;u=v==="--"?"-":"+";}else if(A==="["||A===";"||A==="x;"||A==="}"||A==="{"||A==="("||A===")"||A===","||A==="return"){if(v==="++"||v==="--"){if(A==="["||A==="("||A===","||A==="return")return;if(v==="--")u="-";b=false;}else if(R==="--"||v==="--"){u="-";}}else {return}if(b===false)n=i.pop(r);D=i.count;if(r.types[D]==="end"){H();}else if(r.token[D-1]==="."){J();}Y=D;if(Y<i.count+1){do{B.push(oe(Y));Y=Y+1;}while(Y<i.count+1)}}if(b===true){i.splice({data:r,howmany:1,index:D-1});x="=";e="operator";V("");le();x=u;e="operator";V("");x="1";e="number";V("");}else {x="=";e="operator";V("");le();x=u;e="operator";V("");x="1";e="number";V("");}x=r.token[i.count];e=r.types[i.count];if(W==="}"&&d[l]!==";")m(false);}function V(b){i.push(r,{begin:i.structure[i.structure.length-1][1],ender:-1,lexer:"script",lines:i.linesSpace,stack:i.structure[i.structure.length-1][0],token:x,types:e},b);}function z(){let b=l+1;let u=0;let v=0;let R="";let A=false;const Y=k;const q=["/"];if(b<Y){do{q.push(d[b]);if(d[b-1]!=="\\"||d[b-2]==="\\"){if(d[b]==="["){A=true;}if(d[b]==="]"){A=false;}}if(d[b]==="/"&&A===false){if(d[b-1]==="\\"){v=0;u=b-1;if(u>0){do{if(d[u]==="\\"){v=v+1;}else {break}u=u-1;}while(u>0)}if(v%2===0){break}}else {break}}b=b+1;}while(b<Y)}if(d[b+1]==="g"||d[b+1]==="i"||d[b+1]==="m"||d[b+1]==="y"||d[b+1]==="u"){q.push(d[b+1]);if(d[b+2]!==d[b+1]&&(d[b+2]==="g"||d[b+2]==="i"||d[b+2]==="m"||d[b+2]==="y"||d[b+2]==="u")){q.push(d[b+2]);if(d[b+3]!==d[b+1]&&d[b+3]!==d[b+2]&&(d[b+3]==="g"||d[b+3]==="i"||d[b+3]==="m"||d[b+3]==="y"||d[b+3]==="u")){q.push(d[b+3]);if(d[b+4]!==d[b+1]&&d[b+4]!==d[b+2]&&d[b+4]!==d[b+3]&&(d[b+4]==="g"||d[b+4]==="i"||d[b+4]==="m"||d[b+4]==="y"||d[b+4]==="u")){q.push(d[b+4]);if(d[b+5]!==d[b+1]&&d[b+5]!==d[b+2]&&d[b+5]!==d[b+3]&&d[b+5]!==d[b+4]&&(d[b+5]==="g"||d[b+5]==="i"||d[b+5]==="m"||d[b+5]==="y"||d[b+5]==="u")){q.push(d[b+4]);l=b+5;}else {l=b+4;}}else {l=b+3;}}else {l=b+2;}}else {l=b+1;}}else {l=b;}R=q.join("");return R}function be(b){const u=b;do{b=b-1;}while(d[b]==="\\"&&b>0);return (u-b)%2===1}function je(b){let u=i.count;let v="";let R="";let A="";let Y=false;ee.push(b);if(b==="{"&&(r.types[i.count]==="type"||r.types[i.count]==="type_end"||r.types[i.count]==="generic")){let q=0;if(r.types[i.count]==="type_end")u=r.begin[i.count];q=u;do{u=u-1;if(r.begin[u]!==q&&r.begin[u]!==-1)break;if(r.token[u]===":")break}while(u>r.begin[u]);if(r.token[u]===":"&&r.stack[u-1]==="arguments"){C.push(false);Y=true;}else {C.push(C[C.length-1]);}u=i.count;}else if(b==="["&&r.types[i.count]==="type_end"){C.push(true);}else {C.push(C[C.length-1]);}if(o>-1){I();u=i.count;}if(w.len>-1)w.count[w.len]=w.count[w.len]+1;if(r.token[u-1]==="function"){P.push(["function",u+1]);}else {P.push([x,u+1]);}x=b;if(C[C.length-1]===true){e="type_start";}else {e="start";}if(b==="("||b==="x("){O();}else if(b==="{"){if(N>-1){if(r.begin[N-1]===r.begin[r.begin[u]-1]||r.token[r.begin[u]]==="x("){N=-1;if(c.script.correct===true){ne(")");}else {ne("x)");}O();x="{";e="start";}}else if(x===")"){O();}if(e==="comment"&&r.token[u-1]===")"){x=r.token[u];r.token[u]="{";e=r.types[u];r.types[u]="start";}}v=(()=>{let q=i.count;if(r.types[q]==="comment"){do{q=q-1;}while(q>0&&r.types[q]==="comment")}return r.token[q]})();R=r.stack[u]===void 0?"":(()=>{let q=i.count;if(r.types[q]==="comment"){do{q=q-1;}while(q>0&&r.types[q]==="comment")}return r.token[r.begin[q]-1]})();if(a(x,123)&&(r.types[u]==="word"||r.token[u]==="]")){let q=u;if(r.token[q]==="]"){do{q=r.begin[q]-1;}while(r.token[q]==="]")}do{if(r.types[q]==="start"||r.types[q]==="end"||r.types[q]==="operator")break;q=q-1;}while(q>0);if(r.token[q]===":"&&r.stack[q-1]==="arguments"){A="function";U.push(t);t=[];}}if(e==="type_start"){A="data_type";}else if(A===""&&(a(x,123)||x==="x{")){if(v==="else"||v==="do"||v==="try"||v==="finally"||v==="switch"){A=v;}else if(K[K.length-1]===0&&v!=="return"){K.pop();A="class";}else if(r.token[u-1]==="class"){A="class";}else if(r.token[u]==="]"&&r.token[u-1]==="["){A="array";}else if((r.types[u]==="word"||r.types[u]==="reference")&&(r.types[u-1]==="word"||r.types[u-1]==="reference"||r.token[u-1]==="?"&&(r.types[u-2]==="word"||r.types[u-2]==="reference"))&&r.token[u]!=="in"&&r.token[u-1]!=="export"&&r.token[u-1]!=="import"){A="map";}else if(r.stack[u]==="method"&&r.types[u]==="end"&&(r.types[r.begin[u]-1]==="word"||r.types[r.begin[u]-1]==="reference")&&r.token[r.begin[u]-2]==="new"){A="initializer";}else if(a(x,123)&&(a(v,41)||v==="x)")&&(r.types[r.begin[u]-1]==="word"||r.types[r.begin[u]-1]==="reference"||r.token[r.begin[u]-1]==="]")){if(R==="if"){A="if";}else if(R==="for"){A="for";}else if(R==="while"){A="while";}else if(R==="class"){A="class";}else if(R==="switch"||r.token[r.begin[u]-1]==="switch"){A="switch";}else if(R==="catch"){A="catch";}else {A="function";}}else if(a(x,123)&&(v===";"||v==="x;")){A="block";}else if(a(x,123)&&r.token[u]===":"&&r.stack[u]==="switch"){A="block";}else if(r.token[u-1]==="import"||r.token[u-2]==="import"||r.token[u-1]==="export"||r.token[u-2]==="export"){A="object";}else if(a(v,41)&&($[0]==="function"||$[0]==="if"||$[0]==="for"||$[0]==="class"||$[0]==="while"||$[0]==="switch"||$[0]==="catch")){A=$[0];}else if(r.stack[u]==="notation"){A="function";}else if((r.types[u]==="number"||r.types[u]==="string"||r.types[u]==="word"||r.types[u]==="reference")&&(r.types[u-1]==="word"||r.types[u-1]==="reference")&&r.token[r.begin[u]-1]!=="for"){A="function";}else if(i.structure.length>0&&r.token[u]!==":"&&i.structure[i.structure.length-1][0]==="object"&&(r.token[r.begin[u]-2]==="{"||r.token[r.begin[u]-2]===",")){A="function";}else if(r.types[$[1]-1]==="markup"&&r.token[$[1]-3]==="function"){A="function";}else if(v==="=>"){A="function";}else if(Y===true||r.types[i.count]==="type_end"&&r.stack[r.begin[i.count]-2]==="arguments"){A="function";}else if(a(v,41)&&r.stack[u]==="method"&&(r.types[r.begin[u]-1]==="word"||r.types[r.begin[u]-1]==="property"||r.types[r.begin[u]-1]==="reference")){A="function";}else if(r.types[u]==="word"&&a(x,123)&&r.token[u]!=="return"&&r.token[u]!=="in"&&r.token[u]!=="import"&&r.token[u]!=="const"&&r.token[u]!=="let"&&r.token[u]!==""){A="block";}else if(a(x,123)&&"if|else|for|while|function|class|switch|catch|finally".indexOf(r.stack[u])>-1&&(r.token[u]==="x}"||r.token[u]==="}")){A="block";}else if(r.stack[u]==="arguments"){A="function";}else if(r.types[u]==="generic"){do{u=u-1;if(r.token[u]==="function"||r.stack[u]==="arguments"){A="function";break}if(r.token[u]==="interface"){A="map";break}if(r.token[u]===";"){A="object";break}}while(u>r.begin[i.count])}else {A="object";}if(A!=="object"&&A!=="class"){if(A==="function"){U.push(t);t=[];}else {U.push([]);}}}else if(x==="["){A="array";}else if(x==="("||x==="x("){if(v==="function"||r.token[u-1]==="function"||r.token[u-1]==="function*"||r.token[u-2]==="function"){A="arguments";}else if(r.token[u-1]==="."||r.token[r.begin[u]-2]==="."){A="method";}else if(r.types[u]==="generic"){A="method";}else if(r.token[u]==="}"&&r.stack[u]==="function"){A="method";}else if(v==="if"||v==="for"||v==="class"||v==="while"||v==="catch"||v==="finally"||v==="switch"||v==="with"){A="expression";}else if(r.types[u]==="word"||r.types[u]==="property"||r.types[u]==="reference"){A="method";}else {A="paren";}}V(A);if(K.length>0)K[K.length-1]=K[K.length-1]+1;}function We(){const b=[d[l]];l=l+1;if(l<k){do{b.push(d[l]);if(d[l]==="`"&&(d[l-1]!=="\\"||be(l-1)===false))break;if(d[l-1]==="$"&&d[l]==="{"&&(d[l-2]!=="\\"||be(l-2)===false))break;l=l+1;}while(l<k)}return b.join("")}function qe(b){let u=2;let v=0;let R="";const A=b.slice(0,2);const Y=b.length;if(b.charAt(2)==="-")u=u+1;if(/\s/.test(b.charAt(u))===true){do{u=u+1;}while(/\s/.test(b.charAt(u))===true&&u<Y)}v=u;do{v=v+1;}while(/\s/.test(b.charAt(v))===false&&b.charAt(v)!=="("&&v<Y);if(v===Y)v=b.length-2;R=b.slice(u,v);if(R==="else"||A==="{%"&&(R==="elseif"||R==="when"||R==="elif"||R==="elsif")){return ["template_else",`template_${R}`]}if(A==="{{"){if(R==="end")return ["template_end",""];if(R==="block"&&/\{%\s*\w/.test(f)===false||R==="define"||R==="form"||R==="if"||R==="unless"||R==="range"||R==="with"){return ["template_start",`template_${R}`]}return ["template",""]}v=_.length-1;if(v>-1){do{if(R===_[v]&&(R!=="block"||/\{%\s*\w/.test(f)===false)){return ["template_start",`template_${R}`]}if(R==="end"+_[v]){return ["template_end",""]}v=v-1;}while(v>-1)}return ["template",""]}function De(){w.count.pop();w.index.pop();w.word.pop();w.len=w.len-1;}function I(){let b=o;let u=1;let v="";let R="";let A=x;let Y=e;const q=[];function D(){ee.push("x{");i.splice({data:r,howmany:1,index:i.count-3});}function W(B,H,J){const le=r.begin[B];let oe=0;do{if(r.token[B]===H&&r.types[B]==="word"){if(J===true){r.types[B]="reference";}else if(r.begin[B]>le&&r.token[r.begin[B]]==="{"&&r.stack[B]!=="object"&&r.stack[B]!=="class"&&r.stack[B]!=="data_type"){if(r.stack[B]==="function"){r.types[B]="reference";}else {oe=r.begin[B];do{if(r.stack[oe]==="function"){r.types[B]="reference";break}oe=r.begin[oe];}while(oe>le)}}}B=B-1;}while(B>le)}do{q.push(d[b]);if(d[b]==="\\"){i.error=`Illegal escape in JavaScript on line number ${i.lineNumber}`;}b=b+1;}while(b<l);if(x.charAt(0)==="\u201C"){i.error=`Quote looking character (\u201C, \\u201c) used instead of actual quotes on line number ${i.lineNumber}`;}else if(x.charAt(0)==="\u201D"){i.error=`Quote looking character (\u201D, \\u201d) used instead of actual quotes on line number ${i.lineNumber}`;}v=q.join("");o=-1;if(i.count>0&&v==="function"&&r.token[i.count]==="("&&(r.token[i.count-1]==="{"||r.token[i.count-1]==="x{")){r.types[i.count]="start";}if(i.count>1&&v==="function"&&x==="("&&(r.token[i.count-1]==="}"||r.token[i.count-1]==="x}")){if(r.token[i.count-1]==="}"){b=i.count-2;if(b>-1){do{if(r.types[b]==="end"){u=u+1;}else if(r.types[b]==="start"||r.types[b]==="end"){u=u-1;}if(u===0)break;b=b-1;}while(b>-1)}if(r.token[b]==="{"&&r.token[b-1]===")"){u=1;b=b-2;if(b>-1){do{if(r.types[b]==="end"){u=u+1;}else if(r.types[b]==="start"||r.types[b]==="end"){u=u-1;}if(u===0)break;b=b-1;}while(b>-1)}if(r.token[b-1]!=="function"&&r.token[b-2]!=="function"){r.types[i.count]="start";}}}else {r.types[i.count]="start";}}if(c.script.correct===true&&(v==="Object"||v==="Array")&&d[l+1]==="("&&d[l+2]===")"&&r.token[i.count-1]==="="&&r.token[i.count]==="new"){if(v==="Object"){r.token[i.count]="{";x="}";r.stack[i.count]="object";i.structure[i.structure.length-1][0]="object";}else {r.token[i.count]="[";x="]";r.stack[i.count]="array";i.structure[i.structure.length-1][0]="array";}r.types[i.count]="start";e="end";d[l+1]="";d[l+2]="";l=l+2;}else {u=i.count;b=u;if(c.script.variableList!=="none"&&(v==="var"||v==="let"||v==="const")){if(r.types[u]==="comment"){do{u=u-1;}while(u>0&&r.types[u]==="comment")}if(c.script.variableList==="list"&&w.len>-1&&w.index[w.len]===u&&v===w.word[w.len]){x=",";e="separator";r.token[u]=x;r.types[u]=e;w.count[w.len]=0;w.index[w.len]=u;w.word[w.len]=v;return}w.len=w.len+1;w.count.push(0);w.index.push(u);w.word.push(v);u=b;}else if(w.len>-1&&v!==w.word[w.len]&&i.count===w.index[w.len]&&r.token[w.index[w.len]]===";"&&x!==w.word[w.len]&&c.script.variableList==="list"){De();}if(v==="from"&&r.token[i.count]==="x;"&&r.token[i.count-1]==="}"){O();}if(v==="while"&&r.token[i.count]==="x;"&&r.token[i.count-1]==="}"){let B=0;let H=i.count-2;if(H>-1){do{if(r.types[H]==="end"){B=B+1;}else if(r.types[H]==="start"){B=B-1;}if(B<0){if(r.token[H]==="{"&&r.token[H-1]==="do")O();return}H=H-1;}while(H>-1)}}if(Y==="comment"){let B=i.count;do{B=B-1;}while(B>0&&r.types[B]==="comment");Y=r.types[B];A=r.token[B];}R=Q(2,false);if(v==="void"){if(A===":"&&r.stack[i.count-1]==="arguments"){e="type";}else {e="word";}}else if((i.structure[i.structure.length-1][0]==="object"||i.structure[i.structure.length-1][0]==="class"||i.structure[i.structure.length-1][0]==="data_type")&&(r.token[i.count]==="{"||r.token[r.begin[i.count]]==="{"&&r.token[i.count]===","||r.types[i.count]==="template_end"&&(r.token[r.begin[i.count]-1]==="{"||r.token[r.begin[i.count]-1]===","))){if(v==="return"||v==="break"){e="word";}else {e="property";}}else if(C[C.length-1]===true||(c.language==="typescript"||c.language==="flow")&&A==="type"){e="type";}else if(U.length>0&&(A==="function"||A==="class"||A==="const"||A==="let"||A==="var"||A==="new"||A==="void")){e="reference";U[U.length-1].push(v);if(c.language==="javascript"||c.language==="jsx"||c.language==="typescript"||c.language==="tsx"){if(A==="var"||A==="function"&&r.types[i.count-1]!=="operator"&&r.types[i.count-1]!=="start"&&r.types[i.count-1]!=="end"){W(i.count,v,true);}else {W(i.count,v,false);}}else {W(i.count,v,false);}}else if(i.structure[i.structure.length-1][0]==="arguments"&&e!=="operator"){e="reference";t.push(v);}else if(A===","&&r.stack[i.count]!=="method"&&(r.stack[i.count]!=="expression"||r.token[r.begin[i.count]-1]==="for")){let B=i.count;const H=i.structure[i.structure.length-1][1];do{if(r.begin[B]===H){if(r.token[B]===";")break;if(r.token[B]==="var"||r.token[B]==="let"||r.token[B]==="const"||r.token[B]==="type"){break}}else if(r.types[B]==="end"){B=r.begin[B];}B=B-1;}while(B>H);if(U.length>0&&r.token[B]==="var"){e="reference";U[U.length-1].push(v);if(c.language==="javascript"||c.language==="jsx"||c.language==="typescript"||c.language==="tsx"){W(B,v,true);}else {W(B,v,false);}}else if(U.length>0&&(r.token[B]==="let"||r.token[B]==="const"||r.token[B]==="type"&&(c.language==="typescript"||c.language==="tsx"))){e="reference";U[U.length-1].push(v);W(B,v,false);}else {e="word";}}else if(i.structure[i.structure.length-1][0]!=="object"||i.structure[i.structure.length-1][0]==="object"&&x!==","&&x!=="{"){let B=U.length;let H=0;if(B>0){do{B=B-1;H=U[B].length;if(H>0){do{H=H-1;if(v===U[B][H])break}while(H>0);if(v===U[B][H])break}}while(B>0);if(U[B][H]===v&&A!=="."){e="reference";}else {e="word";}}else {e="word";}}else {e="word";}x=v;if(v==="from"&&r.token[i.count]==="}")O();}V("");if(v==="class")K.push(0);if(v==="do"){R=Q(1,true);if(R!=="{"){x=c.script.correct===true?"{":"x{";e="start";ee.push("x{");V("do");}}if(v==="else"){R=Q(2,true);let B=i.count-1;if(r.types[B]==="comment"){do{B=B-1;}while(B>0&&r.types[B]==="comment")}if(r.token[B]==="x}"){if(r.token[i.count]==="else"){if(r.stack[i.count-1]!=="if"&&r.types[i.count-1]!=="comment"&&r.stack[i.count-1]!=="else"){ee.pop();i.splice({data:r,howmany:0,index:i.count-1,record:{begin:r.begin[r.begin[r.begin[i.count-1]-1]-1],ender:-1,lexer:"script",lines:0,stack:"if",token:c.script.correct===true?"}":"x}",types:"end"}});if(i.structure.length>1){i.structure.splice(i.structure.length-2,1);i.structure[i.structure.length-1][1]=i.count;}}else if(r.token[i.count-2]==="x}"&&S[0]!=="if"&&r.stack[i.count]==="else"){D();}else if(r.token[i.count-2]==="}"&&r.stack[i.count-2]==="if"&&S[0]==="if"&&r.token[S[1]-1]!=="if"&&r.token[r.begin[i.count-1]]==="x{"){D();}}else if(r.token[i.count]==="x}"&&r.stack[i.count]==="if"){D();}}if(R!=="if"&&R.charAt(0)!=="{"){x=c.script.correct===true?"{":"x{";e="start";ee.push("x{");V("else");}}if((v==="for"||v==="if"||v==="switch"||v==="catch")&&r.token[i.count-1]!=="."){R=Q(1,true);if(R!=="("){N=i.count;if(c.script.correct===true){je("(");}else {je("x(");}}}}do{if(/\s/.test(d[l])){if(o>-1)I();l=i.spacer({array:d,end:k,index:l});if(i.linesSpace>1&&x!==";"&&E<i.count&&d[l+1]!=="}"){m(false);E=i.count;}}else if(d[l]==="{"&&d[l+1]==="%"){X("{%","%}","template");}else if(d[l]==="{"&&d[l+1]==="{"){X("{{","}}","template");}else if(d[l]==="<"&&d[l+1]==="!"&&d[l+2]==="-"&&d[l+3]==="-"){X("<!--","-->","comment");}else if(d[l]==="<"){we();}else if(d[l]==="/"&&(l===k-1||d[l+1]==="*")){j();}else if((i.count<0||r.lines[i.count]>0)&&d[l]==="#"&&d[l+1]==="!"&&(d[l+2]==="/"||d[l+2]==="[")){X("#!"+d[l+2],"\n","string");}else if(d[l]==="/"&&(l===k-1||d[l+1]==="/")){re();}else if(a(d[l],96)||a(d[l],125)&&i.structure[i.structure.length-1][0]==="template_string"){if(o>-1)I();x=We();if(a(x,125)&&x.slice(x.length-2)==="${"){e="template_string_else";V("template_string");}else if(x.slice(x.length-2)==="${"){e="template_string_start";V("template_string");}else if(a(x[0],125)){e="template_string_end";V("");}else {e="string";V("");}}else if(d[l]==='"'||d[l]==="'"){X(d[l],d[l],"string");}else if(d[l]==="-"&&(l<k-1&&d[l+1]!=="="&&d[l+1]!=="-")&&(e==="number"||e==="word"||e==="reference")&&x!=="return"&&(x===")"||x==="]"||e==="word"||e==="reference"||e==="number")){if(o>-1)I();x="-";e="operator";V("");}else if(o===-1&&(d[l]!=="0"||d[l]==="0"&&d[l+1]!=="b")&&(/\d/.test(d[l])||l!==k-2&&d[l]==="-"&&d[l+1]==="."&&/\d/.test(d[l+2])||l!==k-1&&(d[l]==="-"||d[l]===".")&&/\d/.test(d[l+1]))){if(o>-1)I();if(e==="end"&&d[l]==="-"){x="-";e="operator";}else {x=ue();e="number";}V("");}else if(d[l]===":"&&d[l+1]===":"){if(o>-1)I();if(c.script.correct===true)ie();O();l=l+1;x="::";e="separator";V("");}else if(d[l]===","){if(o>-1)I();if(c.script.correct===true)ie();if(C[C.length-1]===true&&r.stack[i.count].indexOf("type")<0){C[C.length-1]=false;}if(e==="comment"){F();}else if(w.len>-1&&w.count[w.len]===0&&c.script.variableList==="each"){O();x=";";e="separator";V("");x=w.word[w.len];e="word";V("");w.index[w.len]=i.count;}else {x=",";e="separator";O();V("");}}else if(d[l]==="."){if(o>-1)I();C[C.length-1]=false;if(d[l+1]==="."&&d[l+2]==="."){x="...";e="operator";l=l+2;}else {O();x=".";e="separator";}if(/\s/.test(d[l-1])===true)i.linesSpace=1;V("");}else if(d[l]===";"){if(o>-1)I();if(C[C.length-1]===true&&r.stack[i.count].indexOf("type")<0){C[C.length-1]=false;}if(K[K.length-1]===0)K.pop();if(w.len>-1&&w.count[w.len]===0){if(c.script.variableList==="each"){De();}else {w.index[w.len]=i.count+1;}}if(c.script.correct===true)ie();x=";";e="separator";if(r.token[i.count]==="x}"){g();}else {V("");}L();}else if(d[l]==="("||d[l]==="["||d[l]==="{"){je(d[l]);}else if(d[l]===")"||d[l]==="]"||d[l]==="}"){ne(d[l]);}else if(d[l]==="*"&&r.stack[i.count]==="object"&&o<0&&/\s/.test(d[l+1])===false&&d[l+1]!=="="&&/\d/.test(d[l+1])===false){o=l;}else if(d[l]==="="||d[l]==="&"||d[l]==="<"||d[l]===">"||d[l]==="+"||d[l]==="-"||d[l]==="*"||d[l]==="/"||d[l]==="!"||d[l]==="?"||d[l]==="|"||d[l]==="^"||d[l]===":"||d[l]==="%"||d[l]==="~"){x=Ce();if(x==="regex"){x=r.token[i.count];}else if(x==="*"&&r.token[i.count]==="function"){r.token[i.count]="function*";}else {e="operator";if(x!=="!"&&x!=="++"&&x!=="--")O();V("");}}else if(o<0&&d[l]!==""){o=l;}if(w.len>-1&&i.count===w.index[w.len]+1&&r.token[w.index[w.len]]===";"&&x!==w.word[w.len]&&e!=="comment"&&c.script.variableList==="list"){De();}l=l+1;}while(l<k);if(o>-1)I();if((r.token[i.count]!=="}"&&r.token[0]==="{"||r.token[0]!=="{")&&(r.token[i.count]!=="]"&&r.token[0]==="["||r.token[0]!=="[")){m(false);}if(h[0]===i.count){x="\n"+h[1];e="string";V("");}if(r.token[i.count]==="x;"&&(r.token[i.count-1]==="}"||r.token[i.count-1]==="]")&&r.begin[i.count-1]===0){i.pop(r);}c.script=p;return r};var et={markup:"markup",html:"markup",liquid:"markup",xml:"markup",javascript:"script",typescript:"script",jsx:"script",tsx:"script",json:"script",less:"style",scss:"style",sass:"style",css:"style",text:"text"};var wt={html:"HTML",xhtml:"XHTML",liquid:"Liquid",xml:"XML",jsx:"JSX",tsx:"TSX",json:"JSON",yaml:"YAML",css:"CSS",scss:"SCSS",sass:"SASS",less:"LESS",text:"Plain Text",javascript:"JavaScript",typescript:"TypeScript"};function ct(s){return typeof s!=="string"||s.indexOf("html")>-1||et[s]===void 0?"markup":et[s]}function At(s){if(typeof s!=="string"||wt[s]===void 0)return s.toUpperCase();return wt[s]}function Se(s){const f={};if(s==="unknown"){f.language=s;f.languageName="Unknown";f.lexer="markup";}else if(s==="xhtml"||s==="markup"){f.language="xml";f.languageName="XHTML";f.lexer="markup";}else {f.language=s;f.languageName=At(s);f.lexer=ct(s);}if(T.hooks.language.length>0){for(const c of T.hooks.language){const p=c(f);if(typeof p==="object")Ne(f,p);}}return f}Ge.reference=Se;Ge.listen=function(s){T.hooks.language.push(s);};function Ge(s){let f=[];let c=0;const p=/(((var)|(let)|(const)|(function)|(import))\s+(\w|\$)+[a-zA-Z0-9]*)/.test(s)&&/@import/.test(s)===false;const l=/((((final)|(public)|(private))\s+static)|(static\s+void))/.test(s);function x(){if(/\n\s*#+\s+/.test(s)||/^#+\s+/.test(s))return Se("markdown");if(/\$[a-zA-Z]/.test(s)||/\{\s*(\w|\.|\$|#)+\s*\{/.test(s)||/^[.#]?[\w][\w-]+\s+\{(?:\s+[a-z][a-z-]+:\s*\S+;)+\s+[&>+]?\s+[.#:]?[\w][\w-]\s+\{/.test(s)&&/:\s*@[a-zA-Z];/.test(s)===false)return Se("scss");if(/@[a-zA-Z]:/.test(s)||/\.[a-zA-Z]\(\);/.test(s))return Se("less");return Se("css")}function e(){let E=1;let o=y;let N=false;let t=false;const n=/((public)|(private))\s+(static\s+)?(((v|V)oid)|(class)|(final))/.test(s);function S(){if(s.indexOf("(")>-1||s.indexOf("=")>-1||s.indexOf(";")>-1&&s.indexOf("{")>-1){if(l===true||/\w<\w+(,\s+\w+)*>/.test(s))return Se("typescript");if(/(?:var|let|const)\s+\w+\s*:/.test(s)||/=\s*<\w+/.test(s))return Se("typescript");return Se("javascript")}return Se("unknown")}function Z(){if(/:\s*(?:number|string|boolean|any|unknown)(?:\[\])?/.test(s)||/(?:public|private)\s+/.test(s)||/(?:export|declare)\s+type\s+\w+\s*=/.test(s)||/(?:namespace|interface|enum|implements|declare)\s+\w+/.test(s)||/(?:typeof|keyof|as)\s+\w+/.test(s)||/\w+\s+as\s+\w+/.test(s)||/\[\w+(?:(?::\s*\w+)|(?:\s+in\s+\w+))\]:/.test(s)||/\):\s*\w+(?:\[\])?\s*(?:=>|\{)\s+/.test(s)||/(var|const|let)\s+\w+:\s*(string|number|boolean|string|any)(\[\])?/.test(s))return Se("typescript");if(/\s(class|var|const|let)\s+\w/.test(s)===false&&/<[a-zA-Z](?:-[a-zA-Z])?/.test(s)&&/<\/[a-zA-Z-](?:-[a-zA-Z])?/.test(s)&&(/\s?\{%/.test(s)||/{{/.test(s)))return Se("liquid");if(/^(\s*[$@])/.test(s)===false&&/([}\]];?\s*)$/.test(s)){if(/^\s*import\s+\*\s+as\s+\w+\s+from\s+['"]/.test(s)||/module\.export\s+=\s+/.test(s)||/export\s+default\s+\{/.test(s)||/[?:]\s*[{[]/.test(s)||/^(?:\s*return;?(?:\s+[{[])?)/.test(s)){return Se("javascript")}}if(/{%/.test(s)&&/{{/.test(s)&&/<\w/.test(s))return Se("liquid");if(/{\s*(?:\w|\.|@|#)+\s*\{/.test(s))return Se("less");if(/\$(\w|-)/.test(s))return Se("scss");if(/[;{:]\s*@\w/.test(s)===true)return Se("less");return Se("css")}if(E<c){do{if(N===false){if(a(f[E],42)&&a(f[E-1],47)){f[E-1]=y;N=true;}else if(t===false&&E<c-6&&f[E].charCodeAt(0)===102&&f[E+1].charCodeAt(0)===105&&f[E+2].charCodeAt(0)===108&&f[E+3].charCodeAt(0)===116&&f[E+4].charCodeAt(0)===101&&f[E+5].charCodeAt(0)===114&&a(f[E+6],58)){t=true;}}else if(N===true&&a(f[E],42)&&E!==c-1&&a(f[E+1],47)){N=false;f[E]=y;f[E+1]=y;}else if(t===true&&a(f[E],59)){t=false;f[E]=y;}if(N===true||t===true)f[E]=y;E=E+1;}while(E<c)}o=f.join(y);if(/\s\/\//.test(s)===false&&/\/\/\s/.test(s)===false&&/^(\s*(\{|\[)(?!%))/.test(s)===true&&/((\]|\})\s*)$/.test(s)&&s.indexOf(",")!==-1)return Se("json");if(/((\}?(\(\))?\)*;?\s*)|([a-z0-9]("|')?\)*);?(\s*\})*)$/i.test(s)===true&&(p===true||n===true||/console\.log\(/.test(s)===true||/export\s+default\s+class\s+/.test(s)===true||/export\s+(const|var|let|class)s+/.test(s)===true||/document\.get/.test(s)===true||/((=|(\$\())\s*function)|(\s*function\s+(\w*\s+)?\()/.test(s)===true||s.indexOf("{")===-1||/^(\s*if\s+\()/.test(s)===true))return S();if(s.indexOf("{")>-1&&(/^(\s*[\u007b\u0024\u002e#@a-z0-9])/i.test(s)||/^(\s*\/(\*|\/))/.test(s)||/^(\s*\*\s*\{)/.test(s))&&/^(\s*if\s*\()/.test(s)===false&&/=\s*(\{|\[|\()/.test(o)===false&&(/(\+|-|=|\?)=/.test(o)===false||/\/\/\s*=+/.test(o)||/=+('|")?\)/.test(s)&&/;\s*base64/.test(s))&&/function(\s+\w+)*\s*\(/.test(o)===false)return Z();return s.indexOf("{%")>-1?Se("liquid"):Se("unknown")}function $(){function E(){return /{%-?\s*(schema|for|if|unless|render|include)/.test(s)||/{%-?\s*end\w+/.test(s)||/{{-?\s*content_for/.test(s)||/{{-?\s*[a-zA-Z0-9_'".[\]]+\s*-?}}/.test(s)||/{%/.test(s)&&/%}/.test(s)&&/{{/.test(s)&&/}}/.test(s)?Se("liquid"):Se("html")}return /^(\s*<!doctype\s+html>)/i.test(s)||/^(\s*<html)/i.test(s)||/<form\s/i.test(s)&&/<label\s/i.test(s)&&/<input\s/i.test(s)||(/<img(\s+\w+=['"]?\S+['"]?)*\s+src\s*=/.test(s)||/<a(\s+\w+=['"]?\S+['"]?)*\s+href\s*=/.test(s))||/<ul\s/i.test(s)&&/<li\s/i.test(s)&&/<\/li>/i.test(s)&&/<\/ul>/i.test(s)||/<head\s*>/.test(s)&&/<\/head>/.test(s)||/^(\s*<!DOCTYPE\s+((html)|(HTML))\s+PUBLIC\s+)/.test(s)&&/XHTML\s+1\.1/.test(s)===false&&/XHTML\s+1\.0\s+(S|s)((trict)|(TRICT))/.test(s)===false?E():/\s?{[{%]-?/.test(s)?Se("liquid"):Se("xml")}if(s===null||s.replace(/\s+/g,y)===y)return Se("unknown");if((/\n\s*#{1,6}\s+/.test(s)||/\n\s*(?:\*|-|(?:\d+\.))\s/.test(s))&&(/\[( |x|X)\]/.test(s)||/\s[*_~]{1,2}\w+[*_~]{1,2}/.test(s)||/\n\s*```[a-zA-Z]*?\s+/.test(s)||/-+\|(-+\|)+/.test(s)))return Se("markdown");if(/^(\s*<!DOCTYPE\s+html>)/i.test(s))return $();if(/^\s*@(?:charset|import|include|keyframes|media|namespace|page)\b/.test(s))return x();if(l===false&&/=(>|=|-|\+|\*)/.test(s)===false&&/^(?:\s*((if)|(for)|(function))\s*\()/.test(s)===false&&/(?:\s|;|\})((if)|(for)|(function\s*\w*))\s*\(/.test(s)===false&&p===false&&/return\s*\w*\s*(;|\})/.test(s)===false&&(s===void 0||/^(?:\s*#(?!(!\/)))/.test(s)||/\n\s*(\.|@)\w+(\(|(\s*:))/.test(s)&&/>\s*<\w/.test(s)===false||(/^\s*:root\s*\{/.test(s)||/-{2}\w+\s*\{/.test(s)||/^\s*(?:body|button|hr|section|h[1-6]|p|strong|\*)\s+\{\s+/.test(s))))return x();f=s.replace(/\[[a-zA-Z][\w-]*=['"]?[a-zA-Z][\w-]*['"]?\]/g,y).split(y);c=f.length;if(/^(\s*({{|{%|<))/.test(s))return $();if(l===true||/^(?:[\s\w-]*<)/.test(s)===false&&/(?:>[\s\w-]*)$/.test(s)===false)return e();return (/^(?:\s*<\?xml)/.test(s)||/(?:>[\w\s:]*)?<(?:\/|!|#)?[\w\s:\-[]+/.test(s)||/^\s*</.test(s)&&/<\/\w+(\w|\d)+>\s*$/.test(s))&&(/^(?:[\s\w]*<)/.test(s)||/(?:>[\s\w]*)$/.test(s))||/^(?:\s*<s((cript)|(tyle)))/i.test(s)&&/(?:<\/s((cript)|(tyle))>\s*)$/i.test(s)?/^(?:[\s\w]*<)/.test(s)===false||/(?:>[\s\w]*)$/.test(s)===false?e():$():Se("unknown")}T.lexers.markup=function s(f){const{options:c}=T;const{data:p}=i;const l=c.language==="jsx"||c.language==="tsx";const x=c.language==="html"||c.language==="liquid";const e=c.markup;const $=e.attributeSortList.length;const E={end:0,start:0,line:1,index:-1};const o=f.split(y);const N=o.length;let t=0;let n=false;let S;x?c.language:"html";let r=0;function U(m){if(!(x===true&&l===false))return m;if(/(?:{[=#/]|%[>\]])|\}%[>\]]/.test(m))return m;if(!Me(m,3))return m;const g=m.length-3;if(e.delimiterTrims==="force"){if(a(m[1],37)){if(G(m[2],45))m=m.replace(/^{%/,"{%-");if(G(m[g],45))m=m.replace(/%}$/,"-%}");}else {if(G(m[2],45))m=m.replace(/^{{/,"{{-");if(G(m[g],45))m=m.replace(/}}$/,"-}}");}}else if(e.delimiterTrims==="strip"){m=m.replace(/^{%-/,"{%").replace(/-%}$/,"%}").replace(/^{{-/,"{{").replace(/-}}$/,"}}");}else if(e.delimiterTrims==="tags"&&a(m[1],37)){if(G(m[2],45))m=m.replace(/^{%/,"{%-");if(G(m[g],45))m=m.replace(/%}$/,"-%}");}else if(e.delimiterTrims==="outputs"&&a(m[1],123)){if(G(m[2],45))m=m.replace(/^{{/,"{{-");if(G(m[g],45))m=m.replace(/}}$/,"-}}");}if(/^{%-?\s*#/.test(m))return m;if(e.normalizeSpacing===false)return m;let O;let j=0;return m.split(/(["']{1})/).map((L,F,ne)=>{const X=a(L[0],34)||a(L[0],39);if(j>0||X&&j===0&&G(ne[F-1],92)||X){if(j===0)O=L.charCodeAt(0);if(j===1&&G(ne[F-1],92)){if(O===L.charCodeAt(0))j=2;return L}if(j!==2){j=j===0?1:j===1?a(ne[F-1],92)?1:2:0;return L}j=0;}return L.replace(ot,se).replace(/^({[{%]-?)/,"$1 ").replace(/([!=]=|[<>]=?)/g," $1 ").replace(new RegExp(" +(?=[|[\\],:.])|(?<=[[.]) +","g"),y).replace(new RegExp("(\\||(?<=[^=!<>])(?:(?<=assign[^=]+)=(?=[^=!<>])|=$))","g")," $1 ").replace(/([:,]$|[:,](?=\S))/g,"$1 ").replace(/(-?[%}]})$/," $1").replace(ot,se)}).join(y)}function k(m){let g=m;do g=g-1;while(a(o[g],92));g=m-g;return g%2===1}function d(m,g,O){if(m===p){if(g.types.indexOf("end")>-1){E.end=E.end+1;}else if(g.types.indexOf("start")>-1){E.start=E.start+1;}}E.index=i.count;E.line=i.lineNumber;i.push(m,g,O);}function P(m,g){if(!he.html.tags.has(m))return false;if(m===g)return true;if(m==="dd"&&g==="dt")return true;if(m==="dt"&&g==="dd")return true;if(m==="td"&&g==="th")return true;if(m==="th"&&g==="td")return true;if(m==="colgroup"&&(g==="tbody"||g==="tfoot"||g==="thead"||g==="tr"))return true;if(m==="tbody"&&(g==="colgroup"||g==="tfoot"||g==="thead"))return true;if(m==="tfoot"&&(g==="colgroup"||g==="tbody"||g==="thead"))return true;if(m==="thead"&&(g==="colgroup"||g==="tbody"||g==="tfoot"))return true;if(m==="tr"&&g==="colgroup")return true;return false}function ee(m){return `Parse Error (line ${i.lineNumber}):
${Array.isArray(m)?m.join(y):m}`}function K(m,g){const O=Re(m);const j={begin:i.scope.index,ender:-1,lexer:"markup",lines:p.lines[i.count]>0?1:0,stack:Re(i.scope.token),token:`</${i.scope.token}>`,types:"end"};d(p,j,y);if(he.html.tags.has(i.scope.token)&&(g===true&&i.structure.length>1||g===false&&`/${i.scope.token}`!==O)){do{j.begin=i.scope.index;j.stack=Re(i.scope.token);j.token=`</${i.scope.token}>`;d(p,j,y);}while(he.html.tags.has(i.scope.token)&&(g===true&&i.structure.length>1||g===false&&`/${i.scope.token}`!==O))}}function h(){i.error="Prettify Error:\n\n"+i.error;}function C(m){const g={lexer:"markup",lines:i.linesSpace,stack:i.scope.token!=="global"?Re(i.scope.token):"global",begin:i.scope.index,token:y,types:y,ender:-1};let O=y;let j=y;let L=y;let F=y;let ne=y;let X=false;let re=false;let we=false;let Q=0;let ue=false;let Ce=false;let ie=false;let V=false;let z=[];let be=[y,0];function je(W){const B=W.indexOf("=");if(B>0){const H=W.indexOf('"');if(B<H&&H>0)return [W.slice(0,B),W.slice(B+1)];const J=W.indexOf("'");if(B<J&&J>0)return [W.slice(0,B),W.slice(B+1)]}return [W,y]}function We(W){g.lines=p.lines[i.count]>0?1:0;g.token=`</${i.scope.token}>`;g.types="end";d(p,g,y);if(W>0){do{g.begin=i.scope.index;g.stack=Re(i.scope.token);g.token=`</${i.scope.token}>`;d(p,g,y);W=W-1;}while(W>0)}g.begin=i.scope.index;g.lines=i.linesSpace;g.stack=Re(i.scope.token);g.token=O;g.types="end";p.lines[i.count-1]=0;}function qe(){if(L==="end"){const W=p.token[i.count];if(p.types[i.count-1]==="singleton"&&W.charCodeAt(W.length-2)!==47&&`/${Re(W)}`===F){p.types[i.count-1]="start";}}if(x){if(a(O[0],60)&&G(O[1],33)&&G(O[1],63)&&(i.count<0||p.types[i.count].indexOf("template")<0)){O=O.toLowerCase();}if(he.html.tags.has(i.scope.token)&&P(F.slice(1),i.structure[i.structure.length-2][0])){We(0);}else if(i.structure.length>3&&he.html.tags.has(i.scope.token)&&he.html.tags.has(i.structure[i.structure.length-2][0])&&he.html.tags.has(i.structure[i.structure.length-3][0])&&P(F,i.structure[i.structure.length-4][0])){We(3);}else if(i.structure.length>2&&he.html.tags.has(i.scope.token)&&he.html.tags.has(i.structure[i.structure.length-2][0])&&P(F,i.structure[i.structure.length-3][0])){We(2);}else if(i.structure.length>1&&he.html.tags.has(i.scope.token)&&P(F,i.structure[i.structure.length-2][0])){We(1);}else if(P(F,i.scope.token)){We(0);}else if(a(F[0],47)&&he.html.tags.has(i.scope.token)&&i.scope.token!==F.slice(1)){K(O,false);g.begin=i.scope.index;g.lines=i.linesSpace;g.stack=Re(i.scope.token);g.token=O;g.types="end";p.lines[i.count-1]=0;}if(l===false&&he.html.voids.has(F)){if(e.correct===true&&/\/>$/.test(O)===false){O=O.slice(0,O.length-1)+" />";}return true}}return false}function De(){if(L!=="cdata")return R();if(g.stack==="script"||g.stack==="style"){const W=g.stack;let B=i.count;let H=i.count;if(p.types[H]==="attribute"){do{B=B-1;H=H-1;}while(p.types[H]==="attribute"&&H>-1)}g.begin=B;g.token="<![CDATA[";g.types="cdata_start";O=O.replace(/^(\s*<!\[cdata\[)/i,y).replace(/(\]{2}>\s*)$/,y);d(p,g,y);i.structure.push(["cdata",i.count]);if(W==="script"){T.lexers.script(O);}else {T.lexers.style(O);}g.begin=i.scope.index;g.token="]]>";g.types="cdata_end";d(p,g,y);i.structure.pop();}return R()}function I(){if(g.types.indexOf("template")===-1)return De();if(a(O[0],123)&&a(O[1],37)){if(he.liquid.else.has(F)){g.types="template_else";}else if(he.liquid.tags.has(F)){g.types="template_start";}else if(F.startsWith("end")){const W=F.slice(3);if(he.liquid.tags.has(W)){g.types="template_end";}else {g.stack=W;g.types="template_end";let B=0;do{if(p.types[B]==="template"&&p.stack[B]===W){p.types[B]="template_start";E.start=E.start+1;break}B=p.stack.indexOf(W,B+1);}while(B>-1)}}else {g.stack=F;}}if(e.quoteConvert==="double"){g.token=g.token.replace(/'/g,'"');}else if(e.quoteConvert==="single"){g.token=g.token.replace(/"/g,"'");}return De()}function b(){if(V&&we===false&&L!=="xml"){if(X===true||he.html.voids.has(F)||a(O[O.length-2],47)&&a(O[O.length-1],62)){L="singleton";}else {L="start";}g.types=L;}return u()}function u(){let W=y;if(yt.test(p.token[i.count])){we=true;ie=false;if(L.indexOf("template")>0&&he.liquid.tags.has(F)){W=`end${F}`;}else if(he.html.voids.has(F)){W=null;}}else if(he.html.voids.has(F)){W=null;}if(W!==null&&ie===false&&we===true&&(m===">"||m==="%}"||m==="}}")){const B=[];if(X===true){L="singleton";}else {ie=true;L="ignore";t=t+1;if(t<N){let H=y;let J=0;let le=0;let oe=false;do{if(a(o[t],10))i.lineNumber=i.lineNumber+1;B.push(o[t]);if(H===y){H=a(o[t],34)?'"':a(o[t],39)?"'":y;if(G(B[0],123)&&a(o[t],123)&&(a(o[t+1],123)||a(o[t+1],37))){H=o[t+1]+"}";}else if(a(o[t],60)&&V===true){oe=a(o[t+1],47);}else if(o[t]===j&&G(o[t-1],47)){if(oe===true){Q=Q-1;if(Q<0)break}else {Q=Q+1;}}}else if(a(o[t],H.charCodeAt(H.length-1))){le=0;J=H.length-1;if(a(H[J],125)){if(o.slice(t+(a(o[t+2],45)?3:2),o.indexOf("%",t+2)).join(y).trim().startsWith(W))break}else if(J>-1){do{if(G(o[t-le],H.charCodeAt(J)))break;le=le+1;J=J-1;}while(J>-1)}if(J<0)H=y;}t=t+1;}while(t<N)}}O=O+B.join(y);O=O.replace(">",` ${z.map(([H])=>H).join(se)}>`);z=[];g.token=O;g.types="content-ignore";}return I()}function v(){X=qe();if(!he.embed("html",F)&&!he.embed("liquid",F))return b();let W=z.length-1;let B=y;let H;if(W>-1){do{H=je(z[W][0]);if(H[0]==="type"){B=H[1];if(a(B,34)||a(B,39))B=B.slice(1,-1);break}W=W-1;}while(W>-1)}const J=Me(O,3);if(J===false&&he.embed("html",F)){n=true;if(B===y){S=he.html.embed[F].language;}else if(he.html.embed[F].value(B)){S=he.html.embed[F].language;}}else if(J===true&&he.embed("liquid",F)){n=true;if(B===y){S=he.liquid.embed[F].language;}else {S=he.liquid.embed[F].language;}}if(n===true){W=t+1;if(W<N){do{if(ge(o[W])===false){if(a(o[W],60)){if(o.slice(W+1,W+4).join(y)==="!--"){W=W+4;if(W<N){do{if(ge(o[W])===false){n=false;break}if(a(o[W],10)||a(o[W],13))break;W=W+1;}while(W<N)}}else {n=false;}}break}W=W+1;}while(W<N)}}return b()}function R(){d(p,g,y);const W=i.count;const B=F.replace(/\/$/,y);const H=e.quoteConvert;let J=0;let le=0;let oe=0;let te=0;let M=y;let ke=y;let ce=z.length;function de(){if(i.attributes.has(W)){if(J+1===ce&&G(g.token[g.token.length-1],62)){g.token=g.token+">";}}let ae=Me(g.token,5);if(we===true||H==="none"||g.types.indexOf("attribute")<0||ae===false&&H==="single"&&g.token.indexOf('"')<0||ae===false&&H==="double"&&g.token.indexOf("'")<0){d(p,g,y);}else {let Oe=0;let Te=false;const xe=g.token.split(y);const pe=g.token.indexOf("=");const ve=xe.length-1;if(G(xe[pe+1],34)&&G(xe[xe.length-1],34)&&H==="single"&&ae===false){d(p,g,y);}else if(G(xe[pe+1],39)&&G(xe[xe.length-1],39)&&H==="double"&&ae===false){d(p,g,y);}else {Oe=pe+2;if(ae===false){if(H==="double"){if(g.token.slice(pe+2,ve).indexOf('"')>-1)Te=true;xe[pe+1]='"';xe[xe.length-1]='"';}else if(H==="single"){if(g.token.slice(pe+2,ve).indexOf("'")>-1)Te=true;xe[pe+1]="'";xe[xe.length-1]="'";}}if(Te===true||ae===true){ae=false;do{if(a(xe[Oe-1],123)&&(a(xe[Oe],37)||a(xe[Oe],123))){ae=true;}else if(a(xe[Oe],125)&&(a(xe[Oe-1],37)||a(xe[Oe-1],125))){ae=false;}if(ae===true){if(a(xe[Oe],34)&&H==="double"){xe[Oe]="'";}else if(a(xe[Oe],39)&&H==="single"){xe[Oe]='"';}}else {if(a(xe[Oe],39)&&H==="double"){xe[Oe]='"';}else if(a(xe[Oe],34)&&H==="single"){xe[Oe]="'";}}Oe=Oe+1;}while(Oe<ve)}g.token=xe.join(y);d(p,g,y);}}}function Ae(){if(!(!l&&!ue&&!Ce))return;if($===0){z=i.sortSafe(z,y,false);return}const ae=[];oe=0;le=0;ce=z.length;do{le=0;do{M=z[le][0].split("=")[0];if(e.attributeSortList[oe]===M){ae.push(z[le]);z.splice(le,1);ce=ce-1;break}le=le+1;}while(le<ce);oe=oe+1;}while(oe<$);z=i.sortSafe(z,y,false);z=ae.concat(z);ce=z.length;}function me(){g.token=M+"={";g.types="jsx_attribute_start";d(p,g,"jsx_attribute");T.lexers.script(ke.slice(1,ke.length-1));g.begin=i.count;if(/\s\}$/.test(ke)){ke=ke.slice(0,ke.length-1);ke=_e.exec(ke)[0];g.lines=ke.indexOf("\n")<0?1:ke.split("\n").length;}else {g.lines=0;}g.begin=i.scope.index;g.stack=i.scope.token;g.token="}";g.types="jsx_attribute_end";de();}function Qe(){if(st(z[J][0])){g.types="attribute";g.token=z[J][0];}else if(Ve(z[J][0])){g.token=z[J][0];g.types="template_attribute_end";g.ender=g.begin;}else {if(Xe(z[J][0])){g.types="template_attribute_start";g.begin=i.count;g.token=z[J][0];}else if(gt(z[J][0])){g.types="template_attribute_else";g.token=z[J][0];}else {g.types="attribute";g.token=z[J][0];}}de();}if(z.length<1)return D();if(a(z[z.length-1][0],47)){z.pop();O=O.replace(/>$/,"/>");}le=z.length;oe=1;if(oe<le){do{M=z[oe-1][0];if(a(M[M.length-1],61)&&z[oe][0].indexOf("=")<0){z[oe-1][0]=M+z[oe][0];z.splice(oe,1);le=le-1;oe=oe-1;}oe=oe+1;}while(oe<le)}if(e.attributeSort)Ae();g.begin=W;g.stack=B;g.types="attribute";if(J<ce){do{if(z[J]===void 0)break;g.lines=z[J][1];z[J][0]=z[J][0].replace(_e,y);if(l===true&&/^\/[/*]/.test(z[J][0])){g.types="comment_attribute";g.token=z[J][0];de();J=J+1;continue}if(z[J][1]<=1&&st(z[J][0])){if(!bt(z[J][0])){g.types="attribute";g.token=z[J][0];de();J=J+1;continue}}le=z[J][0].indexOf("=");oe=z[J][0].indexOf('"');te=z[J][0].indexOf("'");if(le<0){g.types="attribute";if(a(z[J][0],35)||a(z[J][0],91)||a(z[J][0],123)||a(z[J][0],40)||l===true){g.token=z[J][0];}else {g.token=e.attributeCasing==="preserve"?z[J][0]:z[J][0].toLowerCase();}de();}else {M=z[J][0].slice(0,le);ke=z[J][0].slice(le+1);if(e.attributeCasing==="lowercase-name"){M=M.toLowerCase();z[J][0]=M+"="+ke;}else if(e.attributeCasing==="lowercase-value"){ke=ke.toLowerCase();z[J][0]=M+"="+ke;}else if(e.attributeCasing==="lowercase"){M=M.toLowerCase();ke=ke.toLowerCase();z[J][0]=M+"="+ke;}if(e.correct&&(G(ke,60)||G(ke,123)||G(ke,61)||G(ke,34)||G(ke,39))){ke='"'+ke+'"';}if(l===true&&/^\s*{/.test(ke)){me();g.types="attribute";g.begin=W;g.stack=B;}else if(Xe(ke)&&(e.valueForce==="always"||(e.valueForce==="intent"||e.valueForce==="wrap")&&c.wrap>0&&Math.abs(t-i.lineStart)>=c.wrap||ke.indexOf(fe)>0&&(e.valueForce==="newline"||e.valueForce==="intent"))&&(a(ke[0],34)||a(ke[0],39))){g.token=`${M}=${te>-1?"'":'"'}`;g.types="attribute";i.attributes.add(W);d(p,g,y);if(J+1===ce){s(ke.slice(1,-1));p.token[i.count]=`${p.token[i.count]}${te>-1?"'":'"'}>`;break}s(ke.slice(1));g.types="attribute";g.stack=B;g.begin=W;}else {if(Me(M,5)){Qe();}else {g.types="attribute";g.token=z[J][0];de();}}}J=J+1;}while(J<ce)}n=false;return D()}function A(){if(m==="---"){ne="---";L="ignore";ie=true;}else if(a(o[t],60)){if(a(o[t+1],47)){L="end";m=">";}else if(a(o[t+1],33)){if((a(o[t+2],100)||a(o[t+2],68))&&(a(o[t+3],111)||a(o[t+3],79))&&(a(o[t+4],99)||a(o[t+4],67))&&(a(o[t+5],116)||a(o[t+5],84))&&(a(o[t+6],121)||a(o[t+6],89))&&(a(o[t+7],112)||a(o[t+7],80))&&(a(o[t+8],101)||a(o[t+8],69))){m=">";L="doctype";ie=true;}else if(a(o[t+2],45)&&a(o[t+3],45)){m="-->";L="comment";ne="<!--";}else if(a(o[t+2],91)&&o[t+3].charCodeAt(0)===67&&o[t+4].charCodeAt(0)===68&&o[t+5].charCodeAt(0)===65&&o[t+6].charCodeAt(0)===84&&o[t+7].charCodeAt(0)===65&&a(o[t+8],91)){m="]]>";L="cdata";ie=true;}}else if(o[t+1]==="?"){m="?>";if(o[t+2].charCodeAt(0)===120&&o[t+3].charCodeAt(0)===109&&o[t+4].charCodeAt(0)===109){L="xml";V=true;}else {ie=true;L="template";}}else if((a(o[t+1],112)||a(o[t+1],80))&&(a(o[t+2],114)||a(o[t+2],82))&&(a(o[t+3],101)||a(o[t+3],69))&&(a(o[t+4],62)||ge(o[t+4]))){m="</pre>";L="ignore";ie=true;}else if(e.ignoreScripts===true&&o.slice(t+1,t+7).join(y).toLowerCase()==="script"){m="<\/script>";L="ignore";ie=true;we=true;}else if(e.ignoreStyles===true&&o.slice(t+1,t+6).join(y).toLowerCase()==="style"){m="</style>";L="ignore";ie=true;we=true;}else {V=true;m=">";}}else if(a(o[t],123)){if(l){n=true;re=true;g.token="{";g.types="script_start";i.structure.push(["script",i.count]);d(p,g,y);return}if(a(o[t+1],123)){ie=true;m="}}";L="template";}else if(a(o[t+1],37)){ie=true;m="%}";L="template";const W=o.indexOf("}",t+2);if(a(o[W-1],37)){let B=o.slice(t+2,W-1).join(y);if(a(B,45)){ne="{%-";B=B.slice(1).trimStart();}else {ne="{%";B=B.trimStart();}if(a(B[B.length-1],45)){m="-%}";B=B.slice(0,B.length-1).trimEnd();}else {m="%}";B=B.trimEnd();}if(B==="comment"){const H=f.indexOf("{%",W);let J=H;if(o[H+1].charCodeAt(0)===45)J=H+1;J=f.indexOf("endcomment",J);if(J>0){J=o.indexOf("}",J);if(J>0&&o[J-1].charCodeAt(0)===37){L="comment";ne=o.slice(t,W+1).join(y);m=o.slice(H,J+1).join(y);}}}else if(a(B,35)){L="template";m="%}";}}else {ie=true;m="%}";L="template";}}else {ie=true;m=o[t+1]+"}";L="template";}}if(e.preserveAttributes===true)ie=true;if(re)return v();j=m.charAt(m.length-1);if(L==="comment"&&(a(o[t],60)||a(o[t],123)&&a(o[t+1],37))){return Y()}else if(t<N){return q()}else {return v()}}function Y(){be=Ze({chars:o,end:N,lexer:"markup",begin:ne,start:t,ender:m});O=be[0];t=be[1];if(O.replace(ne,y).trimStart().startsWith("@prettify-ignore-start")){g.token=O;g.types="ignore";d(p,g,y);}else {if(a(O[0],123)&&a(O[1],37)){const W=O.indexOf("%}",2)+2;const B=O.lastIndexOf("{%");O=U(O.slice(0,W))+O.slice(W,B)+U(O.slice(B));}g.token=O;g.types="comment";}return v()}function q(){const W=[];let B=0;let H=0;let J=0;let le=0;let oe=0;let te=0;let M=y;let ke=y;let ce=0;let de=false;let Ae=false;let me=false;let Qe=false;let ae=[];function Oe(Te){let xe;let pe=y;if(Te===true){pe=ae.join(y);xe=je(pe);M=y;if(xe[0]==="data-prettify-ignore")we=true;}else {pe=ae.join(y);if(l===false||l&&G.last(pe,125))pe=pe.replace(/\s+/g,se);xe=je(pe);if(xe[0]==="data-prettify-ignore")we=true;if(l&&a(ae[0],123)&&a.last(ae,125))ce=0;}if(a(pe[0],123)&&a(pe[1],37))Ce=true;if(Te===false){if(Xe(pe))r=r+1;if(Ve(pe))r=r-1;}pe=pe.replace(/^\u0020/,y).replace(/\u0020$/,y);ae=pe.replace(/\r\n/g,fe).split(fe);if(!ae.length)ae[0]=ae[0].replace(/\s+$/,y);pe=c.crlf===true?U(ae.join("\r\n")):U(ae.join(fe));if(r>0||Me(pe,1)){if(Me(pe,5)===false){te=0;if(a(o[t+1],10)||a(o[t],10))te=2;if(a(o[t],32)&&G(o[t+1],32))te=1;}else {if(a(o[t+1],10)){te=2;}else if(a(o[t+1],32)){te=1;}else if(te>=1){te=0;}}}else {if(a(o[t+1],10)){te=2;}else if(a(o[t+1],32)){te=1;}}if(z.length>0){const ve=z.length-1;if(a(pe,61)||a(pe,45)){z[ve][0]=z[ve][0]+pe;z[ve][1]=te;pe=y;}else if(te===0&&z[ve][1]===0){z[ve][0]=z[ve][0]+pe;z[ve][1]=te;pe=y;}else if(te>0&&z[ve][1]===0&&Ve(pe)===true){z[ve][0]=z[ve][0]+pe;z[ve][1]=te;pe=y;}else if(te>0&&z[ve][1]===0&&Me(z[ve][0],4)){z[ve][0]=z[ve][0]+pe;pe=y;}else if(z[ve][1]>0&&te===0&&dt(pe)===false){te=z[ve][1];}else if(z[ve][1]>0&&te>0&&Ve(pe)&&!Me(pe,6)){const ut=pe.indexOf("{%");z.push([pe.slice(0,ut),te]);pe=pe.slice(ut);}}if(pe!==y&&pe!==se)z.push([pe,te]);if(z.length>0){const[ve]=z[z.length-1];if(ve.indexOf("=\u201C")>0){i.error=ee("Invalid quote character (\u201C, &#x201c) used.");}else if(ve.indexOf("=\u201D")>0){i.error=ee("Invalid quote character (\u201D, &#x201d) used.");}}ae=[];te=a(o[t],10)?2:1;}do{if(a(o[t],10)){te=te+1;i.lineNumber=i.lineNumber+1;}if(ne==="---"&&m==="---"&&L==="ignore"){W.push(o[t]);if(t>3&&a(o[t],45)&&a(o[t-1],45)&&a(o[t-2],45))break;t=t+1;continue}if(ie===true||(ge(o[t])===false&&G(M,125)||a(M,125))){if(de===false&&a(o[t-1],123)&&(a(o[t],123)||a(o[t],37))){de=true;}else if(de===true&&a(o[t],125)&&(a(o[t-1],125)||a(o[t-1],37))){de=false;}W.push(o[t]);if(a(W[0],60)&&a(W[1],62)&&a(m,62)){g.token="<>";g.types="start";d(p,g,"(empty)");return}if(a(W[0],60)&&a(W[1],47)&&a(W[2],62)&&a(m,62)){g.token="</>";g.types="end";d(p,g,y);return}}if(L==="cdata"&&a(o[t],62)&&a(o[t-1],93)&&G(o[t-2],93)){i.error=ee(`CDATA tag (${W.join(y)}) not properly terminated with "]]>`);break}if(L==="comment"){M=y;if(o[t]===j&&W.length>m.length+1){H=W.length;B=m.length-1;if(B>-1){do{H=H-1;if(G(W[H],m.charCodeAt(B)))break;B=B-1;}while(B>-1)}if(B<0)break}}else {if(M===y){if(a(W[0],60)&&a(W[1],33)&&L!=="cdata"){if(L==="doctype"&&a(o[t],62))break;if(a(o[t],91)){if(a(o[t+1],60)){L="start";break}if(ge(o[t+1])){do{t=t+1;if(a(o[t],10))te=te+1;}while(t<N-1&&ge(o[t+1]))}if(a(o[t+1],60)){L="start";break}}}if(l){if(a(o[t],123)){ce=ce+1;}else if(a(o[t],125)){ce=ce-1;}}if(a(o[t],60)&&V===true&&ie===false&&W.length>1&&/>{2,3}/.test(m)===false){i.error=ee(`Invalid structure detected ${o.slice(t,t+8).join(y)}`);break}if(ge(o[t])===false&&Ae===true&&o[t]!==j){Ae=false;Q=0;M=ke;W.pop();if(t<N){do{if(a(o[t],10))i.lineNumber=i.lineNumber+1;if(e.preserveAttributes===true){W.push(o[t]);}else {ae.push(o[t]);}if(G(M,34)||G(M,39)){if(a(o[t-1],123)&&(a(o[t],37)||a(o[t],123))){de=true;}else if((a(o[t-1],125)||a(o[t-1],37))&&a(o[t],125)){de=false;}}if(l===false&&me===false&&de===true&&e.preserveAttributes===false){const Te=a(ae[0],61);do{t=t+1;if(a(o[t],10)){if(Te){de=false;M=y;Oe(false);break}}ae.push(o[t]);if(Te&&a(o[t+1],62)){de=false;M=y;z[z.length-1][0]+=ae.join(y);ae=[];break}if(Te===false&&a(o[t],125)&&(a(o[t-1],125)||a(o[t-1],37))){de=false;M=y;Oe(false);break}}while(t<N)}if(l===false&&(a(o[t],60)||a(o[t],62))&&(M===y||a(M,62))){if(M===y&&a(o[t],60)){M=">";J=1;}else if(a(M,62)){if(a(o[t],60)){J=J+1;}else if(a(o[t],62)){J=J-1;if(J===0){M=y;Q=0;Oe(false);break}}}}else if(M===y){if(o[t+1]===j){if(a.last(ae,47)||a.last(ae,63)&&L==="xml"){ae.pop();if(ie===true)W.pop();t=t-1;}if(ae.length>0)Oe(false);break}if(l===false&&a(o[t],123)&&a(o[t-1],61)){M="}";}else if(a(o[t],34)||a(o[t],39)){M=o[t];if(me===false&&de===false)me=true;if(a(o[t-1],61)&&(a(o[t+1],60)||a(o[t+1],123)&&a(o[t+2],37)||ge(o[t+1])&&G(o[t-1],61))){Q=t;}}else if(a(o[t],40)){M=")";oe=1;}else if(l){if((a(o[t-1],61)||ge(o[t-1]))&&a(o[t],123)){M="}";le=1;}else if(a(o[t],47)){if(a(o[t+1],42)){M="*/";}else if(o[t+1]==="/"){M="\n";}}}else if(a(W[0],123)&&a(o[t],123)&&(a(o[t+1],123)||a(o[t+1],37))){M=a(o[t+1],123)?"}}":o[t+1]+"}";}if(ge(o[t])&&M===y){if(a(ae[ae.length-2],61)){B=t+1;if(B<N){do{if(ge(o[B])===false){if(a(o[B],34)||a(o[B],39)){t=B-1;Qe=true;ae.pop();}break}B=B+1;}while(B<N)}}if(Qe===true){Qe=false;}else if(ce===0||ce===1&&a(ae[0],123)){ae.pop();if(ae.length>0)Oe(false);Ae=true;break}}}else if(a(o[t],40)&&a(M,41)){oe=oe+1;}else if(a(o[t],41)&&a(M,41)){oe=oe-1;if(oe===0){M=y;if(a(o[t+1],m.charCodeAt(0))){Oe(false);break}}}else if(l&&(a(M,125)||a(M,10)&&a(o[t],10)||M==="*/"&&a(o[t-1],42)&&a(o[t],47))){if(a(o[t],96)){t=t+1;do{ae.push(o[t]);if(a(o[t],96))break;t=t+1;}while(t<o.length)}if(a(M,125)){if(a(o[t],125)&&o[t]!==M){le=le+1;}else if(o[t]===M){le=le-1;if(le===0){ce=0;M=y;O=ae.join(y);if(e.preserveAttributes===false){if(l){if(!/^\s*$/.test(O))z.push([O,te]);}else {O=O.replace(/\s+/g,se);if(O!==se)z.push([O,te]);}}ae=[];te=1;break}}}else {ke=y;ue=true;O=ae.join(y);if(O!==se)z.push([O,te]);ae=[];te=a(M,10)?2:1;M=y;break}}else if(a(o[t],123)&&a(o[t+1],37)&&a(o[Q-1],61)&&(a(M,34)||a(M,39))){M=M+"{%";Q=0;}else if(a(o[t-1],37)&&a(o[t],125)&&(M==='"{%'||M==="'{%")){M=M[0];Q=0;}else if(a(o[t],60)&&a(m,62)&&a(o[Q-1],61)&&(a(M,34)||a(M,39))){M=M+"<";Q=0;}else if(a(o[t],62)&&(M==='"<'||M==="'<")){M=M.charAt(0);Q=0;}else if(Q===0&&G(M,62)&&(M.length<2||G(M,34)&&G(M,39))){H=0;B=M.length-1;if(B>-1){do{if(G(o[t-H],M.charCodeAt(B)))break;H=H+1;B=B-1;}while(B>-1)}if(B<0&&de===false&&me===true){me=false;Oe(true);if(o[t+1]===j)break}}else if(Q>0&&ge(o[t])===false){Q=0;}t=t+1;}while(t<N)}}else if(a(m,10)===false&&(a(o[t],34)||a(o[t],39))){M=o[t];}else if(L!=="comment"&&G(m,10)&&a(o[t],60)&&a(o[t+1],33)&&a(o[t+2],45)&&a(o[t+3],45)&&p.types[i.count]!=="conditional"){M="-->";}else if(a(o[t],123)&&G(W[0],123)&&G(m,10)&&(a(o[t+1],123)||a(o[t+1],37))){if(a(o[t+1],123)){M="}}";}else {M=o[t+1]+"}";if(ae.length<1&&(z.length<1||ge(o[t-1]))){W.pop();do{if(a(o[t],10))te=te+1;ae.push(o[t]);t=t+1;}while(t<N&&o[t-1]+o[t]!==M);ae.push("}");z.push([ae.join(y),te]);ae=[];te=1;M=y;}}if(M===m)M=y;}else if(V&&G(m,10)&&ge(o[t])&&G(o[t-1],60)){Ae=true;}else if(V&&l&&a(o[t],47)&&(a(o[t+1],42)||a(o[t+1],47))){Ae=true;W[W.length-1]=se;ke=a(o[t+1],42)?"*/":fe;ae.push(o[t]);}else if(de===false&&(o[t]===j||a(m,10)&&a(o[t+1],60))&&(W.length>m.length+1||a(W[0],93))&&(l===false||ce===0)){if(a(m,10)){if(ge(W[W.length-1])){do{W.pop();t=t-1;}while(ge(W[W.length-1]))}break}H=W.length;B=m.length-1;if(B>-1){do{H=H-1;if(W[H]!==m.charAt(B))break;B=B-1;}while(B>-1)}if(B<0){if(a(W[H],62)&&a(o[t],62)&&z.length>0){if(z[z.length-1][1]===0&&a(o[t-1],125)&&ge(o[t+1])){z[z.length-1][1]=a(o[t+1],32)?1:2;}}break}}}else if(a(o[t],M.charCodeAt(M.length-1))&&(l&&a(m,125)&&(G(o[t-1],92)||k(t)===false)||(l===false||G(m,125)))){H=0;B=M.length-1;if(B>-1){do{if(o[t-H]!==M.charAt(B))break;H=H+1;B=B-1;}while(B>-1)}if(B<0)M=y;}}t=t+1;}while(t<N);Q=0;O=W.join(y);F=Re(O);O=U(O);g.token=O;g.types=L;if(ie===false&&l===false)O=O.replace(/\s+/g,se);return v()}function D(){if(c.wrap>0&&l===true){let W=0;let B=i.count;let H=0;if(p.types[B].indexOf("attribute")>-1){do{W=W+p.token[B].length+1;B=B-1;}while(p.lexer[B]!=="markup"||p.types[B].indexOf("attribute")>-1);if(p.lines[B]===1)W=W+p.token[B].length+1;}else if(p.lines[B]===1){W=p.token[B].length+1;}H=B-1;if(W>0&&p.types[H]!=="script_end"){if(p.types[H].indexOf("attribute")>-1){do{W=W+p.token[H].length+1;H=H-1;}while(p.lexer[H]!=="markup"||p.types[H].indexOf("attribute")>-1);if(p.lines[H]===1)W=W+p.token[H].length+1;}else if(p.lines[H]===1){W=p.token[H].length+1;}}}i.linesSpace=0;}return A()}function _(){const m=t;const g=l===true&&a(p.token[i.count],123);let O=[];let j=y;let L=i.linesSpace;let F=y;if(n===true){if(g===true){F="script";}else if(i.scope.index>-1){F=Re(p.token[i.scope.index]);}else if(p.begin[i.count]>1){F=Re(p.token[p.begin[i.count]]);}else {F=Re(p.token[p.begin[i.count]]);}}const ne=p.types[i.count]==="template_start"&&p.token[i.count].indexOf("<!")===0&&p.token[i.count].indexOf("<![")<0&&p.token[i.count].charCodeAt(p.token[i.count].length-1)===91;const X={begin:i.scope.index,ender:-1,lexer:"markup",lines:L,stack:Re(i.scope.token),token:y,types:"content"};function re(){let Q=t-1;let ue=0;if(G(o[t-1],92))return false;if(Q>-1){do{if(G(o[Q],92))break;ue=ue+1;Q=Q-1;}while(Q>-1)}return ue%2===1}if(t<N){let Q=y;let ue=y;let Ce=y;let ie=0;do{if(a(o[t],10))i.lineNumber=i.lineNumber+1;if(n===true){if(ue===y){if(a(o[t],47)){if(a(o[t+1],42)){ue="*";}else if(a(o[t+1],47)){ue="/";}else if(F==="script"&&"([{!=,;.?:&<>".indexOf(o[t-1])>-1){if(l===false||G(o[t-1],60))ue="reg";}}else if((a(o[t],34)||a(o[t],39)||a(o[t],96))&&re()===false){ue=o[t];}else if(a(o[t],123)&&g===true){ie=ie+1;}else if(a(o[t],125)&&g===true){if(ie===0){Ce=O.join(y).replace(He,y).replace(_e,y);T.lexers.script(Ce);i.scope.index+=1;if(p.types[i.count]==="end"&&p.lexer[p.begin[i.count]-1]==="script"){X.lexer="script";X.token=e.correct===true?";":"x;";X.types="separator";d(p,X,y);X.lexer="markup";}X.token="}";X.types="script_end";d(p,X,y);i.structure.pop();break}ie=ie-1;}if(Me(p.token[i.count],3)===false){Q=o.slice(t,t+10).join(y).toLowerCase();if(F==="script"){Q=t===N-9?Q.slice(0,Q.length-1):Q.slice(0,Q.length-2);if(Q==="<\/script"){Ce=O.join(y).replace(He,y).replace(_e,y);t=t-1;if(O.length<1)break;if(/^<!--+/.test(Ce)&&/--+>$/.test(Ce)){X.token="<!--";X.types="comment";d(p,X,y);Ce=Ce.replace(/^<!--+/,y).replace(/--+>$/,y);T.lexers.script(Ce);X.token="-->";d(p,X,y);}else {c.language=S;T.lexers.script(Ce);if(S==="json"&&c.json.objectSort||S!=="json"&&c.script.objectSort){i.sortCorrect(0,i.count+1);}c.language="html";}break}}if(F==="style"){if(t===N-8){Q=Q.slice(0,Q.length-1);}else if(t===N-9){Q=Q.slice(0,Q.length-2);}else {Q=Q.slice(0,Q.length-3);}if(Q==="</style"){let V=O.join(y).replace(He,y).replace(_e,y);t=t-1;if(O.length<1)break;if(/^<!--+/.test(V)&&/--+>$/.test(V)){X.token="<!--";X.types="comment";d(p,X,y);V=V.replace(/^<!--+/,y).replace(/--+>$/,y);T.lexers.style(V);X.token="-->";d(p,X,y);}else {c.language=S;T.lexers.style(V);if(c.style.sortProperties===true)i.sortCorrect(0,i.count+1);c.language="html";}break}}}else {if(he.embed("liquid",F)){const V=o.slice(t).join(y);const z=V.search(new RegExp(`{%-?\\s*end${F}`));O=O.length>0?O.concat(O,o.slice(t,t+z)):o.slice(t,t+z);t=t+z;Q=o.slice(t).join(y).toLowerCase();if(he.liquid.embed[F].end(Q)){Q=Q.slice(0,Q.indexOf("%}")+2);Ce=O.join(y).replace(He,y).replace(_e,y);t=t+(Q.length-1);if(O.length<1)break;const be=et[he.liquid.embed[F].language];c.language=S;T.lexers[be](Ce);if(S==="json"&&c.json.objectSort===true||S==="javascript"&&c.script.objectSort===true||(S==="css"||S==="scss")&&c.style.sortProperties===true){i.sortCorrect(0,i.count+1);}c.language="liquid";X.token=Q;X.types="template_end";d(p,X,y);}break}}}else if(ue===o[t]&&re()===false&&(a(ue,34)||a(ue,39)||a(ue,96)||a(ue,42)&&a(o[t+1],47))){ue=y;}else if(a(ue,96)&&a(o[t],36)&&a(o[t+1],123)&&re()===false){ue="}";}else if(a(ue,125)&&a(o[t],125)&&re()===false){ue="`";}else if(a(ue,47)&&(a(o[t],10)||a(o[t],13))){ue=y;}else if(ue==="reg"&&a(o[t],47)&&re()===false){ue=y;}else if(a(ue,47)&&a(o[t],60)&&a(o[t-1],45)&&a(o[t-2],45)){Q=o.slice(t+1,t+11).join(y).toLowerCase();Q=Q.slice(0,Q.length-2);if(F==="script"&&Q==="<\/script")ue=y;Q=Q.slice(0,Q.length-1);if(F==="style"&&Q==="</style")ue=y;}}if(ne===true&&a(o[t],93)){t=t-1;L=0;j=O.join(y);j=j.replace(_e,y);X.token=j;d(p,X,y);break}if(n===false&&O.length>0&&(a(o[t],60)&&G(o[t+1],61)&&!/[\s\d]/.test(o[t+1])||a(o[t],91)&&a(o[t+1],37)||a(o[t],123)&&(l===true||a(o[t+1],123)||a(o[t+1],37)))){t=t-1;if(i.scope.token==="comment"){j=O.join(y);}else {j=O.join(y).replace(_e,y);}L=0;X.token=j;if(c.wrap>0&&e.preserveText===false){let We=function(){if(a(j[be],32)){z.push(j.slice(0,be));j=j.slice(be+1);je=j.length;be=V;return}do be=be-1;while(be>0&&G(j[be],32));if(be>0){z.push(j.slice(0,be));j=j.slice(be+1);je=j.length;be=V;}else {be=V;do be=be+1;while(be<je&&G(j[be],32));z.push(j.slice(0,be));j=j.slice(be+1);je=j.length;be=V;}};const{wrap:V}=c;const z=[];let be=V;let je=j.length;if(p.token[p.begin[i.count]]==="<a>"&&p.token[p.begin[p.begin[i.count]]]==="<li>"&&p.lines[p.begin[i.count]]===0&&i.linesSpace===0&&j.length<c.wrap){d(p,X,y);break}if(je<V){d(p,X,y);break}if(i.linesSpace<1&&i.count>-1){let qe=i.count;do{be=be-p.token[qe].length;if(p.types[qe].indexOf("attribute")>-1)be=be-1;if(p.lines[qe]>0&&p.types[qe].indexOf("attribute")<0)break;qe=qe-1;}while(qe>0&&be>0);if(be<1)be=j.indexOf(se);}j=O.join(y).replace(He,y).replace(_e,y).replace(/\s+/g,se);do We();while(be<je);if(j!==y&&G(j,32))z.push(j);j=c.crlf===true?z.join("\r\n"):z.join("\n");j=y+j+y;}else {const V=j.indexOf(fe);if(V>-1){X.token=j.slice(0,V);d(p,X,y);j=j.slice(V);const z=j.match(/^\n+/);if(z===null){X.lines=1;}else {X.lines=2;j=j.replace(He,y);}}}L=0;X.token=j;d(p,X,y);break}O.push(o[t]);t=t+1;}while(t<N)}if(t>m&&t<N){if(ge(o[t])){let Q=t;i.linesSpace=1;do{if(a(o[Q],10))i.linesSpace=i.linesSpace+1;Q=Q-1;}while(Q>m&&ge(o[Q]))}else {i.linesSpace=0;}}else if(t!==m||t===m&&n===false){j=O.join(y).replace(_e,y);L=0;if(X.token!==j){X.token=j;d(p,X,y);i.linesSpace=0;}}n=false;}function w(){i.linesSpace=1;do{if(a(o[t],10)){i.lineStart=t;i.linesSpace=i.linesSpace+1;i.lineNumber=i.lineNumber+1;}if(ge(o[t+1])===false)break;t=t+1;}while(t<N)}if(c.language==="html"||c.language==="liquid");do{if(ge(o[t])){w();}else if(n){_();}else if(a(o[t],60)){C(y);}else if(a(o[t],123)&&(l||a(o[t+1],123)||a(o[t+1],37))){C(y);}else if(a(o[t],45)&&a(o[t+1],45)&&a(o[t+2],45)){C("---");}else if(i.error){h();return p}else {_();}t=t+1;}while(t<N);if(E.end!==E.start&&i.error===y){if(E.end>E.start){const m=E.end-E.start;const g=m===1?y:"s";i.error=`Prettify Error (line ${E.line}):
${m} more end type${g} than start type${g}`;}else {const m=E.start-E.end;const g=m===1?y:"s";i.error=`Prettify Error (line ${E.line}):
${m} more start type${g} than end type${g}`;}}return p};T.beautify.markup=function(s){const f={};const c="markup";const p=i.data;const l=s.language==="jsx"||s.language==="tsx";const x=s.crlf===true?String.fromCharCode(13,10):String.fromCharCode(10);const e=s.markup;const $=e.forceAttribute;const E=T.end<1||T.end>p.token.length?p.token.length:T.end+1;const o={is:(k,d)=>p.types[k]===d,not:(k,d)=>p.types[k]!==d,idx:(k,d)=>k>-1&&(p.types[k]||y).indexOf(d)};const N={is:(k,d)=>p.token[k]===d,not:(k,d)=>p.token[k]!==d};let t=T.start;let n=-1;let S=0;let Z=0;let r=isNaN(s.indentLevel)?0:Number(s.indentLevel);const U=function(){const k=T.start>0?Array(T.start).fill(0,0,T.start):[];function d(){let m=t+1;let g=0;if(o.is(m,void 0))return m-1;if(o.is(m,"comment")||t<E-1&&o.idx(m,"attribute")>-1){do{if(o.is(m,"jsx_attribute_start")){g=m;do{if(o.is(m,"jsx_attribute_end")&&p.begin[m]===g)break;m=m+1;}while(m<E)}else if(o.not(m,"comment")&&o.idx(m,"attribute")<0)return m;m=m+1;}while(m<E)}return m}function P(){const m=p.begin[t];let g=t;do{g=g-1;if(N.is(g,"</li>")&&N.is(g-1,"</a>")&&p.begin[p.begin[g]]===m&&p.begin[g-1]===p.begin[g]+1){g=p.begin[g];}else {return}}while(g>m+1);g=t;do{g=g-1;if(o.is(g+1,"attribute")){k[g]=-10;}else if(N.not(g,"</li>")){k[g]=-20;}}while(g>m+1)}function ee(){let m=t;let g=false;if(p.lines[t+1]===0&&e.forceIndent===false){do{if(p.lines[m]>0){g=true;break}m=m-1;}while(m>n);m=t;}else {g=true;}if(g===true){if(o.is(p.begin[m]-1,"template")){k[p.begin[m]-1]=r;}const O=o.is(S,"end")||o.is(S,"template_end")?r+1:r;do{k.push(O);m=m-1;}while(m>n);if(O===r+1)k[t]=r;if(o.is(m,"attribute")||o.is(m,"template_attribute")||o.is(m,"jsx_attribute_start")){k[p.begin[m]]=O;}else {k[m]=O;}}else {do{k.push(-20);m=m-1;}while(m>n);k[m]=-20;}n=-1;}function K(){let m=r;if(e.forceIndent===true||e.forceAttribute===true){k.push(r);return}if(S<E&&(o.idx(S,"end")>-1||o.idx(S,"start")>-1)&&p.lines[S]>0){k.push(r);m=m+1;if(t>0&&o.is(t,"singleton")&&o.idx(t-1,"attribute")>-1&&o.is(p.begin[t-1],"singleton")){if(p.begin[t]<0||o.is(p.begin[t-1],"singleton")&&p.begin[p.ender[t]-1]!==t){k[t-1]=r;}else {k[t-1]=r+1;}}}else if(t>0&&o.is(t,"singleton")&&o.idx(t-1,"attribute")>-1){k[t-1]=r;Z=p.token[t].length;k.push(-10);}else if(p.lines[S]===0){k.push(-20);}else if((s.wrap===0||t<E-2&&p.token[t]!==void 0&&p.token[t+1]!==void 0&&p.token[t+2]!==void 0&&p.token[t].length+p.token[t+1].length+p.token[t+2].length+1>s.wrap&&o.idx(t+2,"attribute")>-1||p.token[t]!==void 0&&p.token[t+1]!==void 0&&p.token[t].length+p.token[t+1].length>s.wrap)&&(o.is(t+1,"singleton")||o.is(t+1,"template"))){k.push(r);}else {Z=Z+1;k.push(-10);}if(t>0&&o.idx(t-1,"attribute")>-1&&p.lines[t]<1){k[t-1]=-20;}if(Z>s.wrap){let g=t;let O=Math.max(p.begin[t],0);if(o.is(t,"content")&&e.preserveText===false){let j=0;const L=p.token[t].replace(/\s+/g,se).split(se);do{g=g-1;if(k[g]<0){j=j+p.token[g].length;if(k[g]===-10)j=j+1;}else {break}}while(g>0);g=0;O=L.length;do{if(L[g].length+j>s.wrap){L[g]=x+L[g];j=L[g].length;}else {L[g]=` ${L[g]}`;j=j+L[g].length;}g=g+1;}while(g<O);if(a(L[0],32)){p.token[t]=L.join(y).slice(1);}else {k[t-1]=m;p.token[t]=L.join(y).replace(x,y);}if(p.token[t].indexOf(x)>0){Z=p.token[t].length-p.token[t].lastIndexOf(x);}}else {do{g=g-1;if(k[g]>-1){Z=p.token[t].length;if(p.lines[t+1]>0)Z=Z+1;return}if(o.idx(g,"start")>-1){Z=0;return}if(p.lines[g+1]>0&&(o.not(g,"attribute")||o.is(g,"attribute")&&o.is(g+1,"attribute"))){if(o.not(g,"singleton")||o.is(g,"attribute")&&o.is(g+1,"attribute")){Z=p.token[t].length;if(p.lines[t+1]>0)Z=Z+1;break}}}while(g>O);k[g]=m;}}}function h(){const m=t;if(p.types[m-1]==="script_start"&&a(p.token[m-1],123)){k[m-1]=-20;}do{if(p.lexer[t+1]===c&&p.begin[t+1]<m&&o.not(t+1,"start")&&o.not(t+1,"singleton"))break;k.push(0);t=t+1;}while(t<E);f[m]=t;if(p.types[t+1]==="script_end"&&p.token[t+1]==="}"){k.push(-20);}else {k.push(r-1);}S=d();if(p.lexer[S]===c&&p.stack[t].indexOf("attribute")<0&&(p.types[S]==="end"||p.types[S]==="template_end")){r=r-1;}}function C(){function m(re){const we=p.token[re].replace(/\s+/g,se).split(se);const Q=we.length;let ue=1;let Ce=we[0].length;do{if(Ce+we[ue].length>s.wrap){Ce=we[ue].length;we[ue]=x+we[ue];}else {we[ue]=` ${we[ue]}`;Ce=Ce+we[ue].length;}ue=ue+1;}while(ue<Q);p.token[re]=we.join(y);}let g=t;const O=t-1;let j=false;let L=false;let F=p.types.indexOf("end",O+1);let ne=p.token[O].length+1;let X=(()=>{if(o.idx(t,"start")>0){let re=t;do{if(o.is(re,"end")&&p.begin[re]===t){if(re<E-1&&o.idx(re+1,"attribute")>-1){j=true;break}}re=re+1;}while(re<E)}else if(t<E-1&&o.idx(t+1,"attribute")>-1){j=true;}if(o.is(S,"end")||o.is(S,"template_end")){return r+(o.is(O,"singleton")?2:1)}if(o.is(O,"singleton"))return r+1;return r})();if(j===false&&o.is(t,"comment_attribute")){k.push(r);k[O]=p.types[O]==="singleton"?r+1:r;return}if(X<1)X=1;if(F>-1){const re=p.types.indexOf("start",O+1);if(re>-1&&re<F){F=Math.abs(O+1-re);}else {F=Math.abs(O+1-F);}}do{Z=Z+p.token[t].length+1;if(p.types[t].indexOf("attribute")>0){if(o.is(t,"comment_attribute")){k.push(X);}else if(o.idx(t,"start")>0&&o.idx(t,"template")<0){L=true;if(t<E-2&&p.types[t+2].indexOf("attribute")>0){k.push(-20);t=t+1;f[t]=t;}else {if(O===t-1&&j===false){if(l){k.push(-20);}else {k.push(X);}}else {if(l){k.push(-20);}else {k.push(X+1);}}if(p.lexer[t+1]!==c){t=t+1;h();}}}else if(o.idx(t,"end")>0){if(k[t-1]!==-20)k[t-1]=k[p.begin[t]]-1;if(p.lexer[t+1]!==c){k.push(-20);}else {k.push(X);}}else {k.push(X);}}else if(o.is(t,"attribute")){ne=ne+p.token[t].length+1;if(e.preserveAttributes===true){k.push(-10);}else if(e.forceAttribute===true||e.forceAttribute>=1||L===true||t<E-1&&o.idx(t+1,"attribute")>0){if(e.forceAttribute===false&&p.lines[t]===1){k.push(-10);}else {if(e.forceAttribute===true){k.push(X);}else {k.push(-10);}}}else {k.push(-10);}}else if(p.begin[t]<O+1){break}t=t+1;}while(t<E);t=t-1;if(o.idx(t,"template")<0&&o.idx(t,"end")>0&&o.idx(t,"attribute")>0&&o.not(O,"singleton")&&k[t-1]>0&&j===true){k[t-1]=k[t-1]-1;}if(k[t]!==-20){if(l===true&&o.idx(O,"start")>-1&&o.is(t+1,"script_start")){k[t]=X;}else {if(N.is(t,"/")&&k[t-1]!==10){k[t-1]=-10;}else {k[t]=k[O];}}}if(e.forceAttribute===true){Z=0;k[O]=1;}else if(e.forceAttribute>=1){if(F>=e.forceAttribute){k[O]=X;let re=t-1;do{if(o.is(re,"template")&&k[re]===-10){k[re]=X;}else if(o.is(re,"attribute")&&k[re]===-10){k[re]=X;}re=re-1;}while(re>O)}else {k[O]=-10;}}else {k[O]=-10;}if(e.preserveAttributes===true||N.is(O,"<%xml%>")||N.is(O,"<?xml?>")){Z=0;return}g=t;if(g>O+1){if(e.selfCloseSpace===false)ne=ne-1;if(ne>s.wrap&&s.wrap>0&&e.forceAttribute===false){if(e.forceLeadAttribute===true){k[O]=X;g=g-1;}Z=p.token[t].length;do{if(p.token[g].length>s.wrap&&ge(p.token[g]))m(g);if(o.idx(g,"template")>-1&&k[g]===-10){k[g]=X;}else if(o.is(g,"attribute")&&k[g]===-10){k[g]=X;}g=g-1;}while(g>O)}}else if(s.wrap>0&&o.is(t,"attribute")&&p.token[t].length>s.wrap&&ge(p.token[t])){m(t);}}function _(){const m=p.token[t].split(fe);const g=a(p.token[t][2],45);let O=0;let j=0;let L=0;let F=y;let ne=y;if(k.length>=2){O=k[k.length-2]+1;}else if(k.length===1){O=k[k.length-1]+1;}let X=g?Be(O*s.indentSize):Be(O*s.indentSize-1);do{if(j===0){F=m[j].trimEnd();if(F.endsWith(",")){ne=","+se;m[j]=F.slice(0,-1);}else if(F.endsWith("|")){ne="|"+se;m[j]=F.slice(0,-1);}else if(/^{[{%]-?$/.test(F)){m[j]=F;j=j+1;do{F=m[j].trim();if(F.length>0)break;m.splice(j,1);if(j>m.length)break}while(j<m.length);const re=m[m.length-1].trim();if(/^-?[%}]}$/.test(re)){L=1;if(g){m[j]=X+F;m[m.length-1]=X.slice(2)+re;X=X.slice(2)+Be(s.indentSize);}else {m[j]=X+Be(s.indentSize)+F;m[m.length-1]=X.slice(1)+re;X=X+Be(s.indentSize);}}else {m[j]=X+Be(s.indentSize)+F;}}else if(F.endsWith(",")===false&&a(m[j+1].trimStart(),44)&&e.lineBreakSeparator==="after"){m[j]=F+",";}j=j+1;continue}F=m[j].trim();if(a(F,44)&&e.lineBreakSeparator==="after"){if(F.endsWith("%}")){F=se+F.slice(1);}else {F=se+F.slice(1)+",";}}if(F.length===0){m.splice(j,1);continue}if(j===m.length-1&&L===1)break;if(F.endsWith(",")&&e.lineBreakSeparator==="before"){m[j]=X+ne+F.slice(0,-1);ne=","+se;}else if(F.endsWith("|")){m[j]=X+ne+F.slice(0,-1);ne=X+"|"+se;}else {m[j]=X+ne+F;ne=y;}j=j+1;}while(j<m.length);if(e.normalizeSpacing===true){p.token[t]=m.join(fe).replace(/\s*-?[%}]}$/,re=>re.replace(/\s*/,se));}else {const re=Be(p.lines[t]-1===-1?s.indentSize:p.lines[t]-1);p.token[t]=m.join(fe).replace(/\s*-?[%}]}$/,we=>we.replace($e,re));}}function w(m){return o.is(m,"template")&&p.token[m].indexOf(x)>0&&/{%-?\s*\bliquid/.test(p.token[m])===false}do{if(p.lexer[t]===c){if(o.is(t,"doctype"))k[t-1]=r;if(o.idx(t,"attribute")>-1){if(i.attributes.has(p.begin[t])&&$!==true){e.forceAttribute=true;}else if($!==e.forceAttribute){e.forceAttribute=$;}C();}else if(o.is(t,"comment")){if(n<0)n=t;if(o.not(t+1,"comment")||t>0&&o.idx(t-1,"end")>-1){ee();}}else if(o.not(t,"comment")){S=d();if(o.is(S,"end")||o.is(S,"template_end")){if(i.attributes.has(p.begin[t])||p.types[p.begin[t-1]]==="singleton"&&p.types[t-1]==="attribute");r=r-1;if(o.is(S,"template_end")&&o.is(p.begin[S]+1,"template_else")){r=r-1;}if(N.is(t,"</ol>")||N.is(t,"</ul>")||N.is(t,"</dl>"))P();}if(o.is(t,"script_end")&&o.is(S,"end")){if(p.lines[S]<1){k.push(-20);}else if(p.lines[S]>1){k.push(r);}else {k.push(-10);}}else if((e.forceIndent===false||e.forceIndent===true&&o.is(S,"script_start"))&&(o.is(t,"content")||o.is(t,"singleton")||o.is(t,"template"))){Z=Z+p.token[t].length;if(p.lines[S]>0&&o.is(S,"script_start")){k.push(-10);}else if(s.wrap>0&&(o.idx(t,"template")<0||S<E&&o.idx(t,"template")>-1&&o.idx(S,"template")<0)){K();}else if(S<E&&(o.idx(S,"end")>-1||o.idx(S,"start")>-1)&&(p.lines[S]>0||o.idx(t,"template_")>-1)){k.push(r);if(w(t))_();}else if(p.lines[S]===0){k.push(-20);if(w(t))_();}else if(p.lines[S]===1){k.push(-10);}else {k.push(r);if(w(t))_();}}else if(o.is(t,"start")||o.is(t,"template_start")){r=r+1;if(o.is(t,"template_start")&&o.is(S,"template_else")){r=r+1;}if(l===true&&N.is(t+1,"{")){if(p.lines[S]===0){k.push(-20);}else if(p.lines[S]>1){k.push(r);}else {k.push(-10);}}else if(o.is(t,"start")&&o.is(S,"end")||o.is(t,"template_start")&&o.is(S,"template_end")){k.push(-20);}else if(o.is(t,"start")&&o.is(S,"script_start")){k.push(-10);}else if(e.forceIndent===true){if(p.types[t-1]==="attribute"&&p.types[p.begin[t-1]]==="singleton");k.push(r);}else if(p.lines[S]===0&&(o.is(S,"content")||o.is(S,"singleton")||o.is(t,"start")&&o.is(S,"template"))){k.push(-20);}else {k.push(r);}}else if(e.forceIndent===false&&p.lines[S]===0&&(o.is(S,"content")||o.is(S,"singleton"))){k.push(-20);}else if(o.is(t+2,"script_end")){k.push(-20);}else if(o.is(t,"template_else")){k[t-1]=r-1;if(o.is(S,"template_end")){k[t-1]=r-1;}k.push(r);}else if(e.forceIndent===true&&(o.is(t,"content")&&(o.is(S,"template")||o.is(S,"content"))||o.is(t,"template")&&(o.is(S,"content")||o.is(S,"template")))){if(p.lines[S]<1){k.push(-20);}else if(p.lines[S]>1){k.push(r);}else {k.push(-10);}}else {k.push(r);}}if(o.not(t,"content")&&o.not(t,"singleton")&&o.not(t,"template")&&o.not(t,"attribute")){Z=0;}}else {Z=0;h();}t=t+1;}while(t<E);return k}();return function(){const k=[];const d=function(){const _=[s.indentChar];const w=s.indentSize-1;let m=0;if(m<w){do{_.push(s.indentChar);m=m+1;}while(m<w)}return _.join(y)}();function P(_){const w=[];const m=s.preserveLine+1;const g=Math.min(p.lines[t+1]-1,m);let O=0;if(_<0)_=0;do{w.push(x);O=O+1;}while(O<g);if(_>0){O=0;do{w.push(d);O=O+1;}while(O<_)}return w.join(y)}function ee(){let _=p.token[t].split(x);const w=p.lines[t+1];if(o.is(t,"comment")&&s.preserveComment===false){_=_.map(j=>j.trimStart());}const m=U[t-1]>-1?o.is(t,"attribute")?U[t-1]+1:U[t-1]:(()=>{let j=t-1;let L=j>-1&&o.idx(j,"start")>-1;if(U[t]>-1&&o.is(t,"attribute"))return U[t]+1;do{j=j-1;if(U[j]>-1)return o.is(t,"content")&&L===false?U[j]:U[j]+1;if(o.idx(j,"start")>-1)L=true;}while(j>0);return j===-2?0:1})();let g=0;p.lines[t+1]=0;const O=_.length-1;do{if(o.is(t,"comment")){if(g===0&&e.commentNewline){if(s.preserveLine===0){k.push(P(m));}else {if(k[k.length-1].lastIndexOf(fe)+1<2)k.push(P(m));}}if(_[g]!==y){if(g>0&&s.commentIndent)k.push(d);if(_[g+1].trimStart()!==y){k.push(_[g],P(m));}else {k.push(_[g],fe);}}else {if(_[g+1].trimStart()===y){k.push(fe);}else {k.push(P(m));}}}else {k.push(_[g]);k.push(P(m));}g=g+1;}while(g<O);p.lines[t+1]=w;k.push(_[O]);if(o.is(t,"comment")&&(o.is(t+1,"template_end")||o.is(t-1,"template_end"))){k.push(P(U[t]));}else if(U[t]===-10){k.push(se);}else if(U[t]>1){k.push(P(U[t]));}}function K(){const _=/(?!=)\/?>$/;const w=p.token[t];const m=_.exec(w);if(m===null)return;let g=t+1;let O=false;let j=e.selfCloseSpace===true&&m!==null&&m[0]==="/>"?se:y;p.token[t]=w.replace(_,y);do{if(o.is(g,"jsx_attribute_end")&&p.begin[p.begin[g]]===t){O=false;}else if(p.begin[g]===t){if(o.is(g,"jsx_attribute_start")){O=true;}else if(o.idx(g,"attribute")<0&&O===false){break}}else if(O===false&&(p.begin[g]<t||o.idx(g,"attribute")<0)){break}g=g+1;}while(g<E);if(o.is(g-1,"comment_attribute"))j=P(U[g-2]-1);if(!i.attributes.has(t)){p.token[g-1]=`${p.token[g-1]}${j}${m[0]}`;}if(o.is(g,"comment")&&p.lines[t+1]<2)U[t]=-10;}t=T.start;let h=s.indentLevel;let C=y;do{if(p.lexer[t]===c){if((o.is(t,"start")||o.is(t,"singleton")||o.is(t,"xml"))&&o.idx(t,"attribute")<0&&t<E-1&&p.types[t+1]!==void 0&&o.idx(t+1,"attribute")>-1){K();}if(N.not(t,void 0)&&p.token[t].indexOf(x)>0&&(o.is(t,"content")&&e.preserveText===false||o.is(t,"comment")||o.is(t,"attribute"))){ee();}else if(s.preserveComment===false&&o.is(t,"comment")&&e.commentNewline&&(s.preserveLine===0||k[k.length-1].lastIndexOf(fe)+1<2)){k.push(P(U[t]),p.token[t],P(U[t]));}else {k.push(p.token[t]);if(U[t]===-10&&t<E-1){k.push(se);}else if(U[t]>-1){h=U[t];k.push(P(U[t]));}}}else {T.start=t;T.end=f[t];s.indentLevel=h;const _=s.language;const w=a(p.token[t],123)?"liquid":"html";const m=ht(p.stack[t]);let g=false;if(w==="liquid"&&m in he[w].embed&&"language"in he[w].embed[m]){g=he[w].embed[m].language==="json";if(g)s.language="json";}C=T.beautify[p.lexer[t]](s).replace($e,y);k.push(C);if(C.endsWith(fe)){if(h-1>0)k.push(Be(h-1,d));}else {if(e.forceIndent===true||U[T.iterator]>-1&&f[t]>t){k.push(P(U[T.iterator]));}}t=T.iterator;s.indentLevel=0;if(g)s.language=_;}t=t+1;}while(t<E);T.iterator=E-1;if(k[0]===x||a(k[0],32))k[0]=y;return k.join(y)}()};T.beautify.style=s=>{const f=[];const c=T.data;const p=s.crlf===true?"\r\n":"\n";const l=T.end>0?T.end+1:c.token.length;const x=s.preserveLine+1;const e=(()=>{let S=0;const Z=[];do{Z.push(s.indentChar);S=S+1;}while(S<s.indentSize);return Z.join(y)})();let $=s.indentLevel;let E=s.wrap>0?s.wrap:0;let o=T.start;let N=[y,y];function t(S){const Z=[];const r=(()=>{if(o===l-1)return 1;if(c.lines[o+1]-1>x)return x;if(c.lines[o+1]>1)return c.lines[o+1]-1;return 1})();let U=0;if(S<0)S=0;do{Z.push(p);U=U+1;E=$;}while(U<r);if(S>0){U=0;do{Z.push(e);U=U+1;}while(U<S)}f.push(Z.join(y));}function n(){const S=c.begin[o];const Z=c.token[S];const r=c.token[o];const U=[];let k=o;let d=0;let P;let ee=0;if(S<0||k<=S)return;do{k=k-1;if(c.begin[k]===S){if(a(c.token[k],58)){P=[k-1,0];do{k=k-1;if((a(c.token[k],59)&&Z==="{"||a(c.token[k],44)&&Z==="(")&&c.begin[k]===S||c.token[k]===r&&c.begin[c.begin[k]]===S){break}if(c.types[k]!=="comment"&&c.types[k]!=="selector"&&c.token[k]!==Z&&c.begin[k]===S){P[1]=c.token[k].length+P[1];}}while(k>S+1);if(P[1]>ee)ee=P[1];U.push(P);}}else if(c.types[k]==="end"){if(k<c.begin[k])break;k=c.begin[k];}}while(k>S);k=U.length;if(k<2)return;do{k=k-1;if(U[k][1]<ee){d=U[k][1];do{c.token[U[k][0]]=c.token[U[k][0]]+" ";d=d+1;}while(d<ee)}}while(k>0)}if(s.script.vertical===true&&s.style.compressCSS===false){o=l;do{o=o-1;if(a(c.token[o],125)||a(c.token[o],41))n();}while(o>0);o=T.start;}do{if(c.types[o]==="property")E=$+c.token[o].length;if(c.types[o+1]==="end"||c.types[o+1]==="template_end"||c.types[o+1]==="template_else"){$=$-1;}if(c.types[o]==="template"&&c.lines[o]===0){f.push(c.token[o]);if(c.types[o+1]==="template"&&c.lines[o+1]>0)t($);}else if(c.types[o]==="template"&&c.lines[o]>0){if(c.types[o-2]!=="property"&&c.types[o-1]!=="colon"){E=$;f.push(c.token[o]);if(c.types[o+1]!=="separator"&&G(c.token[o+1],59)){t($);}}else if(c.types[o-2]==="property"&&c.types[o-1]==="colon"&&c.types[o+1]==="separator"&&a(c.token[o+1],44)){E=E+c.token[o].length;if(E>s.wrap)t($);f.push(c.token[o]);do{o=o+1;f.push(c.token[o]);if(c.lines[o+1]>0)t($);}while(c.types[o]!=="separator"&&G(c.token[o],59));if(a(c.token[o],59)&&c.types[o]==="separator"){f.push(c.token[o]);if(c.lines[o+1]>0)t($);o=o+1;continue}}else {E=E+c.token[o].length;if(s.wrap>0&&E>s.wrap){t($);f.push(c.token[o]);}else {f.push(c.token[o]);}}}else if(c.types[o]==="template_else"){f.push(c.token[o]);$=$+1;t($);}else if(c.types[o]==="start"||c.types[o]==="template_start"){$=$+1;f.push(c.token[o]);if(c.types[o+1]!=="end"&&c.types[o+1]!=="template_end"&&(s.style.compressCSS===false||s.style.compressCSS===true&&c.types[o+1]==="selector")){t($);}}else if(a(c.token[o],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&c.types[o+1]==="selector")||(c.types[o]==="end"||c.types[o]==="template_end"||c.types[o]==="comment")){f.push(c.token[o]);if(c.types[o+1]==="value"){if(c.lines[o+1]===1){f.push(" ");}else if(c.lines[o+1]>1){t($);}}else if(c.types[o+1]!=="separator"){if(c.types[o+1]!=="comment"||c.types[o+1]==="comment"&&c.lines[o+1]>1){t($);}else {f.push(se);}}}else if(a(c.token[o],58)){f.push(c.token[o]);if(s.style.compressCSS===false){if(c.types[o]!=="selector"&&G(c.token[o+1],44))f.push(se);}}else if(c.types[o]==="selector"){if(s.style.classPadding===true&&c.types[o-1]==="end"&&c.lines[o]<3){f.push(p);}if(c.token[o].indexOf("and(")>0){c.token[o]=c.token[o].replace(/and\(/,"and (");f.push(c.token[o]);}else if(c.token[o].indexOf("when(")>0){N=c.token[o].split("when(");f.push(N[0].replace(/\s+$/,y));t($+1);f.push(`when (${N[1]}`);}else {f.push(c.token[o]);}if(c.types[o+1]==="start"){if(s.style.compressCSS===false){f.push(" ");}}}else if(a(c.token[o],44)){f.push(c.token[o]);if(c.types[o+1]==="selector"||c.types[o+1]==="property"){t($);}else if(s.style.compressCSS===false){f.push(" ");}}else if(c.stack[o]==="map"&&a(c.token[o+1],41)&&o-c.begin[o]>5){f.push(c.token[o]);t($);}else if(c.token[o]==="x;"){t($);}else if((c.types[o]==="variable"||c.types[o]==="function")&&s.style.classPadding===true&&c.types[o-1]==="end"&&c.lines[o]<3){f.push(p);f.push(c.token[o]);}else if(G(c.token[o],59)||a(c.token[o],59)&&(s.style.compressCSS===false||s.style.compressCSS===true&&G(c.token[o+1],125))){f.push(c.token[o]);}o=o+1;}while(o<l);T.iterator=l-1;return f.join(y)};T.beautify.script=s=>{const f=Ne({},s.script);if(s.language==="json"){s.script=Ne(s.script,s.json,{quoteConvert:"double",endComma:"never",noSemicolon:true,vertical:false});}const c=new Set(["ActiveXObject","ArrayBuffer","AudioContext","Canvas","CustomAnimation","DOMParser","DataView","Date","Error","EvalError","FadeAnimation","FileReader","Flash","Float32Array","Float64Array","FormField","Frame","Generator","HotKey","Image","Iterator","Intl","Int16Array","Int32Array","Int8Array","InternalError","Loader","Map","MenuItem","MoveAnimation","Notification","ParallelArray","Point","Promise","Proxy","RangeError","Rectangle","ReferenceError","Reflect","RegExp","ResizeAnimation","RotateAnimation","Set","SQLite","ScrollBar","Set","Shadow","StopIteration","Symbol","SyntaxError","Text","TextArea","Timer","TypeError","URL","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakSet","Web","Window","XMLHttpRequest"]);const x=Je(null);const e=T.data;const $="script";const E=T.scopes;const o=T.end<1||T.end>e.token.length?e.token.length:T.end+1;const N=(()=>{let n=T.start;let S=isNaN(s.indentLevel)?0:Number(s.indentLevel);let Z=false;let r=false;let U="";let k="";let d=e.types[0];let P=e.token[0];const ee=[-1];const K=[];const h=T.start>0?Array(T.start).fill(0,0,T.start):[];const C=[];const _=[[]];const w=[];const m=[];const g=[];const O=[false];const j=[];const L=[];function F(){ne(false,false);const I=s.commentIndent===true?S:0;if(Z===false&&/\/\u002a\s*global\s/.test(e.token[n])){const b=e.token[n].replace(/\/\u002a\s*global\s+/,"").replace(/\s*\u002a\/$/,"").split(",");let u=b.length;do{u=u-1;b[u]=b[u].replace(/\s+/g,"");if(b[u]!=="")E.push([b[u],-1]);}while(u>0)}if(e.types[n-1]==="comment"||e.types[n+1]==="comment"){h[n-1]=I;}else if(e.lines[n]<2){let b=n+1;if(e.types[b]==="comment"){do{b=b+1;}while(b<o&&e.types[b]==="comment")}if(n<o-1&&e.stack[b]!=="block"&&(e.token[b]==="{"||e.token[b]==="x{")){let u=E.length;e.begin.splice(n,0,e.begin[b]);e.ender.splice(n,0,e.ender[b]);e.lexer.splice(n,0,e.lexer[b]);e.lines.splice(n,0,e.lines[b]);e.stack.splice(n,0,e.stack[b]);e.token.splice(n,0,e.token[b]);e.types.splice(n,0,e.types[b]);if(u>0){do{u=u-1;if(E[u][1]===b){E[u][1]=n;}else if(E[u][1]<n){break}}while(u>0)}b=b+1;e.begin.splice(b,1);e.ender.splice(b,1);e.lexer.splice(b,1);e.lines.splice(b,1);e.stack.splice(b,1);e.token.splice(b,1);e.types.splice(b,1);u=n+1;do{e.begin[u]=n;e.stack[u]=e.stack[b];u=u+1;}while(u<b);u=u+1;do{if(e.begin[u]===e.begin[b]){e.begin[u]=n;if(e.types[u]==="end"){break}}u=u+1;}while(u<o-1);e.begin[b]=n;n=n-1;}else {h[n-1]=-10;if(e.stack[n]==="paren"||e.stack[n]==="method"){h.push(S+2);}else {h.push(S);}if(s.commentIndent===true&&h[n]>-1&&e.lines[n]<3){e.lines[n]=3;}}if(e.types[n+1]!=="comment")Z=true;return}else if(e.token[n-1]===","){h[n-1]=I;}else if(P==="="&&e.types[n-1]!=="comment"&&/^(\/\*\*\s*@[a-z_]+\s)/.test(k)===true){h[n-1]=-10;}else if(P==="{"&&e.types[n-1]!=="comment"&&e.lines[0]<2){if(e.stack[n]==="function"){h[n-1]=I;}else {h[n-1]=/\n/.test(k)?I:-10;}}else {h[n-1]=I;}if(e.types[n+1]!=="comment")Z=true;if(e.token[e.begin[n]]==="("){h.push(S+1);}else {h.push(S);}if(h[n]>-1&&e.lines[n]<3){if(e.types[n-1]==="comment"&&k.startsWith("//")){e.lines[n]=2;}else {e.lines[n]=3;}}if(s.script.commentNewline===true&&k.startsWith("//")===false&&e.lines[n]>=3){e.lines[n]=2;}}function ne(I,b){let u=n-1;let v=I===true?0:1;const R=_[_.length-1]===void 0?[]:_[_.length-1];const A=b===false&&e.stack[n]==="array"&&I===true&&k!=="[";if(m[m.length-1]===false||e.stack[n]==="array"&&s.script.arrayFormat==="inline"||e.stack[n]==="object"&&s.script.objectIndent==="inline"){return}m[m.length-1]=false;do{if(e.types[u]==="end"){v=v+1;}else if(e.types[u]==="start"){v=v-1;}if(e.stack[u]==="global")break;if(v===0){if(e.stack[n]==="class"||e.stack[n]==="map"||A===false&&(I===false&&e.token[u]!=="("&&e.token[u]!=="x("||I===true&&e.token[u]===",")){if(e.types[u+1]==="template_start"){if(e.lines[u]<1){h[u]=-20;}else {h[u]=S-1;}}else if(R.length>0&&R[R.length-1]>-1){h[u]=S-1;}else {h[u]=S;}}else if(e.stack[n]==="array"&&e.types[n]==="operator"){if(e.token[u]===",")h[u]=S;if(u===e.begin[n])break}if(I===false)break}if(v<0){if(e.types[u+1]==="template_start"||e.types[u+1]==="template_string_start"){if(e.lines[u]<1){h[u]=-20;}else {h[u]=S-1;}}else if(R.length>0&&R[R.length-1]>-1){h[u]=S-1;}else {h[u]=S;}break}u=u-1;}while(u>-1)}function X(){const I=_[_.length-1]===void 0?[]:_[_.length-1];const b=()=>{let u=n;let v=false;const R=e.begin[u];do{u=u-1;if(e.lexer[u]==="markup"){v=true;break}if(e.begin[u]!==R)u=e.begin[u];}while(u>R);if(v===true){u=n;do{u=u-1;if(e.begin[u]!==R){u=e.begin[u];}else if(e.token[u]===","){h[u]=S+1;}}while(u>R);h[R]=S+1;h[n-1]=S;}else {h[n-1]=-20;}};if(k===")"&&e.token[n+1]==="."&&I[I.length-1]>-1&&e.token[I[0]]!==":"){let u=e.begin[n];let v=false;let R=false;do{u=u-1;}while(u>0&&h[u]<-9);v=h[u]===S;u=n+1;do{u=u+1;if(e.token[u]==="{"){R=true;break}if(e.begin[u]===e.begin[n+1]&&(e.types[u]==="separator"||e.types[u]==="end")){break}}while(u<o);if(v===false&&R===true&&_.length>1){_[_.length-2].push(e.begin[n]);S=S+1;}}if(d!=="separator")Q();if(e.token[n+1]===","&&(e.stack[n]==="object"||e.stack[n]==="array")){ne(true,false);}if(e.token[e.begin[n]-1]===","&&(e.token[n+1]==="}"||e.token[n+1]==="]")&&(e.stack[n]==="object"||e.stack[n]==="array")){ne(true,false);}if(e.stack[n]!=="attribute"){if(k!==")"&&k!=="x)"&&(e.lexer[n-1]!=="markup"||e.lexer[n-1]==="markup"&&e.token[n-2]!=="return")){S=S-1;}if(k==="}"&&e.stack[n]==="switch"&&s.script.noCaseIndent===false){S=S-1;}}if(k==="}"||k==="x}"){if(e.types[n-1]!=="comment"&&P!=="{"&&P!=="x{"&&d!=="end"&&d!=="string"&&d!=="number"&&d!=="separator"&&P!=="++"&&P!=="--"&&(n<2||e.token[n-2]!==";"||e.token[n-2]!=="x;"||P==="break"||P==="return")){let u=n-1;let v=false;const R=e.begin[n];const A=K.length;do{if(e.begin[u]===R){if(e.token[u]==="="||e.token[u]===";"||e.token[u]==="x;"){v=true;}if(e.token[u]==="."&&h[u-1]>-1){m[m.length-1]=false;h[R]=S+1;h[n-1]=S;break}if(u>0&&e.token[u]==="return"&&(e.token[u-1]===")"||e.token[u-1]==="x)"||e.token[u-1]==="{"||e.token[u-1]==="x{"||e.token[u-1]==="}"||e.token[u-1]==="x}"||e.token[u-1]===";"||e.token[u-1]==="x;")){S=S-1;h[n-1]=S;break}if(e.token[u]===":"&&C.length===0||e.token[u]===","&&v===false){break}if(u===0||e.token[u-1]==="{"||e.token[u-1]==="x{"||e.token[u]==="for"||e.token[u]==="if"||e.token[u]==="do"||e.token[u]==="function"||e.token[u]==="while"||e.token[u]==="var"||e.token[u]==="let"||e.token[u]==="const"||e.token[u]==="with"){if(K[A-1]===false&&A>1&&(n===o-1||e.token[n+1]!==")"&&e.token[n+1]!=="x)")&&e.stack[n]!=="object"){S=S-1;}break}}else {u=e.begin[u];}u=u-1;}while(u>R)}ee.pop();}if(s.script.bracePadding===false&&k!=="}"&&d!=="markup"){h[n-1]=-20;}if(s.script.bracePadding===true&&d!=="start"&&P!==";"&&(h[e.begin[n]]<-9||m[m.length-1]===true)){h[e.begin[n]]=-10;h[n-1]=-10;h.push(-20);}else if(e.stack[n]==="attribute"){h[n-1]=-20;h.push(S);}else if(e.stack[n]==="array"&&(I.length>0||w[w.length-1]===true)){re();m[m.length-1]=false;h[e.begin[n]]=S+1;h[n-1]=S;h.push(-20);}else if((e.stack[n]==="object"||e.begin[n]===0&&k==="}")&&I.length>0){re();m[m.length-1]=false;h[e.begin[n]]=S+1;h[n-1]=S;h.push(-20);}else if(k===")"||k==="x)"){const u=k===")"&&P!=="("&&L.length>0?L.pop()+1:0;const v=e.token[e.begin[n]-1]==="if"?(()=>{let R=n;do{R=R-1;if(e.token[R]===")"&&h[R-1]>-1)return u}while(R>e.begin[n]);return u+5})():u;if(u>0&&(s.language!=="jsx"||s.language==="jsx"&&e.token[e.begin[n]-1]!=="render")){const R=s.wrap;const A=e.begin[n];const Y=L.length;let q=n-2;if(v>R){h[e.begin[n]]=S+1;h[n-1]=S;do{if(e.begin[q]===A){if(e.token[q]==="&&"||e.token[q]==="||"){h[q]=S+1;}else if(h[q]>-1&&e.types[q]!=="comment"&&e.token[q+1]!=="."){h[q]=h[q]+1;}}else if(h[q]>-1&&e.token[q+1]!=="."){h[q]=h[q]+1;}q=q-1;}while(q>A)}else if(Y>0){L[Y-1]=L[Y-1]+u;}}else if(k===")"&&n>e.begin[n]+2&&e.lexer[e.begin[n]+1]===$&&e.token[e.begin[n]+1]!=="function"){const R=e.begin[n]<0?0:e.begin[n];const A=s.wrap;const Y=I.length;let q=0;let D=0;let W=0;let B=0;let H=0;let J=false;let le=false;let oe=S+1;let te=false;let M=false;let ke=false;if(h[R]<-9){D=R;do{D=D+1;}while(D<n&&h[D]<-9);B=D;do{q=q+e.token[D].length;if(h[D]===-10)q=q+1;if(e.token[D]==="("&&W>0&&W<A-1&&B===n){W=-1;}if(e.token[D]===")"){H=H-1;}else if(e.token[D]==="("){H=H+1;}if(D===R&&H>0)W=q;D=D-1;}while(D>R&&h[D]<-9);if(e.token[D+1]===".")oe=h[D]+1;if(q>A-1&&A>0&&P!=="("&&W!==-1&&m[m.length-2]===false){if(e.token[R-1]==="if"&&K[K.length-1]===true||e.token[R-1]!=="if"){h[R]=oe;if(e.token[R-1]==="for"){D=R;do{D=D+1;if(e.token[D]===";"&&e.begin[D]===R){h[D]=oe;}}while(D<n)}}}}D=n;q=0;do{D=D-1;if(e.stack[D]==="function"){D=e.begin[D];}else if(e.begin[D]===R){if(e.token[D]==="?"){ke=true;}else if(e.token[D]===","&&J===false){J=true;if(q>=A&&A>0)te=true;}else if(e.types[D]==="markup"&&M===false){M=true;}if(h[D]>-9&&e.token[D]!==","&&e.types[D]!=="markup"){q=0;}else {if(h[D]===-10)q=q+1;q=q+e.token[D].length;if(q>=A&&A>0&&(J===true||M===true)){te=true;}}}else {if(h[D]>-9){q=0;}else {q=q+e.token[D].length;if(q>=A&&A>0&&(J===true||M===true)){te=true;}}}}while(D>R&&te===false);if(J===false&&e.token[e.begin[n]+1].charAt(0)==="`"){h[e.begin[n]]=-20;h[n-1]=-20;}else if((J===true||M===true)&&q>=A&&A>0||h[R]>-9){if(ke===true){oe=h[R];if(e.token[R-1]==="["){D=n;do{D=D+1;if(e.types[D]==="end"||e.token[D]===","||e.token[D]===";"){break}}while(D<o);if(e.token[D]==="]"){oe=oe-1;le=true;}}}else if(Y>0&&I[Y-1]>D){oe=oe-Y;}m[m.length-1]=false;D=n;do{D=D-1;if(e.begin[D]===R){if(e.token[D].indexOf("=")>-1&&e.types[D]==="operator"&&e.token[D].indexOf("!")<0&&e.token[D].indexOf("==")<0&&e.token[D]!=="<="&&e.token[D].indexOf(">")<0){q=D;do{q=q-1;if(e.begin[q]===R&&(e.token[q]===";"||e.token[q]===","||q===R)){break}}while(q>R)}else if(e.token[D]===","){h[D]=oe;}else if(h[D]>-9&&le===false&&(e.token[R-1]!=="for"||e.token[D+1]==="?"||e.token[D+1]===":")&&(e.token[e.begin[n]]!=="("||e.token[D]!=="+")){h[D]=h[D]+1;}}else if(h[D]>-9&&le===false){h[D]=h[D]+1;}}while(D>R);h[R]=oe;h[n-1]=oe-1;}else {h[n-1]=-20;}if(e.token[e.begin[n]-1]==="+"&&h[e.begin[n]]>-9){h[e.begin[n]-1]=-10;}}else if(s.language==="jsx"){b();}else {h[n-1]=-20;}h.push(-20);}else if(m[m.length-1]===true){if(k==="]"&&e.begin[n]-1>0&&e.token[e.begin[e.begin[n]-1]]==="["){m[m.length-2]=false;}if(e.begin[n]<h.length)h[e.begin[n]]=-20;if(s.language==="jsx"){b();}else if(k==="]"&&h[e.begin[n]]>-1){h[n-1]=h[e.begin[n]]-1;}else {h[n-1]=-20;}h.push(-20);}else if(e.types[n-1]==="comment"&&e.token[n-1].substring(0,2)==="//"){if(e.token[n-2]==="x}")h[n-3]=S+1;h[n-1]=S;h.push(-20);}else if(e.types[n-1]!=="comment"&&(P==="{"&&k==="}"||P==="["&&k==="]")){h[n-1]=-20;h.push(-20);}else if(k==="]"){if(K[K.length-1]===true&&m[m.length-1]===false&&s.script.arrayFormat!=="inline"||P==="]"&&h[n-2]===S+1){h[n-1]=S;h[e.begin[n]]=S+1;}else if(h[n-1]===-10){h[n-1]=-20;}if(e.token[e.begin[n]+1]==="function"){h[n-1]=S;}else if(K[K.length-1]===false){if(P==="}"||P==="x}")h[n-1]=S;let u=n-1;let v=1;do{if(e.token[u]==="]")v=v+1;if(e.token[u]==="["){v=v-1;if(v===0){if(u>0&&(e.token[u+1]==="{"||e.token[u+1]==="x{"||e.token[u+1]==="[")){h[u]=S+1;break}if(e.token[u+1]!=="["||r===false){h[u]=-20;break}break}}if(v===1&&e.token[u]==="+"&&h[u]>1){h[u]=h[u]-1;}u=u-1;}while(u>-1)}else if(s.language==="jsx"){b();}if(s.script.arrayFormat==="inline"){let u=n;const v=e.begin[n];do{u=u-1;if(e.types[u]==="end")break}while(u>v);if(u>v){h[e.begin[n]]=S+1;h[n-1]=S;}else {h[e.begin[n]]=-20;h[n-1]=-20;}}else if(h[e.begin[n]]>-1){h[n-1]=h[e.begin[n]]-1;}h.push(-20);}else if(k==="}"||k==="x}"||K[K.length-1]===true){if(k==="}"&&P==="x}"&&e.token[n+1]==="else"){h[n-2]=S+2;h.push(-20);}else {h.push(S);}h[n-1]=S;}else {h.push(-20);}if(e.types[n-1]==="comment")h[n-1]=S;re();r=K[K.length-1];K.pop();_.pop();w.pop();g.pop();j.pop();m.pop();O.pop();}function re(){let I=0;const b=_[_.length-1];if(b===void 0)return;I=b.length-1;if(I<1&&b[I]<0&&(k===";"||k==="x;"||k===")"||k==="x)"||k==="}"||k==="x}")){b.pop();return}if(I<0||b[I]<0)return;if(k===":"){if(e.token[b[I]]!=="?"){do{b.pop();I=I-1;S=S-1;}while(I>-1&&b[I]>-1&&e.token[b[I]]!=="?")}b[I]=n;h[n-1]=S;}else {do{b.pop();I=I-1;S=S-1;}while(I>-1&&b[I]>-1)}if((e.stack[n]==="array"||k===",")&&b.length<1)b.push(-1);}function we(){const I=n;do{if(e.lexer[n+1]===$&&e.begin[n+1]<I)break;if(e.token[I-1]==="return"&&e.types[n]==="end"&&e.begin[n]===I)break;h.push(0);n=n+1;}while(n<o);x[I]=n;h.push(S-1);}function Q(){let I=n-1;const b=e.begin[n];if(S<1)return;do{if(b!==e.begin[I]){I=e.begin[I];}else {if(e.types[I]==="separator"||e.types[I]==="operator"){if(e.token[I]==="."&&h[I-1]>0){if(e.token[b-1]==="if"){S=S-2;}else {S=S-1;}}break}}I=I-1;}while(I>0&&I>b)}function ue(){if(e.token[n+1]!==","&&k.indexOf("/>")!==k.length-2||e.token[n+1]===","&&e.token[e.begin[n]-3]!=="React"){ne(false,false);}if(P==="return"||P==="?"||P===":"){h[n-1]=-10;h.push(-20);}else if(d==="start"||e.token[n-2]==="return"&&e.stack[n-1]==="method"){h.push(S);}else {h.push(-20);}}function Ce(){const I=_[_.length-1]===void 0?[]:_[_.length-1];function b(){const u=e.token[n+1];let v=0;let R=0;let A=n;let Y=k==="+"?S+2:S;let q=0;if(s.wrap<1){h.push(-10);return}do{A=A-1;if(e.token[e.begin[n]]==="("){if(A===e.begin[n]){q=v;}if(e.token[A]===","&&e.begin[A]===e.begin[n]&&K[K.length-1]===true){break}}if(v>s.wrap-1)break;if(h[A]>-9)break;if(e.types[A]==="operator"&&e.token[A]!=="="&&e.token[A]!=="+"&&e.begin[A]===e.begin[n]){break}v=v+e.token[A].length;if(A===e.begin[n]&&e.token[A]==="["&&v<s.wrap-1){break}if(e.token[A]==="."&&h[A]>-9)break;if(h[A]===-10)v=v+1;}while(A>0);if(q>0)q=q+u.length;v=v+u.length;R=A;if(v>s.wrap-1&&h[A]<-9){do{R=R-1;}while(R>0&&h[R]<-9)}if(e.token[R+1]==="."&&e.begin[n]<=e.begin[R]){Y=Y+1;}else if(e.types[R]==="operator"){Y=h[R];}R=u.length;if(v+R<s.wrap){h.push(-10);return}if(e.token[e.begin[n]]==="("&&(e.token[I[0]]===":"||e.token[I[0]]==="?")){Y=S+3;}else if(e.stack[n]==="method"){h[e.begin[n]]=S;if(K[K.length-1]===true){Y=S+3;}else {Y=S+1;}}else if(e.stack[n]==="object"||e.stack[n]==="array"){ne(true,false);}if(e.token[A]==="var"||e.token[A]==="let"||e.token[A]==="const"){v=v-s.indentSize*s.indentChar.length*2;}if(q>0){A=s.wrap-q;}else {A=s.wrap-v;}if(A>0&&A<5){h.push(Y);if(e.token[n].charAt(0)==='"'||e.token[n].charAt(0)==="'"){n=n+1;h.push(-10);}return}if(e.token[e.begin[n]]!=="("||q>s.wrap-1||q===0){if(q>0)v=q;if(v-u.length<s.wrap-1&&(u.charAt(0)==='"'||u.charAt(0)==="'")){n=n+1;v=v+3;if(v-u.length>s.wrap-4){h.push(Y);return}h.push(-10);return}h.push(Y);return}h.push(-10);}Q();if(I.length>0&&I[I.length-1]>-1&&e.stack[n]==="array"){w[w.length-1]=true;}if(k!==":"){if(e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("&&m.length>0){ne(true,false);}if(k!=="?"&&e.token[I[I.length-1]]==="."){let u=0;let v=n;const R=e.begin[v];do{if(e.begin[v]===R){if(e.token[v+1]==="{"||e.token[v+1]==="["||e.token[v]==="function"){break}if(e.token[v]===","||e.token[v]===";"||e.types[v]==="end"||e.token[v]===":"){I.pop();S=S-1;break}if(e.token[v]==="?"||e.token[v]===":"){if(e.token[I[I.length-1]]==="."&&u<2)I[I.length-1]=R+1;break}if(e.token[v]===".")u=u+1;}v=v+1;}while(v<o)}}if(k==="!"||k==="..."){if(P==="}"||P==="x}")h[n-1]=S;h.push(-20);return}if(P===";"||P==="x;"){if(e.token[e.begin[n]-1]!=="for")h[n-1]=S;h.push(-20);return}if(k==="*"){if(P==="function"||P==="yield"){h[n-1]=-20;}else {h[n-1]=-10;}h.push(-10);return}if(k==="?"){if(e.lines[n]===0&&e.types[n-2]==="word"&&e.token[n-2]!=="return"&&e.token[n-2]!=="in"&&e.token[n-2]!=="instanceof"&&e.token[n-2]!=="typeof"&&(d==="reference"||d==="word")){if(e.types[n+1]==="word"||e.types[n+1]==="reference"||(e.token[n+1]==="("||e.token[n+1]==="x(")&&e.token[n-2]==="new"){h[n-1]=-20;if(e.types[n+1]==="word"||e.types[n+1]==="reference"){h.push(-10);return}h.push(-20);return}}if(e.token[n+1]===":"){h[n-1]=-20;h.push(-20);return}C.push(n);if(s.script.ternaryLine===true){h[n-1]=-10;}else {let u=n-1;do{u=u-1;}while(u>-1&&h[u]<-9);I.push(n);S=S+1;if(h[u]===S&&e.token[u+1]!==":"){S=S+1;I.push(n);}h[n-1]=S;if(e.token[e.begin[n]]==="("&&(I.length<2||I[0]===I[1])){m[m.length-1]=false;if(n-2===e.begin[n]){h[e.begin[n]]=S-1;}else {h[e.begin[n]]=S;}u=n-2;do{if(e.types[u]==="end"&&h[u-1]>-1)break;if(h[u]>-1)h[u]=h[u]+1;u=u-1;}while(u>e.begin[n])}}h.push(-10);return}if(k===":"){if(e.stack[n]==="map"||e.types[n+1]==="type"||e.types[n+1]==="type_start"){h[n-1]=-20;h.push(-10);return}if(C.length>0&&e.begin[C[C.length-1]]===e.begin[n]){let u=n;const v=e.begin[n];do{u=u-1;if(e.begin[u]===v){if(e.token[u]===","||e.token[u]===";"){h[n-1]=-20;break}if(e.token[u]==="?"){C.pop();re();if(s.script.ternaryLine===true)h[n-1]=-10;h.push(-10);return}}else if(e.types[u]==="end"){u=e.begin[u];}}while(u>v)}if(e.token[n-2]==="where"&&e.stack[n-2]===e.stack[n]){h[n-1]=-10;h.push(-10);return}if(d==="reference"&&e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("){h[n-1]=-20;h.push(-10);return}if((P===")"||P==="x)")&&e.token[e.begin[n-1]-2]==="function"){h[n-1]=-20;h.push(-10);return}if(e.stack[n]==="attribute"){h[n-1]=-20;h.push(-10);return}if(e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("&&(d==="reference"||P===")"||P==="]"||P==="?")&&(e.stack[n]==="map"||e.stack[n]==="class"||e.types[n+1]==="reference")&&(C.length===0||C[C.length-1]<e.begin[n])&&("mapclassexpressionmethodglobalparen".indexOf(e.stack[n])>-1||e.types[n-2]==="word"&&e.stack[n]!=="switch")){h[n-1]=-20;h.push(-10);return}if(e.stack[n]==="switch"&&(C.length<1||C[C.length-1]<e.begin[n])){h[n-1]=-20;if(s.script.caseSpace===true){h.push(-10);}else {h.push(S);}return}if(e.stack[n]==="object"){h[n-1]=-20;}else if(C.length>0){h[n-1]=S;}else {h[n-1]=-10;}h.push(-10);return}if(k==="++"||k==="--"){if(d==="number"||d==="reference"){h[n-1]=-20;h.push(-10);}else if(n<o-1&&(e.types[n+1]==="number"||e.types[n+1]==="reference")){h.push(-20);}else {h.push(-10);}return}if(k==="+"){if(d==="start"){h[n-1]=-20;}else {h[n-1]=-10;}if(s.wrap<1||e.token[e.begin[n]]==="x("){h.push(-10);return}const u=e.token[n+1];if(u===void 0){h.push(-10);return}if(e.types[n-1]==="operator"||e.types[n-1]==="start"){if(e.types[n+1]==="reference"||u==="("||u==="["){h.push(-20);return}if(Number(u.slice(1,-1))>-1&&(/\d/.test(u.charAt(1))===true||u.charAt(1)==="."||u.charAt(1)==="-"||u.charAt(1)==="+")){h.push(-20);return}}return b()}if(e.types[n-1]!=="comment"){if(P==="("){h[n-1]=-20;}else if(k==="*"&&e.stack[n]==="object"&&e.types[n+1]==="reference"&&(P==="{"||P===",")){h[n-1]=S;}else if(k!=="?"||C.length===0){h[n-1]=-10;}}if(k.indexOf("=")>-1&&k!=="=="&&k!=="==="&&k!=="!="&&k!=="!=="&&k!==">="&&k!=="<="&&k!=="=>"&&e.stack[n]!=="method"&&e.stack[n]!=="object"){let u=n+1;let v=0;let R=false;let A="";if((e.token[e.begin[n]]==="("||e.token[e.begin[n]]==="x(")&&e.token[n+1]!=="function"){return}do{if(e.types[u]==="start"){if(R===true&&e.token[u]!=="["){if(O[O.length-1]===true){O[O.length-1]=false;}break}v=v+1;}if(e.types[u]==="end")v=v-1;if(v<0){if(O[O.length-1]===true){O[O.length-1]=false;}break}if(v===0){A=e.token[u];if(R===true){if(e.types[u]==="operator"||e.token[u]===";"||e.token[u]==="x;"||e.token[u]==="?"||e.token[u]==="var"||e.token[u]==="let"||e.token[u]==="const"){if(A!==void 0&&(A==="?"||A.indexOf("=")>-1&&A!=="=="&&A!=="==="&&A!=="!="&&A!=="!=="&&A!==">="&&A!=="<=")){if(O[O.length-1]===false){O[O.length-1]=true;}}if((A===";"||A==="x;"||A==="var"||A==="let"||A==="const")&&O[O.length-1]===true){O[O.length-1]=false;}break}if(O[O.length-1]===true&&(A==="return"||A==="break"||A==="continue"||A==="throw")){O[O.length-1]=false;}}if(A===";"||A==="x;"||A===",")R=true;}u=u+1;}while(u<o);h.push(-10);return}if(k==="-"&&P==="return"||P==="="){h.push(-20);return}if(d==="operator"&&e.types[n+1]==="reference"&&P!=="--"&&P!=="++"&&k!=="&&"&&k!=="||"){h.push(-20);return}return b()}function ie(){const I=()=>{let b=e.begin[n];if(b<0){E.push([e.token[n],-1]);}else {if(e.stack[b+1]!=="function"){do{b=e.begin[b];}while(b>-1&&e.stack[b+1]!=="function")}E.push([e.token[n],b]);}};if(e.types[n-1]==="comment"){h[n-1]=S;}else if(d==="end"&&P!==")"&&e.token[e.begin[n-1]-1]!==")"){h[n-1]=-10;}else if(d!=="separator"&&d!=="start"&&d!=="end"&&d.indexOf("template_string")<0){if(d==="word"||d==="operator"||d==="property"||d==="type"||d==="reference"){h[n-1]=-10;}else {h[n-1]=-20;}}if(P==="var"&&e.lexer[n-1]===$){I();}else if(P==="function"){E.push([e.token[n],n]);}else if(P==="let"||P==="const"){E.push([e.token[n],n]);}else if(e.stack[n]==="arguments"){E.push([e.token[n],n]);}else if(P===","){let b=n;do{b=b-1;}while(b>e.begin[n]&&e.token[b]!=="var"&&e.token[b]!=="let"&&e.token[b]!=="const");if(e.token[b]==="var"){I();}else if(e.token[b]==="let"||e.token[b]==="const"){E.push([e.token[n],n]);}}h.push(-10);}function V(){const I=_[_.length-1]===void 0?[]:_[_.length-1];const b=()=>{if(s.script.methodChain>0){let u=n;let v=e.begin[n];const R=[n];const A=e.token[v-1]==="if";do{u=u-1;if(e.types[u]==="end")u=e.begin[u];if(e.begin[u]===v){if(e.types[u]==="string"&&e.token[u].indexOf("${")===e.token[u].length-2){break}if(e.token[u]==="."){if(h[u-1]>0){h[n-1]=A===true?S+1:S;return}R.push(u);}else if(e.token[u]===";"||e.token[u]===","||e.types[u]==="operator"||(e.types[u]==="word"||e.types[u]==="reference")&&(e.types[u-1]==="word"||e.types[u-1]==="reference")){break}}}while(u>v);if(R.length<s.script.methodChain){h[n-1]=-20;return}u=0;v=R.length;do{h[R[u]-1]=A===true?S+1:S;u=u+1;}while(u<v);u=R[R.length-1]-1;do{if(h[u]>-1)h[u]=h[u]+1;u=u+1;}while(u<n);S=A===true?S+2:S+1;}h[n-1]=S;};if(k==="::"){h[n-1]=-20;h.push(-20);return}if(k==="."){if(e.token[e.begin[n]]!=="("&&e.token[e.begin[n]]!=="x("&&I.length>0){if(e.stack[n]==="object"||e.stack[n]==="array"){ne(true,false);}else {ne(false,false);}}if(s.script.methodChain===0){h[n-1]=-20;}else if(s.script.methodChain<0){if(e.lines[n]>0){b();}else {h[n-1]=-20;}}else {b();}h.push(-20);return}if(k===","){Q();if(K[K.length-1]===false&&(e.stack[n]==="object"||e.stack[n]==="array"||e.stack[n]==="paren"||e.stack[n]==="expression"||e.stack[n]==="method")){K[K.length-1]=true;if(e.token[e.begin[n]]==="("){let u=n;do{u=u-1;if(e.begin[u]===e.begin[n]&&e.token[u]==="+"&&h[u]>-9){h[u]=h[u]+2;}}while(u>e.begin[n])}}if(e.stack[n]==="array"&&s.script.arrayFormat==="indent"){h[n-1]=-20;h.push(S);return}if(e.stack[n]==="array"&&s.script.arrayFormat==="inline"){h[n-1]=-20;h.push(-10);return}if(e.stack[n]==="object"&&s.script.objectIndent==="indent"){h[n-1]=-20;h.push(S);return}if(e.stack[n]==="object"&&s.script.objectIndent==="inline"){h[n-1]=-20;h.push(-10);return}if(I.length>0){if(I[I.length-1]>-1)re();h[n-1]=-20;h.push(S);return}if(e.token[n-2]===":"&&e.token[n-4]==="where"){h[n-1]=-20;h.push(-10);return}h[n-1]=-20;if(e.types[n+1]!=="end"){g[g.length-1]=g[g.length-1]+1;}if((e.token[e.begin[n]]==="("||e.token[e.begin[n]]==="x(")&&s.language!=="jsx"&&e.stack[n]!=="global"&&(e.types[n-1]!=="string"&&e.types[n-1]!=="number"||e.token[n-2]!=="+"||e.types[n-1]==="string"&&e.types[n-1]!=="number"&&e.token[n-2]==="+"&&e.types[n-3]!=="string"&&e.types[n-3]!=="number")){h.push(-10);return}if(d==="reference"&&e.types[n-2]==="word"&&"var-let-const-from".indexOf(e.token[n-2])<0&&(e.types[n-3]==="end"||e.token[n-3]===";")){j[j.length-1]=true;h.push(-10);return}if(j[j.length-1]===true||e.stack[n]==="notation"){h.push(-10);return}if(g[g.length-1]>3&&(e.stack[n]==="array"||e.stack[n]==="object")){if(m[m.length-1]===true)ne(true,true);h[n-1]=-20;if(w[w.length-1]===true){h.push(S);return}const u=e.begin[n];let v=n;do{if(e.types[v]==="end"){v=e.begin[v];}else {if(e.token[v]===","&&e.types[v+1]!=="comment"){h[v]=S;}}v=v-1;}while(v>u);h[u]=S;w[w.length-1]=true;return}if(e.stack[n]==="object"){if(m[m.length-1]===true&&e.types[e.begin[n]-1]!=="word"&&e.types[e.begin[n]-1]!=="reference"&&e.token[e.begin[n]-1]!=="("&&e.token[e.begin[n]-1]!=="x("){const u=e.begin[n];let v=n-1;do{if(e.begin[v]===u){if(e.token[v]===",")break;if(e.token[v]===":"){ne(true,false);break}}v=v-1;}while(v>u)}}if(m[m.length-1]===false||e.token[n-2]==="+"&&(d==="string"||d==="number")&&h[n-2]>0&&(P.charAt(0)==='"'||P.charAt(0)==="'")){if(e.stack[n]==="method"){if(e.token[n-2]==="+"&&(P.charAt(0)==='"'||P.charAt(0)==="'")&&(e.token[n-3].charAt(0)==='"'||e.token[n-3].charAt(0)==="'")){h.push(S+2);return}if(e.token[n-2]!=="+"){h.push(-10);return}}h.push(S);return}if(m[m.length-1]===true&&e.stack[n]!=="object"){h.push(-10);return}if(g[g.length-1]<4&&(e.stack[n]==="array"||e.stack[n]==="object")){h.push(-10);return}h.push(S);return}if(k===";"||k==="x;"){Q();if(e.token[n+1]!==void 0&&e.types[n+1].indexOf("attribute")>0&&e.types[n+1].indexOf("end")>0){h[n-1]=-20;h.push(S-1);return}if(ee[ee.length-1]>-1&&e.stack[ee[ee.length-1]]!=="expression"){let u=n;do{u=u-1;if(e.token[u]===";")break;if(e.token[u]===","){S=S-1;break}if(e.types[u]==="end")u=e.begin[u];}while(u>0&&u>e.begin[n])}ee[ee.length-1]=-1;re();if(e.token[e.begin[n]-1]!=="for")ne(false,false);j[j.length-1]=false;h[n-1]=-20;if(e.begin[n]>0&&e.token[e.begin[n]-1]==="for"&&e.stack[n]!=="for"){h.push(-10);return}h.push(S);return}h.push(-20);}function z(){const I=e.stack[n+1];const b=n===0?e.stack[n]:e.stack[n-1];if(P===")"||(b==="object"||b==="array")&&P!=="]"){if(I!=="method"||I==="method"&&e.token[n+1]!==")"&&e.token[n+2]!==")"){if(P===")"&&(I!=="function"||e.token[e.begin[e.begin[n-1]-1]]==="("||e.token[e.begin[e.begin[n-1]-1]]==="x(")){ne(false,false);}else if(e.types[n+1]!=="end"&&e.types[n+2]!=="end"){ne(true,false);}}}K.push(false);_.push([]);O.push(false);w.push(false);j.push(false);g.push(0);if(s.script.neverFlatten===true||I==="array"&&s.script.arrayFormat==="indent"||I==="attribute"||d==="generic"||I==="class"&&P!=="("&&P!=="x("||k==="["&&e.token[n+1]==="function"){m.push(false);}else {if(I==="expression"||I==="method"){m.push(true);}else if((I==="object"||I==="class")&&(P==="("||P==="x("||d==="word"||d==="reference")){m.push(true);}else if(I==="array"||k==="("||k==="x("){m.push(true);}else if(k==="{"&&I==="object"&&d!=="operator"&&d!=="start"&&d!=="string"&&d!=="number"&&b!=="object"&&b!=="array"&&n>0){m.push(true);}else {m.push(false);}}if(k!=="("&&k!=="x("&&e.stack[n+1]!=="attribute"){S=S+1;}if(k==="{"||k==="x{"){ee.push(-1);if(e.types[n-1]!=="comment"){if(d==="markup"){h[n-1]=S;}else if(s.script.braceAllman===true&&d!=="operator"&&P!=="return"){h[n-1]=S-1;}else if(e.stack[n+1]!=="block"&&(I==="function"||P===")"||P==="x)"||P===","||P==="}"||d==="markup")){h[n-1]=-10;}else if(P==="{"||P==="x{"||P==="["||P==="}"||P==="x}"){h[n-1]=S-1;}}if(I==="object"){if(s.script.objectIndent==="indent"){m[m.length-1]=false;h.push(S);return}if(s.script.objectIndent==="inline"){m[m.length-1]=true;h.push(-20);return}}if(I==="switch"){if(s.script.noCaseIndent===true){h.push(S-1);return}S=S+1;h.push(S);return}if(m[m.length-1]===true){if(d!=="word"&&d!=="reference"){h.push(-20);return}}h.push(S);return}if(k==="("||k==="x("){if(s.wrap>0&&k==="("&&e.token[n+1]!==")"){L.push(1);}if(P==="-"&&(e.token[n-2]==="("||e.token[n-2]==="x(")){h[n-2]=-20;}if(d==="end"&&b!=="if"&&b!=="for"&&b!=="catch"&&b!=="else"&&b!=="do"&&b!=="try"&&b!=="finally"&&b!=="catch"){if(e.types[n-1]==="comment"){h[n-1]=S;}else {h[n-1]=-20;}}if(P==="async"){h[n-1]=-10;}else if(I==="method"||e.token[n-2]==="function"&&d==="reference"){if(P==="import"||P==="in"||s.script.functionNameSpace===true){h[n-1]=-10;}else if(P==="}"&&e.stack[n-1]==="function"||d==="word"||d==="reference"||d==="property"){h[n-1]=-20;}else if(b!=="method"&&I!=="method"){h[n-1]=S;}}if(P==="+"&&(e.token[n-2].charAt(0)==='"'||e.token[n-2].charAt(0)==="'")){h.push(S);return}if(P==="}"||P==="x}"){h.push(-20);return}if(P==="-"&&(n<2||e.token[n-2]!==")"&&e.token[n-2]!=="x)"&&e.token[n-2]!=="]"&&e.types[n-2]!=="reference"&&e.types[n-2]!=="string"&&e.types[n-2]!=="number")||s.script.functionSpace===false&&P==="function"){h[n-1]=-20;}h.push(-20);return}if(k==="["){if(P==="[")K[K.length-2]=true;if(P==="return"||P==="var"||P==="let"||P==="const"){h[n-1]=-10;}else if(e.types[n-1]!=="comment"&&e.stack[n-1]!=="attribute"&&(d==="end"||d==="word"||d==="reference")){h[n-1]=-20;}else if(P==="["||P==="{"||P==="x{"){h[n-1]=S-1;}if(e.stack[n]==="attribute"){h.push(-20);return}if(s.script.arrayFormat==="indent"){m[m.length-1]=false;h.push(S);return}if(s.script.arrayFormat==="inline"){m[m.length-1]=true;h.push(-20);return}if(I==="method"||m[m.length-1]===true){h.push(-20);return}let u=n+1;do{if(e.token[u]==="]"){h.push(-20);return}if(e.token[u]===","){h.push(S);return}u=u+1;}while(u<o);h.push(-20);}}function be(){if(k.length===1){h.push(-20);if(e.lines[n]===0)h[n-1]=-20;}else if(k.indexOf("#!/")===0){h.push(S);}else {h.push(-10);}if((P===","||d==="start")&&(e.stack[n]==="object"||e.stack[n]==="array")&&m[m.length-1]===false&&n>0){h[n-1]=S;}}function je(){if(s.language!=="json"&&e.types[n-1]!=="string"){if(U==="template_else"){h[n-1]=S-1;h.push(S);}else if(U==="template_start"){S=S+1;if(e.lines[n-1]<1)h[n-1]=-20;if(e.lines[n]>0||P.length===1&&d==="string"){h.push(S);}else {h.push(-20);}}else if(U==="template_end"){S=S-1;if(d==="template_start"||e.lines[n-1]<1){h[n-1]=-20;}else {h[n-1]=S;}if(e.lines[n]>0){h.push(S);}else {h.push(-20);}}else if(U==="template"){if(e.lines[n]>0){h.push(S);}else {h.push(-20);}}}}function We(){if(U==="template_string_start"){S=S+1;h.push(S);}else if(U==="template_string_else"){Q();h[n-1]=S-1;h.push(S);}else {Q();S=S-1;h[n-1]=S;h.push(-10);}if(n>2&&(e.types[n-2]==="template_string_else"||e.types[n-2]==="template_string_start")){if(s.script.bracePadding===true){h[n-2]=-10;h[n-1]=-10;}else {h[n-2]=-20;h[n-1]=-20;}}}function qe(){if(e.token[n-1]===","||e.token[n-1]===":"&&e.stack[n-1]!=="data_type"){h[n-1]=-10;}else {h[n-1]=-20;}if(e.types[n]==="type"||e.types[n]==="type_end"){h.push(-10);}if(e.types[n]==="type_start"){h.push(-20);}}function De(){if((P===")"||P==="x)")&&e.stack[n]==="class"&&(e.token[e.begin[n-1]-1]==="static"||e.token[e.begin[n-1]-1]==="final"||e.token[e.begin[n-1]-1]==="void")){h[n-1]=-10;h[e.begin[n-1]-1]=-10;}if(P==="]")h[n-1]=-10;if(k==="else"&&P==="}"){if(e.token[n-2]==="x}")h[n-3]=h[n-3]-1;if(s.script.braceAllman===true||s.script.elseNewline===true){h[n-1]=S;}}if(k==="new"&&c.has(e.token[n+1]));if(k==="from"&&d==="end"&&n>0&&(e.token[e.begin[n-1]-1]==="import"||e.token[e.begin[n-1]-1]===",")){h[n-1]=-10;}if(k==="function"){if(s.script.functionSpace===false&&n<o-1&&(e.token[n+1]==="("||e.token[n+1]==="x(")){h.push(-20);return}h.push(-10);return}if(P==="-"&&n>1){if(e.types[n-2]==="operator"||e.token[n-2]===","){h[n-1]=-20;}else if(e.types[n-2]==="start"){h[n-2]=-20;h[n-1]=-20;}}else if(k==="while"&&(P==="}"||P==="x}")){let I=n-1;let b=0;do{if(e.token[I]==="}"||e.token[I]==="x}")b=b+1;if(e.token[I]==="{"||e.token[I]==="x{")b=b-1;if(b===0){if(e.token[I-1]==="do"){h[n-1]=-10;break}h[n-1]=S;break}I=I-1;}while(I>-1)}else if(k==="in"||(k==="else"&&s.script.elseNewline===false&&s.script.braceAllman===false||k==="catch")&&(P==="}"||P==="x}")){h[n-1]=-10;}else if(k==="var"||k==="let"||k==="const"){ee[ee.length-1]=n;if(d==="end")h[n-1]=S;if(e.token[e.begin[n]-1]!=="for"){let I=n+1;let b=0;do{if(e.types[I]==="end")b=b-1;if(e.types[I]==="start")b=b+1;if(b<0||b===0&&(e.token[I]===";"||e.token[I]===",")){break}I=I+1;}while(I<o);if(e.token[I]===",")S=S+1;}h.push(-10);return}if((k==="default"||k==="case")&&d!=="word"&&e.stack[n]==="switch"){h[n-1]=S-1;h.push(-10);return}if(k==="catch"&&P==="."){h[n-1]=-20;h.push(-20);return}if(k==="catch"||k==="finally"){h[n-1]=-10;h.push(-10);return}if(s.script.bracePadding===false&&n<o-1&&e.token[n+1].charAt(0)==="}"){h.push(-20);return}if(e.stack[n]==="object"&&(P==="{"||P===",")&&(e.token[n+1]==="("||e.token[n+1]==="x(")){h.push(-20);return}if(e.types[n-1]==="comment"&&e.token[e.begin[n]]==="("){h[n-1]=S+1;}h.push(-10);}do{if(e.lexer[n]===$){U=e.types[n];k=e.token[n];if(U==="comment"){F();}else if(U==="regex"){h.push(-20);}else if(U==="string"){be();}else if(U.indexOf("template_string")===0){We();}else if(U==="separator"){V();}else if(U==="start"){z();}else if(U==="end"){X();}else if(U==="type"||U==="type_start"||U==="type_end"){qe();}else if(U==="operator"){Ce();}else if(U==="word"){De();}else if(U==="reference"){ie();}else if(U==="markup"){ue();}else if(U.indexOf("template")===0){je();}else if(U==="generic"){if(P!=="return"&&P.charAt(0)!=="#"&&d!=="operator"&&P!=="public"&&P!=="private"&&P!=="static"&&P!=="final"&&P!=="implements"&&P!=="class"&&P!=="void"){h[n-1]=-20;}if(e.token[n+1]==="("||e.token[n+1]==="x("){h.push(-20);}else {h.push(-10);}}else {h.push(-10);}if(U!=="comment"){d=U;P=k;}if(L.length>0&&e.token[n]!==")"){if(e.types[n]==="comment"&&L[L.length-1]>-1){L[L.length-1]=s.wrap+1;}else if(h[n]>-1||e.token[n].charAt(0)==="`"&&e.token[n].indexOf(fe)>0){L[L.length-1]=-1;}else if(L[L.length-1]>-1){L[L.length-1]=L[L.length-1]+e.token[n].length;if(h[n]===-10)L[L.length-1]=L[L.length-1]+1;}}}else {we();}n=n+1;}while(n<o);return h})();const t=(()=>{const n=[];const S=(()=>{const h=[];const C=s.indentChar;let _=s.indentSize;if(typeof _!=="number"||_<1)return "";do{h.push(C);_=_-1;}while(_>0);return h.join("")})();const Z=s.crlf===true?"\r\n":fe;const r=s.preserveLine+1;const U=["x;","x}","x{","x(","x)"];let k=T.start;let d="";let P=s.indentLevel;function ee(h){const C=[];const _=(()=>{if(k===o-1)return 1;if(e.lines[k+1]-1>r)return r;if(e.lines[k+1]>1)return e.lines[k+1]-1;return 1})();let w=0;if(h<0)h=0;do{C.push(Z);w=w+1;}while(w<_);if(h>0){w=0;do{C.push(S);w=w+1;}while(w<h)}return C.join(y)}if(s.script.vertical===true){let h=function(C){let _=0;let w=0;let m=C-1;let g=0;let O=0;const j=e.begin[k];const L=[];do{if((e.begin[m]===j||e.token[m]==="]"||e.token[m]===")")&&(e.token[m+1]===":"&&e.stack[m]==="object"||e.token[m+1]==="=")){g=m;w=0;do{if(e.begin[g]===j){if(e.token[g]===","||e.token[g]===";"||e.token[g]==="x;"||N[g]>-1&&e.types[g]!=="comment"){if(e.token[g+1]==="."){w=w+s.indentSize*s.indentChar.length;}break}}else if(N[g]>-1){break}if(e.types[g]!=="comment"){if(N[g-1]===-10)w=w+1;w=e.token[g].length+w;}g=g-1;}while(g>j);O=g;if(e.token[O]===","&&e.token[m+1]==="="){do{if(e.types[O]==="end")O=e.begin[O];if(e.begin[O]===j){if(e.token[O]===";"||e.token[O]==="x;")break;if(e.token[O]==="var"||e.token[O]==="const"||e.token[O]==="let"){w=w+s.indentSize*s.indentChar.length;break}}O=O-1;}while(O>j)}if(w>_)_=w;L.push([m,w]);m=g;}else if(e.types[m]==="end"){m=e.begin[m];}m=m-1;}while(m>j);m=L.length;if(m>0){do{m=m-1;g=L[m][1];if(g<_){do{e.token[L[m][0]]=e.token[L[m][0]]+se;g=g+1;}while(g<_)}}while(m>0)}};k=o;do{k=k-1;if(e.lexer[k]==="script"){if(e.token[k]==="}"&&e.token[k-1]!=="{"&&N[e.begin[k]]>0){h(k);}}else {k=e.begin[k];}}while(k>0)}k=T.start;do{if(e.lexer[k]===$||T.beautify[e.lexer[k]]===void 0){if(e.types[k]==="comment"&&s.commentIndent===true){if(/\n/.test(e.token[k])){const h=e.begin[k]>-1?e.token[k].charAt(2)==="*"?Be(N[k],S)+s.indentChar:Be(N[k],S):s.indentChar;const C=e.token[k].split(/\n/);let _=1;do{C[_]=h+C[_].trimStart();_=_+1;}while(_<C.length);e.token.splice(k,1,C.join(fe));}}if(U.indexOf(e.token[k])<0){if(e.token[k]!==";"||s.script.noSemicolon===false){n.push(e.token[k]);}else if(N[k]<0&&e.types[k+1]!=="comment"){n.push(";");}}if(k<o-1&&e.lexer[k+1]!==$&&e.begin[k]===e.begin[k+1]&&e.types[k+1].indexOf("end")<0&&e.token[k]!==","){n.push(se);}else if(N[k]>-1){if((N[k]>-1&&e.token[k]==="{"||N[k]>-1&&e.token[k+1]==="}")&&e.lines[k]<3&&s.script.braceNewline===true){if(e.lines[k+1]<3)n.push(ee(0));}n.push(ee(N[k]));P=N[k];}else if(N[k]===-10){n.push(se);if(e.lexer[k+1]!==$)P=P+1;}}else {if(x[k]===k){n.push(e.token[k]);}else {T.end=x[k];T.start=k;s.indentLevel=P;d=T.beautify[e.lexer[k]](s).replace($e,y);n.push(d);k=T.iterator;if(N[k]===-10){n.push(se);}else if(N[k]>-1){n.push(ee(N[k]));}s.indentLevel=0;}}k=k+1;}while(k<o);T.iterator=o-1;return n.join(y)})();if(s.language==="json"){s.script=Ne(s.script,f);}return t};var ft={};Lt(ft,{definitions:()=>Ee,format:()=>tt,formatSync:()=>Pt,language:()=>Ge,options:()=>Ue,parse:()=>Ot,parseSync:()=>Bt});var Ee={language:{description:"The language name",lexer:"all",type:"select",default:"auto",values:[{rule:"auto",description:"Prettify will automatically detect the language"},{rule:"text",description:"Plain Text"},{rule:"html",description:"HTML"},{rule:"liquid",description:"HTML + Liquid"},{rule:"javascript",description:"JavaScript"},{rule:"jsx",description:"JSX"},{rule:"typescript",description:"TypeScript"},{rule:"tsx",description:"TSX"},{rule:"json",description:"JSON"},{rule:"css",description:"CSS"},{rule:"scss",description:"SCSS"},{rule:"less",description:"LESS"},{rule:"xml",description:"XML"}]},wrap:{default:0,description:"Character width limit before applying word wrap. A 0 value disables this option. A negative value concatenates script strings.",lexer:"all",type:"number"},indentSize:{default:2,description:'The number of "indentChar" values to comprise a single indentation.',lexer:"all",type:"number"},indentChar:{default:" ",description:"The string characters to comprise a single indentation. Any string combination is accepted.",lexer:"all",type:"string"},crlf:{default:false,description:"If line termination should be Windows (CRLF) format. Unix (LF) format is the default.",lexer:"all",type:"boolean"},endNewline:{default:false,description:"Insert an empty line at the end of output.",lexer:"all",type:"boolean"},preserveLine:{default:2,description:"The maximum number of consecutive empty lines to retain.",lexer:"all",type:"number"},preserveComment:{default:false,description:"Prevent comment reformatting due to option wrap.",lexer:"all",type:"boolean"},commentNewline:{default:false,description:"If a blank new line should be forced above comments.",lexer:"all",type:"boolean"},commentIndent:{default:false,description:"This will determine whether comments should always start at position 0 of each line or if comments should be indented according to the code.",lexer:"all",type:"boolean"},correct:{default:false,description:"Automatically correct some sloppiness in code.",lexer:"all",type:"boolean"},quoteConvert:{lexer:"all",description:"If the quotes should be converted to single quotes or double quotes.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"single",description:"Converts double quotes to single quotes"},{rule:"double",description:"Converts single quotes to double quotes"}]},attributeSort:{default:false,description:"Alphanumerically sort markup attributes. Attribute sorting is ignored on tags that contain attributes template attributes.",lexer:"markup",type:"boolean"},attributeSortList:{default:[],description:"A comma separated list of attribute names. Attributes will be sorted according to this list and then alphanumerically. This option requires 'attributeSort' have a value of true.",lexer:"markup",type:"array"},attributeCasing:{default:"preserve",description:"Controls the casing of attribute values and keys.",type:"select",lexer:"markup",values:[{rule:"preserve",description:"All tag attribute keys/values are preserved and left intact."},{rule:"lowercase",description:"All tag attribute keys/values are converted to lowercase"},{rule:"lowercase-name",description:"Only attribute keys are converted to lowercase"},{rule:"lowercase-value",description:"Only attribute values are converted to lowercase"}]},delimiterTrims:{default:"preserve",description:"How delimiter whitespace trim dashes should handled on Liquid tokens. You should avoid setting this to force in order to avoid stripping whitespace between text content.",lexer:"markup",type:"select",values:[{rule:"preserve",description:"All trim dash occurances of trims intact"},{rule:"strip",description:"Removes all trim dash occurances for tags and output tokens"},{rule:"force",description:"Applies trime dashes to all tags and output tokens"},{rule:"tags",description:"Applies trim dashes to tags tokens only"},{rule:"output",description:"Applies trim dashes to output object tokens only"}]},forceAttribute:{default:false,description:"If all markup attributes should be indented each onto their own line. This option accepts either a boolean or number value, depending on your preferences you can either force attributes based a count limit, disable forcing or always enable enforcing.",lexer:"markup",type:["number","boolean"],multi:{number:{default:1,description:"Optionally define an attribute force threshold. When the number of attributes exceeds this limit then they will be forced, otherwise they will be left intact."},boolean:{default:false,description:"Whether or not to enforce the rule. A value of true will always force attributes, whereas a value of false will never force attributes."}}},forceLeadAttribute:{default:false,description:"Forces leading attribute onto a newline when using wrap based indentation.",lexer:"markup",type:"boolean"},forceIndent:{default:false,description:"Will force indentation upon all content and tags without regard for the creation of new text nodes.",lexer:"markup",type:"boolean"},normalizeSpacing:{default:true,description:"Whether or not to normalize the distributed spacing contained in Liquid tokens.",lexer:"markup",type:"boolean"},preserveAttributes:{default:false,description:"If markup tags should have their insides preserved. This option is only available to markup and does not support child tokens that require a different lexer.",lexer:"markup",type:"boolean"},preserveText:{default:false,description:"If text in the provided markup code should be preserved exactly as provided. This option eliminates beautification and wrapping of text content.",lexer:"markup",type:"boolean"},selfCloseSpace:{default:false,description:'Markup self-closing tags end will end with " />" instead of "/>".',lexer:"markup",type:"boolean"},lineBreakSeparator:{default:"default",description:"Controls the placement of Liquid tag separator type characters in newline structures.",lexer:"markup",type:"select",values:[{rule:"default",description:"Leave line break character intace"},{rule:"before",description:"Place line break character at the start of expressions"},{rule:"after",description:"Place line break character at the end of expressions"}]},ignoreScripts:{default:false,description:"Whether to ignore embedded regions of tags identified to contain JavaScript",lexer:"markup",type:"boolean"},ignoreStyles:{default:false,description:"Whether to ignore embedded regions of tags identified to contain CSS",lexer:"markup",type:"boolean"},classPadding:{description:"Inserts new line characters between every CSS code block.",default:false,type:"boolean",lexer:"style"},sortSelectors:{default:false,type:"boolean",description:"If comma separated CSS selectors should present on a single line of code.",lexer:"style"},sortProperties:{lexer:"style",description:"This option will alphabetically sort CSS properties contained within classes.",default:false,type:"boolean"},noLeadZero:{lexer:"style",description:"This will eliminate leading zeros from numbers expressed within values.",default:false,type:"boolean"},compressCSS:{lexer:"style",description:"If CSS should be beautified in a style where the properties and values are minifed for faster reading of selectors.",default:false,type:"boolean"},braceAllman:{lexer:"script",default:false,description:'Determines if opening curly braces will exist on the same line as their condition or be forced onto a new line, otherwise known as "Allman Style" indentation.',type:"boolean"},bracePadding:{default:false,description:"This will create a newline before and after objects values",type:"boolean",lexer:"script"},braceNewline:{default:false,description:"If true an empty line will be inserted after opening curly braces and before closing curly braces.",type:"boolean",lexer:"script"},braceStyle:{default:"none",description:"Emulates JSBeautify's brace_style option using existing Prettify options",type:"select",lexer:"script",values:[{rule:"none",description:"Ignores this option"},{rule:"collapse",description:"Sets formatObject to indent and neverflatten to true."},{rule:"collapse-preserve-inline",description:"Sets formatObject to inline and bracePadding to true"},{rule:"expand",description:"Sets objectIndent to indent and braceNewline + neverflatten to true."}]},arrayFormat:{lexer:"script",description:"Determines if all array indexes should be indented, never indented, or left to the default",type:"select",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},objectSort:{default:false,description:"This option will alphabetically sort object properties in JSON objects",type:"boolean",lexer:"script"},objectIndent:{description:"This option will alphabetically sort object properties in JSON objects",type:"select",lexer:"script",default:"default",values:[{rule:"default",description:"Default formatting"},{rule:"indent",description:"Always indent each index of an array"},{rule:"inline",description:"Ensure all array indexes appear on a single line"}]},functionSpace:{lexer:"script",default:true,type:"boolean",description:"Inserts a space following the function keyword for anonymous functions."},functionNameSpace:{lexer:"script",default:true,type:"boolean",description:"If a space should follow a JavaScript function name."},methodChain:{lexer:"script",default:-1,description:"When to break consecutively chained methods and properties onto separate lines. A negative value disables this option. A value of 0 ensures method chainsare never broken.",type:"number"},caseSpace:{default:false,type:"boolean",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation thereby keeping the case on a single line of code.",lexer:"script"},elseNewline:{lexer:"script",default:false,type:"boolean",description:'If keyword "else" is forced onto a new line.'},ternaryLine:{lexer:"script",description:"If ternary operators in JavaScript `?` and `:` should remain on the same line.",type:"boolean",default:false},neverFlatten:{lexer:"script",default:true,description:"If destructured lists in script should never be flattend.",type:"boolean"},variableList:{lexer:"script",description:"If consecutive JavaScript variables should be merged into a comma separated list or if variables in a list should be separated. each \u2014 Ensure each reference is a single declaration statement.",type:"select",default:"none",values:[{rule:"none",description:"Ignores this option"},{rule:"each",description:"Ensure each reference is a single declaration statement"},{rule:"list",description:"Ensure consecutive declarations are a comma separated list"}]},vertical:{lexer:"script",description:"If lists of assignments and properties should be vertically aligned",type:"boolean",default:false},noCaseIndent:{lexer:"script",description:"If the colon separating a case's expression (of a switch/case block) from its statement should be followed by a space instead of indentation, thereby keeping the case on a single line of code.",default:false,type:"boolean"},noSemicolon:{lexer:"script",description:"Removes semicolons that would be inserted by ASI. This option is in conflict with option `attemptCorrection` and takes precedence over conflicting features. Use of this option is a possible security/stability risk.",default:false,type:"boolean"},endComma:{description:"If there should be a trailing comma in arrays and objects.",type:"select",lexer:"script",default:"none",values:[{rule:"none",description:"Ignore this option"},{rule:"always",description:"Always ensure there is a tailing comma"},{rule:"never",description:"Remove trailing commas"}]}};function St(s){const f=s.source.search(kt);const c=s.source.search(mt);const p=Fe(Ee);const l=p.length;let x=0;if(c>-1&&s.source.slice(0,c).trimStart()===y)return false;if(f>-1&&(f===0||`"':`.indexOf(s.source.charAt(f-1))<0)){let h=function(){if(N.charAt(n-1)!=="\\")return false;let C=n;do{C=C-1;}while(C>0&&N.charAt(C)==="\\");return (n-C)%2===0};const E=[];const o=f;const N=s.source;const t=N.length;let n=o;let S=0;let Z=y;let r=y;let U=y;let k=y;let d=[];let P=[];let ee;let K;if(a(N[n],60)){K="<!--";}else if(a(N[n+1],47)){K="//";}else if(a(N[n+1],37)){ee=N.indexOf("}",n+1);if(a(N[ee-1],37))K=N.slice(n,ee+1);}else {K="/*";}do{if(N.slice(n-9,n)==="@prettify")break;n=n+1;}while(n<t);do{if(h()===false){if(Z===y){if(a(N[n],34)||a(N[n],39)||a(N[n],96)){Z=N.charAt(n);if(E.length>0&&E[E.length-1].charAt(E[E.length-1].length-1)===":")S=n;}else if(/\s/.test(N.charAt(n))===false&&S===0){S=n;}else if(a(N[n],44)||ge(N.charAt(n))===true&&S>0){r=N.slice(S,n);if(E.length>0){if(E.length>0&&a(r,58)&&E[E.length-1].indexOf(":")<0){E[E.length-1]=E[E.length-1]+r;S=n;}else if(E.length>0&&E[E.length-1].charAt(E[E.length-1].length-1)===":"){E[E.length-1]=E[E.length-1]+r;S=0;}else {E.push(r);S=0;}}else {E.push(r);S=0;}}if(K==="<!--"&&N.slice(n-2,n+1)==="-->")break;if(K==="//"&&N.charAt(n)==="\n")break;if(K==="/*"&&N.slice(n-1,n+1)==="*/")break;if(K.charCodeAt(1)===37&&N.slice(n-1,n+1)==="%"&&N.indexOf("endcomment",N.indexOf("{%",ee))>0)break}else if(N.charAt(n)===Z&&Z!=="${"){Z=y;}else if(Z==="`"&&N.slice(n,n+2)==="${"){Z="${";}else if(Z==="${"&&N.charAt(n)==="}"){Z="`";}}n=n+1;}while(n<t);if(S>0){Z=N.slice(S,n+1);if(K==="<!--")Z=Z.replace(/\s*-+>$/,y);else if(K==="//")Z=Z.replace(/\s+$/,y);else Z=Z.replace(/\s*\u002a\/$/,y);E.push(Z);}n=E.length;if(n>0){do{n=n-1;if(E[n].indexOf(":")>0){P=[E[n].slice(0,E[n].indexOf(":")),E[n].slice(E[n].indexOf(":")+1)];}else if(Ee[E[n]]!==void 0&&Ee[E[n]].type==="boolean"){s.options[E[n]]=true;}if(P.length===2&&Ee[P[0]]!==void 0){if(P[1].charAt(P[1].length-1)===P[1].charAt(0)&&(P[1].charAt(0)==='"'||P[1].charAt(0)==="'"||P[1].charAt(0)==="`")){P[1]=P[1].slice(1,P[1].length-1);}if(Ee[P[0]].type==="number"&&isNaN(Number(P[1]))===false){s.options[P[0]]=Number(P[1]);}else if(Ee[P[0]].type==="boolean"){s.options[P[0]]=P[1]==="true";}else {if(Ee[P[0]].values!==void 0){d=Fe(Ee[P[0]].values);S=d.length;do{S=S-1;if(d[S]===P[1]){s.options[P[0]]=P[1];break}}while(S>0)}else {if(P[0]==="language"){U=P[1];}else if(P[0]==="lexer"){k=P[1];}s.options[P[0]]=P[1];}}}}while(n>0);if(k===y&&U!==y)k=ct(U);}}if(s.options.lexer==="script"){if(s.options.script.styleGuide!==void 0){switch(s.options.script.styleGuide){case"airbnb":s.options.wrap=80;s.options.indentChar=" ";s.options.indentSize=2;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.endComma="always";s.options.script.bracePadding=true;break;case"crockford":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"google":s.options.wrap=-1;s.options.indentChar=" ";s.options.indentSize=4;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.quoteConvert="single";s.options.script.vertical=false;break;case"jquery":s.options.wrap=80;s.options.indentChar="	";s.options.indentSize=1;s.options.script.correct=true;s.options.script.bracePadding=true;s.options.script.quoteConvert="double";s.options.script.variableList="each";break;case"jslint":s.options.indentChar=" ";s.options.indentSize=4;s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.elseNewline=false;s.options.script.endComma="never";s.options.script.noCaseIndent=true;s.options.script.functionSpace=true;s.options.script.variableList="each";s.options.script.vertical=false;break;case"standard":s.options.wrap=0;s.options.indentChar=" ";s.options.indentSize=2;s.options.endNewline=false;s.options.preserveLine=1;s.options.script.correct=true;s.options.script.noSemicolon=true;s.options.script.endComma="never";s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.quoteConvert="single";s.options.script.functionSpace=true;s.options.script.ternaryLine=false;s.options.script.variableList="each";s.options.script.vertical=false;break;case"yandex":s.options.script.correct=true;s.options.script.bracePadding=false;s.options.script.quoteConvert="single";s.options.script.variableList="each";s.options.script.vertical=false;break}}if(s.options.script.braceStyle!==void 0){switch(s.options.script.braceStyle){case"collapse":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break;case"collapse-preserve-inline":s.options.script.braceNewline=false;s.options.script.bracePadding=true;s.options.script.braceAllman=false;s.options.script.objectIndent="indent";s.options.script.neverFlatten=false;break;case"expand":s.options.script.braceNewline=false;s.options.script.bracePadding=false;s.options.script.braceAllman=true;s.options.script.objectIndent="indent";s.options.script.neverFlatten=true;break}}if(s.options.language==="json")s.options.wrap=0;}do{if(s.options[Fe[x]]!==void 0){Ee[Fe[x]].lexer.length;}x=x+1;}while(x<l)}function Rt(s){const{source:f,options:c}=s;const{lexer:p,language:l}=c;if(typeof s.lexers[p]==="function"){s.lexers[p](`${f} `);}else {i.error=`Specified lexer, ${p}, is not a function.`;}let x=0;let e=0;const $=Fe(i.data);const E=$.length;do{e=x+1;do{if(i.data[$[x]].length!==i.data[$[e]].length){i.error=`"${$[x]}" array is of different length than "${$[e]}"`;break}e=e+1;}while(e<E);x=x+1;}while(x<E-1);if(i.data.begin.length>0){if(p==="script"&&(l==="json"&&c.json.objectSort===true||c.language!=="json"&&c.script.objectSort===true)){i.sortCorrect(0,i.count+1);}else if(p==="style"&&c.style.sortProperties===true){i.sortCorrect(0,i.count+1);}}return i.data}function Ct(s){const f=Date.now();const c={language:s,chars:-1};return p=>{c.chars=p;c.size=pt(p);c.time=(Date.now()-f).toFixed(1);return c}}function Nt(s){const{languageName:f}=Se(s.options.language);const c=s.options.crlf===true?"\r\n":"\n";const p=s.source.match(/\n/g);const l=Ct(f);let x=y;if(p===null){if(s.options.endNewline)x=c;s.stats=l(x.length);}else {x=p[0].length>s.options.preserveLine?Be(s.options.preserveLine,c):Be(p[0].length,c);if(s.options.endNewline)x+=c;s.stats=l(x.length);}return x}function Ye(s){s.data=i.full();if(!/\S/.test(s.source))return Nt(s);if(s.options.language==="text"){s.options.language="text";s.options.languageName="Plain Text";s.options.lexer="markup";}else if(s.options.language==="auto"||s.options.language===void 0){const{lexer:x,language:e,languageName:$}=Ge(s.source);if(e==="unknown"){console.warn("Prettify: unknown and/or unsupport language");console.info("Prettify: define a support language (fallback is HTML)");}s.options.lexer=x;s.options.language=e;s.options.languageName=$;}else {const{lexer:x,language:e,languageName:$}=Se(s.options.language);if(e==="unknown"){console.warn(`Prettify: unsupport ${s.options.language}`);console.info("Prettify: language is not supported (fallback is HTML)");}s.options.lexer=x;s.options.language=e;s.options.languageName=$;}const f=Ct(s.options.languageName);const c=s.mode;const p=s.options.crlf===true?"\r\n":"\n";let l=s.source;if(St(s)===false){s.stats=f(l.length);return l}s.data=Rt(s);if(c==="parse"){s.stats=f(l.length);return i.data}l=s.beautify[s.options.lexer](s.options);l=s.options.endNewline===true?l.replace(/\s*$/,p):l.replace(/\s+$/,y);s.stats=f(l.length);s.end=0;s.start=0;return l}tt.before=s=>T.hooks.before.push(s);tt.after=s=>T.hooks.after.push(s);Ue.listen=s=>T.hooks.rules.push(s);Ke(tt,"stats",{get(){return T.stats}});Ke(Ot,"stats",{get(){return T.stats}});Ke(Ue,"rules",{get(){return T.options}});function Pt(s,f){T.source=s;if(typeof f==="object")T.options=Ue(f);if(T.hooks.before.length>0){for(const p of T.hooks.before){if(p(T.options,s)===false)return s}}const c=Ye(T);if(T.hooks.after.length>0){for(const p of T.hooks.after){if(p.call(i.data,c,T.options)===false)return s}}if(i.error.length)throw new Error(i.error);return c}function tt(s,f){T.source=s;if(typeof f==="object")T.options=Ue(f);if(T.hooks.before.length>0){for(const p of T.hooks.before){if(p(T.options,s)===false)return s}}const c=Ye(T);if(T.hooks.after.length>0){for(const p of T.hooks.after){if(p.call(i.data,c,T.options)===false)return s}}return new Promise((p,l)=>{if(i.error.length)return l(i.error);return p(c)})}function Ue(s){for(const f of Fe(s)){if(f in Ee&&Ee[f].lexer==="auto"){T.options[f]=s[f];}else if(f==="markup"){Ne(T.options.markup,s.markup);}else if(f==="script"){Ne(T.options.script,s.script);}else if(f==="style"){Ne(T.options.style,s.style);}else if(f==="json"){Ne(T.options.json,s.json);}else if(f==="grammar"){he.extend(s.grammar);}else if(f in T.options){T.options[f]=s[f];}}if(T.hooks.rules.length>0){for(const f of T.hooks.rules)f(T.options);}return T.options}function Ot(s,f){T.source=s;T.mode="parse";if(typeof f==="object")T.options=Ue(f);const c=Ye(T);return new Promise((p,l)=>{if(i.error.length)return l(i.error);return p(c)})}function Bt(s,f){T.source=s;T.mode="parse";if(typeof f==="object")T.options=Ue(f);const c=Ye(T);if(i.error.length)throw new Error(i.error);return c}

export { ft as default };
